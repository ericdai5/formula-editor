var XP = Object.defineProperty;
var JP = (t, e, r) =>
  e in t
    ? XP(t, e, { enumerable: !0, configurable: !0, writable: !0, value: r })
    : (t[e] = r);
var dn = (t, e, r) => (JP(t, typeof e != "symbol" ? e + "" : e, r), r),
  wD = (t, e, r) => {
    if (!e.has(t)) throw TypeError("Cannot " + r);
  };
var Gn = (t, e, r) => (
    wD(t, e, "read from private field"), r ? r.call(t) : e.get(t)
  ),
  Kn = (t, e, r) => {
    if (e.has(t))
      throw TypeError("Cannot add the same private member more than once");
    e instanceof WeakSet ? e.add(t) : e.set(t, r);
  },
  Yn = (t, e, r, n) => (
    wD(t, e, "write to private field"), n ? n.call(t, r) : e.set(t, r), r
  );
function QP(t, e) {
  for (var r = 0; r < e.length; r++) {
    const n = e[r];
    if (typeof n != "string" && !Array.isArray(n)) {
      for (const i in n)
        if (i !== "default" && !(i in t)) {
          const o = Object.getOwnPropertyDescriptor(n, i);
          o &&
            Object.defineProperty(
              t,
              i,
              o.get ? o : { enumerable: !0, get: () => n[i] }
            );
        }
    }
  }
  return Object.freeze(
    Object.defineProperty(t, Symbol.toStringTag, { value: "Module" })
  );
}
(function () {
  const e = document.createElement("link").relList;
  if (e && e.supports && e.supports("modulepreload")) return;
  for (const i of document.querySelectorAll('link[rel="modulepreload"]')) n(i);
  new MutationObserver((i) => {
    for (const o of i)
      if (o.type === "childList")
        for (const s of o.addedNodes)
          s.tagName === "LINK" && s.rel === "modulepreload" && n(s);
  }).observe(document, { childList: !0, subtree: !0 });
  function r(i) {
    const o = {};
    return (
      i.integrity && (o.integrity = i.integrity),
      i.referrerPolicy && (o.referrerPolicy = i.referrerPolicy),
      i.crossOrigin === "use-credentials"
        ? (o.credentials = "include")
        : i.crossOrigin === "anonymous"
          ? (o.credentials = "omit")
          : (o.credentials = "same-origin"),
      o
    );
  }
  function n(i) {
    if (i.ep) return;
    i.ep = !0;
    const o = r(i);
    fetch(i.href, o);
  }
})();
function CC(t) {
  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default")
    ? t.default
    : t;
}
function tl(t) {
  if (t.__esModule) return t;
  var e = t.default;
  if (typeof e == "function") {
    var r = function n() {
      return this instanceof n
        ? Reflect.construct(e, arguments, this.constructor)
        : e.apply(this, arguments);
    };
    r.prototype = e.prototype;
  } else r = {};
  return (
    Object.defineProperty(r, "__esModule", { value: !0 }),
    Object.keys(t).forEach(function (n) {
      var i = Object.getOwnPropertyDescriptor(t, n);
      Object.defineProperty(
        r,
        n,
        i.get
          ? i
          : {
              enumerable: !0,
              get: function () {
                return t[n];
              },
            }
      );
    }),
    r
  );
}
var AC = { exports: {} },
  W1 = {},
  EC = { exports: {} },
  lr = {};
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Vd = Symbol.for("react.element"),
  ZP = Symbol.for("react.portal"),
  eR = Symbol.for("react.fragment"),
  tR = Symbol.for("react.strict_mode"),
  rR = Symbol.for("react.profiler"),
  nR = Symbol.for("react.provider"),
  iR = Symbol.for("react.context"),
  sR = Symbol.for("react.forward_ref"),
  oR = Symbol.for("react.suspense"),
  aR = Symbol.for("react.memo"),
  lR = Symbol.for("react.lazy"),
  xD = Symbol.iterator;
function uR(t) {
  return t === null || typeof t != "object"
    ? null
    : ((t = (xD && t[xD]) || t["@@iterator"]),
      typeof t == "function" ? t : null);
}
var FC = {
    isMounted: function () {
      return !1;
    },
    enqueueForceUpdate: function () {},
    enqueueReplaceState: function () {},
    enqueueSetState: function () {},
  },
  MC = Object.assign,
  _C = {};
function mf(t, e, r) {
  (this.props = t),
    (this.context = e),
    (this.refs = _C),
    (this.updater = r || FC);
}
mf.prototype.isReactComponent = {};
mf.prototype.setState = function (t, e) {
  if (typeof t != "object" && typeof t != "function" && t != null)
    throw Error(
      "setState(...): takes an object of state variables to update or a function which returns an object of state variables."
    );
  this.updater.enqueueSetState(this, t, e, "setState");
};
mf.prototype.forceUpdate = function (t) {
  this.updater.enqueueForceUpdate(this, t, "forceUpdate");
};
function $C() {}
$C.prototype = mf.prototype;
function E6(t, e, r) {
  (this.props = t),
    (this.context = e),
    (this.refs = _C),
    (this.updater = r || FC);
}
var F6 = (E6.prototype = new $C());
F6.constructor = E6;
MC(F6, mf.prototype);
F6.isPureReactComponent = !0;
var kD = Array.isArray,
  OC = Object.prototype.hasOwnProperty,
  M6 = { current: null },
  BC = { key: !0, ref: !0, __self: !0, __source: !0 };
function TC(t, e, r) {
  var n,
    i = {},
    o = null,
    s = null;
  if (e != null)
    for (n in (e.ref !== void 0 && (s = e.ref),
    e.key !== void 0 && (o = "" + e.key),
    e))
      OC.call(e, n) && !BC.hasOwnProperty(n) && (i[n] = e[n]);
  var a = arguments.length - 2;
  if (a === 1) i.children = r;
  else if (1 < a) {
    for (var l = Array(a), u = 0; u < a; u++) l[u] = arguments[u + 2];
    i.children = l;
  }
  if (t && t.defaultProps)
    for (n in ((a = t.defaultProps), a)) i[n] === void 0 && (i[n] = a[n]);
  return {
    $$typeof: Vd,
    type: t,
    key: o,
    ref: s,
    props: i,
    _owner: M6.current,
  };
}
function cR(t, e) {
  return {
    $$typeof: Vd,
    type: t.type,
    key: e,
    ref: t.ref,
    props: t.props,
    _owner: t._owner,
  };
}
function _6(t) {
  return typeof t == "object" && t !== null && t.$$typeof === Vd;
}
function fR(t) {
  var e = { "=": "=0", ":": "=2" };
  return (
    "$" +
    t.replace(/[=:]/g, function (r) {
      return e[r];
    })
  );
}
var SD = /\/+/g;
function W2(t, e) {
  return typeof t == "object" && t !== null && t.key != null
    ? fR("" + t.key)
    : e.toString(36);
}
function qm(t, e, r, n, i) {
  var o = typeof t;
  (o === "undefined" || o === "boolean") && (t = null);
  var s = !1;
  if (t === null) s = !0;
  else
    switch (o) {
      case "string":
      case "number":
        s = !0;
        break;
      case "object":
        switch (t.$$typeof) {
          case Vd:
          case ZP:
            s = !0;
        }
    }
  if (s)
    return (
      (s = t),
      (i = i(s)),
      (t = n === "" ? "." + W2(s, 0) : n),
      kD(i)
        ? ((r = ""),
          t != null && (r = t.replace(SD, "$&/") + "/"),
          qm(i, e, r, "", function (u) {
            return u;
          }))
        : i != null &&
          (_6(i) &&
            (i = cR(
              i,
              r +
                (!i.key || (s && s.key === i.key)
                  ? ""
                  : ("" + i.key).replace(SD, "$&/") + "/") +
                t
            )),
          e.push(i)),
      1
    );
  if (((s = 0), (n = n === "" ? "." : n + ":"), kD(t)))
    for (var a = 0; a < t.length; a++) {
      o = t[a];
      var l = n + W2(o, a);
      s += qm(o, e, r, l, i);
    }
  else if (((l = uR(t)), typeof l == "function"))
    for (t = l.call(t), a = 0; !(o = t.next()).done; )
      (o = o.value), (l = n + W2(o, a++)), (s += qm(o, e, r, l, i));
  else if (o === "object")
    throw (
      ((e = String(t)),
      Error(
        "Objects are not valid as a React child (found: " +
          (e === "[object Object]"
            ? "object with keys {" + Object.keys(t).join(", ") + "}"
            : e) +
          "). If you meant to render a collection of children, use an array instead."
      ))
    );
  return s;
}
function zp(t, e, r) {
  if (t == null) return t;
  var n = [],
    i = 0;
  return (
    qm(t, n, "", "", function (o) {
      return e.call(r, o, i++);
    }),
    n
  );
}
function hR(t) {
  if (t._status === -1) {
    var e = t._result;
    (e = e()),
      e.then(
        function (r) {
          (t._status === 0 || t._status === -1) &&
            ((t._status = 1), (t._result = r));
        },
        function (r) {
          (t._status === 0 || t._status === -1) &&
            ((t._status = 2), (t._result = r));
        }
      ),
      t._status === -1 && ((t._status = 0), (t._result = e));
  }
  if (t._status === 1) return t._result.default;
  throw t._result;
}
var zi = { current: null },
  Um = { transition: null },
  dR = {
    ReactCurrentDispatcher: zi,
    ReactCurrentBatchConfig: Um,
    ReactCurrentOwner: M6,
  };
lr.Children = {
  map: zp,
  forEach: function (t, e, r) {
    zp(
      t,
      function () {
        e.apply(this, arguments);
      },
      r
    );
  },
  count: function (t) {
    var e = 0;
    return (
      zp(t, function () {
        e++;
      }),
      e
    );
  },
  toArray: function (t) {
    return (
      zp(t, function (e) {
        return e;
      }) || []
    );
  },
  only: function (t) {
    if (!_6(t))
      throw Error(
        "React.Children.only expected to receive a single React element child."
      );
    return t;
  },
};
lr.Component = mf;
lr.Fragment = eR;
lr.Profiler = rR;
lr.PureComponent = E6;
lr.StrictMode = tR;
lr.Suspense = oR;
lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = dR;
lr.cloneElement = function (t, e, r) {
  if (t == null)
    throw Error(
      "React.cloneElement(...): The argument must be a React element, but you passed " +
        t +
        "."
    );
  var n = MC({}, t.props),
    i = t.key,
    o = t.ref,
    s = t._owner;
  if (e != null) {
    if (
      (e.ref !== void 0 && ((o = e.ref), (s = M6.current)),
      e.key !== void 0 && (i = "" + e.key),
      t.type && t.type.defaultProps)
    )
      var a = t.type.defaultProps;
    for (l in e)
      OC.call(e, l) &&
        !BC.hasOwnProperty(l) &&
        (n[l] = e[l] === void 0 && a !== void 0 ? a[l] : e[l]);
  }
  var l = arguments.length - 2;
  if (l === 1) n.children = r;
  else if (1 < l) {
    a = Array(l);
    for (var u = 0; u < l; u++) a[u] = arguments[u + 2];
    n.children = a;
  }
  return { $$typeof: Vd, type: t.type, key: i, ref: o, props: n, _owner: s };
};
lr.createContext = function (t) {
  return (
    (t = {
      $$typeof: iR,
      _currentValue: t,
      _currentValue2: t,
      _threadCount: 0,
      Provider: null,
      Consumer: null,
      _defaultValue: null,
      _globalName: null,
    }),
    (t.Provider = { $$typeof: nR, _context: t }),
    (t.Consumer = t)
  );
};
lr.createElement = TC;
lr.createFactory = function (t) {
  var e = TC.bind(null, t);
  return (e.type = t), e;
};
lr.createRef = function () {
  return { current: null };
};
lr.forwardRef = function (t) {
  return { $$typeof: sR, render: t };
};
lr.isValidElement = _6;
lr.lazy = function (t) {
  return { $$typeof: lR, _payload: { _status: -1, _result: t }, _init: hR };
};
lr.memo = function (t, e) {
  return { $$typeof: aR, type: t, compare: e === void 0 ? null : e };
};
lr.startTransition = function (t) {
  var e = Um.transition;
  Um.transition = {};
  try {
    t();
  } finally {
    Um.transition = e;
  }
};
lr.unstable_act = function () {
  throw Error("act(...) is not supported in production builds of React.");
};
lr.useCallback = function (t, e) {
  return zi.current.useCallback(t, e);
};
lr.useContext = function (t) {
  return zi.current.useContext(t);
};
lr.useDebugValue = function () {};
lr.useDeferredValue = function (t) {
  return zi.current.useDeferredValue(t);
};
lr.useEffect = function (t, e) {
  return zi.current.useEffect(t, e);
};
lr.useId = function () {
  return zi.current.useId();
};
lr.useImperativeHandle = function (t, e, r) {
  return zi.current.useImperativeHandle(t, e, r);
};
lr.useInsertionEffect = function (t, e) {
  return zi.current.useInsertionEffect(t, e);
};
lr.useLayoutEffect = function (t, e) {
  return zi.current.useLayoutEffect(t, e);
};
lr.useMemo = function (t, e) {
  return zi.current.useMemo(t, e);
};
lr.useReducer = function (t, e, r) {
  return zi.current.useReducer(t, e, r);
};
lr.useRef = function (t) {
  return zi.current.useRef(t);
};
lr.useState = function (t) {
  return zi.current.useState(t);
};
lr.useSyncExternalStore = function (t, e, r) {
  return zi.current.useSyncExternalStore(t, e, r);
};
lr.useTransition = function () {
  return zi.current.useTransition();
};
lr.version = "18.2.0";
EC.exports = lr;
var ct = EC.exports;
const zc = CC(ct),
  CD = QP({ __proto__: null, default: zc }, [ct]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var pR = ct,
  mR = Symbol.for("react.element"),
  gR = Symbol.for("react.fragment"),
  vR = Object.prototype.hasOwnProperty,
  yR = pR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
  bR = { key: !0, ref: !0, __self: !0, __source: !0 };
function PC(t, e, r) {
  var n,
    i = {},
    o = null,
    s = null;
  r !== void 0 && (o = "" + r),
    e.key !== void 0 && (o = "" + e.key),
    e.ref !== void 0 && (s = e.ref);
  for (n in e) vR.call(e, n) && !bR.hasOwnProperty(n) && (i[n] = e[n]);
  if (t && t.defaultProps)
    for (n in ((e = t.defaultProps), e)) i[n] === void 0 && (i[n] = e[n]);
  return {
    $$typeof: mR,
    type: t,
    key: o,
    ref: s,
    props: i,
    _owner: yR.current,
  };
}
W1.Fragment = gR;
W1.jsx = PC;
W1.jsxs = PC;
AC.exports = W1;
var ru = AC.exports;
function DR(t) {
  if (t.sheet) return t.sheet;
  for (var e = 0; e < document.styleSheets.length; e++)
    if (document.styleSheets[e].ownerNode === t) return document.styleSheets[e];
}
function wR(t) {
  var e = document.createElement("style");
  return (
    e.setAttribute("data-emotion", t.key),
    t.nonce !== void 0 && e.setAttribute("nonce", t.nonce),
    e.appendChild(document.createTextNode("")),
    e.setAttribute("data-s", ""),
    e
  );
}
var xR = (function () {
    function t(r) {
      var n = this;
      (this._insertTag = function (i) {
        var o;
        n.tags.length === 0
          ? n.insertionPoint
            ? (o = n.insertionPoint.nextSibling)
            : n.prepend
              ? (o = n.container.firstChild)
              : (o = n.before)
          : (o = n.tags[n.tags.length - 1].nextSibling),
          n.container.insertBefore(i, o),
          n.tags.push(i);
      }),
        (this.isSpeedy = r.speedy === void 0 ? !0 : r.speedy),
        (this.tags = []),
        (this.ctr = 0),
        (this.nonce = r.nonce),
        (this.key = r.key),
        (this.container = r.container),
        (this.prepend = r.prepend),
        (this.insertionPoint = r.insertionPoint),
        (this.before = null);
    }
    var e = t.prototype;
    return (
      (e.hydrate = function (n) {
        n.forEach(this._insertTag);
      }),
      (e.insert = function (n) {
        this.ctr % (this.isSpeedy ? 65e3 : 1) === 0 &&
          this._insertTag(wR(this));
        var i = this.tags[this.tags.length - 1];
        if (this.isSpeedy) {
          var o = DR(i);
          try {
            o.insertRule(n, o.cssRules.length);
          } catch {}
        } else i.appendChild(document.createTextNode(n));
        this.ctr++;
      }),
      (e.flush = function () {
        this.tags.forEach(function (n) {
          return n.parentNode && n.parentNode.removeChild(n);
        }),
          (this.tags = []),
          (this.ctr = 0);
      }),
      t
    );
  })(),
  ki = "-ms-",
  $g = "-moz-",
  xr = "-webkit-",
  RC = "comm",
  $6 = "rule",
  O6 = "decl",
  kR = "@import",
  IC = "@keyframes",
  SR = "@layer",
  CR = Math.abs,
  q1 = String.fromCharCode,
  AR = Object.assign;
function ER(t, e) {
  return li(t, 0) ^ 45
    ? (((((((e << 2) ^ li(t, 0)) << 2) ^ li(t, 1)) << 2) ^ li(t, 2)) << 2) ^
        li(t, 3)
    : 0;
}
function NC(t) {
  return t.trim();
}
function FR(t, e) {
  return (t = e.exec(t)) ? t[0] : t;
}
function kr(t, e, r) {
  return t.replace(e, r);
}
function Oy(t, e) {
  return t.indexOf(e);
}
function li(t, e) {
  return t.charCodeAt(e) | 0;
}
function Bh(t, e, r) {
  return t.slice(e, r);
}
function Go(t) {
  return t.length;
}
function B6(t) {
  return t.length;
}
function jp(t, e) {
  return e.push(t), t;
}
function MR(t, e) {
  return t.map(e).join("");
}
var U1 = 1,
  jc = 1,
  LC = 0,
  os = 0,
  Bn = 0,
  gf = "";
function G1(t, e, r, n, i, o, s) {
  return {
    value: t,
    root: e,
    parent: r,
    type: n,
    props: i,
    children: o,
    line: U1,
    column: jc,
    length: s,
    return: "",
  };
}
function Bf(t, e) {
  return AR(G1("", null, null, "", null, null, 0), t, { length: -t.length }, e);
}
function _R() {
  return Bn;
}
function $R() {
  return (
    (Bn = os > 0 ? li(gf, --os) : 0), jc--, Bn === 10 && ((jc = 1), U1--), Bn
  );
}
function Ds() {
  return (
    (Bn = os < LC ? li(gf, os++) : 0), jc++, Bn === 10 && ((jc = 1), U1++), Bn
  );
}
function na() {
  return li(gf, os);
}
function Gm() {
  return os;
}
function Wd(t, e) {
  return Bh(gf, t, e);
}
function Th(t) {
  switch (t) {
    case 0:
    case 9:
    case 10:
    case 13:
    case 32:
      return 5;
    case 33:
    case 43:
    case 44:
    case 47:
    case 62:
    case 64:
    case 126:
    case 59:
    case 123:
    case 125:
      return 4;
    case 58:
      return 3;
    case 34:
    case 39:
    case 40:
    case 91:
      return 2;
    case 41:
    case 93:
      return 1;
  }
  return 0;
}
function zC(t) {
  return (U1 = jc = 1), (LC = Go((gf = t))), (os = 0), [];
}
function jC(t) {
  return (gf = ""), t;
}
function Km(t) {
  return NC(Wd(os - 1, By(t === 91 ? t + 2 : t === 40 ? t + 1 : t)));
}
function OR(t) {
  for (; (Bn = na()) && Bn < 33; ) Ds();
  return Th(t) > 2 || Th(Bn) > 3 ? "" : " ";
}
function BR(t, e) {
  for (
    ;
    --e &&
    Ds() &&
    !(Bn < 48 || Bn > 102 || (Bn > 57 && Bn < 65) || (Bn > 70 && Bn < 97));

  );
  return Wd(t, Gm() + (e < 6 && na() == 32 && Ds() == 32));
}
function By(t) {
  for (; Ds(); )
    switch (Bn) {
      case t:
        return os;
      case 34:
      case 39:
        t !== 34 && t !== 39 && By(Bn);
        break;
      case 40:
        t === 41 && By(t);
        break;
      case 92:
        Ds();
        break;
    }
  return os;
}
function TR(t, e) {
  for (; Ds() && t + Bn !== 57; ) if (t + Bn === 84 && na() === 47) break;
  return "/*" + Wd(e, os - 1) + "*" + q1(t === 47 ? t : Ds());
}
function PR(t) {
  for (; !Th(na()); ) Ds();
  return Wd(t, os);
}
function RR(t) {
  return jC(Ym("", null, null, null, [""], (t = zC(t)), 0, [0], t));
}
function Ym(t, e, r, n, i, o, s, a, l) {
  for (
    var u = 0,
      c = 0,
      f = s,
      h = 0,
      d = 0,
      p = 0,
      m = 1,
      b = 1,
      D = 1,
      k = 0,
      S = "",
      B = i,
      $ = o,
      T = n,
      P = S;
    b;

  )
    switch (((p = k), (k = Ds()))) {
      case 40:
        if (p != 108 && li(P, f - 1) == 58) {
          Oy((P += kr(Km(k), "&", "&\f")), "&\f") != -1 && (D = -1);
          break;
        }
      case 34:
      case 39:
      case 91:
        P += Km(k);
        break;
      case 9:
      case 10:
      case 13:
      case 32:
        P += OR(p);
        break;
      case 92:
        P += BR(Gm() - 1, 7);
        continue;
      case 47:
        switch (na()) {
          case 42:
          case 47:
            jp(IR(TR(Ds(), Gm()), e, r), l);
            break;
          default:
            P += "/";
        }
        break;
      case 123 * m:
        a[u++] = Go(P) * D;
      case 125 * m:
      case 59:
      case 0:
        switch (k) {
          case 0:
          case 125:
            b = 0;
          case 59 + c:
            D == -1 && (P = kr(P, /\f/g, "")),
              d > 0 &&
                Go(P) - f &&
                jp(
                  d > 32
                    ? ED(P + ";", n, r, f - 1)
                    : ED(kr(P, " ", "") + ";", n, r, f - 2),
                  l
                );
            break;
          case 59:
            P += ";";
          default:
            if (
              (jp((T = AD(P, e, r, u, c, i, a, S, (B = []), ($ = []), f)), o),
              k === 123)
            )
              if (c === 0) Ym(P, e, T, T, B, o, f, a, $);
              else
                switch (h === 99 && li(P, 3) === 110 ? 100 : h) {
                  case 100:
                  case 108:
                  case 109:
                  case 115:
                    Ym(
                      t,
                      T,
                      T,
                      n && jp(AD(t, T, T, 0, 0, i, a, S, i, (B = []), f), $),
                      i,
                      $,
                      f,
                      a,
                      n ? B : $
                    );
                    break;
                  default:
                    Ym(P, T, T, T, [""], $, 0, a, $);
                }
        }
        (u = c = d = 0), (m = D = 1), (S = P = ""), (f = s);
        break;
      case 58:
        (f = 1 + Go(P)), (d = p);
      default:
        if (m < 1) {
          if (k == 123) --m;
          else if (k == 125 && m++ == 0 && $R() == 125) continue;
        }
        switch (((P += q1(k)), k * m)) {
          case 38:
            D = c > 0 ? 1 : ((P += "\f"), -1);
            break;
          case 44:
            (a[u++] = (Go(P) - 1) * D), (D = 1);
            break;
          case 64:
            na() === 45 && (P += Km(Ds())),
              (h = na()),
              (c = f = Go((S = P += PR(Gm())))),
              k++;
            break;
          case 45:
            p === 45 && Go(P) == 2 && (m = 0);
        }
    }
  return o;
}
function AD(t, e, r, n, i, o, s, a, l, u, c) {
  for (
    var f = i - 1, h = i === 0 ? o : [""], d = B6(h), p = 0, m = 0, b = 0;
    p < n;
    ++p
  )
    for (var D = 0, k = Bh(t, f + 1, (f = CR((m = s[p])))), S = t; D < d; ++D)
      (S = NC(m > 0 ? h[D] + " " + k : kr(k, /&\f/g, h[D]))) && (l[b++] = S);
  return G1(t, e, r, i === 0 ? $6 : a, l, u, c);
}
function IR(t, e, r) {
  return G1(t, e, r, RC, q1(_R()), Bh(t, 2, -2), 0);
}
function ED(t, e, r, n) {
  return G1(t, e, r, O6, Bh(t, 0, n), Bh(t, n + 1, -1), n);
}
function Sc(t, e) {
  for (var r = "", n = B6(t), i = 0; i < n; i++) r += e(t[i], i, t, e) || "";
  return r;
}
function NR(t, e, r, n) {
  switch (t.type) {
    case SR:
      if (t.children.length) break;
    case kR:
    case O6:
      return (t.return = t.return || t.value);
    case RC:
      return "";
    case IC:
      return (t.return = t.value + "{" + Sc(t.children, n) + "}");
    case $6:
      t.value = t.props.join(",");
  }
  return Go((r = Sc(t.children, n)))
    ? (t.return = t.value + "{" + r + "}")
    : "";
}
function LR(t) {
  var e = B6(t);
  return function (r, n, i, o) {
    for (var s = "", a = 0; a < e; a++) s += t[a](r, n, i, o) || "";
    return s;
  };
}
function zR(t) {
  return function (e) {
    e.root || ((e = e.return) && t(e));
  };
}
function HC(t) {
  var e = Object.create(null);
  return function (r) {
    return e[r] === void 0 && (e[r] = t(r)), e[r];
  };
}
var jR = function (e, r, n) {
    for (
      var i = 0, o = 0;
      (i = o), (o = na()), i === 38 && o === 12 && (r[n] = 1), !Th(o);

    )
      Ds();
    return Wd(e, os);
  },
  HR = function (e, r) {
    var n = -1,
      i = 44;
    do
      switch (Th(i)) {
        case 0:
          i === 38 && na() === 12 && (r[n] = 1), (e[n] += jR(os - 1, r, n));
          break;
        case 2:
          e[n] += Km(i);
          break;
        case 4:
          if (i === 44) {
            (e[++n] = na() === 58 ? "&\f" : ""), (r[n] = e[n].length);
            break;
          }
        default:
          e[n] += q1(i);
      }
    while ((i = Ds()));
    return e;
  },
  VR = function (e, r) {
    return jC(HR(zC(e), r));
  },
  FD = new WeakMap(),
  WR = function (e) {
    if (!(e.type !== "rule" || !e.parent || e.length < 1)) {
      for (
        var r = e.value,
          n = e.parent,
          i = e.column === n.column && e.line === n.line;
        n.type !== "rule";

      )
        if (((n = n.parent), !n)) return;
      if (
        !(e.props.length === 1 && r.charCodeAt(0) !== 58 && !FD.get(n)) &&
        !i
      ) {
        FD.set(e, !0);
        for (
          var o = [], s = VR(r, o), a = n.props, l = 0, u = 0;
          l < s.length;
          l++
        )
          for (var c = 0; c < a.length; c++, u++)
            e.props[u] = o[l] ? s[l].replace(/&\f/g, a[c]) : a[c] + " " + s[l];
      }
    }
  },
  qR = function (e) {
    if (e.type === "decl") {
      var r = e.value;
      r.charCodeAt(0) === 108 &&
        r.charCodeAt(2) === 98 &&
        ((e.return = ""), (e.value = ""));
    }
  };
function VC(t, e) {
  switch (ER(t, e)) {
    case 5103:
      return xr + "print-" + t + t;
    case 5737:
    case 4201:
    case 3177:
    case 3433:
    case 1641:
    case 4457:
    case 2921:
    case 5572:
    case 6356:
    case 5844:
    case 3191:
    case 6645:
    case 3005:
    case 6391:
    case 5879:
    case 5623:
    case 6135:
    case 4599:
    case 4855:
    case 4215:
    case 6389:
    case 5109:
    case 5365:
    case 5621:
    case 3829:
      return xr + t + t;
    case 5349:
    case 4246:
    case 4810:
    case 6968:
    case 2756:
      return xr + t + $g + t + ki + t + t;
    case 6828:
    case 4268:
      return xr + t + ki + t + t;
    case 6165:
      return xr + t + ki + "flex-" + t + t;
    case 5187:
      return (
        xr + t + kr(t, /(\w+).+(:[^]+)/, xr + "box-$1$2" + ki + "flex-$1$2") + t
      );
    case 5443:
      return xr + t + ki + "flex-item-" + kr(t, /flex-|-self/, "") + t;
    case 4675:
      return (
        xr +
        t +
        ki +
        "flex-line-pack" +
        kr(t, /align-content|flex-|-self/, "") +
        t
      );
    case 5548:
      return xr + t + ki + kr(t, "shrink", "negative") + t;
    case 5292:
      return xr + t + ki + kr(t, "basis", "preferred-size") + t;
    case 6060:
      return (
        xr +
        "box-" +
        kr(t, "-grow", "") +
        xr +
        t +
        ki +
        kr(t, "grow", "positive") +
        t
      );
    case 4554:
      return xr + kr(t, /([^-])(transform)/g, "$1" + xr + "$2") + t;
    case 6187:
      return (
        kr(
          kr(kr(t, /(zoom-|grab)/, xr + "$1"), /(image-set)/, xr + "$1"),
          t,
          ""
        ) + t
      );
    case 5495:
    case 3959:
      return kr(t, /(image-set\([^]*)/, xr + "$1$`$1");
    case 4968:
      return (
        kr(
          kr(t, /(.+:)(flex-)?(.*)/, xr + "box-pack:$3" + ki + "flex-pack:$3"),
          /s.+-b[^;]+/,
          "justify"
        ) +
        xr +
        t +
        t
      );
    case 4095:
    case 3583:
    case 4068:
    case 2532:
      return kr(t, /(.+)-inline(.+)/, xr + "$1$2") + t;
    case 8116:
    case 7059:
    case 5753:
    case 5535:
    case 5445:
    case 5701:
    case 4933:
    case 4677:
    case 5533:
    case 5789:
    case 5021:
    case 4765:
      if (Go(t) - 1 - e > 6)
        switch (li(t, e + 1)) {
          case 109:
            if (li(t, e + 4) !== 45) break;
          case 102:
            return (
              kr(
                t,
                /(.+:)(.+)-([^]+)/,
                "$1" +
                  xr +
                  "$2-$3$1" +
                  $g +
                  (li(t, e + 3) == 108 ? "$3" : "$2-$3")
              ) + t
            );
          case 115:
            return ~Oy(t, "stretch")
              ? VC(kr(t, "stretch", "fill-available"), e) + t
              : t;
        }
      break;
    case 4949:
      if (li(t, e + 1) !== 115) break;
    case 6444:
      switch (li(t, Go(t) - 3 - (~Oy(t, "!important") && 10))) {
        case 107:
          return kr(t, ":", ":" + xr) + t;
        case 101:
          return (
            kr(
              t,
              /(.+:)([^;!]+)(;|!.+)?/,
              "$1" +
                xr +
                (li(t, 14) === 45 ? "inline-" : "") +
                "box$3$1" +
                xr +
                "$2$3$1" +
                ki +
                "$2box$3"
            ) + t
          );
      }
      break;
    case 5936:
      switch (li(t, e + 11)) {
        case 114:
          return xr + t + ki + kr(t, /[svh]\w+-[tblr]{2}/, "tb") + t;
        case 108:
          return xr + t + ki + kr(t, /[svh]\w+-[tblr]{2}/, "tb-rl") + t;
        case 45:
          return xr + t + ki + kr(t, /[svh]\w+-[tblr]{2}/, "lr") + t;
      }
      return xr + t + ki + t + t;
  }
  return t;
}
var UR = function (e, r, n, i) {
    if (e.length > -1 && !e.return)
      switch (e.type) {
        case O6:
          e.return = VC(e.value, e.length);
          break;
        case IC:
          return Sc([Bf(e, { value: kr(e.value, "@", "@" + xr) })], i);
        case $6:
          if (e.length)
            return MR(e.props, function (o) {
              switch (FR(o, /(::plac\w+|:read-\w+)/)) {
                case ":read-only":
                case ":read-write":
                  return Sc(
                    [Bf(e, { props: [kr(o, /:(read-\w+)/, ":" + $g + "$1")] })],
                    i
                  );
                case "::placeholder":
                  return Sc(
                    [
                      Bf(e, {
                        props: [kr(o, /:(plac\w+)/, ":" + xr + "input-$1")],
                      }),
                      Bf(e, { props: [kr(o, /:(plac\w+)/, ":" + $g + "$1")] }),
                      Bf(e, { props: [kr(o, /:(plac\w+)/, ki + "input-$1")] }),
                    ],
                    i
                  );
              }
              return "";
            });
      }
  },
  GR = [UR],
  T6 = function (e) {
    var r = e.key;
    if (r === "css") {
      var n = document.querySelectorAll("style[data-emotion]:not([data-s])");
      Array.prototype.forEach.call(n, function (m) {
        var b = m.getAttribute("data-emotion");
        b.indexOf(" ") !== -1 &&
          (document.head.appendChild(m), m.setAttribute("data-s", ""));
      });
    }
    var i = e.stylisPlugins || GR,
      o = {},
      s,
      a = [];
    (s = e.container || document.head),
      Array.prototype.forEach.call(
        document.querySelectorAll('style[data-emotion^="' + r + ' "]'),
        function (m) {
          for (
            var b = m.getAttribute("data-emotion").split(" "), D = 1;
            D < b.length;
            D++
          )
            o[b[D]] = !0;
          a.push(m);
        }
      );
    var l,
      u = [WR, qR];
    {
      var c,
        f = [
          NR,
          zR(function (m) {
            c.insert(m);
          }),
        ],
        h = LR(u.concat(i, f)),
        d = function (b) {
          return Sc(RR(b), h);
        };
      l = function (b, D, k, S) {
        (c = k),
          d(b ? b + "{" + D.styles + "}" : D.styles),
          S && (p.inserted[D.name] = !0);
      };
    }
    var p = {
      key: r,
      sheet: new xR({
        key: r,
        container: s,
        nonce: e.nonce,
        speedy: e.speedy,
        prepend: e.prepend,
        insertionPoint: e.insertionPoint,
      }),
      nonce: e.nonce,
      inserted: o,
      registered: {},
      insert: l,
    };
    return p.sheet.hydrate(a), p;
  };
function Fr() {
  return (
    (Fr = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var r = arguments[e];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]);
          }
          return t;
        }),
    Fr.apply(this, arguments)
  );
}
const KR = Object.freeze(
  Object.defineProperty({ __proto__: null, default: Fr }, Symbol.toStringTag, {
    value: "Module",
  })
);
var WC = { exports: {} },
  _r = {};
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var ti = typeof Symbol == "function" && Symbol.for,
  P6 = ti ? Symbol.for("react.element") : 60103,
  R6 = ti ? Symbol.for("react.portal") : 60106,
  K1 = ti ? Symbol.for("react.fragment") : 60107,
  Y1 = ti ? Symbol.for("react.strict_mode") : 60108,
  X1 = ti ? Symbol.for("react.profiler") : 60114,
  J1 = ti ? Symbol.for("react.provider") : 60109,
  Q1 = ti ? Symbol.for("react.context") : 60110,
  I6 = ti ? Symbol.for("react.async_mode") : 60111,
  Z1 = ti ? Symbol.for("react.concurrent_mode") : 60111,
  ev = ti ? Symbol.for("react.forward_ref") : 60112,
  tv = ti ? Symbol.for("react.suspense") : 60113,
  YR = ti ? Symbol.for("react.suspense_list") : 60120,
  rv = ti ? Symbol.for("react.memo") : 60115,
  nv = ti ? Symbol.for("react.lazy") : 60116,
  XR = ti ? Symbol.for("react.block") : 60121,
  JR = ti ? Symbol.for("react.fundamental") : 60117,
  QR = ti ? Symbol.for("react.responder") : 60118,
  ZR = ti ? Symbol.for("react.scope") : 60119;
function Ss(t) {
  if (typeof t == "object" && t !== null) {
    var e = t.$$typeof;
    switch (e) {
      case P6:
        switch (((t = t.type), t)) {
          case I6:
          case Z1:
          case K1:
          case X1:
          case Y1:
          case tv:
            return t;
          default:
            switch (((t = t && t.$$typeof), t)) {
              case Q1:
              case ev:
              case nv:
              case rv:
              case J1:
                return t;
              default:
                return e;
            }
        }
      case R6:
        return e;
    }
  }
}
function qC(t) {
  return Ss(t) === Z1;
}
_r.AsyncMode = I6;
_r.ConcurrentMode = Z1;
_r.ContextConsumer = Q1;
_r.ContextProvider = J1;
_r.Element = P6;
_r.ForwardRef = ev;
_r.Fragment = K1;
_r.Lazy = nv;
_r.Memo = rv;
_r.Portal = R6;
_r.Profiler = X1;
_r.StrictMode = Y1;
_r.Suspense = tv;
_r.isAsyncMode = function (t) {
  return qC(t) || Ss(t) === I6;
};
_r.isConcurrentMode = qC;
_r.isContextConsumer = function (t) {
  return Ss(t) === Q1;
};
_r.isContextProvider = function (t) {
  return Ss(t) === J1;
};
_r.isElement = function (t) {
  return typeof t == "object" && t !== null && t.$$typeof === P6;
};
_r.isForwardRef = function (t) {
  return Ss(t) === ev;
};
_r.isFragment = function (t) {
  return Ss(t) === K1;
};
_r.isLazy = function (t) {
  return Ss(t) === nv;
};
_r.isMemo = function (t) {
  return Ss(t) === rv;
};
_r.isPortal = function (t) {
  return Ss(t) === R6;
};
_r.isProfiler = function (t) {
  return Ss(t) === X1;
};
_r.isStrictMode = function (t) {
  return Ss(t) === Y1;
};
_r.isSuspense = function (t) {
  return Ss(t) === tv;
};
_r.isValidElementType = function (t) {
  return (
    typeof t == "string" ||
    typeof t == "function" ||
    t === K1 ||
    t === Z1 ||
    t === X1 ||
    t === Y1 ||
    t === tv ||
    t === YR ||
    (typeof t == "object" &&
      t !== null &&
      (t.$$typeof === nv ||
        t.$$typeof === rv ||
        t.$$typeof === J1 ||
        t.$$typeof === Q1 ||
        t.$$typeof === ev ||
        t.$$typeof === JR ||
        t.$$typeof === QR ||
        t.$$typeof === ZR ||
        t.$$typeof === XR))
  );
};
_r.typeOf = Ss;
WC.exports = _r;
var eI = WC.exports,
  UC = eI,
  tI = {
    $$typeof: !0,
    render: !0,
    defaultProps: !0,
    displayName: !0,
    propTypes: !0,
  },
  rI = {
    $$typeof: !0,
    compare: !0,
    defaultProps: !0,
    displayName: !0,
    propTypes: !0,
    type: !0,
  },
  GC = {};
GC[UC.ForwardRef] = tI;
GC[UC.Memo] = rI;
var nI = !0;
function iv(t, e, r) {
  var n = "";
  return (
    r.split(" ").forEach(function (i) {
      t[i] !== void 0 ? e.push(t[i] + ";") : (n += i + " ");
    }),
    n
  );
}
var N6 = function (e, r, n) {
    var i = e.key + "-" + r.name;
    (n === !1 || nI === !1) &&
      e.registered[i] === void 0 &&
      (e.registered[i] = r.styles);
  },
  sv = function (e, r, n) {
    N6(e, r, n);
    var i = e.key + "-" + r.name;
    if (e.inserted[r.name] === void 0) {
      var o = r;
      do e.insert(r === o ? "." + i : "", o, e.sheet, !0), (o = o.next);
      while (o !== void 0);
    }
  };
function iI(t) {
  for (var e = 0, r, n = 0, i = t.length; i >= 4; ++n, i -= 4)
    (r =
      (t.charCodeAt(n) & 255) |
      ((t.charCodeAt(++n) & 255) << 8) |
      ((t.charCodeAt(++n) & 255) << 16) |
      ((t.charCodeAt(++n) & 255) << 24)),
      (r = (r & 65535) * 1540483477 + (((r >>> 16) * 59797) << 16)),
      (r ^= r >>> 24),
      (e =
        ((r & 65535) * 1540483477 + (((r >>> 16) * 59797) << 16)) ^
        ((e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16)));
  switch (i) {
    case 3:
      e ^= (t.charCodeAt(n + 2) & 255) << 16;
    case 2:
      e ^= (t.charCodeAt(n + 1) & 255) << 8;
    case 1:
      (e ^= t.charCodeAt(n) & 255),
        (e = (e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16));
  }
  return (
    (e ^= e >>> 13),
    (e = (e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16)),
    ((e ^ (e >>> 15)) >>> 0).toString(36)
  );
}
var sI = {
    animationIterationCount: 1,
    aspectRatio: 1,
    borderImageOutset: 1,
    borderImageSlice: 1,
    borderImageWidth: 1,
    boxFlex: 1,
    boxFlexGroup: 1,
    boxOrdinalGroup: 1,
    columnCount: 1,
    columns: 1,
    flex: 1,
    flexGrow: 1,
    flexPositive: 1,
    flexShrink: 1,
    flexNegative: 1,
    flexOrder: 1,
    gridRow: 1,
    gridRowEnd: 1,
    gridRowSpan: 1,
    gridRowStart: 1,
    gridColumn: 1,
    gridColumnEnd: 1,
    gridColumnSpan: 1,
    gridColumnStart: 1,
    msGridRow: 1,
    msGridRowSpan: 1,
    msGridColumn: 1,
    msGridColumnSpan: 1,
    fontWeight: 1,
    lineHeight: 1,
    opacity: 1,
    order: 1,
    orphans: 1,
    tabSize: 1,
    widows: 1,
    zIndex: 1,
    zoom: 1,
    WebkitLineClamp: 1,
    fillOpacity: 1,
    floodOpacity: 1,
    stopOpacity: 1,
    strokeDasharray: 1,
    strokeDashoffset: 1,
    strokeMiterlimit: 1,
    strokeOpacity: 1,
    strokeWidth: 1,
  },
  oI = /[A-Z]|^ms/g,
  aI = /_EMO_([^_]+?)_([^]*?)_EMO_/g,
  KC = function (e) {
    return e.charCodeAt(1) === 45;
  },
  MD = function (e) {
    return e != null && typeof e != "boolean";
  },
  q2 = HC(function (t) {
    return KC(t) ? t : t.replace(oI, "-$&").toLowerCase();
  }),
  _D = function (e, r) {
    switch (e) {
      case "animation":
      case "animationName":
        if (typeof r == "string")
          return r.replace(aI, function (n, i, o) {
            return (Ko = { name: i, styles: o, next: Ko }), i;
          });
    }
    return sI[e] !== 1 && !KC(e) && typeof r == "number" && r !== 0
      ? r + "px"
      : r;
  };
function Ph(t, e, r) {
  if (r == null) return "";
  if (r.__emotion_styles !== void 0) return r;
  switch (typeof r) {
    case "boolean":
      return "";
    case "object": {
      if (r.anim === 1)
        return (Ko = { name: r.name, styles: r.styles, next: Ko }), r.name;
      if (r.styles !== void 0) {
        var n = r.next;
        if (n !== void 0)
          for (; n !== void 0; )
            (Ko = { name: n.name, styles: n.styles, next: Ko }), (n = n.next);
        var i = r.styles + ";";
        return i;
      }
      return lI(t, e, r);
    }
    case "function": {
      if (t !== void 0) {
        var o = Ko,
          s = r(t);
        return (Ko = o), Ph(t, e, s);
      }
      break;
    }
  }
  if (e == null) return r;
  var a = e[r];
  return a !== void 0 ? a : r;
}
function lI(t, e, r) {
  var n = "";
  if (Array.isArray(r))
    for (var i = 0; i < r.length; i++) n += Ph(t, e, r[i]) + ";";
  else
    for (var o in r) {
      var s = r[o];
      if (typeof s != "object")
        e != null && e[s] !== void 0
          ? (n += o + "{" + e[s] + "}")
          : MD(s) && (n += q2(o) + ":" + _D(o, s) + ";");
      else if (
        Array.isArray(s) &&
        typeof s[0] == "string" &&
        (e == null || e[s[0]] === void 0)
      )
        for (var a = 0; a < s.length; a++)
          MD(s[a]) && (n += q2(o) + ":" + _D(o, s[a]) + ";");
      else {
        var l = Ph(t, e, s);
        switch (o) {
          case "animation":
          case "animationName": {
            n += q2(o) + ":" + l + ";";
            break;
          }
          default:
            n += o + "{" + l + "}";
        }
      }
    }
  return n;
}
var $D = /label:\s*([^\s;\n{]+)\s*(;|$)/g,
  Ko,
  Qu = function (e, r, n) {
    if (
      e.length === 1 &&
      typeof e[0] == "object" &&
      e[0] !== null &&
      e[0].styles !== void 0
    )
      return e[0];
    var i = !0,
      o = "";
    Ko = void 0;
    var s = e[0];
    s == null || s.raw === void 0
      ? ((i = !1), (o += Ph(n, r, s)))
      : (o += s[0]);
    for (var a = 1; a < e.length; a++) (o += Ph(n, r, e[a])), i && (o += s[a]);
    $D.lastIndex = 0;
    for (var l = "", u; (u = $D.exec(o)) !== null; ) l += "-" + u[1];
    var c = iI(o) + l;
    return { name: c, styles: o, next: Ko };
  },
  uI = function (e) {
    return e();
  },
  YC = CD.useInsertionEffect ? CD.useInsertionEffect : !1,
  XC = YC || uI,
  OD = YC || ct.useLayoutEffect,
  ov = {}.hasOwnProperty,
  JC = ct.createContext(typeof HTMLElement < "u" ? T6({ key: "css" }) : null),
  cI = JC.Provider,
  L6 = function (e) {
    return ct.forwardRef(function (r, n) {
      var i = ct.useContext(JC);
      return e(r, i, n);
    });
  },
  qd = ct.createContext({}),
  Ty = "__EMOTION_TYPE_PLEASE_DO_NOT_USE__",
  QC = function (e, r) {
    var n = {};
    for (var i in r) ov.call(r, i) && (n[i] = r[i]);
    return (n[Ty] = e), n;
  },
  fI = function (e) {
    var r = e.cache,
      n = e.serialized,
      i = e.isStringTag;
    return (
      N6(r, n, i),
      XC(function () {
        return sv(r, n, i);
      }),
      null
    );
  },
  hI = L6(function (t, e, r) {
    var n = t.css;
    typeof n == "string" && e.registered[n] !== void 0 && (n = e.registered[n]);
    var i = t[Ty],
      o = [n],
      s = "";
    typeof t.className == "string"
      ? (s = iv(e.registered, o, t.className))
      : t.className != null && (s = t.className + " ");
    var a = Qu(o, void 0, ct.useContext(qd));
    s += e.key + "-" + a.name;
    var l = {};
    for (var u in t) ov.call(t, u) && u !== "css" && u !== Ty && (l[u] = t[u]);
    return (
      (l.ref = r),
      (l.className = s),
      ct.createElement(
        ct.Fragment,
        null,
        ct.createElement(fI, {
          cache: e,
          serialized: a,
          isStringTag: typeof i == "string",
        }),
        ct.createElement(i, l)
      )
    );
  }),
  ZC = hI,
  z6 = ru.Fragment;
function Oe(t, e, r) {
  return ov.call(e, "css") ? ru.jsx(ZC, QC(t, e), r) : ru.jsx(t, e, r);
}
function bn(t, e, r) {
  return ov.call(e, "css") ? ru.jsxs(ZC, QC(t, e), r) : ru.jsxs(t, e, r);
}
var Py = {},
  eA = { exports: {} },
  Cs = {},
  tA = { exports: {} },
  rA = {};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ (function (t) {
  function e(Ee, Je) {
    var Re = Ee.length;
    Ee.push(Je);
    e: for (; 0 < Re; ) {
      var ve = (Re - 1) >>> 1,
        Fe = Ee[ve];
      if (0 < i(Fe, Je)) (Ee[ve] = Je), (Ee[Re] = Fe), (Re = ve);
      else break e;
    }
  }
  function r(Ee) {
    return Ee.length === 0 ? null : Ee[0];
  }
  function n(Ee) {
    if (Ee.length === 0) return null;
    var Je = Ee[0],
      Re = Ee.pop();
    if (Re !== Je) {
      Ee[0] = Re;
      e: for (var ve = 0, Fe = Ee.length, q = Fe >>> 1; ve < q; ) {
        var Ot = 2 * (ve + 1) - 1,
          Mt = Ee[Ot],
          yt = Ot + 1,
          wt = Ee[yt];
        if (0 > i(Mt, Re))
          yt < Fe && 0 > i(wt, Mt)
            ? ((Ee[ve] = wt), (Ee[yt] = Re), (ve = yt))
            : ((Ee[ve] = Mt), (Ee[Ot] = Re), (ve = Ot));
        else if (yt < Fe && 0 > i(wt, Re))
          (Ee[ve] = wt), (Ee[yt] = Re), (ve = yt);
        else break e;
      }
    }
    return Je;
  }
  function i(Ee, Je) {
    var Re = Ee.sortIndex - Je.sortIndex;
    return Re !== 0 ? Re : Ee.id - Je.id;
  }
  if (typeof performance == "object" && typeof performance.now == "function") {
    var o = performance;
    t.unstable_now = function () {
      return o.now();
    };
  } else {
    var s = Date,
      a = s.now();
    t.unstable_now = function () {
      return s.now() - a;
    };
  }
  var l = [],
    u = [],
    c = 1,
    f = null,
    h = 3,
    d = !1,
    p = !1,
    m = !1,
    b = typeof setTimeout == "function" ? setTimeout : null,
    D = typeof clearTimeout == "function" ? clearTimeout : null,
    k = typeof setImmediate < "u" ? setImmediate : null;
  typeof navigator < "u" &&
    navigator.scheduling !== void 0 &&
    navigator.scheduling.isInputPending !== void 0 &&
    navigator.scheduling.isInputPending.bind(navigator.scheduling);
  function S(Ee) {
    for (var Je = r(u); Je !== null; ) {
      if (Je.callback === null) n(u);
      else if (Je.startTime <= Ee)
        n(u), (Je.sortIndex = Je.expirationTime), e(l, Je);
      else break;
      Je = r(u);
    }
  }
  function B(Ee) {
    if (((m = !1), S(Ee), !p))
      if (r(l) !== null) (p = !0), Ae($);
      else {
        var Je = r(u);
        Je !== null && tt(B, Je.startTime - Ee);
      }
  }
  function $(Ee, Je) {
    (p = !1), m && ((m = !1), D(te), (te = -1)), (d = !0);
    var Re = h;
    try {
      for (
        S(Je), f = r(l);
        f !== null && (!(f.expirationTime > Je) || (Ee && !ke()));

      ) {
        var ve = f.callback;
        if (typeof ve == "function") {
          (f.callback = null), (h = f.priorityLevel);
          var Fe = ve(f.expirationTime <= Je);
          (Je = t.unstable_now()),
            typeof Fe == "function" ? (f.callback = Fe) : f === r(l) && n(l),
            S(Je);
        } else n(l);
        f = r(l);
      }
      if (f !== null) var q = !0;
      else {
        var Ot = r(u);
        Ot !== null && tt(B, Ot.startTime - Je), (q = !1);
      }
      return q;
    } finally {
      (f = null), (h = Re), (d = !1);
    }
  }
  var T = !1,
    P = null,
    te = -1,
    ee = 5,
    de = -1;
  function ke() {
    return !(t.unstable_now() - de < ee);
  }
  function Ce() {
    if (P !== null) {
      var Ee = t.unstable_now();
      de = Ee;
      var Je = !0;
      try {
        Je = P(!0, Ee);
      } finally {
        Je ? he() : ((T = !1), (P = null));
      }
    } else T = !1;
  }
  var he;
  if (typeof k == "function")
    he = function () {
      k(Ce);
    };
  else if (typeof MessageChannel < "u") {
    var ze = new MessageChannel(),
      Ve = ze.port2;
    (ze.port1.onmessage = Ce),
      (he = function () {
        Ve.postMessage(null);
      });
  } else
    he = function () {
      b(Ce, 0);
    };
  function Ae(Ee) {
    (P = Ee), T || ((T = !0), he());
  }
  function tt(Ee, Je) {
    te = b(function () {
      Ee(t.unstable_now());
    }, Je);
  }
  (t.unstable_IdlePriority = 5),
    (t.unstable_ImmediatePriority = 1),
    (t.unstable_LowPriority = 4),
    (t.unstable_NormalPriority = 3),
    (t.unstable_Profiling = null),
    (t.unstable_UserBlockingPriority = 2),
    (t.unstable_cancelCallback = function (Ee) {
      Ee.callback = null;
    }),
    (t.unstable_continueExecution = function () {
      p || d || ((p = !0), Ae($));
    }),
    (t.unstable_forceFrameRate = function (Ee) {
      0 > Ee || 125 < Ee
        ? console.error(
            "forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"
          )
        : (ee = 0 < Ee ? Math.floor(1e3 / Ee) : 5);
    }),
    (t.unstable_getCurrentPriorityLevel = function () {
      return h;
    }),
    (t.unstable_getFirstCallbackNode = function () {
      return r(l);
    }),
    (t.unstable_next = function (Ee) {
      switch (h) {
        case 1:
        case 2:
        case 3:
          var Je = 3;
          break;
        default:
          Je = h;
      }
      var Re = h;
      h = Je;
      try {
        return Ee();
      } finally {
        h = Re;
      }
    }),
    (t.unstable_pauseExecution = function () {}),
    (t.unstable_requestPaint = function () {}),
    (t.unstable_runWithPriority = function (Ee, Je) {
      switch (Ee) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
          break;
        default:
          Ee = 3;
      }
      var Re = h;
      h = Ee;
      try {
        return Je();
      } finally {
        h = Re;
      }
    }),
    (t.unstable_scheduleCallback = function (Ee, Je, Re) {
      var ve = t.unstable_now();
      switch (
        (typeof Re == "object" && Re !== null
          ? ((Re = Re.delay),
            (Re = typeof Re == "number" && 0 < Re ? ve + Re : ve))
          : (Re = ve),
        Ee)
      ) {
        case 1:
          var Fe = -1;
          break;
        case 2:
          Fe = 250;
          break;
        case 5:
          Fe = 1073741823;
          break;
        case 4:
          Fe = 1e4;
          break;
        default:
          Fe = 5e3;
      }
      return (
        (Fe = Re + Fe),
        (Ee = {
          id: c++,
          callback: Je,
          priorityLevel: Ee,
          startTime: Re,
          expirationTime: Fe,
          sortIndex: -1,
        }),
        Re > ve
          ? ((Ee.sortIndex = Re),
            e(u, Ee),
            r(l) === null &&
              Ee === r(u) &&
              (m ? (D(te), (te = -1)) : (m = !0), tt(B, Re - ve)))
          : ((Ee.sortIndex = Fe), e(l, Ee), p || d || ((p = !0), Ae($))),
        Ee
      );
    }),
    (t.unstable_shouldYield = ke),
    (t.unstable_wrapCallback = function (Ee) {
      var Je = h;
      return function () {
        var Re = h;
        h = Je;
        try {
          return Ee.apply(this, arguments);
        } finally {
          h = Re;
        }
      };
    });
})(rA);
tA.exports = rA;
var dI = tA.exports;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var nA = ct,
  ks = dI;
function He(t) {
  for (
    var e = "https://reactjs.org/docs/error-decoder.html?invariant=" + t, r = 1;
    r < arguments.length;
    r++
  )
    e += "&args[]=" + encodeURIComponent(arguments[r]);
  return (
    "Minified React error #" +
    t +
    "; visit " +
    e +
    " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
  );
}
var iA = new Set(),
  Rh = {};
function x0(t, e) {
  Hc(t, e), Hc(t + "Capture", e);
}
function Hc(t, e) {
  for (Rh[t] = e, t = 0; t < e.length; t++) iA.add(e[t]);
}
var Ha = !(
    typeof window > "u" ||
    typeof window.document > "u" ||
    typeof window.document.createElement > "u"
  ),
  Ry = Object.prototype.hasOwnProperty,
  pI =
    /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
  BD = {},
  TD = {};
function mI(t) {
  return Ry.call(TD, t)
    ? !0
    : Ry.call(BD, t)
      ? !1
      : pI.test(t)
        ? (TD[t] = !0)
        : ((BD[t] = !0), !1);
}
function gI(t, e, r, n) {
  if (r !== null && r.type === 0) return !1;
  switch (typeof e) {
    case "function":
    case "symbol":
      return !0;
    case "boolean":
      return n
        ? !1
        : r !== null
          ? !r.acceptsBooleans
          : ((t = t.toLowerCase().slice(0, 5)), t !== "data-" && t !== "aria-");
    default:
      return !1;
  }
}
function vI(t, e, r, n) {
  if (e === null || typeof e > "u" || gI(t, e, r, n)) return !0;
  if (n) return !1;
  if (r !== null)
    switch (r.type) {
      case 3:
        return !e;
      case 4:
        return e === !1;
      case 5:
        return isNaN(e);
      case 6:
        return isNaN(e) || 1 > e;
    }
  return !1;
}
function ji(t, e, r, n, i, o, s) {
  (this.acceptsBooleans = e === 2 || e === 3 || e === 4),
    (this.attributeName = n),
    (this.attributeNamespace = i),
    (this.mustUseProperty = r),
    (this.propertyName = t),
    (this.type = e),
    (this.sanitizeURL = o),
    (this.removeEmptyString = s);
}
var gi = {};
"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style"
  .split(" ")
  .forEach(function (t) {
    gi[t] = new ji(t, 0, !1, t, null, !1, !1);
  });
[
  ["acceptCharset", "accept-charset"],
  ["className", "class"],
  ["htmlFor", "for"],
  ["httpEquiv", "http-equiv"],
].forEach(function (t) {
  var e = t[0];
  gi[e] = new ji(e, 1, !1, t[1], null, !1, !1);
});
["contentEditable", "draggable", "spellCheck", "value"].forEach(function (t) {
  gi[t] = new ji(t, 2, !1, t.toLowerCase(), null, !1, !1);
});
[
  "autoReverse",
  "externalResourcesRequired",
  "focusable",
  "preserveAlpha",
].forEach(function (t) {
  gi[t] = new ji(t, 2, !1, t, null, !1, !1);
});
"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope"
  .split(" ")
  .forEach(function (t) {
    gi[t] = new ji(t, 3, !1, t.toLowerCase(), null, !1, !1);
  });
["checked", "multiple", "muted", "selected"].forEach(function (t) {
  gi[t] = new ji(t, 3, !0, t, null, !1, !1);
});
["capture", "download"].forEach(function (t) {
  gi[t] = new ji(t, 4, !1, t, null, !1, !1);
});
["cols", "rows", "size", "span"].forEach(function (t) {
  gi[t] = new ji(t, 6, !1, t, null, !1, !1);
});
["rowSpan", "start"].forEach(function (t) {
  gi[t] = new ji(t, 5, !1, t.toLowerCase(), null, !1, !1);
});
var j6 = /[\-:]([a-z])/g;
function H6(t) {
  return t[1].toUpperCase();
}
"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height"
  .split(" ")
  .forEach(function (t) {
    var e = t.replace(j6, H6);
    gi[e] = new ji(e, 1, !1, t, null, !1, !1);
  });
"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type"
  .split(" ")
  .forEach(function (t) {
    var e = t.replace(j6, H6);
    gi[e] = new ji(e, 1, !1, t, "http://www.w3.org/1999/xlink", !1, !1);
  });
["xml:base", "xml:lang", "xml:space"].forEach(function (t) {
  var e = t.replace(j6, H6);
  gi[e] = new ji(e, 1, !1, t, "http://www.w3.org/XML/1998/namespace", !1, !1);
});
["tabIndex", "crossOrigin"].forEach(function (t) {
  gi[t] = new ji(t, 1, !1, t.toLowerCase(), null, !1, !1);
});
gi.xlinkHref = new ji(
  "xlinkHref",
  1,
  !1,
  "xlink:href",
  "http://www.w3.org/1999/xlink",
  !0,
  !1
);
["src", "href", "action", "formAction"].forEach(function (t) {
  gi[t] = new ji(t, 1, !1, t.toLowerCase(), null, !0, !0);
});
function V6(t, e, r, n) {
  var i = gi.hasOwnProperty(e) ? gi[e] : null;
  (i !== null
    ? i.type !== 0
    : n ||
      !(2 < e.length) ||
      (e[0] !== "o" && e[0] !== "O") ||
      (e[1] !== "n" && e[1] !== "N")) &&
    (vI(e, r, i, n) && (r = null),
    n || i === null
      ? mI(e) && (r === null ? t.removeAttribute(e) : t.setAttribute(e, "" + r))
      : i.mustUseProperty
        ? (t[i.propertyName] = r === null ? (i.type === 3 ? !1 : "") : r)
        : ((e = i.attributeName),
          (n = i.attributeNamespace),
          r === null
            ? t.removeAttribute(e)
            : ((i = i.type),
              (r = i === 3 || (i === 4 && r === !0) ? "" : "" + r),
              n ? t.setAttributeNS(n, e, r) : t.setAttribute(e, r))));
}
var rl = nA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,
  Hp = Symbol.for("react.element"),
  nc = Symbol.for("react.portal"),
  ic = Symbol.for("react.fragment"),
  W6 = Symbol.for("react.strict_mode"),
  Iy = Symbol.for("react.profiler"),
  sA = Symbol.for("react.provider"),
  oA = Symbol.for("react.context"),
  q6 = Symbol.for("react.forward_ref"),
  Ny = Symbol.for("react.suspense"),
  Ly = Symbol.for("react.suspense_list"),
  U6 = Symbol.for("react.memo"),
  Cl = Symbol.for("react.lazy"),
  aA = Symbol.for("react.offscreen"),
  PD = Symbol.iterator;
function Tf(t) {
  return t === null || typeof t != "object"
    ? null
    : ((t = (PD && t[PD]) || t["@@iterator"]),
      typeof t == "function" ? t : null);
}
var fn = Object.assign,
  U2;
function Jf(t) {
  if (U2 === void 0)
    try {
      throw Error();
    } catch (r) {
      var e = r.stack.trim().match(/\n( *(at )?)/);
      U2 = (e && e[1]) || "";
    }
  return (
    `
` +
    U2 +
    t
  );
}
var G2 = !1;
function K2(t, e) {
  if (!t || G2) return "";
  G2 = !0;
  var r = Error.prepareStackTrace;
  Error.prepareStackTrace = void 0;
  try {
    if (e)
      if (
        ((e = function () {
          throw Error();
        }),
        Object.defineProperty(e.prototype, "props", {
          set: function () {
            throw Error();
          },
        }),
        typeof Reflect == "object" && Reflect.construct)
      ) {
        try {
          Reflect.construct(e, []);
        } catch (u) {
          var n = u;
        }
        Reflect.construct(t, [], e);
      } else {
        try {
          e.call();
        } catch (u) {
          n = u;
        }
        t.call(e.prototype);
      }
    else {
      try {
        throw Error();
      } catch (u) {
        n = u;
      }
      t();
    }
  } catch (u) {
    if (u && n && typeof u.stack == "string") {
      for (
        var i = u.stack.split(`
`),
          o = n.stack.split(`
`),
          s = i.length - 1,
          a = o.length - 1;
        1 <= s && 0 <= a && i[s] !== o[a];

      )
        a--;
      for (; 1 <= s && 0 <= a; s--, a--)
        if (i[s] !== o[a]) {
          if (s !== 1 || a !== 1)
            do
              if ((s--, a--, 0 > a || i[s] !== o[a])) {
                var l =
                  `
` + i[s].replace(" at new ", " at ");
                return (
                  t.displayName &&
                    l.includes("<anonymous>") &&
                    (l = l.replace("<anonymous>", t.displayName)),
                  l
                );
              }
            while (1 <= s && 0 <= a);
          break;
        }
    }
  } finally {
    (G2 = !1), (Error.prepareStackTrace = r);
  }
  return (t = t ? t.displayName || t.name : "") ? Jf(t) : "";
}
function yI(t) {
  switch (t.tag) {
    case 5:
      return Jf(t.type);
    case 16:
      return Jf("Lazy");
    case 13:
      return Jf("Suspense");
    case 19:
      return Jf("SuspenseList");
    case 0:
    case 2:
    case 15:
      return (t = K2(t.type, !1)), t;
    case 11:
      return (t = K2(t.type.render, !1)), t;
    case 1:
      return (t = K2(t.type, !0)), t;
    default:
      return "";
  }
}
function zy(t) {
  if (t == null) return null;
  if (typeof t == "function") return t.displayName || t.name || null;
  if (typeof t == "string") return t;
  switch (t) {
    case ic:
      return "Fragment";
    case nc:
      return "Portal";
    case Iy:
      return "Profiler";
    case W6:
      return "StrictMode";
    case Ny:
      return "Suspense";
    case Ly:
      return "SuspenseList";
  }
  if (typeof t == "object")
    switch (t.$$typeof) {
      case oA:
        return (t.displayName || "Context") + ".Consumer";
      case sA:
        return (t._context.displayName || "Context") + ".Provider";
      case q6:
        var e = t.render;
        return (
          (t = t.displayName),
          t ||
            ((t = e.displayName || e.name || ""),
            (t = t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef")),
          t
        );
      case U6:
        return (
          (e = t.displayName || null), e !== null ? e : zy(t.type) || "Memo"
        );
      case Cl:
        (e = t._payload), (t = t._init);
        try {
          return zy(t(e));
        } catch {}
    }
  return null;
}
function bI(t) {
  var e = t.type;
  switch (t.tag) {
    case 24:
      return "Cache";
    case 9:
      return (e.displayName || "Context") + ".Consumer";
    case 10:
      return (e._context.displayName || "Context") + ".Provider";
    case 18:
      return "DehydratedFragment";
    case 11:
      return (
        (t = e.render),
        (t = t.displayName || t.name || ""),
        e.displayName || (t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef")
      );
    case 7:
      return "Fragment";
    case 5:
      return e;
    case 4:
      return "Portal";
    case 3:
      return "Root";
    case 6:
      return "Text";
    case 16:
      return zy(e);
    case 8:
      return e === W6 ? "StrictMode" : "Mode";
    case 22:
      return "Offscreen";
    case 12:
      return "Profiler";
    case 21:
      return "Scope";
    case 13:
      return "Suspense";
    case 19:
      return "SuspenseList";
    case 25:
      return "TracingMarker";
    case 1:
    case 0:
    case 17:
    case 2:
    case 14:
    case 15:
      if (typeof e == "function") return e.displayName || e.name || null;
      if (typeof e == "string") return e;
  }
  return null;
}
function nu(t) {
  switch (typeof t) {
    case "boolean":
    case "number":
    case "string":
    case "undefined":
      return t;
    case "object":
      return t;
    default:
      return "";
  }
}
function lA(t) {
  var e = t.type;
  return (
    (t = t.nodeName) &&
    t.toLowerCase() === "input" &&
    (e === "checkbox" || e === "radio")
  );
}
function DI(t) {
  var e = lA(t) ? "checked" : "value",
    r = Object.getOwnPropertyDescriptor(t.constructor.prototype, e),
    n = "" + t[e];
  if (
    !t.hasOwnProperty(e) &&
    typeof r < "u" &&
    typeof r.get == "function" &&
    typeof r.set == "function"
  ) {
    var i = r.get,
      o = r.set;
    return (
      Object.defineProperty(t, e, {
        configurable: !0,
        get: function () {
          return i.call(this);
        },
        set: function (s) {
          (n = "" + s), o.call(this, s);
        },
      }),
      Object.defineProperty(t, e, { enumerable: r.enumerable }),
      {
        getValue: function () {
          return n;
        },
        setValue: function (s) {
          n = "" + s;
        },
        stopTracking: function () {
          (t._valueTracker = null), delete t[e];
        },
      }
    );
  }
}
function Vp(t) {
  t._valueTracker || (t._valueTracker = DI(t));
}
function uA(t) {
  if (!t) return !1;
  var e = t._valueTracker;
  if (!e) return !0;
  var r = e.getValue(),
    n = "";
  return (
    t && (n = lA(t) ? (t.checked ? "true" : "false") : t.value),
    (t = n),
    t !== r ? (e.setValue(t), !0) : !1
  );
}
function Og(t) {
  if (((t = t || (typeof document < "u" ? document : void 0)), typeof t > "u"))
    return null;
  try {
    return t.activeElement || t.body;
  } catch {
    return t.body;
  }
}
function jy(t, e) {
  var r = e.checked;
  return fn({}, e, {
    defaultChecked: void 0,
    defaultValue: void 0,
    value: void 0,
    checked: r ?? t._wrapperState.initialChecked,
  });
}
function RD(t, e) {
  var r = e.defaultValue == null ? "" : e.defaultValue,
    n = e.checked != null ? e.checked : e.defaultChecked;
  (r = nu(e.value != null ? e.value : r)),
    (t._wrapperState = {
      initialChecked: n,
      initialValue: r,
      controlled:
        e.type === "checkbox" || e.type === "radio"
          ? e.checked != null
          : e.value != null,
    });
}
function cA(t, e) {
  (e = e.checked), e != null && V6(t, "checked", e, !1);
}
function Hy(t, e) {
  cA(t, e);
  var r = nu(e.value),
    n = e.type;
  if (r != null)
    n === "number"
      ? ((r === 0 && t.value === "") || t.value != r) && (t.value = "" + r)
      : t.value !== "" + r && (t.value = "" + r);
  else if (n === "submit" || n === "reset") {
    t.removeAttribute("value");
    return;
  }
  e.hasOwnProperty("value")
    ? Vy(t, e.type, r)
    : e.hasOwnProperty("defaultValue") && Vy(t, e.type, nu(e.defaultValue)),
    e.checked == null &&
      e.defaultChecked != null &&
      (t.defaultChecked = !!e.defaultChecked);
}
function ID(t, e, r) {
  if (e.hasOwnProperty("value") || e.hasOwnProperty("defaultValue")) {
    var n = e.type;
    if (
      !(
        (n !== "submit" && n !== "reset") ||
        (e.value !== void 0 && e.value !== null)
      )
    )
      return;
    (e = "" + t._wrapperState.initialValue),
      r || e === t.value || (t.value = e),
      (t.defaultValue = e);
  }
  (r = t.name),
    r !== "" && (t.name = ""),
    (t.defaultChecked = !!t._wrapperState.initialChecked),
    r !== "" && (t.name = r);
}
function Vy(t, e, r) {
  (e !== "number" || Og(t.ownerDocument) !== t) &&
    (r == null
      ? (t.defaultValue = "" + t._wrapperState.initialValue)
      : t.defaultValue !== "" + r && (t.defaultValue = "" + r));
}
var Qf = Array.isArray;
function Cc(t, e, r, n) {
  if (((t = t.options), e)) {
    e = {};
    for (var i = 0; i < r.length; i++) e["$" + r[i]] = !0;
    for (r = 0; r < t.length; r++)
      (i = e.hasOwnProperty("$" + t[r].value)),
        t[r].selected !== i && (t[r].selected = i),
        i && n && (t[r].defaultSelected = !0);
  } else {
    for (r = "" + nu(r), e = null, i = 0; i < t.length; i++) {
      if (t[i].value === r) {
        (t[i].selected = !0), n && (t[i].defaultSelected = !0);
        return;
      }
      e !== null || t[i].disabled || (e = t[i]);
    }
    e !== null && (e.selected = !0);
  }
}
function Wy(t, e) {
  if (e.dangerouslySetInnerHTML != null) throw Error(He(91));
  return fn({}, e, {
    value: void 0,
    defaultValue: void 0,
    children: "" + t._wrapperState.initialValue,
  });
}
function ND(t, e) {
  var r = e.value;
  if (r == null) {
    if (((r = e.children), (e = e.defaultValue), r != null)) {
      if (e != null) throw Error(He(92));
      if (Qf(r)) {
        if (1 < r.length) throw Error(He(93));
        r = r[0];
      }
      e = r;
    }
    e == null && (e = ""), (r = e);
  }
  t._wrapperState = { initialValue: nu(r) };
}
function fA(t, e) {
  var r = nu(e.value),
    n = nu(e.defaultValue);
  r != null &&
    ((r = "" + r),
    r !== t.value && (t.value = r),
    e.defaultValue == null && t.defaultValue !== r && (t.defaultValue = r)),
    n != null && (t.defaultValue = "" + n);
}
function LD(t) {
  var e = t.textContent;
  e === t._wrapperState.initialValue && e !== "" && e !== null && (t.value = e);
}
function hA(t) {
  switch (t) {
    case "svg":
      return "http://www.w3.org/2000/svg";
    case "math":
      return "http://www.w3.org/1998/Math/MathML";
    default:
      return "http://www.w3.org/1999/xhtml";
  }
}
function qy(t, e) {
  return t == null || t === "http://www.w3.org/1999/xhtml"
    ? hA(e)
    : t === "http://www.w3.org/2000/svg" && e === "foreignObject"
      ? "http://www.w3.org/1999/xhtml"
      : t;
}
var Wp,
  dA = (function (t) {
    return typeof MSApp < "u" && MSApp.execUnsafeLocalFunction
      ? function (e, r, n, i) {
          MSApp.execUnsafeLocalFunction(function () {
            return t(e, r, n, i);
          });
        }
      : t;
  })(function (t, e) {
    if (t.namespaceURI !== "http://www.w3.org/2000/svg" || "innerHTML" in t)
      t.innerHTML = e;
    else {
      for (
        Wp = Wp || document.createElement("div"),
          Wp.innerHTML = "<svg>" + e.valueOf().toString() + "</svg>",
          e = Wp.firstChild;
        t.firstChild;

      )
        t.removeChild(t.firstChild);
      for (; e.firstChild; ) t.appendChild(e.firstChild);
    }
  });
function Ih(t, e) {
  if (e) {
    var r = t.firstChild;
    if (r && r === t.lastChild && r.nodeType === 3) {
      r.nodeValue = e;
      return;
    }
  }
  t.textContent = e;
}
var uh = {
    animationIterationCount: !0,
    aspectRatio: !0,
    borderImageOutset: !0,
    borderImageSlice: !0,
    borderImageWidth: !0,
    boxFlex: !0,
    boxFlexGroup: !0,
    boxOrdinalGroup: !0,
    columnCount: !0,
    columns: !0,
    flex: !0,
    flexGrow: !0,
    flexPositive: !0,
    flexShrink: !0,
    flexNegative: !0,
    flexOrder: !0,
    gridArea: !0,
    gridRow: !0,
    gridRowEnd: !0,
    gridRowSpan: !0,
    gridRowStart: !0,
    gridColumn: !0,
    gridColumnEnd: !0,
    gridColumnSpan: !0,
    gridColumnStart: !0,
    fontWeight: !0,
    lineClamp: !0,
    lineHeight: !0,
    opacity: !0,
    order: !0,
    orphans: !0,
    tabSize: !0,
    widows: !0,
    zIndex: !0,
    zoom: !0,
    fillOpacity: !0,
    floodOpacity: !0,
    stopOpacity: !0,
    strokeDasharray: !0,
    strokeDashoffset: !0,
    strokeMiterlimit: !0,
    strokeOpacity: !0,
    strokeWidth: !0,
  },
  wI = ["Webkit", "ms", "Moz", "O"];
Object.keys(uh).forEach(function (t) {
  wI.forEach(function (e) {
    (e = e + t.charAt(0).toUpperCase() + t.substring(1)), (uh[e] = uh[t]);
  });
});
function pA(t, e, r) {
  return e == null || typeof e == "boolean" || e === ""
    ? ""
    : r || typeof e != "number" || e === 0 || (uh.hasOwnProperty(t) && uh[t])
      ? ("" + e).trim()
      : e + "px";
}
function mA(t, e) {
  t = t.style;
  for (var r in e)
    if (e.hasOwnProperty(r)) {
      var n = r.indexOf("--") === 0,
        i = pA(r, e[r], n);
      r === "float" && (r = "cssFloat"), n ? t.setProperty(r, i) : (t[r] = i);
    }
}
var xI = fn(
  { menuitem: !0 },
  {
    area: !0,
    base: !0,
    br: !0,
    col: !0,
    embed: !0,
    hr: !0,
    img: !0,
    input: !0,
    keygen: !0,
    link: !0,
    meta: !0,
    param: !0,
    source: !0,
    track: !0,
    wbr: !0,
  }
);
function Uy(t, e) {
  if (e) {
    if (xI[t] && (e.children != null || e.dangerouslySetInnerHTML != null))
      throw Error(He(137, t));
    if (e.dangerouslySetInnerHTML != null) {
      if (e.children != null) throw Error(He(60));
      if (
        typeof e.dangerouslySetInnerHTML != "object" ||
        !("__html" in e.dangerouslySetInnerHTML)
      )
        throw Error(He(61));
    }
    if (e.style != null && typeof e.style != "object") throw Error(He(62));
  }
}
function Gy(t, e) {
  if (t.indexOf("-") === -1) return typeof e.is == "string";
  switch (t) {
    case "annotation-xml":
    case "color-profile":
    case "font-face":
    case "font-face-src":
    case "font-face-uri":
    case "font-face-format":
    case "font-face-name":
    case "missing-glyph":
      return !1;
    default:
      return !0;
  }
}
var Ky = null;
function G6(t) {
  return (
    (t = t.target || t.srcElement || window),
    t.correspondingUseElement && (t = t.correspondingUseElement),
    t.nodeType === 3 ? t.parentNode : t
  );
}
var Yy = null,
  Ac = null,
  Ec = null;
function zD(t) {
  if ((t = Kd(t))) {
    if (typeof Yy != "function") throw Error(He(280));
    var e = t.stateNode;
    e && ((e = fv(e)), Yy(t.stateNode, t.type, e));
  }
}
function gA(t) {
  Ac ? (Ec ? Ec.push(t) : (Ec = [t])) : (Ac = t);
}
function vA() {
  if (Ac) {
    var t = Ac,
      e = Ec;
    if (((Ec = Ac = null), zD(t), e)) for (t = 0; t < e.length; t++) zD(e[t]);
  }
}
function yA(t, e) {
  return t(e);
}
function bA() {}
var Y2 = !1;
function DA(t, e, r) {
  if (Y2) return t(e, r);
  Y2 = !0;
  try {
    return yA(t, e, r);
  } finally {
    (Y2 = !1), (Ac !== null || Ec !== null) && (bA(), vA());
  }
}
function Nh(t, e) {
  var r = t.stateNode;
  if (r === null) return null;
  var n = fv(r);
  if (n === null) return null;
  r = n[e];
  e: switch (e) {
    case "onClick":
    case "onClickCapture":
    case "onDoubleClick":
    case "onDoubleClickCapture":
    case "onMouseDown":
    case "onMouseDownCapture":
    case "onMouseMove":
    case "onMouseMoveCapture":
    case "onMouseUp":
    case "onMouseUpCapture":
    case "onMouseEnter":
      (n = !n.disabled) ||
        ((t = t.type),
        (n = !(
          t === "button" ||
          t === "input" ||
          t === "select" ||
          t === "textarea"
        ))),
        (t = !n);
      break e;
    default:
      t = !1;
  }
  if (t) return null;
  if (r && typeof r != "function") throw Error(He(231, e, typeof r));
  return r;
}
var Xy = !1;
if (Ha)
  try {
    var Pf = {};
    Object.defineProperty(Pf, "passive", {
      get: function () {
        Xy = !0;
      },
    }),
      window.addEventListener("test", Pf, Pf),
      window.removeEventListener("test", Pf, Pf);
  } catch {
    Xy = !1;
  }
function kI(t, e, r, n, i, o, s, a, l) {
  var u = Array.prototype.slice.call(arguments, 3);
  try {
    e.apply(r, u);
  } catch (c) {
    this.onError(c);
  }
}
var ch = !1,
  Bg = null,
  Tg = !1,
  Jy = null,
  SI = {
    onError: function (t) {
      (ch = !0), (Bg = t);
    },
  };
function CI(t, e, r, n, i, o, s, a, l) {
  (ch = !1), (Bg = null), kI.apply(SI, arguments);
}
function AI(t, e, r, n, i, o, s, a, l) {
  if ((CI.apply(this, arguments), ch)) {
    if (ch) {
      var u = Bg;
      (ch = !1), (Bg = null);
    } else throw Error(He(198));
    Tg || ((Tg = !0), (Jy = u));
  }
}
function k0(t) {
  var e = t,
    r = t;
  if (t.alternate) for (; e.return; ) e = e.return;
  else {
    t = e;
    do (e = t), e.flags & 4098 && (r = e.return), (t = e.return);
    while (t);
  }
  return e.tag === 3 ? r : null;
}
function wA(t) {
  if (t.tag === 13) {
    var e = t.memoizedState;
    if (
      (e === null && ((t = t.alternate), t !== null && (e = t.memoizedState)),
      e !== null)
    )
      return e.dehydrated;
  }
  return null;
}
function jD(t) {
  if (k0(t) !== t) throw Error(He(188));
}
function EI(t) {
  var e = t.alternate;
  if (!e) {
    if (((e = k0(t)), e === null)) throw Error(He(188));
    return e !== t ? null : t;
  }
  for (var r = t, n = e; ; ) {
    var i = r.return;
    if (i === null) break;
    var o = i.alternate;
    if (o === null) {
      if (((n = i.return), n !== null)) {
        r = n;
        continue;
      }
      break;
    }
    if (i.child === o.child) {
      for (o = i.child; o; ) {
        if (o === r) return jD(i), t;
        if (o === n) return jD(i), e;
        o = o.sibling;
      }
      throw Error(He(188));
    }
    if (r.return !== n.return) (r = i), (n = o);
    else {
      for (var s = !1, a = i.child; a; ) {
        if (a === r) {
          (s = !0), (r = i), (n = o);
          break;
        }
        if (a === n) {
          (s = !0), (n = i), (r = o);
          break;
        }
        a = a.sibling;
      }
      if (!s) {
        for (a = o.child; a; ) {
          if (a === r) {
            (s = !0), (r = o), (n = i);
            break;
          }
          if (a === n) {
            (s = !0), (n = o), (r = i);
            break;
          }
          a = a.sibling;
        }
        if (!s) throw Error(He(189));
      }
    }
    if (r.alternate !== n) throw Error(He(190));
  }
  if (r.tag !== 3) throw Error(He(188));
  return r.stateNode.current === r ? t : e;
}
function xA(t) {
  return (t = EI(t)), t !== null ? kA(t) : null;
}
function kA(t) {
  if (t.tag === 5 || t.tag === 6) return t;
  for (t = t.child; t !== null; ) {
    var e = kA(t);
    if (e !== null) return e;
    t = t.sibling;
  }
  return null;
}
var SA = ks.unstable_scheduleCallback,
  HD = ks.unstable_cancelCallback,
  FI = ks.unstable_shouldYield,
  MI = ks.unstable_requestPaint,
  kn = ks.unstable_now,
  _I = ks.unstable_getCurrentPriorityLevel,
  K6 = ks.unstable_ImmediatePriority,
  CA = ks.unstable_UserBlockingPriority,
  Pg = ks.unstable_NormalPriority,
  $I = ks.unstable_LowPriority,
  AA = ks.unstable_IdlePriority,
  av = null,
  ia = null;
function OI(t) {
  if (ia && typeof ia.onCommitFiberRoot == "function")
    try {
      ia.onCommitFiberRoot(av, t, void 0, (t.current.flags & 128) === 128);
    } catch {}
}
var So = Math.clz32 ? Math.clz32 : PI,
  BI = Math.log,
  TI = Math.LN2;
function PI(t) {
  return (t >>>= 0), t === 0 ? 32 : (31 - ((BI(t) / TI) | 0)) | 0;
}
var qp = 64,
  Up = 4194304;
function Zf(t) {
  switch (t & -t) {
    case 1:
      return 1;
    case 2:
      return 2;
    case 4:
      return 4;
    case 8:
      return 8;
    case 16:
      return 16;
    case 32:
      return 32;
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return t & 4194240;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return t & 130023424;
    case 134217728:
      return 134217728;
    case 268435456:
      return 268435456;
    case 536870912:
      return 536870912;
    case 1073741824:
      return 1073741824;
    default:
      return t;
  }
}
function Rg(t, e) {
  var r = t.pendingLanes;
  if (r === 0) return 0;
  var n = 0,
    i = t.suspendedLanes,
    o = t.pingedLanes,
    s = r & 268435455;
  if (s !== 0) {
    var a = s & ~i;
    a !== 0 ? (n = Zf(a)) : ((o &= s), o !== 0 && (n = Zf(o)));
  } else (s = r & ~i), s !== 0 ? (n = Zf(s)) : o !== 0 && (n = Zf(o));
  if (n === 0) return 0;
  if (
    e !== 0 &&
    e !== n &&
    !(e & i) &&
    ((i = n & -n), (o = e & -e), i >= o || (i === 16 && (o & 4194240) !== 0))
  )
    return e;
  if ((n & 4 && (n |= r & 16), (e = t.entangledLanes), e !== 0))
    for (t = t.entanglements, e &= n; 0 < e; )
      (r = 31 - So(e)), (i = 1 << r), (n |= t[r]), (e &= ~i);
  return n;
}
function RI(t, e) {
  switch (t) {
    case 1:
    case 2:
    case 4:
      return e + 250;
    case 8:
    case 16:
    case 32:
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return e + 5e3;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return -1;
    case 134217728:
    case 268435456:
    case 536870912:
    case 1073741824:
      return -1;
    default:
      return -1;
  }
}
function II(t, e) {
  for (
    var r = t.suspendedLanes,
      n = t.pingedLanes,
      i = t.expirationTimes,
      o = t.pendingLanes;
    0 < o;

  ) {
    var s = 31 - So(o),
      a = 1 << s,
      l = i[s];
    l === -1
      ? (!(a & r) || a & n) && (i[s] = RI(a, e))
      : l <= e && (t.expiredLanes |= a),
      (o &= ~a);
  }
}
function Qy(t) {
  return (
    (t = t.pendingLanes & -1073741825),
    t !== 0 ? t : t & 1073741824 ? 1073741824 : 0
  );
}
function EA() {
  var t = qp;
  return (qp <<= 1), !(qp & 4194240) && (qp = 64), t;
}
function X2(t) {
  for (var e = [], r = 0; 31 > r; r++) e.push(t);
  return e;
}
function Ud(t, e, r) {
  (t.pendingLanes |= e),
    e !== 536870912 && ((t.suspendedLanes = 0), (t.pingedLanes = 0)),
    (t = t.eventTimes),
    (e = 31 - So(e)),
    (t[e] = r);
}
function NI(t, e) {
  var r = t.pendingLanes & ~e;
  (t.pendingLanes = e),
    (t.suspendedLanes = 0),
    (t.pingedLanes = 0),
    (t.expiredLanes &= e),
    (t.mutableReadLanes &= e),
    (t.entangledLanes &= e),
    (e = t.entanglements);
  var n = t.eventTimes;
  for (t = t.expirationTimes; 0 < r; ) {
    var i = 31 - So(r),
      o = 1 << i;
    (e[i] = 0), (n[i] = -1), (t[i] = -1), (r &= ~o);
  }
}
function Y6(t, e) {
  var r = (t.entangledLanes |= e);
  for (t = t.entanglements; r; ) {
    var n = 31 - So(r),
      i = 1 << n;
    (i & e) | (t[n] & e) && (t[n] |= e), (r &= ~i);
  }
}
var Mr = 0;
function FA(t) {
  return (t &= -t), 1 < t ? (4 < t ? (t & 268435455 ? 16 : 536870912) : 4) : 1;
}
var MA,
  X6,
  _A,
  $A,
  OA,
  Zy = !1,
  Gp = [],
  jl = null,
  Hl = null,
  Vl = null,
  Lh = new Map(),
  zh = new Map(),
  Ml = [],
  LI =
    "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(
      " "
    );
function VD(t, e) {
  switch (t) {
    case "focusin":
    case "focusout":
      jl = null;
      break;
    case "dragenter":
    case "dragleave":
      Hl = null;
      break;
    case "mouseover":
    case "mouseout":
      Vl = null;
      break;
    case "pointerover":
    case "pointerout":
      Lh.delete(e.pointerId);
      break;
    case "gotpointercapture":
    case "lostpointercapture":
      zh.delete(e.pointerId);
  }
}
function Rf(t, e, r, n, i, o) {
  return t === null || t.nativeEvent !== o
    ? ((t = {
        blockedOn: e,
        domEventName: r,
        eventSystemFlags: n,
        nativeEvent: o,
        targetContainers: [i],
      }),
      e !== null && ((e = Kd(e)), e !== null && X6(e)),
      t)
    : ((t.eventSystemFlags |= n),
      (e = t.targetContainers),
      i !== null && e.indexOf(i) === -1 && e.push(i),
      t);
}
function zI(t, e, r, n, i) {
  switch (e) {
    case "focusin":
      return (jl = Rf(jl, t, e, r, n, i)), !0;
    case "dragenter":
      return (Hl = Rf(Hl, t, e, r, n, i)), !0;
    case "mouseover":
      return (Vl = Rf(Vl, t, e, r, n, i)), !0;
    case "pointerover":
      var o = i.pointerId;
      return Lh.set(o, Rf(Lh.get(o) || null, t, e, r, n, i)), !0;
    case "gotpointercapture":
      return (
        (o = i.pointerId), zh.set(o, Rf(zh.get(o) || null, t, e, r, n, i)), !0
      );
  }
  return !1;
}
function BA(t) {
  var e = Uu(t.target);
  if (e !== null) {
    var r = k0(e);
    if (r !== null) {
      if (((e = r.tag), e === 13)) {
        if (((e = wA(r)), e !== null)) {
          (t.blockedOn = e),
            OA(t.priority, function () {
              _A(r);
            });
          return;
        }
      } else if (e === 3 && r.stateNode.current.memoizedState.isDehydrated) {
        t.blockedOn = r.tag === 3 ? r.stateNode.containerInfo : null;
        return;
      }
    }
  }
  t.blockedOn = null;
}
function Xm(t) {
  if (t.blockedOn !== null) return !1;
  for (var e = t.targetContainers; 0 < e.length; ) {
    var r = e3(t.domEventName, t.eventSystemFlags, e[0], t.nativeEvent);
    if (r === null) {
      r = t.nativeEvent;
      var n = new r.constructor(r.type, r);
      (Ky = n), r.target.dispatchEvent(n), (Ky = null);
    } else return (e = Kd(r)), e !== null && X6(e), (t.blockedOn = r), !1;
    e.shift();
  }
  return !0;
}
function WD(t, e, r) {
  Xm(t) && r.delete(e);
}
function jI() {
  (Zy = !1),
    jl !== null && Xm(jl) && (jl = null),
    Hl !== null && Xm(Hl) && (Hl = null),
    Vl !== null && Xm(Vl) && (Vl = null),
    Lh.forEach(WD),
    zh.forEach(WD);
}
function If(t, e) {
  t.blockedOn === e &&
    ((t.blockedOn = null),
    Zy ||
      ((Zy = !0),
      ks.unstable_scheduleCallback(ks.unstable_NormalPriority, jI)));
}
function jh(t) {
  function e(i) {
    return If(i, t);
  }
  if (0 < Gp.length) {
    If(Gp[0], t);
    for (var r = 1; r < Gp.length; r++) {
      var n = Gp[r];
      n.blockedOn === t && (n.blockedOn = null);
    }
  }
  for (
    jl !== null && If(jl, t),
      Hl !== null && If(Hl, t),
      Vl !== null && If(Vl, t),
      Lh.forEach(e),
      zh.forEach(e),
      r = 0;
    r < Ml.length;
    r++
  )
    (n = Ml[r]), n.blockedOn === t && (n.blockedOn = null);
  for (; 0 < Ml.length && ((r = Ml[0]), r.blockedOn === null); )
    BA(r), r.blockedOn === null && Ml.shift();
}
var Fc = rl.ReactCurrentBatchConfig,
  Ig = !0;
function HI(t, e, r, n) {
  var i = Mr,
    o = Fc.transition;
  Fc.transition = null;
  try {
    (Mr = 1), J6(t, e, r, n);
  } finally {
    (Mr = i), (Fc.transition = o);
  }
}
function VI(t, e, r, n) {
  var i = Mr,
    o = Fc.transition;
  Fc.transition = null;
  try {
    (Mr = 4), J6(t, e, r, n);
  } finally {
    (Mr = i), (Fc.transition = o);
  }
}
function J6(t, e, r, n) {
  if (Ig) {
    var i = e3(t, e, r, n);
    if (i === null) o4(t, e, n, Ng, r), VD(t, n);
    else if (zI(i, t, e, r, n)) n.stopPropagation();
    else if ((VD(t, n), e & 4 && -1 < LI.indexOf(t))) {
      for (; i !== null; ) {
        var o = Kd(i);
        if (
          (o !== null && MA(o),
          (o = e3(t, e, r, n)),
          o === null && o4(t, e, n, Ng, r),
          o === i)
        )
          break;
        i = o;
      }
      i !== null && n.stopPropagation();
    } else o4(t, e, n, null, r);
  }
}
var Ng = null;
function e3(t, e, r, n) {
  if (((Ng = null), (t = G6(n)), (t = Uu(t)), t !== null))
    if (((e = k0(t)), e === null)) t = null;
    else if (((r = e.tag), r === 13)) {
      if (((t = wA(e)), t !== null)) return t;
      t = null;
    } else if (r === 3) {
      if (e.stateNode.current.memoizedState.isDehydrated)
        return e.tag === 3 ? e.stateNode.containerInfo : null;
      t = null;
    } else e !== t && (t = null);
  return (Ng = t), null;
}
function TA(t) {
  switch (t) {
    case "cancel":
    case "click":
    case "close":
    case "contextmenu":
    case "copy":
    case "cut":
    case "auxclick":
    case "dblclick":
    case "dragend":
    case "dragstart":
    case "drop":
    case "focusin":
    case "focusout":
    case "input":
    case "invalid":
    case "keydown":
    case "keypress":
    case "keyup":
    case "mousedown":
    case "mouseup":
    case "paste":
    case "pause":
    case "play":
    case "pointercancel":
    case "pointerdown":
    case "pointerup":
    case "ratechange":
    case "reset":
    case "resize":
    case "seeked":
    case "submit":
    case "touchcancel":
    case "touchend":
    case "touchstart":
    case "volumechange":
    case "change":
    case "selectionchange":
    case "textInput":
    case "compositionstart":
    case "compositionend":
    case "compositionupdate":
    case "beforeblur":
    case "afterblur":
    case "beforeinput":
    case "blur":
    case "fullscreenchange":
    case "focus":
    case "hashchange":
    case "popstate":
    case "select":
    case "selectstart":
      return 1;
    case "drag":
    case "dragenter":
    case "dragexit":
    case "dragleave":
    case "dragover":
    case "mousemove":
    case "mouseout":
    case "mouseover":
    case "pointermove":
    case "pointerout":
    case "pointerover":
    case "scroll":
    case "toggle":
    case "touchmove":
    case "wheel":
    case "mouseenter":
    case "mouseleave":
    case "pointerenter":
    case "pointerleave":
      return 4;
    case "message":
      switch (_I()) {
        case K6:
          return 1;
        case CA:
          return 4;
        case Pg:
        case $I:
          return 16;
        case AA:
          return 536870912;
        default:
          return 16;
      }
    default:
      return 16;
  }
}
var Bl = null,
  Q6 = null,
  Jm = null;
function PA() {
  if (Jm) return Jm;
  var t,
    e = Q6,
    r = e.length,
    n,
    i = "value" in Bl ? Bl.value : Bl.textContent,
    o = i.length;
  for (t = 0; t < r && e[t] === i[t]; t++);
  var s = r - t;
  for (n = 1; n <= s && e[r - n] === i[o - n]; n++);
  return (Jm = i.slice(t, 1 < n ? 1 - n : void 0));
}
function Qm(t) {
  var e = t.keyCode;
  return (
    "charCode" in t
      ? ((t = t.charCode), t === 0 && e === 13 && (t = 13))
      : (t = e),
    t === 10 && (t = 13),
    32 <= t || t === 13 ? t : 0
  );
}
function Kp() {
  return !0;
}
function qD() {
  return !1;
}
function As(t) {
  function e(r, n, i, o, s) {
    (this._reactName = r),
      (this._targetInst = i),
      (this.type = n),
      (this.nativeEvent = o),
      (this.target = s),
      (this.currentTarget = null);
    for (var a in t)
      t.hasOwnProperty(a) && ((r = t[a]), (this[a] = r ? r(o) : o[a]));
    return (
      (this.isDefaultPrevented = (
        o.defaultPrevented != null ? o.defaultPrevented : o.returnValue === !1
      )
        ? Kp
        : qD),
      (this.isPropagationStopped = qD),
      this
    );
  }
  return (
    fn(e.prototype, {
      preventDefault: function () {
        this.defaultPrevented = !0;
        var r = this.nativeEvent;
        r &&
          (r.preventDefault
            ? r.preventDefault()
            : typeof r.returnValue != "unknown" && (r.returnValue = !1),
          (this.isDefaultPrevented = Kp));
      },
      stopPropagation: function () {
        var r = this.nativeEvent;
        r &&
          (r.stopPropagation
            ? r.stopPropagation()
            : typeof r.cancelBubble != "unknown" && (r.cancelBubble = !0),
          (this.isPropagationStopped = Kp));
      },
      persist: function () {},
      isPersistent: Kp,
    }),
    e
  );
}
var vf = {
    eventPhase: 0,
    bubbles: 0,
    cancelable: 0,
    timeStamp: function (t) {
      return t.timeStamp || Date.now();
    },
    defaultPrevented: 0,
    isTrusted: 0,
  },
  Z6 = As(vf),
  Gd = fn({}, vf, { view: 0, detail: 0 }),
  WI = As(Gd),
  J2,
  Q2,
  Nf,
  lv = fn({}, Gd, {
    screenX: 0,
    screenY: 0,
    clientX: 0,
    clientY: 0,
    pageX: 0,
    pageY: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    getModifierState: e8,
    button: 0,
    buttons: 0,
    relatedTarget: function (t) {
      return t.relatedTarget === void 0
        ? t.fromElement === t.srcElement
          ? t.toElement
          : t.fromElement
        : t.relatedTarget;
    },
    movementX: function (t) {
      return "movementX" in t
        ? t.movementX
        : (t !== Nf &&
            (Nf && t.type === "mousemove"
              ? ((J2 = t.screenX - Nf.screenX), (Q2 = t.screenY - Nf.screenY))
              : (Q2 = J2 = 0),
            (Nf = t)),
          J2);
    },
    movementY: function (t) {
      return "movementY" in t ? t.movementY : Q2;
    },
  }),
  UD = As(lv),
  qI = fn({}, lv, { dataTransfer: 0 }),
  UI = As(qI),
  GI = fn({}, Gd, { relatedTarget: 0 }),
  Z2 = As(GI),
  KI = fn({}, vf, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }),
  YI = As(KI),
  XI = fn({}, vf, {
    clipboardData: function (t) {
      return "clipboardData" in t ? t.clipboardData : window.clipboardData;
    },
  }),
  JI = As(XI),
  QI = fn({}, vf, { data: 0 }),
  GD = As(QI),
  ZI = {
    Esc: "Escape",
    Spacebar: " ",
    Left: "ArrowLeft",
    Up: "ArrowUp",
    Right: "ArrowRight",
    Down: "ArrowDown",
    Del: "Delete",
    Win: "OS",
    Menu: "ContextMenu",
    Apps: "ContextMenu",
    Scroll: "ScrollLock",
    MozPrintableKey: "Unidentified",
  },
  eN = {
    8: "Backspace",
    9: "Tab",
    12: "Clear",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    19: "Pause",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    45: "Insert",
    46: "Delete",
    112: "F1",
    113: "F2",
    114: "F3",
    115: "F4",
    116: "F5",
    117: "F6",
    118: "F7",
    119: "F8",
    120: "F9",
    121: "F10",
    122: "F11",
    123: "F12",
    144: "NumLock",
    145: "ScrollLock",
    224: "Meta",
  },
  tN = {
    Alt: "altKey",
    Control: "ctrlKey",
    Meta: "metaKey",
    Shift: "shiftKey",
  };
function rN(t) {
  var e = this.nativeEvent;
  return e.getModifierState ? e.getModifierState(t) : (t = tN[t]) ? !!e[t] : !1;
}
function e8() {
  return rN;
}
var nN = fn({}, Gd, {
    key: function (t) {
      if (t.key) {
        var e = ZI[t.key] || t.key;
        if (e !== "Unidentified") return e;
      }
      return t.type === "keypress"
        ? ((t = Qm(t)), t === 13 ? "Enter" : String.fromCharCode(t))
        : t.type === "keydown" || t.type === "keyup"
          ? eN[t.keyCode] || "Unidentified"
          : "";
    },
    code: 0,
    location: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    repeat: 0,
    locale: 0,
    getModifierState: e8,
    charCode: function (t) {
      return t.type === "keypress" ? Qm(t) : 0;
    },
    keyCode: function (t) {
      return t.type === "keydown" || t.type === "keyup" ? t.keyCode : 0;
    },
    which: function (t) {
      return t.type === "keypress"
        ? Qm(t)
        : t.type === "keydown" || t.type === "keyup"
          ? t.keyCode
          : 0;
    },
  }),
  iN = As(nN),
  sN = fn({}, lv, {
    pointerId: 0,
    width: 0,
    height: 0,
    pressure: 0,
    tangentialPressure: 0,
    tiltX: 0,
    tiltY: 0,
    twist: 0,
    pointerType: 0,
    isPrimary: 0,
  }),
  KD = As(sN),
  oN = fn({}, Gd, {
    touches: 0,
    targetTouches: 0,
    changedTouches: 0,
    altKey: 0,
    metaKey: 0,
    ctrlKey: 0,
    shiftKey: 0,
    getModifierState: e8,
  }),
  aN = As(oN),
  lN = fn({}, vf, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }),
  uN = As(lN),
  cN = fn({}, lv, {
    deltaX: function (t) {
      return "deltaX" in t ? t.deltaX : "wheelDeltaX" in t ? -t.wheelDeltaX : 0;
    },
    deltaY: function (t) {
      return "deltaY" in t
        ? t.deltaY
        : "wheelDeltaY" in t
          ? -t.wheelDeltaY
          : "wheelDelta" in t
            ? -t.wheelDelta
            : 0;
    },
    deltaZ: 0,
    deltaMode: 0,
  }),
  fN = As(cN),
  hN = [9, 13, 27, 32],
  t8 = Ha && "CompositionEvent" in window,
  fh = null;
Ha && "documentMode" in document && (fh = document.documentMode);
var dN = Ha && "TextEvent" in window && !fh,
  RA = Ha && (!t8 || (fh && 8 < fh && 11 >= fh)),
  YD = " ",
  XD = !1;
function IA(t, e) {
  switch (t) {
    case "keyup":
      return hN.indexOf(e.keyCode) !== -1;
    case "keydown":
      return e.keyCode !== 229;
    case "keypress":
    case "mousedown":
    case "focusout":
      return !0;
    default:
      return !1;
  }
}
function NA(t) {
  return (t = t.detail), typeof t == "object" && "data" in t ? t.data : null;
}
var sc = !1;
function pN(t, e) {
  switch (t) {
    case "compositionend":
      return NA(e);
    case "keypress":
      return e.which !== 32 ? null : ((XD = !0), YD);
    case "textInput":
      return (t = e.data), t === YD && XD ? null : t;
    default:
      return null;
  }
}
function mN(t, e) {
  if (sc)
    return t === "compositionend" || (!t8 && IA(t, e))
      ? ((t = PA()), (Jm = Q6 = Bl = null), (sc = !1), t)
      : null;
  switch (t) {
    case "paste":
      return null;
    case "keypress":
      if (!(e.ctrlKey || e.altKey || e.metaKey) || (e.ctrlKey && e.altKey)) {
        if (e.char && 1 < e.char.length) return e.char;
        if (e.which) return String.fromCharCode(e.which);
      }
      return null;
    case "compositionend":
      return RA && e.locale !== "ko" ? null : e.data;
    default:
      return null;
  }
}
var gN = {
  color: !0,
  date: !0,
  datetime: !0,
  "datetime-local": !0,
  email: !0,
  month: !0,
  number: !0,
  password: !0,
  range: !0,
  search: !0,
  tel: !0,
  text: !0,
  time: !0,
  url: !0,
  week: !0,
};
function JD(t) {
  var e = t && t.nodeName && t.nodeName.toLowerCase();
  return e === "input" ? !!gN[t.type] : e === "textarea";
}
function LA(t, e, r, n) {
  gA(n),
    (e = Lg(e, "onChange")),
    0 < e.length &&
      ((r = new Z6("onChange", "change", null, r, n)),
      t.push({ event: r, listeners: e }));
}
var hh = null,
  Hh = null;
function vN(t) {
  XA(t, 0);
}
function uv(t) {
  var e = lc(t);
  if (uA(e)) return t;
}
function yN(t, e) {
  if (t === "change") return e;
}
var zA = !1;
if (Ha) {
  var e4;
  if (Ha) {
    var t4 = "oninput" in document;
    if (!t4) {
      var QD = document.createElement("div");
      QD.setAttribute("oninput", "return;"),
        (t4 = typeof QD.oninput == "function");
    }
    e4 = t4;
  } else e4 = !1;
  zA = e4 && (!document.documentMode || 9 < document.documentMode);
}
function ZD() {
  hh && (hh.detachEvent("onpropertychange", jA), (Hh = hh = null));
}
function jA(t) {
  if (t.propertyName === "value" && uv(Hh)) {
    var e = [];
    LA(e, Hh, t, G6(t)), DA(vN, e);
  }
}
function bN(t, e, r) {
  t === "focusin"
    ? (ZD(), (hh = e), (Hh = r), hh.attachEvent("onpropertychange", jA))
    : t === "focusout" && ZD();
}
function DN(t) {
  if (t === "selectionchange" || t === "keyup" || t === "keydown")
    return uv(Hh);
}
function wN(t, e) {
  if (t === "click") return uv(e);
}
function xN(t, e) {
  if (t === "input" || t === "change") return uv(e);
}
function kN(t, e) {
  return (t === e && (t !== 0 || 1 / t === 1 / e)) || (t !== t && e !== e);
}
var Mo = typeof Object.is == "function" ? Object.is : kN;
function Vh(t, e) {
  if (Mo(t, e)) return !0;
  if (typeof t != "object" || t === null || typeof e != "object" || e === null)
    return !1;
  var r = Object.keys(t),
    n = Object.keys(e);
  if (r.length !== n.length) return !1;
  for (n = 0; n < r.length; n++) {
    var i = r[n];
    if (!Ry.call(e, i) || !Mo(t[i], e[i])) return !1;
  }
  return !0;
}
function ew(t) {
  for (; t && t.firstChild; ) t = t.firstChild;
  return t;
}
function tw(t, e) {
  var r = ew(t);
  t = 0;
  for (var n; r; ) {
    if (r.nodeType === 3) {
      if (((n = t + r.textContent.length), t <= e && n >= e))
        return { node: r, offset: e - t };
      t = n;
    }
    e: {
      for (; r; ) {
        if (r.nextSibling) {
          r = r.nextSibling;
          break e;
        }
        r = r.parentNode;
      }
      r = void 0;
    }
    r = ew(r);
  }
}
function HA(t, e) {
  return t && e
    ? t === e
      ? !0
      : t && t.nodeType === 3
        ? !1
        : e && e.nodeType === 3
          ? HA(t, e.parentNode)
          : "contains" in t
            ? t.contains(e)
            : t.compareDocumentPosition
              ? !!(t.compareDocumentPosition(e) & 16)
              : !1
    : !1;
}
function VA() {
  for (var t = window, e = Og(); e instanceof t.HTMLIFrameElement; ) {
    try {
      var r = typeof e.contentWindow.location.href == "string";
    } catch {
      r = !1;
    }
    if (r) t = e.contentWindow;
    else break;
    e = Og(t.document);
  }
  return e;
}
function r8(t) {
  var e = t && t.nodeName && t.nodeName.toLowerCase();
  return (
    e &&
    ((e === "input" &&
      (t.type === "text" ||
        t.type === "search" ||
        t.type === "tel" ||
        t.type === "url" ||
        t.type === "password")) ||
      e === "textarea" ||
      t.contentEditable === "true")
  );
}
function SN(t) {
  var e = VA(),
    r = t.focusedElem,
    n = t.selectionRange;
  if (
    e !== r &&
    r &&
    r.ownerDocument &&
    HA(r.ownerDocument.documentElement, r)
  ) {
    if (n !== null && r8(r)) {
      if (
        ((e = n.start),
        (t = n.end),
        t === void 0 && (t = e),
        "selectionStart" in r)
      )
        (r.selectionStart = e), (r.selectionEnd = Math.min(t, r.value.length));
      else if (
        ((t = ((e = r.ownerDocument || document) && e.defaultView) || window),
        t.getSelection)
      ) {
        t = t.getSelection();
        var i = r.textContent.length,
          o = Math.min(n.start, i);
        (n = n.end === void 0 ? o : Math.min(n.end, i)),
          !t.extend && o > n && ((i = n), (n = o), (o = i)),
          (i = tw(r, o));
        var s = tw(r, n);
        i &&
          s &&
          (t.rangeCount !== 1 ||
            t.anchorNode !== i.node ||
            t.anchorOffset !== i.offset ||
            t.focusNode !== s.node ||
            t.focusOffset !== s.offset) &&
          ((e = e.createRange()),
          e.setStart(i.node, i.offset),
          t.removeAllRanges(),
          o > n
            ? (t.addRange(e), t.extend(s.node, s.offset))
            : (e.setEnd(s.node, s.offset), t.addRange(e)));
      }
    }
    for (e = [], t = r; (t = t.parentNode); )
      t.nodeType === 1 &&
        e.push({ element: t, left: t.scrollLeft, top: t.scrollTop });
    for (typeof r.focus == "function" && r.focus(), r = 0; r < e.length; r++)
      (t = e[r]),
        (t.element.scrollLeft = t.left),
        (t.element.scrollTop = t.top);
  }
}
var CN = Ha && "documentMode" in document && 11 >= document.documentMode,
  oc = null,
  t3 = null,
  dh = null,
  r3 = !1;
function rw(t, e, r) {
  var n = r.window === r ? r.document : r.nodeType === 9 ? r : r.ownerDocument;
  r3 ||
    oc == null ||
    oc !== Og(n) ||
    ((n = oc),
    "selectionStart" in n && r8(n)
      ? (n = { start: n.selectionStart, end: n.selectionEnd })
      : ((n = (
          (n.ownerDocument && n.ownerDocument.defaultView) ||
          window
        ).getSelection()),
        (n = {
          anchorNode: n.anchorNode,
          anchorOffset: n.anchorOffset,
          focusNode: n.focusNode,
          focusOffset: n.focusOffset,
        })),
    (dh && Vh(dh, n)) ||
      ((dh = n),
      (n = Lg(t3, "onSelect")),
      0 < n.length &&
        ((e = new Z6("onSelect", "select", null, e, r)),
        t.push({ event: e, listeners: n }),
        (e.target = oc))));
}
function Yp(t, e) {
  var r = {};
  return (
    (r[t.toLowerCase()] = e.toLowerCase()),
    (r["Webkit" + t] = "webkit" + e),
    (r["Moz" + t] = "moz" + e),
    r
  );
}
var ac = {
    animationend: Yp("Animation", "AnimationEnd"),
    animationiteration: Yp("Animation", "AnimationIteration"),
    animationstart: Yp("Animation", "AnimationStart"),
    transitionend: Yp("Transition", "TransitionEnd"),
  },
  r4 = {},
  WA = {};
Ha &&
  ((WA = document.createElement("div").style),
  "AnimationEvent" in window ||
    (delete ac.animationend.animation,
    delete ac.animationiteration.animation,
    delete ac.animationstart.animation),
  "TransitionEvent" in window || delete ac.transitionend.transition);
function cv(t) {
  if (r4[t]) return r4[t];
  if (!ac[t]) return t;
  var e = ac[t],
    r;
  for (r in e) if (e.hasOwnProperty(r) && r in WA) return (r4[t] = e[r]);
  return t;
}
var qA = cv("animationend"),
  UA = cv("animationiteration"),
  GA = cv("animationstart"),
  KA = cv("transitionend"),
  YA = new Map(),
  nw =
    "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(
      " "
    );
function yu(t, e) {
  YA.set(t, e), x0(e, [t]);
}
for (var n4 = 0; n4 < nw.length; n4++) {
  var i4 = nw[n4],
    AN = i4.toLowerCase(),
    EN = i4[0].toUpperCase() + i4.slice(1);
  yu(AN, "on" + EN);
}
yu(qA, "onAnimationEnd");
yu(UA, "onAnimationIteration");
yu(GA, "onAnimationStart");
yu("dblclick", "onDoubleClick");
yu("focusin", "onFocus");
yu("focusout", "onBlur");
yu(KA, "onTransitionEnd");
Hc("onMouseEnter", ["mouseout", "mouseover"]);
Hc("onMouseLeave", ["mouseout", "mouseover"]);
Hc("onPointerEnter", ["pointerout", "pointerover"]);
Hc("onPointerLeave", ["pointerout", "pointerover"]);
x0(
  "onChange",
  "change click focusin focusout input keydown keyup selectionchange".split(" ")
);
x0(
  "onSelect",
  "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(
    " "
  )
);
x0("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
x0(
  "onCompositionEnd",
  "compositionend focusout keydown keypress keyup mousedown".split(" ")
);
x0(
  "onCompositionStart",
  "compositionstart focusout keydown keypress keyup mousedown".split(" ")
);
x0(
  "onCompositionUpdate",
  "compositionupdate focusout keydown keypress keyup mousedown".split(" ")
);
var eh =
    "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(
      " "
    ),
  FN = new Set("cancel close invalid load scroll toggle".split(" ").concat(eh));
function iw(t, e, r) {
  var n = t.type || "unknown-event";
  (t.currentTarget = r), AI(n, e, void 0, t), (t.currentTarget = null);
}
function XA(t, e) {
  e = (e & 4) !== 0;
  for (var r = 0; r < t.length; r++) {
    var n = t[r],
      i = n.event;
    n = n.listeners;
    e: {
      var o = void 0;
      if (e)
        for (var s = n.length - 1; 0 <= s; s--) {
          var a = n[s],
            l = a.instance,
            u = a.currentTarget;
          if (((a = a.listener), l !== o && i.isPropagationStopped())) break e;
          iw(i, a, u), (o = l);
        }
      else
        for (s = 0; s < n.length; s++) {
          if (
            ((a = n[s]),
            (l = a.instance),
            (u = a.currentTarget),
            (a = a.listener),
            l !== o && i.isPropagationStopped())
          )
            break e;
          iw(i, a, u), (o = l);
        }
    }
  }
  if (Tg) throw ((t = Jy), (Tg = !1), (Jy = null), t);
}
function Gr(t, e) {
  var r = e[a3];
  r === void 0 && (r = e[a3] = new Set());
  var n = t + "__bubble";
  r.has(n) || (JA(e, t, 2, !1), r.add(n));
}
function s4(t, e, r) {
  var n = 0;
  e && (n |= 4), JA(r, t, n, e);
}
var Xp = "_reactListening" + Math.random().toString(36).slice(2);
function Wh(t) {
  if (!t[Xp]) {
    (t[Xp] = !0),
      iA.forEach(function (r) {
        r !== "selectionchange" && (FN.has(r) || s4(r, !1, t), s4(r, !0, t));
      });
    var e = t.nodeType === 9 ? t : t.ownerDocument;
    e === null || e[Xp] || ((e[Xp] = !0), s4("selectionchange", !1, e));
  }
}
function JA(t, e, r, n) {
  switch (TA(e)) {
    case 1:
      var i = HI;
      break;
    case 4:
      i = VI;
      break;
    default:
      i = J6;
  }
  (r = i.bind(null, e, r, t)),
    (i = void 0),
    !Xy ||
      (e !== "touchstart" && e !== "touchmove" && e !== "wheel") ||
      (i = !0),
    n
      ? i !== void 0
        ? t.addEventListener(e, r, { capture: !0, passive: i })
        : t.addEventListener(e, r, !0)
      : i !== void 0
        ? t.addEventListener(e, r, { passive: i })
        : t.addEventListener(e, r, !1);
}
function o4(t, e, r, n, i) {
  var o = n;
  if (!(e & 1) && !(e & 2) && n !== null)
    e: for (;;) {
      if (n === null) return;
      var s = n.tag;
      if (s === 3 || s === 4) {
        var a = n.stateNode.containerInfo;
        if (a === i || (a.nodeType === 8 && a.parentNode === i)) break;
        if (s === 4)
          for (s = n.return; s !== null; ) {
            var l = s.tag;
            if (
              (l === 3 || l === 4) &&
              ((l = s.stateNode.containerInfo),
              l === i || (l.nodeType === 8 && l.parentNode === i))
            )
              return;
            s = s.return;
          }
        for (; a !== null; ) {
          if (((s = Uu(a)), s === null)) return;
          if (((l = s.tag), l === 5 || l === 6)) {
            n = o = s;
            continue e;
          }
          a = a.parentNode;
        }
      }
      n = n.return;
    }
  DA(function () {
    var u = o,
      c = G6(r),
      f = [];
    e: {
      var h = YA.get(t);
      if (h !== void 0) {
        var d = Z6,
          p = t;
        switch (t) {
          case "keypress":
            if (Qm(r) === 0) break e;
          case "keydown":
          case "keyup":
            d = iN;
            break;
          case "focusin":
            (p = "focus"), (d = Z2);
            break;
          case "focusout":
            (p = "blur"), (d = Z2);
            break;
          case "beforeblur":
          case "afterblur":
            d = Z2;
            break;
          case "click":
            if (r.button === 2) break e;
          case "auxclick":
          case "dblclick":
          case "mousedown":
          case "mousemove":
          case "mouseup":
          case "mouseout":
          case "mouseover":
          case "contextmenu":
            d = UD;
            break;
          case "drag":
          case "dragend":
          case "dragenter":
          case "dragexit":
          case "dragleave":
          case "dragover":
          case "dragstart":
          case "drop":
            d = UI;
            break;
          case "touchcancel":
          case "touchend":
          case "touchmove":
          case "touchstart":
            d = aN;
            break;
          case qA:
          case UA:
          case GA:
            d = YI;
            break;
          case KA:
            d = uN;
            break;
          case "scroll":
            d = WI;
            break;
          case "wheel":
            d = fN;
            break;
          case "copy":
          case "cut":
          case "paste":
            d = JI;
            break;
          case "gotpointercapture":
          case "lostpointercapture":
          case "pointercancel":
          case "pointerdown":
          case "pointermove":
          case "pointerout":
          case "pointerover":
          case "pointerup":
            d = KD;
        }
        var m = (e & 4) !== 0,
          b = !m && t === "scroll",
          D = m ? (h !== null ? h + "Capture" : null) : h;
        m = [];
        for (var k = u, S; k !== null; ) {
          S = k;
          var B = S.stateNode;
          if (
            (S.tag === 5 &&
              B !== null &&
              ((S = B),
              D !== null && ((B = Nh(k, D)), B != null && m.push(qh(k, B, S)))),
            b)
          )
            break;
          k = k.return;
        }
        0 < m.length &&
          ((h = new d(h, p, null, r, c)), f.push({ event: h, listeners: m }));
      }
    }
    if (!(e & 7)) {
      e: {
        if (
          ((h = t === "mouseover" || t === "pointerover"),
          (d = t === "mouseout" || t === "pointerout"),
          h &&
            r !== Ky &&
            (p = r.relatedTarget || r.fromElement) &&
            (Uu(p) || p[Va]))
        )
          break e;
        if (
          (d || h) &&
          ((h =
            c.window === c
              ? c
              : (h = c.ownerDocument)
                ? h.defaultView || h.parentWindow
                : window),
          d
            ? ((p = r.relatedTarget || r.toElement),
              (d = u),
              (p = p ? Uu(p) : null),
              p !== null &&
                ((b = k0(p)), p !== b || (p.tag !== 5 && p.tag !== 6)) &&
                (p = null))
            : ((d = null), (p = u)),
          d !== p)
        ) {
          if (
            ((m = UD),
            (B = "onMouseLeave"),
            (D = "onMouseEnter"),
            (k = "mouse"),
            (t === "pointerout" || t === "pointerover") &&
              ((m = KD),
              (B = "onPointerLeave"),
              (D = "onPointerEnter"),
              (k = "pointer")),
            (b = d == null ? h : lc(d)),
            (S = p == null ? h : lc(p)),
            (h = new m(B, k + "leave", d, r, c)),
            (h.target = b),
            (h.relatedTarget = S),
            (B = null),
            Uu(c) === u &&
              ((m = new m(D, k + "enter", p, r, c)),
              (m.target = S),
              (m.relatedTarget = b),
              (B = m)),
            (b = B),
            d && p)
          )
            t: {
              for (m = d, D = p, k = 0, S = m; S; S = N0(S)) k++;
              for (S = 0, B = D; B; B = N0(B)) S++;
              for (; 0 < k - S; ) (m = N0(m)), k--;
              for (; 0 < S - k; ) (D = N0(D)), S--;
              for (; k--; ) {
                if (m === D || (D !== null && m === D.alternate)) break t;
                (m = N0(m)), (D = N0(D));
              }
              m = null;
            }
          else m = null;
          d !== null && sw(f, h, d, m, !1),
            p !== null && b !== null && sw(f, b, p, m, !0);
        }
      }
      e: {
        if (
          ((h = u ? lc(u) : window),
          (d = h.nodeName && h.nodeName.toLowerCase()),
          d === "select" || (d === "input" && h.type === "file"))
        )
          var $ = yN;
        else if (JD(h))
          if (zA) $ = xN;
          else {
            $ = DN;
            var T = bN;
          }
        else
          (d = h.nodeName) &&
            d.toLowerCase() === "input" &&
            (h.type === "checkbox" || h.type === "radio") &&
            ($ = wN);
        if ($ && ($ = $(t, u))) {
          LA(f, $, r, c);
          break e;
        }
        T && T(t, h, u),
          t === "focusout" &&
            (T = h._wrapperState) &&
            T.controlled &&
            h.type === "number" &&
            Vy(h, "number", h.value);
      }
      switch (((T = u ? lc(u) : window), t)) {
        case "focusin":
          (JD(T) || T.contentEditable === "true") &&
            ((oc = T), (t3 = u), (dh = null));
          break;
        case "focusout":
          dh = t3 = oc = null;
          break;
        case "mousedown":
          r3 = !0;
          break;
        case "contextmenu":
        case "mouseup":
        case "dragend":
          (r3 = !1), rw(f, r, c);
          break;
        case "selectionchange":
          if (CN) break;
        case "keydown":
        case "keyup":
          rw(f, r, c);
      }
      var P;
      if (t8)
        e: {
          switch (t) {
            case "compositionstart":
              var te = "onCompositionStart";
              break e;
            case "compositionend":
              te = "onCompositionEnd";
              break e;
            case "compositionupdate":
              te = "onCompositionUpdate";
              break e;
          }
          te = void 0;
        }
      else
        sc
          ? IA(t, r) && (te = "onCompositionEnd")
          : t === "keydown" && r.keyCode === 229 && (te = "onCompositionStart");
      te &&
        (RA &&
          r.locale !== "ko" &&
          (sc || te !== "onCompositionStart"
            ? te === "onCompositionEnd" && sc && (P = PA())
            : ((Bl = c),
              (Q6 = "value" in Bl ? Bl.value : Bl.textContent),
              (sc = !0))),
        (T = Lg(u, te)),
        0 < T.length &&
          ((te = new GD(te, t, null, r, c)),
          f.push({ event: te, listeners: T }),
          P ? (te.data = P) : ((P = NA(r)), P !== null && (te.data = P)))),
        (P = dN ? pN(t, r) : mN(t, r)) &&
          ((u = Lg(u, "onBeforeInput")),
          0 < u.length &&
            ((c = new GD("onBeforeInput", "beforeinput", null, r, c)),
            f.push({ event: c, listeners: u }),
            (c.data = P)));
    }
    XA(f, e);
  });
}
function qh(t, e, r) {
  return { instance: t, listener: e, currentTarget: r };
}
function Lg(t, e) {
  for (var r = e + "Capture", n = []; t !== null; ) {
    var i = t,
      o = i.stateNode;
    i.tag === 5 &&
      o !== null &&
      ((i = o),
      (o = Nh(t, r)),
      o != null && n.unshift(qh(t, o, i)),
      (o = Nh(t, e)),
      o != null && n.push(qh(t, o, i))),
      (t = t.return);
  }
  return n;
}
function N0(t) {
  if (t === null) return null;
  do t = t.return;
  while (t && t.tag !== 5);
  return t || null;
}
function sw(t, e, r, n, i) {
  for (var o = e._reactName, s = []; r !== null && r !== n; ) {
    var a = r,
      l = a.alternate,
      u = a.stateNode;
    if (l !== null && l === n) break;
    a.tag === 5 &&
      u !== null &&
      ((a = u),
      i
        ? ((l = Nh(r, o)), l != null && s.unshift(qh(r, l, a)))
        : i || ((l = Nh(r, o)), l != null && s.push(qh(r, l, a)))),
      (r = r.return);
  }
  s.length !== 0 && t.push({ event: e, listeners: s });
}
var MN = /\r\n?/g,
  _N = /\u0000|\uFFFD/g;
function ow(t) {
  return (typeof t == "string" ? t : "" + t)
    .replace(
      MN,
      `
`
    )
    .replace(_N, "");
}
function Jp(t, e, r) {
  if (((e = ow(e)), ow(t) !== e && r)) throw Error(He(425));
}
function zg() {}
var n3 = null,
  i3 = null;
function s3(t, e) {
  return (
    t === "textarea" ||
    t === "noscript" ||
    typeof e.children == "string" ||
    typeof e.children == "number" ||
    (typeof e.dangerouslySetInnerHTML == "object" &&
      e.dangerouslySetInnerHTML !== null &&
      e.dangerouslySetInnerHTML.__html != null)
  );
}
var o3 = typeof setTimeout == "function" ? setTimeout : void 0,
  $N = typeof clearTimeout == "function" ? clearTimeout : void 0,
  aw = typeof Promise == "function" ? Promise : void 0,
  ON =
    typeof queueMicrotask == "function"
      ? queueMicrotask
      : typeof aw < "u"
        ? function (t) {
            return aw.resolve(null).then(t).catch(BN);
          }
        : o3;
function BN(t) {
  setTimeout(function () {
    throw t;
  });
}
function a4(t, e) {
  var r = e,
    n = 0;
  do {
    var i = r.nextSibling;
    if ((t.removeChild(r), i && i.nodeType === 8))
      if (((r = i.data), r === "/$")) {
        if (n === 0) {
          t.removeChild(i), jh(e);
          return;
        }
        n--;
      } else (r !== "$" && r !== "$?" && r !== "$!") || n++;
    r = i;
  } while (r);
  jh(e);
}
function Wl(t) {
  for (; t != null; t = t.nextSibling) {
    var e = t.nodeType;
    if (e === 1 || e === 3) break;
    if (e === 8) {
      if (((e = t.data), e === "$" || e === "$!" || e === "$?")) break;
      if (e === "/$") return null;
    }
  }
  return t;
}
function lw(t) {
  t = t.previousSibling;
  for (var e = 0; t; ) {
    if (t.nodeType === 8) {
      var r = t.data;
      if (r === "$" || r === "$!" || r === "$?") {
        if (e === 0) return t;
        e--;
      } else r === "/$" && e++;
    }
    t = t.previousSibling;
  }
  return null;
}
var yf = Math.random().toString(36).slice(2),
  Jo = "__reactFiber$" + yf,
  Uh = "__reactProps$" + yf,
  Va = "__reactContainer$" + yf,
  a3 = "__reactEvents$" + yf,
  TN = "__reactListeners$" + yf,
  PN = "__reactHandles$" + yf;
function Uu(t) {
  var e = t[Jo];
  if (e) return e;
  for (var r = t.parentNode; r; ) {
    if ((e = r[Va] || r[Jo])) {
      if (
        ((r = e.alternate),
        e.child !== null || (r !== null && r.child !== null))
      )
        for (t = lw(t); t !== null; ) {
          if ((r = t[Jo])) return r;
          t = lw(t);
        }
      return e;
    }
    (t = r), (r = t.parentNode);
  }
  return null;
}
function Kd(t) {
  return (
    (t = t[Jo] || t[Va]),
    !t || (t.tag !== 5 && t.tag !== 6 && t.tag !== 13 && t.tag !== 3) ? null : t
  );
}
function lc(t) {
  if (t.tag === 5 || t.tag === 6) return t.stateNode;
  throw Error(He(33));
}
function fv(t) {
  return t[Uh] || null;
}
var l3 = [],
  uc = -1;
function bu(t) {
  return { current: t };
}
function Yr(t) {
  0 > uc || ((t.current = l3[uc]), (l3[uc] = null), uc--);
}
function Wr(t, e) {
  uc++, (l3[uc] = t.current), (t.current = e);
}
var iu = {},
  Fi = bu(iu),
  ns = bu(!1),
  i0 = iu;
function Vc(t, e) {
  var r = t.type.contextTypes;
  if (!r) return iu;
  var n = t.stateNode;
  if (n && n.__reactInternalMemoizedUnmaskedChildContext === e)
    return n.__reactInternalMemoizedMaskedChildContext;
  var i = {},
    o;
  for (o in r) i[o] = e[o];
  return (
    n &&
      ((t = t.stateNode),
      (t.__reactInternalMemoizedUnmaskedChildContext = e),
      (t.__reactInternalMemoizedMaskedChildContext = i)),
    i
  );
}
function is(t) {
  return (t = t.childContextTypes), t != null;
}
function jg() {
  Yr(ns), Yr(Fi);
}
function uw(t, e, r) {
  if (Fi.current !== iu) throw Error(He(168));
  Wr(Fi, e), Wr(ns, r);
}
function QA(t, e, r) {
  var n = t.stateNode;
  if (((e = e.childContextTypes), typeof n.getChildContext != "function"))
    return r;
  n = n.getChildContext();
  for (var i in n) if (!(i in e)) throw Error(He(108, bI(t) || "Unknown", i));
  return fn({}, r, n);
}
function Hg(t) {
  return (
    (t =
      ((t = t.stateNode) && t.__reactInternalMemoizedMergedChildContext) || iu),
    (i0 = Fi.current),
    Wr(Fi, t),
    Wr(ns, ns.current),
    !0
  );
}
function cw(t, e, r) {
  var n = t.stateNode;
  if (!n) throw Error(He(169));
  r
    ? ((t = QA(t, e, i0)),
      (n.__reactInternalMemoizedMergedChildContext = t),
      Yr(ns),
      Yr(Fi),
      Wr(Fi, t))
    : Yr(ns),
    Wr(ns, r);
}
var Ma = null,
  hv = !1,
  l4 = !1;
function ZA(t) {
  Ma === null ? (Ma = [t]) : Ma.push(t);
}
function RN(t) {
  (hv = !0), ZA(t);
}
function Du() {
  if (!l4 && Ma !== null) {
    l4 = !0;
    var t = 0,
      e = Mr;
    try {
      var r = Ma;
      for (Mr = 1; t < r.length; t++) {
        var n = r[t];
        do n = n(!0);
        while (n !== null);
      }
      (Ma = null), (hv = !1);
    } catch (i) {
      throw (Ma !== null && (Ma = Ma.slice(t + 1)), SA(K6, Du), i);
    } finally {
      (Mr = e), (l4 = !1);
    }
  }
  return null;
}
var cc = [],
  fc = 0,
  Vg = null,
  Wg = 0,
  js = [],
  Hs = 0,
  s0 = null,
  Ba = 1,
  Ta = "";
function Lu(t, e) {
  (cc[fc++] = Wg), (cc[fc++] = Vg), (Vg = t), (Wg = e);
}
function eE(t, e, r) {
  (js[Hs++] = Ba), (js[Hs++] = Ta), (js[Hs++] = s0), (s0 = t);
  var n = Ba;
  t = Ta;
  var i = 32 - So(n) - 1;
  (n &= ~(1 << i)), (r += 1);
  var o = 32 - So(e) + i;
  if (30 < o) {
    var s = i - (i % 5);
    (o = (n & ((1 << s) - 1)).toString(32)),
      (n >>= s),
      (i -= s),
      (Ba = (1 << (32 - So(e) + i)) | (r << i) | n),
      (Ta = o + t);
  } else (Ba = (1 << o) | (r << i) | n), (Ta = t);
}
function n8(t) {
  t.return !== null && (Lu(t, 1), eE(t, 1, 0));
}
function i8(t) {
  for (; t === Vg; )
    (Vg = cc[--fc]), (cc[fc] = null), (Wg = cc[--fc]), (cc[fc] = null);
  for (; t === s0; )
    (s0 = js[--Hs]),
      (js[Hs] = null),
      (Ta = js[--Hs]),
      (js[Hs] = null),
      (Ba = js[--Hs]),
      (js[Hs] = null);
}
var ws = null,
  vs = null,
  en = !1,
  xo = null;
function tE(t, e) {
  var r = Ks(5, null, null, 0);
  (r.elementType = "DELETED"),
    (r.stateNode = e),
    (r.return = t),
    (e = t.deletions),
    e === null ? ((t.deletions = [r]), (t.flags |= 16)) : e.push(r);
}
function fw(t, e) {
  switch (t.tag) {
    case 5:
      var r = t.type;
      return (
        (e =
          e.nodeType !== 1 || r.toLowerCase() !== e.nodeName.toLowerCase()
            ? null
            : e),
        e !== null
          ? ((t.stateNode = e), (ws = t), (vs = Wl(e.firstChild)), !0)
          : !1
      );
    case 6:
      return (
        (e = t.pendingProps === "" || e.nodeType !== 3 ? null : e),
        e !== null ? ((t.stateNode = e), (ws = t), (vs = null), !0) : !1
      );
    case 13:
      return (
        (e = e.nodeType !== 8 ? null : e),
        e !== null
          ? ((r = s0 !== null ? { id: Ba, overflow: Ta } : null),
            (t.memoizedState = {
              dehydrated: e,
              treeContext: r,
              retryLane: 1073741824,
            }),
            (r = Ks(18, null, null, 0)),
            (r.stateNode = e),
            (r.return = t),
            (t.child = r),
            (ws = t),
            (vs = null),
            !0)
          : !1
      );
    default:
      return !1;
  }
}
function u3(t) {
  return (t.mode & 1) !== 0 && (t.flags & 128) === 0;
}
function c3(t) {
  if (en) {
    var e = vs;
    if (e) {
      var r = e;
      if (!fw(t, e)) {
        if (u3(t)) throw Error(He(418));
        e = Wl(r.nextSibling);
        var n = ws;
        e && fw(t, e)
          ? tE(n, r)
          : ((t.flags = (t.flags & -4097) | 2), (en = !1), (ws = t));
      }
    } else {
      if (u3(t)) throw Error(He(418));
      (t.flags = (t.flags & -4097) | 2), (en = !1), (ws = t);
    }
  }
}
function hw(t) {
  for (t = t.return; t !== null && t.tag !== 5 && t.tag !== 3 && t.tag !== 13; )
    t = t.return;
  ws = t;
}
function Qp(t) {
  if (t !== ws) return !1;
  if (!en) return hw(t), (en = !0), !1;
  var e;
  if (
    ((e = t.tag !== 3) &&
      !(e = t.tag !== 5) &&
      ((e = t.type),
      (e = e !== "head" && e !== "body" && !s3(t.type, t.memoizedProps))),
    e && (e = vs))
  ) {
    if (u3(t)) throw (rE(), Error(He(418)));
    for (; e; ) tE(t, e), (e = Wl(e.nextSibling));
  }
  if ((hw(t), t.tag === 13)) {
    if (((t = t.memoizedState), (t = t !== null ? t.dehydrated : null), !t))
      throw Error(He(317));
    e: {
      for (t = t.nextSibling, e = 0; t; ) {
        if (t.nodeType === 8) {
          var r = t.data;
          if (r === "/$") {
            if (e === 0) {
              vs = Wl(t.nextSibling);
              break e;
            }
            e--;
          } else (r !== "$" && r !== "$!" && r !== "$?") || e++;
        }
        t = t.nextSibling;
      }
      vs = null;
    }
  } else vs = ws ? Wl(t.stateNode.nextSibling) : null;
  return !0;
}
function rE() {
  for (var t = vs; t; ) t = Wl(t.nextSibling);
}
function Wc() {
  (vs = ws = null), (en = !1);
}
function s8(t) {
  xo === null ? (xo = [t]) : xo.push(t);
}
var IN = rl.ReactCurrentBatchConfig;
function bo(t, e) {
  if (t && t.defaultProps) {
    (e = fn({}, e)), (t = t.defaultProps);
    for (var r in t) e[r] === void 0 && (e[r] = t[r]);
    return e;
  }
  return e;
}
var qg = bu(null),
  Ug = null,
  hc = null,
  o8 = null;
function a8() {
  o8 = hc = Ug = null;
}
function l8(t) {
  var e = qg.current;
  Yr(qg), (t._currentValue = e);
}
function f3(t, e, r) {
  for (; t !== null; ) {
    var n = t.alternate;
    if (
      ((t.childLanes & e) !== e
        ? ((t.childLanes |= e), n !== null && (n.childLanes |= e))
        : n !== null && (n.childLanes & e) !== e && (n.childLanes |= e),
      t === r)
    )
      break;
    t = t.return;
  }
}
function Mc(t, e) {
  (Ug = t),
    (o8 = hc = null),
    (t = t.dependencies),
    t !== null &&
      t.firstContext !== null &&
      (t.lanes & e && (es = !0), (t.firstContext = null));
}
function io(t) {
  var e = t._currentValue;
  if (o8 !== t)
    if (((t = { context: t, memoizedValue: e, next: null }), hc === null)) {
      if (Ug === null) throw Error(He(308));
      (hc = t), (Ug.dependencies = { lanes: 0, firstContext: t });
    } else hc = hc.next = t;
  return e;
}
var Gu = null;
function u8(t) {
  Gu === null ? (Gu = [t]) : Gu.push(t);
}
function nE(t, e, r, n) {
  var i = e.interleaved;
  return (
    i === null ? ((r.next = r), u8(e)) : ((r.next = i.next), (i.next = r)),
    (e.interleaved = r),
    Wa(t, n)
  );
}
function Wa(t, e) {
  t.lanes |= e;
  var r = t.alternate;
  for (r !== null && (r.lanes |= e), r = t, t = t.return; t !== null; )
    (t.childLanes |= e),
      (r = t.alternate),
      r !== null && (r.childLanes |= e),
      (r = t),
      (t = t.return);
  return r.tag === 3 ? r.stateNode : null;
}
var Al = !1;
function c8(t) {
  t.updateQueue = {
    baseState: t.memoizedState,
    firstBaseUpdate: null,
    lastBaseUpdate: null,
    shared: { pending: null, interleaved: null, lanes: 0 },
    effects: null,
  };
}
function iE(t, e) {
  (t = t.updateQueue),
    e.updateQueue === t &&
      (e.updateQueue = {
        baseState: t.baseState,
        firstBaseUpdate: t.firstBaseUpdate,
        lastBaseUpdate: t.lastBaseUpdate,
        shared: t.shared,
        effects: t.effects,
      });
}
function Ia(t, e) {
  return {
    eventTime: t,
    lane: e,
    tag: 0,
    payload: null,
    callback: null,
    next: null,
  };
}
function ql(t, e, r) {
  var n = t.updateQueue;
  if (n === null) return null;
  if (((n = n.shared), pr & 2)) {
    var i = n.pending;
    return (
      i === null ? (e.next = e) : ((e.next = i.next), (i.next = e)),
      (n.pending = e),
      Wa(t, r)
    );
  }
  return (
    (i = n.interleaved),
    i === null ? ((e.next = e), u8(n)) : ((e.next = i.next), (i.next = e)),
    (n.interleaved = e),
    Wa(t, r)
  );
}
function Zm(t, e, r) {
  if (
    ((e = e.updateQueue), e !== null && ((e = e.shared), (r & 4194240) !== 0))
  ) {
    var n = e.lanes;
    (n &= t.pendingLanes), (r |= n), (e.lanes = r), Y6(t, r);
  }
}
function dw(t, e) {
  var r = t.updateQueue,
    n = t.alternate;
  if (n !== null && ((n = n.updateQueue), r === n)) {
    var i = null,
      o = null;
    if (((r = r.firstBaseUpdate), r !== null)) {
      do {
        var s = {
          eventTime: r.eventTime,
          lane: r.lane,
          tag: r.tag,
          payload: r.payload,
          callback: r.callback,
          next: null,
        };
        o === null ? (i = o = s) : (o = o.next = s), (r = r.next);
      } while (r !== null);
      o === null ? (i = o = e) : (o = o.next = e);
    } else i = o = e;
    (r = {
      baseState: n.baseState,
      firstBaseUpdate: i,
      lastBaseUpdate: o,
      shared: n.shared,
      effects: n.effects,
    }),
      (t.updateQueue = r);
    return;
  }
  (t = r.lastBaseUpdate),
    t === null ? (r.firstBaseUpdate = e) : (t.next = e),
    (r.lastBaseUpdate = e);
}
function Gg(t, e, r, n) {
  var i = t.updateQueue;
  Al = !1;
  var o = i.firstBaseUpdate,
    s = i.lastBaseUpdate,
    a = i.shared.pending;
  if (a !== null) {
    i.shared.pending = null;
    var l = a,
      u = l.next;
    (l.next = null), s === null ? (o = u) : (s.next = u), (s = l);
    var c = t.alternate;
    c !== null &&
      ((c = c.updateQueue),
      (a = c.lastBaseUpdate),
      a !== s &&
        (a === null ? (c.firstBaseUpdate = u) : (a.next = u),
        (c.lastBaseUpdate = l)));
  }
  if (o !== null) {
    var f = i.baseState;
    (s = 0), (c = u = l = null), (a = o);
    do {
      var h = a.lane,
        d = a.eventTime;
      if ((n & h) === h) {
        c !== null &&
          (c = c.next =
            {
              eventTime: d,
              lane: 0,
              tag: a.tag,
              payload: a.payload,
              callback: a.callback,
              next: null,
            });
        e: {
          var p = t,
            m = a;
          switch (((h = e), (d = r), m.tag)) {
            case 1:
              if (((p = m.payload), typeof p == "function")) {
                f = p.call(d, f, h);
                break e;
              }
              f = p;
              break e;
            case 3:
              p.flags = (p.flags & -65537) | 128;
            case 0:
              if (
                ((p = m.payload),
                (h = typeof p == "function" ? p.call(d, f, h) : p),
                h == null)
              )
                break e;
              f = fn({}, f, h);
              break e;
            case 2:
              Al = !0;
          }
        }
        a.callback !== null &&
          a.lane !== 0 &&
          ((t.flags |= 64),
          (h = i.effects),
          h === null ? (i.effects = [a]) : h.push(a));
      } else
        (d = {
          eventTime: d,
          lane: h,
          tag: a.tag,
          payload: a.payload,
          callback: a.callback,
          next: null,
        }),
          c === null ? ((u = c = d), (l = f)) : (c = c.next = d),
          (s |= h);
      if (((a = a.next), a === null)) {
        if (((a = i.shared.pending), a === null)) break;
        (h = a),
          (a = h.next),
          (h.next = null),
          (i.lastBaseUpdate = h),
          (i.shared.pending = null);
      }
    } while (!0);
    if (
      (c === null && (l = f),
      (i.baseState = l),
      (i.firstBaseUpdate = u),
      (i.lastBaseUpdate = c),
      (e = i.shared.interleaved),
      e !== null)
    ) {
      i = e;
      do (s |= i.lane), (i = i.next);
      while (i !== e);
    } else o === null && (i.shared.lanes = 0);
    (a0 |= s), (t.lanes = s), (t.memoizedState = f);
  }
}
function pw(t, e, r) {
  if (((t = e.effects), (e.effects = null), t !== null))
    for (e = 0; e < t.length; e++) {
      var n = t[e],
        i = n.callback;
      if (i !== null) {
        if (((n.callback = null), (n = r), typeof i != "function"))
          throw Error(He(191, i));
        i.call(n);
      }
    }
}
var sE = new nA.Component().refs;
function h3(t, e, r, n) {
  (e = t.memoizedState),
    (r = r(n, e)),
    (r = r == null ? e : fn({}, e, r)),
    (t.memoizedState = r),
    t.lanes === 0 && (t.updateQueue.baseState = r);
}
var dv = {
  isMounted: function (t) {
    return (t = t._reactInternals) ? k0(t) === t : !1;
  },
  enqueueSetState: function (t, e, r) {
    t = t._reactInternals;
    var n = Ii(),
      i = Gl(t),
      o = Ia(n, i);
    (o.payload = e),
      r != null && (o.callback = r),
      (e = ql(t, o, i)),
      e !== null && (Co(e, t, i, n), Zm(e, t, i));
  },
  enqueueReplaceState: function (t, e, r) {
    t = t._reactInternals;
    var n = Ii(),
      i = Gl(t),
      o = Ia(n, i);
    (o.tag = 1),
      (o.payload = e),
      r != null && (o.callback = r),
      (e = ql(t, o, i)),
      e !== null && (Co(e, t, i, n), Zm(e, t, i));
  },
  enqueueForceUpdate: function (t, e) {
    t = t._reactInternals;
    var r = Ii(),
      n = Gl(t),
      i = Ia(r, n);
    (i.tag = 2),
      e != null && (i.callback = e),
      (e = ql(t, i, n)),
      e !== null && (Co(e, t, n, r), Zm(e, t, n));
  },
};
function mw(t, e, r, n, i, o, s) {
  return (
    (t = t.stateNode),
    typeof t.shouldComponentUpdate == "function"
      ? t.shouldComponentUpdate(n, o, s)
      : e.prototype && e.prototype.isPureReactComponent
        ? !Vh(r, n) || !Vh(i, o)
        : !0
  );
}
function oE(t, e, r) {
  var n = !1,
    i = iu,
    o = e.contextType;
  return (
    typeof o == "object" && o !== null
      ? (o = io(o))
      : ((i = is(e) ? i0 : Fi.current),
        (n = e.contextTypes),
        (o = (n = n != null) ? Vc(t, i) : iu)),
    (e = new e(r, o)),
    (t.memoizedState = e.state !== null && e.state !== void 0 ? e.state : null),
    (e.updater = dv),
    (t.stateNode = e),
    (e._reactInternals = t),
    n &&
      ((t = t.stateNode),
      (t.__reactInternalMemoizedUnmaskedChildContext = i),
      (t.__reactInternalMemoizedMaskedChildContext = o)),
    e
  );
}
function gw(t, e, r, n) {
  (t = e.state),
    typeof e.componentWillReceiveProps == "function" &&
      e.componentWillReceiveProps(r, n),
    typeof e.UNSAFE_componentWillReceiveProps == "function" &&
      e.UNSAFE_componentWillReceiveProps(r, n),
    e.state !== t && dv.enqueueReplaceState(e, e.state, null);
}
function d3(t, e, r, n) {
  var i = t.stateNode;
  (i.props = r), (i.state = t.memoizedState), (i.refs = sE), c8(t);
  var o = e.contextType;
  typeof o == "object" && o !== null
    ? (i.context = io(o))
    : ((o = is(e) ? i0 : Fi.current), (i.context = Vc(t, o))),
    (i.state = t.memoizedState),
    (o = e.getDerivedStateFromProps),
    typeof o == "function" && (h3(t, e, o, r), (i.state = t.memoizedState)),
    typeof e.getDerivedStateFromProps == "function" ||
      typeof i.getSnapshotBeforeUpdate == "function" ||
      (typeof i.UNSAFE_componentWillMount != "function" &&
        typeof i.componentWillMount != "function") ||
      ((e = i.state),
      typeof i.componentWillMount == "function" && i.componentWillMount(),
      typeof i.UNSAFE_componentWillMount == "function" &&
        i.UNSAFE_componentWillMount(),
      e !== i.state && dv.enqueueReplaceState(i, i.state, null),
      Gg(t, r, i, n),
      (i.state = t.memoizedState)),
    typeof i.componentDidMount == "function" && (t.flags |= 4194308);
}
function Lf(t, e, r) {
  if (
    ((t = r.ref), t !== null && typeof t != "function" && typeof t != "object")
  ) {
    if (r._owner) {
      if (((r = r._owner), r)) {
        if (r.tag !== 1) throw Error(He(309));
        var n = r.stateNode;
      }
      if (!n) throw Error(He(147, t));
      var i = n,
        o = "" + t;
      return e !== null &&
        e.ref !== null &&
        typeof e.ref == "function" &&
        e.ref._stringRef === o
        ? e.ref
        : ((e = function (s) {
            var a = i.refs;
            a === sE && (a = i.refs = {}),
              s === null ? delete a[o] : (a[o] = s);
          }),
          (e._stringRef = o),
          e);
    }
    if (typeof t != "string") throw Error(He(284));
    if (!r._owner) throw Error(He(290, t));
  }
  return t;
}
function Zp(t, e) {
  throw (
    ((t = Object.prototype.toString.call(e)),
    Error(
      He(
        31,
        t === "[object Object]"
          ? "object with keys {" + Object.keys(e).join(", ") + "}"
          : t
      )
    ))
  );
}
function vw(t) {
  var e = t._init;
  return e(t._payload);
}
function aE(t) {
  function e(D, k) {
    if (t) {
      var S = D.deletions;
      S === null ? ((D.deletions = [k]), (D.flags |= 16)) : S.push(k);
    }
  }
  function r(D, k) {
    if (!t) return null;
    for (; k !== null; ) e(D, k), (k = k.sibling);
    return null;
  }
  function n(D, k) {
    for (D = new Map(); k !== null; )
      k.key !== null ? D.set(k.key, k) : D.set(k.index, k), (k = k.sibling);
    return D;
  }
  function i(D, k) {
    return (D = Kl(D, k)), (D.index = 0), (D.sibling = null), D;
  }
  function o(D, k, S) {
    return (
      (D.index = S),
      t
        ? ((S = D.alternate),
          S !== null
            ? ((S = S.index), S < k ? ((D.flags |= 2), k) : S)
            : ((D.flags |= 2), k))
        : ((D.flags |= 1048576), k)
    );
  }
  function s(D) {
    return t && D.alternate === null && (D.flags |= 2), D;
  }
  function a(D, k, S, B) {
    return k === null || k.tag !== 6
      ? ((k = m4(S, D.mode, B)), (k.return = D), k)
      : ((k = i(k, S)), (k.return = D), k);
  }
  function l(D, k, S, B) {
    var $ = S.type;
    return $ === ic
      ? c(D, k, S.props.children, B, S.key)
      : k !== null &&
          (k.elementType === $ ||
            (typeof $ == "object" &&
              $ !== null &&
              $.$$typeof === Cl &&
              vw($) === k.type))
        ? ((B = i(k, S.props)), (B.ref = Lf(D, k, S)), (B.return = D), B)
        : ((B = sg(S.type, S.key, S.props, null, D.mode, B)),
          (B.ref = Lf(D, k, S)),
          (B.return = D),
          B);
  }
  function u(D, k, S, B) {
    return k === null ||
      k.tag !== 4 ||
      k.stateNode.containerInfo !== S.containerInfo ||
      k.stateNode.implementation !== S.implementation
      ? ((k = g4(S, D.mode, B)), (k.return = D), k)
      : ((k = i(k, S.children || [])), (k.return = D), k);
  }
  function c(D, k, S, B, $) {
    return k === null || k.tag !== 7
      ? ((k = e0(S, D.mode, B, $)), (k.return = D), k)
      : ((k = i(k, S)), (k.return = D), k);
  }
  function f(D, k, S) {
    if ((typeof k == "string" && k !== "") || typeof k == "number")
      return (k = m4("" + k, D.mode, S)), (k.return = D), k;
    if (typeof k == "object" && k !== null) {
      switch (k.$$typeof) {
        case Hp:
          return (
            (S = sg(k.type, k.key, k.props, null, D.mode, S)),
            (S.ref = Lf(D, null, k)),
            (S.return = D),
            S
          );
        case nc:
          return (k = g4(k, D.mode, S)), (k.return = D), k;
        case Cl:
          var B = k._init;
          return f(D, B(k._payload), S);
      }
      if (Qf(k) || Tf(k))
        return (k = e0(k, D.mode, S, null)), (k.return = D), k;
      Zp(D, k);
    }
    return null;
  }
  function h(D, k, S, B) {
    var $ = k !== null ? k.key : null;
    if ((typeof S == "string" && S !== "") || typeof S == "number")
      return $ !== null ? null : a(D, k, "" + S, B);
    if (typeof S == "object" && S !== null) {
      switch (S.$$typeof) {
        case Hp:
          return S.key === $ ? l(D, k, S, B) : null;
        case nc:
          return S.key === $ ? u(D, k, S, B) : null;
        case Cl:
          return ($ = S._init), h(D, k, $(S._payload), B);
      }
      if (Qf(S) || Tf(S)) return $ !== null ? null : c(D, k, S, B, null);
      Zp(D, S);
    }
    return null;
  }
  function d(D, k, S, B, $) {
    if ((typeof B == "string" && B !== "") || typeof B == "number")
      return (D = D.get(S) || null), a(k, D, "" + B, $);
    if (typeof B == "object" && B !== null) {
      switch (B.$$typeof) {
        case Hp:
          return (D = D.get(B.key === null ? S : B.key) || null), l(k, D, B, $);
        case nc:
          return (D = D.get(B.key === null ? S : B.key) || null), u(k, D, B, $);
        case Cl:
          var T = B._init;
          return d(D, k, S, T(B._payload), $);
      }
      if (Qf(B) || Tf(B)) return (D = D.get(S) || null), c(k, D, B, $, null);
      Zp(k, B);
    }
    return null;
  }
  function p(D, k, S, B) {
    for (
      var $ = null, T = null, P = k, te = (k = 0), ee = null;
      P !== null && te < S.length;
      te++
    ) {
      P.index > te ? ((ee = P), (P = null)) : (ee = P.sibling);
      var de = h(D, P, S[te], B);
      if (de === null) {
        P === null && (P = ee);
        break;
      }
      t && P && de.alternate === null && e(D, P),
        (k = o(de, k, te)),
        T === null ? ($ = de) : (T.sibling = de),
        (T = de),
        (P = ee);
    }
    if (te === S.length) return r(D, P), en && Lu(D, te), $;
    if (P === null) {
      for (; te < S.length; te++)
        (P = f(D, S[te], B)),
          P !== null &&
            ((k = o(P, k, te)),
            T === null ? ($ = P) : (T.sibling = P),
            (T = P));
      return en && Lu(D, te), $;
    }
    for (P = n(D, P); te < S.length; te++)
      (ee = d(P, D, te, S[te], B)),
        ee !== null &&
          (t &&
            ee.alternate !== null &&
            P.delete(ee.key === null ? te : ee.key),
          (k = o(ee, k, te)),
          T === null ? ($ = ee) : (T.sibling = ee),
          (T = ee));
    return (
      t &&
        P.forEach(function (ke) {
          return e(D, ke);
        }),
      en && Lu(D, te),
      $
    );
  }
  function m(D, k, S, B) {
    var $ = Tf(S);
    if (typeof $ != "function") throw Error(He(150));
    if (((S = $.call(S)), S == null)) throw Error(He(151));
    for (
      var T = ($ = null), P = k, te = (k = 0), ee = null, de = S.next();
      P !== null && !de.done;
      te++, de = S.next()
    ) {
      P.index > te ? ((ee = P), (P = null)) : (ee = P.sibling);
      var ke = h(D, P, de.value, B);
      if (ke === null) {
        P === null && (P = ee);
        break;
      }
      t && P && ke.alternate === null && e(D, P),
        (k = o(ke, k, te)),
        T === null ? ($ = ke) : (T.sibling = ke),
        (T = ke),
        (P = ee);
    }
    if (de.done) return r(D, P), en && Lu(D, te), $;
    if (P === null) {
      for (; !de.done; te++, de = S.next())
        (de = f(D, de.value, B)),
          de !== null &&
            ((k = o(de, k, te)),
            T === null ? ($ = de) : (T.sibling = de),
            (T = de));
      return en && Lu(D, te), $;
    }
    for (P = n(D, P); !de.done; te++, de = S.next())
      (de = d(P, D, te, de.value, B)),
        de !== null &&
          (t &&
            de.alternate !== null &&
            P.delete(de.key === null ? te : de.key),
          (k = o(de, k, te)),
          T === null ? ($ = de) : (T.sibling = de),
          (T = de));
    return (
      t &&
        P.forEach(function (Ce) {
          return e(D, Ce);
        }),
      en && Lu(D, te),
      $
    );
  }
  function b(D, k, S, B) {
    if (
      (typeof S == "object" &&
        S !== null &&
        S.type === ic &&
        S.key === null &&
        (S = S.props.children),
      typeof S == "object" && S !== null)
    ) {
      switch (S.$$typeof) {
        case Hp:
          e: {
            for (var $ = S.key, T = k; T !== null; ) {
              if (T.key === $) {
                if ((($ = S.type), $ === ic)) {
                  if (T.tag === 7) {
                    r(D, T.sibling),
                      (k = i(T, S.props.children)),
                      (k.return = D),
                      (D = k);
                    break e;
                  }
                } else if (
                  T.elementType === $ ||
                  (typeof $ == "object" &&
                    $ !== null &&
                    $.$$typeof === Cl &&
                    vw($) === T.type)
                ) {
                  r(D, T.sibling),
                    (k = i(T, S.props)),
                    (k.ref = Lf(D, T, S)),
                    (k.return = D),
                    (D = k);
                  break e;
                }
                r(D, T);
                break;
              } else e(D, T);
              T = T.sibling;
            }
            S.type === ic
              ? ((k = e0(S.props.children, D.mode, B, S.key)),
                (k.return = D),
                (D = k))
              : ((B = sg(S.type, S.key, S.props, null, D.mode, B)),
                (B.ref = Lf(D, k, S)),
                (B.return = D),
                (D = B));
          }
          return s(D);
        case nc:
          e: {
            for (T = S.key; k !== null; ) {
              if (k.key === T)
                if (
                  k.tag === 4 &&
                  k.stateNode.containerInfo === S.containerInfo &&
                  k.stateNode.implementation === S.implementation
                ) {
                  r(D, k.sibling),
                    (k = i(k, S.children || [])),
                    (k.return = D),
                    (D = k);
                  break e;
                } else {
                  r(D, k);
                  break;
                }
              else e(D, k);
              k = k.sibling;
            }
            (k = g4(S, D.mode, B)), (k.return = D), (D = k);
          }
          return s(D);
        case Cl:
          return (T = S._init), b(D, k, T(S._payload), B);
      }
      if (Qf(S)) return p(D, k, S, B);
      if (Tf(S)) return m(D, k, S, B);
      Zp(D, S);
    }
    return (typeof S == "string" && S !== "") || typeof S == "number"
      ? ((S = "" + S),
        k !== null && k.tag === 6
          ? (r(D, k.sibling), (k = i(k, S)), (k.return = D), (D = k))
          : (r(D, k), (k = m4(S, D.mode, B)), (k.return = D), (D = k)),
        s(D))
      : r(D, k);
  }
  return b;
}
var qc = aE(!0),
  lE = aE(!1),
  Yd = {},
  sa = bu(Yd),
  Gh = bu(Yd),
  Kh = bu(Yd);
function Ku(t) {
  if (t === Yd) throw Error(He(174));
  return t;
}
function f8(t, e) {
  switch ((Wr(Kh, e), Wr(Gh, t), Wr(sa, Yd), (t = e.nodeType), t)) {
    case 9:
    case 11:
      e = (e = e.documentElement) ? e.namespaceURI : qy(null, "");
      break;
    default:
      (t = t === 8 ? e.parentNode : e),
        (e = t.namespaceURI || null),
        (t = t.tagName),
        (e = qy(e, t));
  }
  Yr(sa), Wr(sa, e);
}
function Uc() {
  Yr(sa), Yr(Gh), Yr(Kh);
}
function uE(t) {
  Ku(Kh.current);
  var e = Ku(sa.current),
    r = qy(e, t.type);
  e !== r && (Wr(Gh, t), Wr(sa, r));
}
function h8(t) {
  Gh.current === t && (Yr(sa), Yr(Gh));
}
var an = bu(0);
function Kg(t) {
  for (var e = t; e !== null; ) {
    if (e.tag === 13) {
      var r = e.memoizedState;
      if (
        r !== null &&
        ((r = r.dehydrated), r === null || r.data === "$?" || r.data === "$!")
      )
        return e;
    } else if (e.tag === 19 && e.memoizedProps.revealOrder !== void 0) {
      if (e.flags & 128) return e;
    } else if (e.child !== null) {
      (e.child.return = e), (e = e.child);
      continue;
    }
    if (e === t) break;
    for (; e.sibling === null; ) {
      if (e.return === null || e.return === t) return null;
      e = e.return;
    }
    (e.sibling.return = e.return), (e = e.sibling);
  }
  return null;
}
var u4 = [];
function d8() {
  for (var t = 0; t < u4.length; t++)
    u4[t]._workInProgressVersionPrimary = null;
  u4.length = 0;
}
var eg = rl.ReactCurrentDispatcher,
  c4 = rl.ReactCurrentBatchConfig,
  o0 = 0,
  cn = null,
  Ln = null,
  Xn = null,
  Yg = !1,
  ph = !1,
  Yh = 0,
  NN = 0;
function wi() {
  throw Error(He(321));
}
function p8(t, e) {
  if (e === null) return !1;
  for (var r = 0; r < e.length && r < t.length; r++)
    if (!Mo(t[r], e[r])) return !1;
  return !0;
}
function m8(t, e, r, n, i, o) {
  if (
    ((o0 = o),
    (cn = e),
    (e.memoizedState = null),
    (e.updateQueue = null),
    (e.lanes = 0),
    (eg.current = t === null || t.memoizedState === null ? HN : VN),
    (t = r(n, i)),
    ph)
  ) {
    o = 0;
    do {
      if (((ph = !1), (Yh = 0), 25 <= o)) throw Error(He(301));
      (o += 1),
        (Xn = Ln = null),
        (e.updateQueue = null),
        (eg.current = WN),
        (t = r(n, i));
    } while (ph);
  }
  if (
    ((eg.current = Xg),
    (e = Ln !== null && Ln.next !== null),
    (o0 = 0),
    (Xn = Ln = cn = null),
    (Yg = !1),
    e)
  )
    throw Error(He(300));
  return t;
}
function g8() {
  var t = Yh !== 0;
  return (Yh = 0), t;
}
function qo() {
  var t = {
    memoizedState: null,
    baseState: null,
    baseQueue: null,
    queue: null,
    next: null,
  };
  return Xn === null ? (cn.memoizedState = Xn = t) : (Xn = Xn.next = t), Xn;
}
function so() {
  if (Ln === null) {
    var t = cn.alternate;
    t = t !== null ? t.memoizedState : null;
  } else t = Ln.next;
  var e = Xn === null ? cn.memoizedState : Xn.next;
  if (e !== null) (Xn = e), (Ln = t);
  else {
    if (t === null) throw Error(He(310));
    (Ln = t),
      (t = {
        memoizedState: Ln.memoizedState,
        baseState: Ln.baseState,
        baseQueue: Ln.baseQueue,
        queue: Ln.queue,
        next: null,
      }),
      Xn === null ? (cn.memoizedState = Xn = t) : (Xn = Xn.next = t);
  }
  return Xn;
}
function Xh(t, e) {
  return typeof e == "function" ? e(t) : e;
}
function f4(t) {
  var e = so(),
    r = e.queue;
  if (r === null) throw Error(He(311));
  r.lastRenderedReducer = t;
  var n = Ln,
    i = n.baseQueue,
    o = r.pending;
  if (o !== null) {
    if (i !== null) {
      var s = i.next;
      (i.next = o.next), (o.next = s);
    }
    (n.baseQueue = i = o), (r.pending = null);
  }
  if (i !== null) {
    (o = i.next), (n = n.baseState);
    var a = (s = null),
      l = null,
      u = o;
    do {
      var c = u.lane;
      if ((o0 & c) === c)
        l !== null &&
          (l = l.next =
            {
              lane: 0,
              action: u.action,
              hasEagerState: u.hasEagerState,
              eagerState: u.eagerState,
              next: null,
            }),
          (n = u.hasEagerState ? u.eagerState : t(n, u.action));
      else {
        var f = {
          lane: c,
          action: u.action,
          hasEagerState: u.hasEagerState,
          eagerState: u.eagerState,
          next: null,
        };
        l === null ? ((a = l = f), (s = n)) : (l = l.next = f),
          (cn.lanes |= c),
          (a0 |= c);
      }
      u = u.next;
    } while (u !== null && u !== o);
    l === null ? (s = n) : (l.next = a),
      Mo(n, e.memoizedState) || (es = !0),
      (e.memoizedState = n),
      (e.baseState = s),
      (e.baseQueue = l),
      (r.lastRenderedState = n);
  }
  if (((t = r.interleaved), t !== null)) {
    i = t;
    do (o = i.lane), (cn.lanes |= o), (a0 |= o), (i = i.next);
    while (i !== t);
  } else i === null && (r.lanes = 0);
  return [e.memoizedState, r.dispatch];
}
function h4(t) {
  var e = so(),
    r = e.queue;
  if (r === null) throw Error(He(311));
  r.lastRenderedReducer = t;
  var n = r.dispatch,
    i = r.pending,
    o = e.memoizedState;
  if (i !== null) {
    r.pending = null;
    var s = (i = i.next);
    do (o = t(o, s.action)), (s = s.next);
    while (s !== i);
    Mo(o, e.memoizedState) || (es = !0),
      (e.memoizedState = o),
      e.baseQueue === null && (e.baseState = o),
      (r.lastRenderedState = o);
  }
  return [o, n];
}
function cE() {}
function fE(t, e) {
  var r = cn,
    n = so(),
    i = e(),
    o = !Mo(n.memoizedState, i);
  if (
    (o && ((n.memoizedState = i), (es = !0)),
    (n = n.queue),
    v8(pE.bind(null, r, n, t), [t]),
    n.getSnapshot !== e || o || (Xn !== null && Xn.memoizedState.tag & 1))
  ) {
    if (
      ((r.flags |= 2048),
      Jh(9, dE.bind(null, r, n, i, e), void 0, null),
      ei === null)
    )
      throw Error(He(349));
    o0 & 30 || hE(r, e, i);
  }
  return i;
}
function hE(t, e, r) {
  (t.flags |= 16384),
    (t = { getSnapshot: e, value: r }),
    (e = cn.updateQueue),
    e === null
      ? ((e = { lastEffect: null, stores: null }),
        (cn.updateQueue = e),
        (e.stores = [t]))
      : ((r = e.stores), r === null ? (e.stores = [t]) : r.push(t));
}
function dE(t, e, r, n) {
  (e.value = r), (e.getSnapshot = n), mE(e) && gE(t);
}
function pE(t, e, r) {
  return r(function () {
    mE(e) && gE(t);
  });
}
function mE(t) {
  var e = t.getSnapshot;
  t = t.value;
  try {
    var r = e();
    return !Mo(t, r);
  } catch {
    return !0;
  }
}
function gE(t) {
  var e = Wa(t, 1);
  e !== null && Co(e, t, 1, -1);
}
function yw(t) {
  var e = qo();
  return (
    typeof t == "function" && (t = t()),
    (e.memoizedState = e.baseState = t),
    (t = {
      pending: null,
      interleaved: null,
      lanes: 0,
      dispatch: null,
      lastRenderedReducer: Xh,
      lastRenderedState: t,
    }),
    (e.queue = t),
    (t = t.dispatch = jN.bind(null, cn, t)),
    [e.memoizedState, t]
  );
}
function Jh(t, e, r, n) {
  return (
    (t = { tag: t, create: e, destroy: r, deps: n, next: null }),
    (e = cn.updateQueue),
    e === null
      ? ((e = { lastEffect: null, stores: null }),
        (cn.updateQueue = e),
        (e.lastEffect = t.next = t))
      : ((r = e.lastEffect),
        r === null
          ? (e.lastEffect = t.next = t)
          : ((n = r.next), (r.next = t), (t.next = n), (e.lastEffect = t))),
    t
  );
}
function vE() {
  return so().memoizedState;
}
function tg(t, e, r, n) {
  var i = qo();
  (cn.flags |= t),
    (i.memoizedState = Jh(1 | e, r, void 0, n === void 0 ? null : n));
}
function pv(t, e, r, n) {
  var i = so();
  n = n === void 0 ? null : n;
  var o = void 0;
  if (Ln !== null) {
    var s = Ln.memoizedState;
    if (((o = s.destroy), n !== null && p8(n, s.deps))) {
      i.memoizedState = Jh(e, r, o, n);
      return;
    }
  }
  (cn.flags |= t), (i.memoizedState = Jh(1 | e, r, o, n));
}
function bw(t, e) {
  return tg(8390656, 8, t, e);
}
function v8(t, e) {
  return pv(2048, 8, t, e);
}
function yE(t, e) {
  return pv(4, 2, t, e);
}
function bE(t, e) {
  return pv(4, 4, t, e);
}
function DE(t, e) {
  if (typeof e == "function")
    return (
      (t = t()),
      e(t),
      function () {
        e(null);
      }
    );
  if (e != null)
    return (
      (t = t()),
      (e.current = t),
      function () {
        e.current = null;
      }
    );
}
function wE(t, e, r) {
  return (
    (r = r != null ? r.concat([t]) : null), pv(4, 4, DE.bind(null, e, t), r)
  );
}
function y8() {}
function xE(t, e) {
  var r = so();
  e = e === void 0 ? null : e;
  var n = r.memoizedState;
  return n !== null && e !== null && p8(e, n[1])
    ? n[0]
    : ((r.memoizedState = [t, e]), t);
}
function kE(t, e) {
  var r = so();
  e = e === void 0 ? null : e;
  var n = r.memoizedState;
  return n !== null && e !== null && p8(e, n[1])
    ? n[0]
    : ((t = t()), (r.memoizedState = [t, e]), t);
}
function SE(t, e, r) {
  return o0 & 21
    ? (Mo(r, e) || ((r = EA()), (cn.lanes |= r), (a0 |= r), (t.baseState = !0)),
      e)
    : (t.baseState && ((t.baseState = !1), (es = !0)), (t.memoizedState = r));
}
function LN(t, e) {
  var r = Mr;
  (Mr = r !== 0 && 4 > r ? r : 4), t(!0);
  var n = c4.transition;
  c4.transition = {};
  try {
    t(!1), e();
  } finally {
    (Mr = r), (c4.transition = n);
  }
}
function CE() {
  return so().memoizedState;
}
function zN(t, e, r) {
  var n = Gl(t);
  if (
    ((r = {
      lane: n,
      action: r,
      hasEagerState: !1,
      eagerState: null,
      next: null,
    }),
    AE(t))
  )
    EE(e, r);
  else if (((r = nE(t, e, r, n)), r !== null)) {
    var i = Ii();
    Co(r, t, n, i), FE(r, e, n);
  }
}
function jN(t, e, r) {
  var n = Gl(t),
    i = { lane: n, action: r, hasEagerState: !1, eagerState: null, next: null };
  if (AE(t)) EE(e, i);
  else {
    var o = t.alternate;
    if (
      t.lanes === 0 &&
      (o === null || o.lanes === 0) &&
      ((o = e.lastRenderedReducer), o !== null)
    )
      try {
        var s = e.lastRenderedState,
          a = o(s, r);
        if (((i.hasEagerState = !0), (i.eagerState = a), Mo(a, s))) {
          var l = e.interleaved;
          l === null
            ? ((i.next = i), u8(e))
            : ((i.next = l.next), (l.next = i)),
            (e.interleaved = i);
          return;
        }
      } catch {
      } finally {
      }
    (r = nE(t, e, i, n)),
      r !== null && ((i = Ii()), Co(r, t, n, i), FE(r, e, n));
  }
}
function AE(t) {
  var e = t.alternate;
  return t === cn || (e !== null && e === cn);
}
function EE(t, e) {
  ph = Yg = !0;
  var r = t.pending;
  r === null ? (e.next = e) : ((e.next = r.next), (r.next = e)),
    (t.pending = e);
}
function FE(t, e, r) {
  if (r & 4194240) {
    var n = e.lanes;
    (n &= t.pendingLanes), (r |= n), (e.lanes = r), Y6(t, r);
  }
}
var Xg = {
    readContext: io,
    useCallback: wi,
    useContext: wi,
    useEffect: wi,
    useImperativeHandle: wi,
    useInsertionEffect: wi,
    useLayoutEffect: wi,
    useMemo: wi,
    useReducer: wi,
    useRef: wi,
    useState: wi,
    useDebugValue: wi,
    useDeferredValue: wi,
    useTransition: wi,
    useMutableSource: wi,
    useSyncExternalStore: wi,
    useId: wi,
    unstable_isNewReconciler: !1,
  },
  HN = {
    readContext: io,
    useCallback: function (t, e) {
      return (qo().memoizedState = [t, e === void 0 ? null : e]), t;
    },
    useContext: io,
    useEffect: bw,
    useImperativeHandle: function (t, e, r) {
      return (
        (r = r != null ? r.concat([t]) : null),
        tg(4194308, 4, DE.bind(null, e, t), r)
      );
    },
    useLayoutEffect: function (t, e) {
      return tg(4194308, 4, t, e);
    },
    useInsertionEffect: function (t, e) {
      return tg(4, 2, t, e);
    },
    useMemo: function (t, e) {
      var r = qo();
      return (
        (e = e === void 0 ? null : e), (t = t()), (r.memoizedState = [t, e]), t
      );
    },
    useReducer: function (t, e, r) {
      var n = qo();
      return (
        (e = r !== void 0 ? r(e) : e),
        (n.memoizedState = n.baseState = e),
        (t = {
          pending: null,
          interleaved: null,
          lanes: 0,
          dispatch: null,
          lastRenderedReducer: t,
          lastRenderedState: e,
        }),
        (n.queue = t),
        (t = t.dispatch = zN.bind(null, cn, t)),
        [n.memoizedState, t]
      );
    },
    useRef: function (t) {
      var e = qo();
      return (t = { current: t }), (e.memoizedState = t);
    },
    useState: yw,
    useDebugValue: y8,
    useDeferredValue: function (t) {
      return (qo().memoizedState = t);
    },
    useTransition: function () {
      var t = yw(!1),
        e = t[0];
      return (t = LN.bind(null, t[1])), (qo().memoizedState = t), [e, t];
    },
    useMutableSource: function () {},
    useSyncExternalStore: function (t, e, r) {
      var n = cn,
        i = qo();
      if (en) {
        if (r === void 0) throw Error(He(407));
        r = r();
      } else {
        if (((r = e()), ei === null)) throw Error(He(349));
        o0 & 30 || hE(n, e, r);
      }
      i.memoizedState = r;
      var o = { value: r, getSnapshot: e };
      return (
        (i.queue = o),
        bw(pE.bind(null, n, o, t), [t]),
        (n.flags |= 2048),
        Jh(9, dE.bind(null, n, o, r, e), void 0, null),
        r
      );
    },
    useId: function () {
      var t = qo(),
        e = ei.identifierPrefix;
      if (en) {
        var r = Ta,
          n = Ba;
        (r = (n & ~(1 << (32 - So(n) - 1))).toString(32) + r),
          (e = ":" + e + "R" + r),
          (r = Yh++),
          0 < r && (e += "H" + r.toString(32)),
          (e += ":");
      } else (r = NN++), (e = ":" + e + "r" + r.toString(32) + ":");
      return (t.memoizedState = e);
    },
    unstable_isNewReconciler: !1,
  },
  VN = {
    readContext: io,
    useCallback: xE,
    useContext: io,
    useEffect: v8,
    useImperativeHandle: wE,
    useInsertionEffect: yE,
    useLayoutEffect: bE,
    useMemo: kE,
    useReducer: f4,
    useRef: vE,
    useState: function () {
      return f4(Xh);
    },
    useDebugValue: y8,
    useDeferredValue: function (t) {
      var e = so();
      return SE(e, Ln.memoizedState, t);
    },
    useTransition: function () {
      var t = f4(Xh)[0],
        e = so().memoizedState;
      return [t, e];
    },
    useMutableSource: cE,
    useSyncExternalStore: fE,
    useId: CE,
    unstable_isNewReconciler: !1,
  },
  WN = {
    readContext: io,
    useCallback: xE,
    useContext: io,
    useEffect: v8,
    useImperativeHandle: wE,
    useInsertionEffect: yE,
    useLayoutEffect: bE,
    useMemo: kE,
    useReducer: h4,
    useRef: vE,
    useState: function () {
      return h4(Xh);
    },
    useDebugValue: y8,
    useDeferredValue: function (t) {
      var e = so();
      return Ln === null ? (e.memoizedState = t) : SE(e, Ln.memoizedState, t);
    },
    useTransition: function () {
      var t = h4(Xh)[0],
        e = so().memoizedState;
      return [t, e];
    },
    useMutableSource: cE,
    useSyncExternalStore: fE,
    useId: CE,
    unstable_isNewReconciler: !1,
  };
function Gc(t, e) {
  try {
    var r = "",
      n = e;
    do (r += yI(n)), (n = n.return);
    while (n);
    var i = r;
  } catch (o) {
    i =
      `
Error generating stack: ` +
      o.message +
      `
` +
      o.stack;
  }
  return { value: t, source: e, stack: i, digest: null };
}
function d4(t, e, r) {
  return { value: t, source: null, stack: r ?? null, digest: e ?? null };
}
function p3(t, e) {
  try {
    console.error(e.value);
  } catch (r) {
    setTimeout(function () {
      throw r;
    });
  }
}
var qN = typeof WeakMap == "function" ? WeakMap : Map;
function ME(t, e, r) {
  (r = Ia(-1, r)), (r.tag = 3), (r.payload = { element: null });
  var n = e.value;
  return (
    (r.callback = function () {
      Qg || ((Qg = !0), (S3 = n)), p3(t, e);
    }),
    r
  );
}
function _E(t, e, r) {
  (r = Ia(-1, r)), (r.tag = 3);
  var n = t.type.getDerivedStateFromError;
  if (typeof n == "function") {
    var i = e.value;
    (r.payload = function () {
      return n(i);
    }),
      (r.callback = function () {
        p3(t, e);
      });
  }
  var o = t.stateNode;
  return (
    o !== null &&
      typeof o.componentDidCatch == "function" &&
      (r.callback = function () {
        p3(t, e),
          typeof n != "function" &&
            (Ul === null ? (Ul = new Set([this])) : Ul.add(this));
        var s = e.stack;
        this.componentDidCatch(e.value, {
          componentStack: s !== null ? s : "",
        });
      }),
    r
  );
}
function Dw(t, e, r) {
  var n = t.pingCache;
  if (n === null) {
    n = t.pingCache = new qN();
    var i = new Set();
    n.set(e, i);
  } else (i = n.get(e)), i === void 0 && ((i = new Set()), n.set(e, i));
  i.has(r) || (i.add(r), (t = sL.bind(null, t, e, r)), e.then(t, t));
}
function ww(t) {
  do {
    var e;
    if (
      ((e = t.tag === 13) &&
        ((e = t.memoizedState), (e = e !== null ? e.dehydrated !== null : !0)),
      e)
    )
      return t;
    t = t.return;
  } while (t !== null);
  return null;
}
function xw(t, e, r, n, i) {
  return t.mode & 1
    ? ((t.flags |= 65536), (t.lanes = i), t)
    : (t === e
        ? (t.flags |= 65536)
        : ((t.flags |= 128),
          (r.flags |= 131072),
          (r.flags &= -52805),
          r.tag === 1 &&
            (r.alternate === null
              ? (r.tag = 17)
              : ((e = Ia(-1, 1)), (e.tag = 2), ql(r, e, 1))),
          (r.lanes |= 1)),
      t);
}
var UN = rl.ReactCurrentOwner,
  es = !1;
function Bi(t, e, r, n) {
  e.child = t === null ? lE(e, null, r, n) : qc(e, t.child, r, n);
}
function kw(t, e, r, n, i) {
  r = r.render;
  var o = e.ref;
  return (
    Mc(e, i),
    (n = m8(t, e, r, n, o, i)),
    (r = g8()),
    t !== null && !es
      ? ((e.updateQueue = t.updateQueue),
        (e.flags &= -2053),
        (t.lanes &= ~i),
        qa(t, e, i))
      : (en && r && n8(e), (e.flags |= 1), Bi(t, e, n, i), e.child)
  );
}
function Sw(t, e, r, n, i) {
  if (t === null) {
    var o = r.type;
    return typeof o == "function" &&
      !A8(o) &&
      o.defaultProps === void 0 &&
      r.compare === null &&
      r.defaultProps === void 0
      ? ((e.tag = 15), (e.type = o), $E(t, e, o, n, i))
      : ((t = sg(r.type, null, n, e, e.mode, i)),
        (t.ref = e.ref),
        (t.return = e),
        (e.child = t));
  }
  if (((o = t.child), !(t.lanes & i))) {
    var s = o.memoizedProps;
    if (
      ((r = r.compare), (r = r !== null ? r : Vh), r(s, n) && t.ref === e.ref)
    )
      return qa(t, e, i);
  }
  return (
    (e.flags |= 1),
    (t = Kl(o, n)),
    (t.ref = e.ref),
    (t.return = e),
    (e.child = t)
  );
}
function $E(t, e, r, n, i) {
  if (t !== null) {
    var o = t.memoizedProps;
    if (Vh(o, n) && t.ref === e.ref)
      if (((es = !1), (e.pendingProps = n = o), (t.lanes & i) !== 0))
        t.flags & 131072 && (es = !0);
      else return (e.lanes = t.lanes), qa(t, e, i);
  }
  return m3(t, e, r, n, i);
}
function OE(t, e, r) {
  var n = e.pendingProps,
    i = n.children,
    o = t !== null ? t.memoizedState : null;
  if (n.mode === "hidden")
    if (!(e.mode & 1))
      (e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }),
        Wr(pc, fs),
        (fs |= r);
    else {
      if (!(r & 1073741824))
        return (
          (t = o !== null ? o.baseLanes | r : r),
          (e.lanes = e.childLanes = 1073741824),
          (e.memoizedState = {
            baseLanes: t,
            cachePool: null,
            transitions: null,
          }),
          (e.updateQueue = null),
          Wr(pc, fs),
          (fs |= t),
          null
        );
      (e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }),
        (n = o !== null ? o.baseLanes : r),
        Wr(pc, fs),
        (fs |= n);
    }
  else
    o !== null ? ((n = o.baseLanes | r), (e.memoizedState = null)) : (n = r),
      Wr(pc, fs),
      (fs |= n);
  return Bi(t, e, i, r), e.child;
}
function BE(t, e) {
  var r = e.ref;
  ((t === null && r !== null) || (t !== null && t.ref !== r)) &&
    ((e.flags |= 512), (e.flags |= 2097152));
}
function m3(t, e, r, n, i) {
  var o = is(r) ? i0 : Fi.current;
  return (
    (o = Vc(e, o)),
    Mc(e, i),
    (r = m8(t, e, r, n, o, i)),
    (n = g8()),
    t !== null && !es
      ? ((e.updateQueue = t.updateQueue),
        (e.flags &= -2053),
        (t.lanes &= ~i),
        qa(t, e, i))
      : (en && n && n8(e), (e.flags |= 1), Bi(t, e, r, i), e.child)
  );
}
function Cw(t, e, r, n, i) {
  if (is(r)) {
    var o = !0;
    Hg(e);
  } else o = !1;
  if ((Mc(e, i), e.stateNode === null))
    rg(t, e), oE(e, r, n), d3(e, r, n, i), (n = !0);
  else if (t === null) {
    var s = e.stateNode,
      a = e.memoizedProps;
    s.props = a;
    var l = s.context,
      u = r.contextType;
    typeof u == "object" && u !== null
      ? (u = io(u))
      : ((u = is(r) ? i0 : Fi.current), (u = Vc(e, u)));
    var c = r.getDerivedStateFromProps,
      f =
        typeof c == "function" ||
        typeof s.getSnapshotBeforeUpdate == "function";
    f ||
      (typeof s.UNSAFE_componentWillReceiveProps != "function" &&
        typeof s.componentWillReceiveProps != "function") ||
      ((a !== n || l !== u) && gw(e, s, n, u)),
      (Al = !1);
    var h = e.memoizedState;
    (s.state = h),
      Gg(e, n, s, i),
      (l = e.memoizedState),
      a !== n || h !== l || ns.current || Al
        ? (typeof c == "function" && (h3(e, r, c, n), (l = e.memoizedState)),
          (a = Al || mw(e, r, a, n, h, l, u))
            ? (f ||
                (typeof s.UNSAFE_componentWillMount != "function" &&
                  typeof s.componentWillMount != "function") ||
                (typeof s.componentWillMount == "function" &&
                  s.componentWillMount(),
                typeof s.UNSAFE_componentWillMount == "function" &&
                  s.UNSAFE_componentWillMount()),
              typeof s.componentDidMount == "function" && (e.flags |= 4194308))
            : (typeof s.componentDidMount == "function" && (e.flags |= 4194308),
              (e.memoizedProps = n),
              (e.memoizedState = l)),
          (s.props = n),
          (s.state = l),
          (s.context = u),
          (n = a))
        : (typeof s.componentDidMount == "function" && (e.flags |= 4194308),
          (n = !1));
  } else {
    (s = e.stateNode),
      iE(t, e),
      (a = e.memoizedProps),
      (u = e.type === e.elementType ? a : bo(e.type, a)),
      (s.props = u),
      (f = e.pendingProps),
      (h = s.context),
      (l = r.contextType),
      typeof l == "object" && l !== null
        ? (l = io(l))
        : ((l = is(r) ? i0 : Fi.current), (l = Vc(e, l)));
    var d = r.getDerivedStateFromProps;
    (c =
      typeof d == "function" ||
      typeof s.getSnapshotBeforeUpdate == "function") ||
      (typeof s.UNSAFE_componentWillReceiveProps != "function" &&
        typeof s.componentWillReceiveProps != "function") ||
      ((a !== f || h !== l) && gw(e, s, n, l)),
      (Al = !1),
      (h = e.memoizedState),
      (s.state = h),
      Gg(e, n, s, i);
    var p = e.memoizedState;
    a !== f || h !== p || ns.current || Al
      ? (typeof d == "function" && (h3(e, r, d, n), (p = e.memoizedState)),
        (u = Al || mw(e, r, u, n, h, p, l) || !1)
          ? (c ||
              (typeof s.UNSAFE_componentWillUpdate != "function" &&
                typeof s.componentWillUpdate != "function") ||
              (typeof s.componentWillUpdate == "function" &&
                s.componentWillUpdate(n, p, l),
              typeof s.UNSAFE_componentWillUpdate == "function" &&
                s.UNSAFE_componentWillUpdate(n, p, l)),
            typeof s.componentDidUpdate == "function" && (e.flags |= 4),
            typeof s.getSnapshotBeforeUpdate == "function" && (e.flags |= 1024))
          : (typeof s.componentDidUpdate != "function" ||
              (a === t.memoizedProps && h === t.memoizedState) ||
              (e.flags |= 4),
            typeof s.getSnapshotBeforeUpdate != "function" ||
              (a === t.memoizedProps && h === t.memoizedState) ||
              (e.flags |= 1024),
            (e.memoizedProps = n),
            (e.memoizedState = p)),
        (s.props = n),
        (s.state = p),
        (s.context = l),
        (n = u))
      : (typeof s.componentDidUpdate != "function" ||
          (a === t.memoizedProps && h === t.memoizedState) ||
          (e.flags |= 4),
        typeof s.getSnapshotBeforeUpdate != "function" ||
          (a === t.memoizedProps && h === t.memoizedState) ||
          (e.flags |= 1024),
        (n = !1));
  }
  return g3(t, e, r, n, o, i);
}
function g3(t, e, r, n, i, o) {
  BE(t, e);
  var s = (e.flags & 128) !== 0;
  if (!n && !s) return i && cw(e, r, !1), qa(t, e, o);
  (n = e.stateNode), (UN.current = e);
  var a =
    s && typeof r.getDerivedStateFromError != "function" ? null : n.render();
  return (
    (e.flags |= 1),
    t !== null && s
      ? ((e.child = qc(e, t.child, null, o)), (e.child = qc(e, null, a, o)))
      : Bi(t, e, a, o),
    (e.memoizedState = n.state),
    i && cw(e, r, !0),
    e.child
  );
}
function TE(t) {
  var e = t.stateNode;
  e.pendingContext
    ? uw(t, e.pendingContext, e.pendingContext !== e.context)
    : e.context && uw(t, e.context, !1),
    f8(t, e.containerInfo);
}
function Aw(t, e, r, n, i) {
  return Wc(), s8(i), (e.flags |= 256), Bi(t, e, r, n), e.child;
}
var v3 = { dehydrated: null, treeContext: null, retryLane: 0 };
function y3(t) {
  return { baseLanes: t, cachePool: null, transitions: null };
}
function PE(t, e, r) {
  var n = e.pendingProps,
    i = an.current,
    o = !1,
    s = (e.flags & 128) !== 0,
    a;
  if (
    ((a = s) ||
      (a = t !== null && t.memoizedState === null ? !1 : (i & 2) !== 0),
    a
      ? ((o = !0), (e.flags &= -129))
      : (t === null || t.memoizedState !== null) && (i |= 1),
    Wr(an, i & 1),
    t === null)
  )
    return (
      c3(e),
      (t = e.memoizedState),
      t !== null && ((t = t.dehydrated), t !== null)
        ? (e.mode & 1
            ? t.data === "$!"
              ? (e.lanes = 8)
              : (e.lanes = 1073741824)
            : (e.lanes = 1),
          null)
        : ((s = n.children),
          (t = n.fallback),
          o
            ? ((n = e.mode),
              (o = e.child),
              (s = { mode: "hidden", children: s }),
              !(n & 1) && o !== null
                ? ((o.childLanes = 0), (o.pendingProps = s))
                : (o = vv(s, n, 0, null)),
              (t = e0(t, n, r, null)),
              (o.return = e),
              (t.return = e),
              (o.sibling = t),
              (e.child = o),
              (e.child.memoizedState = y3(r)),
              (e.memoizedState = v3),
              t)
            : b8(e, s))
    );
  if (((i = t.memoizedState), i !== null && ((a = i.dehydrated), a !== null)))
    return GN(t, e, s, n, a, i, r);
  if (o) {
    (o = n.fallback), (s = e.mode), (i = t.child), (a = i.sibling);
    var l = { mode: "hidden", children: n.children };
    return (
      !(s & 1) && e.child !== i
        ? ((n = e.child),
          (n.childLanes = 0),
          (n.pendingProps = l),
          (e.deletions = null))
        : ((n = Kl(i, l)), (n.subtreeFlags = i.subtreeFlags & 14680064)),
      a !== null ? (o = Kl(a, o)) : ((o = e0(o, s, r, null)), (o.flags |= 2)),
      (o.return = e),
      (n.return = e),
      (n.sibling = o),
      (e.child = n),
      (n = o),
      (o = e.child),
      (s = t.child.memoizedState),
      (s =
        s === null
          ? y3(r)
          : {
              baseLanes: s.baseLanes | r,
              cachePool: null,
              transitions: s.transitions,
            }),
      (o.memoizedState = s),
      (o.childLanes = t.childLanes & ~r),
      (e.memoizedState = v3),
      n
    );
  }
  return (
    (o = t.child),
    (t = o.sibling),
    (n = Kl(o, { mode: "visible", children: n.children })),
    !(e.mode & 1) && (n.lanes = r),
    (n.return = e),
    (n.sibling = null),
    t !== null &&
      ((r = e.deletions),
      r === null ? ((e.deletions = [t]), (e.flags |= 16)) : r.push(t)),
    (e.child = n),
    (e.memoizedState = null),
    n
  );
}
function b8(t, e) {
  return (
    (e = vv({ mode: "visible", children: e }, t.mode, 0, null)),
    (e.return = t),
    (t.child = e)
  );
}
function em(t, e, r, n) {
  return (
    n !== null && s8(n),
    qc(e, t.child, null, r),
    (t = b8(e, e.pendingProps.children)),
    (t.flags |= 2),
    (e.memoizedState = null),
    t
  );
}
function GN(t, e, r, n, i, o, s) {
  if (r)
    return e.flags & 256
      ? ((e.flags &= -257), (n = d4(Error(He(422)))), em(t, e, s, n))
      : e.memoizedState !== null
        ? ((e.child = t.child), (e.flags |= 128), null)
        : ((o = n.fallback),
          (i = e.mode),
          (n = vv({ mode: "visible", children: n.children }, i, 0, null)),
          (o = e0(o, i, s, null)),
          (o.flags |= 2),
          (n.return = e),
          (o.return = e),
          (n.sibling = o),
          (e.child = n),
          e.mode & 1 && qc(e, t.child, null, s),
          (e.child.memoizedState = y3(s)),
          (e.memoizedState = v3),
          o);
  if (!(e.mode & 1)) return em(t, e, s, null);
  if (i.data === "$!") {
    if (((n = i.nextSibling && i.nextSibling.dataset), n)) var a = n.dgst;
    return (
      (n = a), (o = Error(He(419))), (n = d4(o, n, void 0)), em(t, e, s, n)
    );
  }
  if (((a = (s & t.childLanes) !== 0), es || a)) {
    if (((n = ei), n !== null)) {
      switch (s & -s) {
        case 4:
          i = 2;
          break;
        case 16:
          i = 8;
          break;
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          i = 32;
          break;
        case 536870912:
          i = 268435456;
          break;
        default:
          i = 0;
      }
      (i = i & (n.suspendedLanes | s) ? 0 : i),
        i !== 0 &&
          i !== o.retryLane &&
          ((o.retryLane = i), Wa(t, i), Co(n, t, i, -1));
    }
    return C8(), (n = d4(Error(He(421)))), em(t, e, s, n);
  }
  return i.data === "$?"
    ? ((e.flags |= 128),
      (e.child = t.child),
      (e = oL.bind(null, t)),
      (i._reactRetry = e),
      null)
    : ((t = o.treeContext),
      (vs = Wl(i.nextSibling)),
      (ws = e),
      (en = !0),
      (xo = null),
      t !== null &&
        ((js[Hs++] = Ba),
        (js[Hs++] = Ta),
        (js[Hs++] = s0),
        (Ba = t.id),
        (Ta = t.overflow),
        (s0 = e)),
      (e = b8(e, n.children)),
      (e.flags |= 4096),
      e);
}
function Ew(t, e, r) {
  t.lanes |= e;
  var n = t.alternate;
  n !== null && (n.lanes |= e), f3(t.return, e, r);
}
function p4(t, e, r, n, i) {
  var o = t.memoizedState;
  o === null
    ? (t.memoizedState = {
        isBackwards: e,
        rendering: null,
        renderingStartTime: 0,
        last: n,
        tail: r,
        tailMode: i,
      })
    : ((o.isBackwards = e),
      (o.rendering = null),
      (o.renderingStartTime = 0),
      (o.last = n),
      (o.tail = r),
      (o.tailMode = i));
}
function RE(t, e, r) {
  var n = e.pendingProps,
    i = n.revealOrder,
    o = n.tail;
  if ((Bi(t, e, n.children, r), (n = an.current), n & 2))
    (n = (n & 1) | 2), (e.flags |= 128);
  else {
    if (t !== null && t.flags & 128)
      e: for (t = e.child; t !== null; ) {
        if (t.tag === 13) t.memoizedState !== null && Ew(t, r, e);
        else if (t.tag === 19) Ew(t, r, e);
        else if (t.child !== null) {
          (t.child.return = t), (t = t.child);
          continue;
        }
        if (t === e) break e;
        for (; t.sibling === null; ) {
          if (t.return === null || t.return === e) break e;
          t = t.return;
        }
        (t.sibling.return = t.return), (t = t.sibling);
      }
    n &= 1;
  }
  if ((Wr(an, n), !(e.mode & 1))) e.memoizedState = null;
  else
    switch (i) {
      case "forwards":
        for (r = e.child, i = null; r !== null; )
          (t = r.alternate),
            t !== null && Kg(t) === null && (i = r),
            (r = r.sibling);
        (r = i),
          r === null
            ? ((i = e.child), (e.child = null))
            : ((i = r.sibling), (r.sibling = null)),
          p4(e, !1, i, r, o);
        break;
      case "backwards":
        for (r = null, i = e.child, e.child = null; i !== null; ) {
          if (((t = i.alternate), t !== null && Kg(t) === null)) {
            e.child = i;
            break;
          }
          (t = i.sibling), (i.sibling = r), (r = i), (i = t);
        }
        p4(e, !0, r, null, o);
        break;
      case "together":
        p4(e, !1, null, null, void 0);
        break;
      default:
        e.memoizedState = null;
    }
  return e.child;
}
function rg(t, e) {
  !(e.mode & 1) &&
    t !== null &&
    ((t.alternate = null), (e.alternate = null), (e.flags |= 2));
}
function qa(t, e, r) {
  if (
    (t !== null && (e.dependencies = t.dependencies),
    (a0 |= e.lanes),
    !(r & e.childLanes))
  )
    return null;
  if (t !== null && e.child !== t.child) throw Error(He(153));
  if (e.child !== null) {
    for (
      t = e.child, r = Kl(t, t.pendingProps), e.child = r, r.return = e;
      t.sibling !== null;

    )
      (t = t.sibling), (r = r.sibling = Kl(t, t.pendingProps)), (r.return = e);
    r.sibling = null;
  }
  return e.child;
}
function KN(t, e, r) {
  switch (e.tag) {
    case 3:
      TE(e), Wc();
      break;
    case 5:
      uE(e);
      break;
    case 1:
      is(e.type) && Hg(e);
      break;
    case 4:
      f8(e, e.stateNode.containerInfo);
      break;
    case 10:
      var n = e.type._context,
        i = e.memoizedProps.value;
      Wr(qg, n._currentValue), (n._currentValue = i);
      break;
    case 13:
      if (((n = e.memoizedState), n !== null))
        return n.dehydrated !== null
          ? (Wr(an, an.current & 1), (e.flags |= 128), null)
          : r & e.child.childLanes
            ? PE(t, e, r)
            : (Wr(an, an.current & 1),
              (t = qa(t, e, r)),
              t !== null ? t.sibling : null);
      Wr(an, an.current & 1);
      break;
    case 19:
      if (((n = (r & e.childLanes) !== 0), t.flags & 128)) {
        if (n) return RE(t, e, r);
        e.flags |= 128;
      }
      if (
        ((i = e.memoizedState),
        i !== null &&
          ((i.rendering = null), (i.tail = null), (i.lastEffect = null)),
        Wr(an, an.current),
        n)
      )
        break;
      return null;
    case 22:
    case 23:
      return (e.lanes = 0), OE(t, e, r);
  }
  return qa(t, e, r);
}
var IE, b3, NE, LE;
IE = function (t, e) {
  for (var r = e.child; r !== null; ) {
    if (r.tag === 5 || r.tag === 6) t.appendChild(r.stateNode);
    else if (r.tag !== 4 && r.child !== null) {
      (r.child.return = r), (r = r.child);
      continue;
    }
    if (r === e) break;
    for (; r.sibling === null; ) {
      if (r.return === null || r.return === e) return;
      r = r.return;
    }
    (r.sibling.return = r.return), (r = r.sibling);
  }
};
b3 = function () {};
NE = function (t, e, r, n) {
  var i = t.memoizedProps;
  if (i !== n) {
    (t = e.stateNode), Ku(sa.current);
    var o = null;
    switch (r) {
      case "input":
        (i = jy(t, i)), (n = jy(t, n)), (o = []);
        break;
      case "select":
        (i = fn({}, i, { value: void 0 })),
          (n = fn({}, n, { value: void 0 })),
          (o = []);
        break;
      case "textarea":
        (i = Wy(t, i)), (n = Wy(t, n)), (o = []);
        break;
      default:
        typeof i.onClick != "function" &&
          typeof n.onClick == "function" &&
          (t.onclick = zg);
    }
    Uy(r, n);
    var s;
    r = null;
    for (u in i)
      if (!n.hasOwnProperty(u) && i.hasOwnProperty(u) && i[u] != null)
        if (u === "style") {
          var a = i[u];
          for (s in a) a.hasOwnProperty(s) && (r || (r = {}), (r[s] = ""));
        } else
          u !== "dangerouslySetInnerHTML" &&
            u !== "children" &&
            u !== "suppressContentEditableWarning" &&
            u !== "suppressHydrationWarning" &&
            u !== "autoFocus" &&
            (Rh.hasOwnProperty(u)
              ? o || (o = [])
              : (o = o || []).push(u, null));
    for (u in n) {
      var l = n[u];
      if (
        ((a = i != null ? i[u] : void 0),
        n.hasOwnProperty(u) && l !== a && (l != null || a != null))
      )
        if (u === "style")
          if (a) {
            for (s in a)
              !a.hasOwnProperty(s) ||
                (l && l.hasOwnProperty(s)) ||
                (r || (r = {}), (r[s] = ""));
            for (s in l)
              l.hasOwnProperty(s) &&
                a[s] !== l[s] &&
                (r || (r = {}), (r[s] = l[s]));
          } else r || (o || (o = []), o.push(u, r)), (r = l);
        else
          u === "dangerouslySetInnerHTML"
            ? ((l = l ? l.__html : void 0),
              (a = a ? a.__html : void 0),
              l != null && a !== l && (o = o || []).push(u, l))
            : u === "children"
              ? (typeof l != "string" && typeof l != "number") ||
                (o = o || []).push(u, "" + l)
              : u !== "suppressContentEditableWarning" &&
                u !== "suppressHydrationWarning" &&
                (Rh.hasOwnProperty(u)
                  ? (l != null && u === "onScroll" && Gr("scroll", t),
                    o || a === l || (o = []))
                  : (o = o || []).push(u, l));
    }
    r && (o = o || []).push("style", r);
    var u = o;
    (e.updateQueue = u) && (e.flags |= 4);
  }
};
LE = function (t, e, r, n) {
  r !== n && (e.flags |= 4);
};
function zf(t, e) {
  if (!en)
    switch (t.tailMode) {
      case "hidden":
        e = t.tail;
        for (var r = null; e !== null; )
          e.alternate !== null && (r = e), (e = e.sibling);
        r === null ? (t.tail = null) : (r.sibling = null);
        break;
      case "collapsed":
        r = t.tail;
        for (var n = null; r !== null; )
          r.alternate !== null && (n = r), (r = r.sibling);
        n === null
          ? e || t.tail === null
            ? (t.tail = null)
            : (t.tail.sibling = null)
          : (n.sibling = null);
    }
}
function xi(t) {
  var e = t.alternate !== null && t.alternate.child === t.child,
    r = 0,
    n = 0;
  if (e)
    for (var i = t.child; i !== null; )
      (r |= i.lanes | i.childLanes),
        (n |= i.subtreeFlags & 14680064),
        (n |= i.flags & 14680064),
        (i.return = t),
        (i = i.sibling);
  else
    for (i = t.child; i !== null; )
      (r |= i.lanes | i.childLanes),
        (n |= i.subtreeFlags),
        (n |= i.flags),
        (i.return = t),
        (i = i.sibling);
  return (t.subtreeFlags |= n), (t.childLanes = r), e;
}
function YN(t, e, r) {
  var n = e.pendingProps;
  switch ((i8(e), e.tag)) {
    case 2:
    case 16:
    case 15:
    case 0:
    case 11:
    case 7:
    case 8:
    case 12:
    case 9:
    case 14:
      return xi(e), null;
    case 1:
      return is(e.type) && jg(), xi(e), null;
    case 3:
      return (
        (n = e.stateNode),
        Uc(),
        Yr(ns),
        Yr(Fi),
        d8(),
        n.pendingContext &&
          ((n.context = n.pendingContext), (n.pendingContext = null)),
        (t === null || t.child === null) &&
          (Qp(e)
            ? (e.flags |= 4)
            : t === null ||
              (t.memoizedState.isDehydrated && !(e.flags & 256)) ||
              ((e.flags |= 1024), xo !== null && (E3(xo), (xo = null)))),
        b3(t, e),
        xi(e),
        null
      );
    case 5:
      h8(e);
      var i = Ku(Kh.current);
      if (((r = e.type), t !== null && e.stateNode != null))
        NE(t, e, r, n, i),
          t.ref !== e.ref && ((e.flags |= 512), (e.flags |= 2097152));
      else {
        if (!n) {
          if (e.stateNode === null) throw Error(He(166));
          return xi(e), null;
        }
        if (((t = Ku(sa.current)), Qp(e))) {
          (n = e.stateNode), (r = e.type);
          var o = e.memoizedProps;
          switch (((n[Jo] = e), (n[Uh] = o), (t = (e.mode & 1) !== 0), r)) {
            case "dialog":
              Gr("cancel", n), Gr("close", n);
              break;
            case "iframe":
            case "object":
            case "embed":
              Gr("load", n);
              break;
            case "video":
            case "audio":
              for (i = 0; i < eh.length; i++) Gr(eh[i], n);
              break;
            case "source":
              Gr("error", n);
              break;
            case "img":
            case "image":
            case "link":
              Gr("error", n), Gr("load", n);
              break;
            case "details":
              Gr("toggle", n);
              break;
            case "input":
              RD(n, o), Gr("invalid", n);
              break;
            case "select":
              (n._wrapperState = { wasMultiple: !!o.multiple }),
                Gr("invalid", n);
              break;
            case "textarea":
              ND(n, o), Gr("invalid", n);
          }
          Uy(r, o), (i = null);
          for (var s in o)
            if (o.hasOwnProperty(s)) {
              var a = o[s];
              s === "children"
                ? typeof a == "string"
                  ? n.textContent !== a &&
                    (o.suppressHydrationWarning !== !0 &&
                      Jp(n.textContent, a, t),
                    (i = ["children", a]))
                  : typeof a == "number" &&
                    n.textContent !== "" + a &&
                    (o.suppressHydrationWarning !== !0 &&
                      Jp(n.textContent, a, t),
                    (i = ["children", "" + a]))
                : Rh.hasOwnProperty(s) &&
                  a != null &&
                  s === "onScroll" &&
                  Gr("scroll", n);
            }
          switch (r) {
            case "input":
              Vp(n), ID(n, o, !0);
              break;
            case "textarea":
              Vp(n), LD(n);
              break;
            case "select":
            case "option":
              break;
            default:
              typeof o.onClick == "function" && (n.onclick = zg);
          }
          (n = i), (e.updateQueue = n), n !== null && (e.flags |= 4);
        } else {
          (s = i.nodeType === 9 ? i : i.ownerDocument),
            t === "http://www.w3.org/1999/xhtml" && (t = hA(r)),
            t === "http://www.w3.org/1999/xhtml"
              ? r === "script"
                ? ((t = s.createElement("div")),
                  (t.innerHTML = "<script></script>"),
                  (t = t.removeChild(t.firstChild)))
                : typeof n.is == "string"
                  ? (t = s.createElement(r, { is: n.is }))
                  : ((t = s.createElement(r)),
                    r === "select" &&
                      ((s = t),
                      n.multiple
                        ? (s.multiple = !0)
                        : n.size && (s.size = n.size)))
              : (t = s.createElementNS(t, r)),
            (t[Jo] = e),
            (t[Uh] = n),
            IE(t, e, !1, !1),
            (e.stateNode = t);
          e: {
            switch (((s = Gy(r, n)), r)) {
              case "dialog":
                Gr("cancel", t), Gr("close", t), (i = n);
                break;
              case "iframe":
              case "object":
              case "embed":
                Gr("load", t), (i = n);
                break;
              case "video":
              case "audio":
                for (i = 0; i < eh.length; i++) Gr(eh[i], t);
                i = n;
                break;
              case "source":
                Gr("error", t), (i = n);
                break;
              case "img":
              case "image":
              case "link":
                Gr("error", t), Gr("load", t), (i = n);
                break;
              case "details":
                Gr("toggle", t), (i = n);
                break;
              case "input":
                RD(t, n), (i = jy(t, n)), Gr("invalid", t);
                break;
              case "option":
                i = n;
                break;
              case "select":
                (t._wrapperState = { wasMultiple: !!n.multiple }),
                  (i = fn({}, n, { value: void 0 })),
                  Gr("invalid", t);
                break;
              case "textarea":
                ND(t, n), (i = Wy(t, n)), Gr("invalid", t);
                break;
              default:
                i = n;
            }
            Uy(r, i), (a = i);
            for (o in a)
              if (a.hasOwnProperty(o)) {
                var l = a[o];
                o === "style"
                  ? mA(t, l)
                  : o === "dangerouslySetInnerHTML"
                    ? ((l = l ? l.__html : void 0), l != null && dA(t, l))
                    : o === "children"
                      ? typeof l == "string"
                        ? (r !== "textarea" || l !== "") && Ih(t, l)
                        : typeof l == "number" && Ih(t, "" + l)
                      : o !== "suppressContentEditableWarning" &&
                        o !== "suppressHydrationWarning" &&
                        o !== "autoFocus" &&
                        (Rh.hasOwnProperty(o)
                          ? l != null && o === "onScroll" && Gr("scroll", t)
                          : l != null && V6(t, o, l, s));
              }
            switch (r) {
              case "input":
                Vp(t), ID(t, n, !1);
                break;
              case "textarea":
                Vp(t), LD(t);
                break;
              case "option":
                n.value != null && t.setAttribute("value", "" + nu(n.value));
                break;
              case "select":
                (t.multiple = !!n.multiple),
                  (o = n.value),
                  o != null
                    ? Cc(t, !!n.multiple, o, !1)
                    : n.defaultValue != null &&
                      Cc(t, !!n.multiple, n.defaultValue, !0);
                break;
              default:
                typeof i.onClick == "function" && (t.onclick = zg);
            }
            switch (r) {
              case "button":
              case "input":
              case "select":
              case "textarea":
                n = !!n.autoFocus;
                break e;
              case "img":
                n = !0;
                break e;
              default:
                n = !1;
            }
          }
          n && (e.flags |= 4);
        }
        e.ref !== null && ((e.flags |= 512), (e.flags |= 2097152));
      }
      return xi(e), null;
    case 6:
      if (t && e.stateNode != null) LE(t, e, t.memoizedProps, n);
      else {
        if (typeof n != "string" && e.stateNode === null) throw Error(He(166));
        if (((r = Ku(Kh.current)), Ku(sa.current), Qp(e))) {
          if (
            ((n = e.stateNode),
            (r = e.memoizedProps),
            (n[Jo] = e),
            (o = n.nodeValue !== r) && ((t = ws), t !== null))
          )
            switch (t.tag) {
              case 3:
                Jp(n.nodeValue, r, (t.mode & 1) !== 0);
                break;
              case 5:
                t.memoizedProps.suppressHydrationWarning !== !0 &&
                  Jp(n.nodeValue, r, (t.mode & 1) !== 0);
            }
          o && (e.flags |= 4);
        } else
          (n = (r.nodeType === 9 ? r : r.ownerDocument).createTextNode(n)),
            (n[Jo] = e),
            (e.stateNode = n);
      }
      return xi(e), null;
    case 13:
      if (
        (Yr(an),
        (n = e.memoizedState),
        t === null ||
          (t.memoizedState !== null && t.memoizedState.dehydrated !== null))
      ) {
        if (en && vs !== null && e.mode & 1 && !(e.flags & 128))
          rE(), Wc(), (e.flags |= 98560), (o = !1);
        else if (((o = Qp(e)), n !== null && n.dehydrated !== null)) {
          if (t === null) {
            if (!o) throw Error(He(318));
            if (
              ((o = e.memoizedState),
              (o = o !== null ? o.dehydrated : null),
              !o)
            )
              throw Error(He(317));
            o[Jo] = e;
          } else
            Wc(), !(e.flags & 128) && (e.memoizedState = null), (e.flags |= 4);
          xi(e), (o = !1);
        } else xo !== null && (E3(xo), (xo = null)), (o = !0);
        if (!o) return e.flags & 65536 ? e : null;
      }
      return e.flags & 128
        ? ((e.lanes = r), e)
        : ((n = n !== null),
          n !== (t !== null && t.memoizedState !== null) &&
            n &&
            ((e.child.flags |= 8192),
            e.mode & 1 &&
              (t === null || an.current & 1 ? jn === 0 && (jn = 3) : C8())),
          e.updateQueue !== null && (e.flags |= 4),
          xi(e),
          null);
    case 4:
      return (
        Uc(), b3(t, e), t === null && Wh(e.stateNode.containerInfo), xi(e), null
      );
    case 10:
      return l8(e.type._context), xi(e), null;
    case 17:
      return is(e.type) && jg(), xi(e), null;
    case 19:
      if ((Yr(an), (o = e.memoizedState), o === null)) return xi(e), null;
      if (((n = (e.flags & 128) !== 0), (s = o.rendering), s === null))
        if (n) zf(o, !1);
        else {
          if (jn !== 0 || (t !== null && t.flags & 128))
            for (t = e.child; t !== null; ) {
              if (((s = Kg(t)), s !== null)) {
                for (
                  e.flags |= 128,
                    zf(o, !1),
                    n = s.updateQueue,
                    n !== null && ((e.updateQueue = n), (e.flags |= 4)),
                    e.subtreeFlags = 0,
                    n = r,
                    r = e.child;
                  r !== null;

                )
                  (o = r),
                    (t = n),
                    (o.flags &= 14680066),
                    (s = o.alternate),
                    s === null
                      ? ((o.childLanes = 0),
                        (o.lanes = t),
                        (o.child = null),
                        (o.subtreeFlags = 0),
                        (o.memoizedProps = null),
                        (o.memoizedState = null),
                        (o.updateQueue = null),
                        (o.dependencies = null),
                        (o.stateNode = null))
                      : ((o.childLanes = s.childLanes),
                        (o.lanes = s.lanes),
                        (o.child = s.child),
                        (o.subtreeFlags = 0),
                        (o.deletions = null),
                        (o.memoizedProps = s.memoizedProps),
                        (o.memoizedState = s.memoizedState),
                        (o.updateQueue = s.updateQueue),
                        (o.type = s.type),
                        (t = s.dependencies),
                        (o.dependencies =
                          t === null
                            ? null
                            : {
                                lanes: t.lanes,
                                firstContext: t.firstContext,
                              })),
                    (r = r.sibling);
                return Wr(an, (an.current & 1) | 2), e.child;
              }
              t = t.sibling;
            }
          o.tail !== null &&
            kn() > Kc &&
            ((e.flags |= 128), (n = !0), zf(o, !1), (e.lanes = 4194304));
        }
      else {
        if (!n)
          if (((t = Kg(s)), t !== null)) {
            if (
              ((e.flags |= 128),
              (n = !0),
              (r = t.updateQueue),
              r !== null && ((e.updateQueue = r), (e.flags |= 4)),
              zf(o, !0),
              o.tail === null && o.tailMode === "hidden" && !s.alternate && !en)
            )
              return xi(e), null;
          } else
            2 * kn() - o.renderingStartTime > Kc &&
              r !== 1073741824 &&
              ((e.flags |= 128), (n = !0), zf(o, !1), (e.lanes = 4194304));
        o.isBackwards
          ? ((s.sibling = e.child), (e.child = s))
          : ((r = o.last),
            r !== null ? (r.sibling = s) : (e.child = s),
            (o.last = s));
      }
      return o.tail !== null
        ? ((e = o.tail),
          (o.rendering = e),
          (o.tail = e.sibling),
          (o.renderingStartTime = kn()),
          (e.sibling = null),
          (r = an.current),
          Wr(an, n ? (r & 1) | 2 : r & 1),
          e)
        : (xi(e), null);
    case 22:
    case 23:
      return (
        S8(),
        (n = e.memoizedState !== null),
        t !== null && (t.memoizedState !== null) !== n && (e.flags |= 8192),
        n && e.mode & 1
          ? fs & 1073741824 && (xi(e), e.subtreeFlags & 6 && (e.flags |= 8192))
          : xi(e),
        null
      );
    case 24:
      return null;
    case 25:
      return null;
  }
  throw Error(He(156, e.tag));
}
function XN(t, e) {
  switch ((i8(e), e.tag)) {
    case 1:
      return (
        is(e.type) && jg(),
        (t = e.flags),
        t & 65536 ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 3:
      return (
        Uc(),
        Yr(ns),
        Yr(Fi),
        d8(),
        (t = e.flags),
        t & 65536 && !(t & 128) ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 5:
      return h8(e), null;
    case 13:
      if (
        (Yr(an), (t = e.memoizedState), t !== null && t.dehydrated !== null)
      ) {
        if (e.alternate === null) throw Error(He(340));
        Wc();
      }
      return (
        (t = e.flags), t & 65536 ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 19:
      return Yr(an), null;
    case 4:
      return Uc(), null;
    case 10:
      return l8(e.type._context), null;
    case 22:
    case 23:
      return S8(), null;
    case 24:
      return null;
    default:
      return null;
  }
}
var tm = !1,
  Ci = !1,
  JN = typeof WeakSet == "function" ? WeakSet : Set,
  pt = null;
function dc(t, e) {
  var r = t.ref;
  if (r !== null)
    if (typeof r == "function")
      try {
        r(null);
      } catch (n) {
        yn(t, e, n);
      }
    else r.current = null;
}
function D3(t, e, r) {
  try {
    r();
  } catch (n) {
    yn(t, e, n);
  }
}
var Fw = !1;
function QN(t, e) {
  if (((n3 = Ig), (t = VA()), r8(t))) {
    if ("selectionStart" in t)
      var r = { start: t.selectionStart, end: t.selectionEnd };
    else
      e: {
        r = ((r = t.ownerDocument) && r.defaultView) || window;
        var n = r.getSelection && r.getSelection();
        if (n && n.rangeCount !== 0) {
          r = n.anchorNode;
          var i = n.anchorOffset,
            o = n.focusNode;
          n = n.focusOffset;
          try {
            r.nodeType, o.nodeType;
          } catch {
            r = null;
            break e;
          }
          var s = 0,
            a = -1,
            l = -1,
            u = 0,
            c = 0,
            f = t,
            h = null;
          t: for (;;) {
            for (
              var d;
              f !== r || (i !== 0 && f.nodeType !== 3) || (a = s + i),
                f !== o || (n !== 0 && f.nodeType !== 3) || (l = s + n),
                f.nodeType === 3 && (s += f.nodeValue.length),
                (d = f.firstChild) !== null;

            )
              (h = f), (f = d);
            for (;;) {
              if (f === t) break t;
              if (
                (h === r && ++u === i && (a = s),
                h === o && ++c === n && (l = s),
                (d = f.nextSibling) !== null)
              )
                break;
              (f = h), (h = f.parentNode);
            }
            f = d;
          }
          r = a === -1 || l === -1 ? null : { start: a, end: l };
        } else r = null;
      }
    r = r || { start: 0, end: 0 };
  } else r = null;
  for (
    i3 = { focusedElem: t, selectionRange: r }, Ig = !1, pt = e;
    pt !== null;

  )
    if (((e = pt), (t = e.child), (e.subtreeFlags & 1028) !== 0 && t !== null))
      (t.return = e), (pt = t);
    else
      for (; pt !== null; ) {
        e = pt;
        try {
          var p = e.alternate;
          if (e.flags & 1024)
            switch (e.tag) {
              case 0:
              case 11:
              case 15:
                break;
              case 1:
                if (p !== null) {
                  var m = p.memoizedProps,
                    b = p.memoizedState,
                    D = e.stateNode,
                    k = D.getSnapshotBeforeUpdate(
                      e.elementType === e.type ? m : bo(e.type, m),
                      b
                    );
                  D.__reactInternalSnapshotBeforeUpdate = k;
                }
                break;
              case 3:
                var S = e.stateNode.containerInfo;
                S.nodeType === 1
                  ? (S.textContent = "")
                  : S.nodeType === 9 &&
                    S.documentElement &&
                    S.removeChild(S.documentElement);
                break;
              case 5:
              case 6:
              case 4:
              case 17:
                break;
              default:
                throw Error(He(163));
            }
        } catch (B) {
          yn(e, e.return, B);
        }
        if (((t = e.sibling), t !== null)) {
          (t.return = e.return), (pt = t);
          break;
        }
        pt = e.return;
      }
  return (p = Fw), (Fw = !1), p;
}
function mh(t, e, r) {
  var n = e.updateQueue;
  if (((n = n !== null ? n.lastEffect : null), n !== null)) {
    var i = (n = n.next);
    do {
      if ((i.tag & t) === t) {
        var o = i.destroy;
        (i.destroy = void 0), o !== void 0 && D3(e, r, o);
      }
      i = i.next;
    } while (i !== n);
  }
}
function mv(t, e) {
  if (
    ((e = e.updateQueue), (e = e !== null ? e.lastEffect : null), e !== null)
  ) {
    var r = (e = e.next);
    do {
      if ((r.tag & t) === t) {
        var n = r.create;
        r.destroy = n();
      }
      r = r.next;
    } while (r !== e);
  }
}
function w3(t) {
  var e = t.ref;
  if (e !== null) {
    var r = t.stateNode;
    switch (t.tag) {
      case 5:
        t = r;
        break;
      default:
        t = r;
    }
    typeof e == "function" ? e(t) : (e.current = t);
  }
}
function zE(t) {
  var e = t.alternate;
  e !== null && ((t.alternate = null), zE(e)),
    (t.child = null),
    (t.deletions = null),
    (t.sibling = null),
    t.tag === 5 &&
      ((e = t.stateNode),
      e !== null &&
        (delete e[Jo], delete e[Uh], delete e[a3], delete e[TN], delete e[PN])),
    (t.stateNode = null),
    (t.return = null),
    (t.dependencies = null),
    (t.memoizedProps = null),
    (t.memoizedState = null),
    (t.pendingProps = null),
    (t.stateNode = null),
    (t.updateQueue = null);
}
function jE(t) {
  return t.tag === 5 || t.tag === 3 || t.tag === 4;
}
function Mw(t) {
  e: for (;;) {
    for (; t.sibling === null; ) {
      if (t.return === null || jE(t.return)) return null;
      t = t.return;
    }
    for (
      t.sibling.return = t.return, t = t.sibling;
      t.tag !== 5 && t.tag !== 6 && t.tag !== 18;

    ) {
      if (t.flags & 2 || t.child === null || t.tag === 4) continue e;
      (t.child.return = t), (t = t.child);
    }
    if (!(t.flags & 2)) return t.stateNode;
  }
}
function x3(t, e, r) {
  var n = t.tag;
  if (n === 5 || n === 6)
    (t = t.stateNode),
      e
        ? r.nodeType === 8
          ? r.parentNode.insertBefore(t, e)
          : r.insertBefore(t, e)
        : (r.nodeType === 8
            ? ((e = r.parentNode), e.insertBefore(t, r))
            : ((e = r), e.appendChild(t)),
          (r = r._reactRootContainer),
          r != null || e.onclick !== null || (e.onclick = zg));
  else if (n !== 4 && ((t = t.child), t !== null))
    for (x3(t, e, r), t = t.sibling; t !== null; ) x3(t, e, r), (t = t.sibling);
}
function k3(t, e, r) {
  var n = t.tag;
  if (n === 5 || n === 6)
    (t = t.stateNode), e ? r.insertBefore(t, e) : r.appendChild(t);
  else if (n !== 4 && ((t = t.child), t !== null))
    for (k3(t, e, r), t = t.sibling; t !== null; ) k3(t, e, r), (t = t.sibling);
}
var si = null,
  Do = !1;
function xl(t, e, r) {
  for (r = r.child; r !== null; ) HE(t, e, r), (r = r.sibling);
}
function HE(t, e, r) {
  if (ia && typeof ia.onCommitFiberUnmount == "function")
    try {
      ia.onCommitFiberUnmount(av, r);
    } catch {}
  switch (r.tag) {
    case 5:
      Ci || dc(r, e);
    case 6:
      var n = si,
        i = Do;
      (si = null),
        xl(t, e, r),
        (si = n),
        (Do = i),
        si !== null &&
          (Do
            ? ((t = si),
              (r = r.stateNode),
              t.nodeType === 8 ? t.parentNode.removeChild(r) : t.removeChild(r))
            : si.removeChild(r.stateNode));
      break;
    case 18:
      si !== null &&
        (Do
          ? ((t = si),
            (r = r.stateNode),
            t.nodeType === 8
              ? a4(t.parentNode, r)
              : t.nodeType === 1 && a4(t, r),
            jh(t))
          : a4(si, r.stateNode));
      break;
    case 4:
      (n = si),
        (i = Do),
        (si = r.stateNode.containerInfo),
        (Do = !0),
        xl(t, e, r),
        (si = n),
        (Do = i);
      break;
    case 0:
    case 11:
    case 14:
    case 15:
      if (
        !Ci &&
        ((n = r.updateQueue), n !== null && ((n = n.lastEffect), n !== null))
      ) {
        i = n = n.next;
        do {
          var o = i,
            s = o.destroy;
          (o = o.tag),
            s !== void 0 && (o & 2 || o & 4) && D3(r, e, s),
            (i = i.next);
        } while (i !== n);
      }
      xl(t, e, r);
      break;
    case 1:
      if (
        !Ci &&
        (dc(r, e),
        (n = r.stateNode),
        typeof n.componentWillUnmount == "function")
      )
        try {
          (n.props = r.memoizedProps),
            (n.state = r.memoizedState),
            n.componentWillUnmount();
        } catch (a) {
          yn(r, e, a);
        }
      xl(t, e, r);
      break;
    case 21:
      xl(t, e, r);
      break;
    case 22:
      r.mode & 1
        ? ((Ci = (n = Ci) || r.memoizedState !== null), xl(t, e, r), (Ci = n))
        : xl(t, e, r);
      break;
    default:
      xl(t, e, r);
  }
}
function _w(t) {
  var e = t.updateQueue;
  if (e !== null) {
    t.updateQueue = null;
    var r = t.stateNode;
    r === null && (r = t.stateNode = new JN()),
      e.forEach(function (n) {
        var i = aL.bind(null, t, n);
        r.has(n) || (r.add(n), n.then(i, i));
      });
  }
}
function yo(t, e) {
  var r = e.deletions;
  if (r !== null)
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      try {
        var o = t,
          s = e,
          a = s;
        e: for (; a !== null; ) {
          switch (a.tag) {
            case 5:
              (si = a.stateNode), (Do = !1);
              break e;
            case 3:
              (si = a.stateNode.containerInfo), (Do = !0);
              break e;
            case 4:
              (si = a.stateNode.containerInfo), (Do = !0);
              break e;
          }
          a = a.return;
        }
        if (si === null) throw Error(He(160));
        HE(o, s, i), (si = null), (Do = !1);
        var l = i.alternate;
        l !== null && (l.return = null), (i.return = null);
      } catch (u) {
        yn(i, e, u);
      }
    }
  if (e.subtreeFlags & 12854)
    for (e = e.child; e !== null; ) VE(e, t), (e = e.sibling);
}
function VE(t, e) {
  var r = t.alternate,
    n = t.flags;
  switch (t.tag) {
    case 0:
    case 11:
    case 14:
    case 15:
      if ((yo(e, t), No(t), n & 4)) {
        try {
          mh(3, t, t.return), mv(3, t);
        } catch (m) {
          yn(t, t.return, m);
        }
        try {
          mh(5, t, t.return);
        } catch (m) {
          yn(t, t.return, m);
        }
      }
      break;
    case 1:
      yo(e, t), No(t), n & 512 && r !== null && dc(r, r.return);
      break;
    case 5:
      if (
        (yo(e, t),
        No(t),
        n & 512 && r !== null && dc(r, r.return),
        t.flags & 32)
      ) {
        var i = t.stateNode;
        try {
          Ih(i, "");
        } catch (m) {
          yn(t, t.return, m);
        }
      }
      if (n & 4 && ((i = t.stateNode), i != null)) {
        var o = t.memoizedProps,
          s = r !== null ? r.memoizedProps : o,
          a = t.type,
          l = t.updateQueue;
        if (((t.updateQueue = null), l !== null))
          try {
            a === "input" && o.type === "radio" && o.name != null && cA(i, o),
              Gy(a, s);
            var u = Gy(a, o);
            for (s = 0; s < l.length; s += 2) {
              var c = l[s],
                f = l[s + 1];
              c === "style"
                ? mA(i, f)
                : c === "dangerouslySetInnerHTML"
                  ? dA(i, f)
                  : c === "children"
                    ? Ih(i, f)
                    : V6(i, c, f, u);
            }
            switch (a) {
              case "input":
                Hy(i, o);
                break;
              case "textarea":
                fA(i, o);
                break;
              case "select":
                var h = i._wrapperState.wasMultiple;
                i._wrapperState.wasMultiple = !!o.multiple;
                var d = o.value;
                d != null
                  ? Cc(i, !!o.multiple, d, !1)
                  : h !== !!o.multiple &&
                    (o.defaultValue != null
                      ? Cc(i, !!o.multiple, o.defaultValue, !0)
                      : Cc(i, !!o.multiple, o.multiple ? [] : "", !1));
            }
            i[Uh] = o;
          } catch (m) {
            yn(t, t.return, m);
          }
      }
      break;
    case 6:
      if ((yo(e, t), No(t), n & 4)) {
        if (t.stateNode === null) throw Error(He(162));
        (i = t.stateNode), (o = t.memoizedProps);
        try {
          i.nodeValue = o;
        } catch (m) {
          yn(t, t.return, m);
        }
      }
      break;
    case 3:
      if (
        (yo(e, t), No(t), n & 4 && r !== null && r.memoizedState.isDehydrated)
      )
        try {
          jh(e.containerInfo);
        } catch (m) {
          yn(t, t.return, m);
        }
      break;
    case 4:
      yo(e, t), No(t);
      break;
    case 13:
      yo(e, t),
        No(t),
        (i = t.child),
        i.flags & 8192 &&
          ((o = i.memoizedState !== null),
          (i.stateNode.isHidden = o),
          !o ||
            (i.alternate !== null && i.alternate.memoizedState !== null) ||
            (x8 = kn())),
        n & 4 && _w(t);
      break;
    case 22:
      if (
        ((c = r !== null && r.memoizedState !== null),
        t.mode & 1 ? ((Ci = (u = Ci) || c), yo(e, t), (Ci = u)) : yo(e, t),
        No(t),
        n & 8192)
      ) {
        if (
          ((u = t.memoizedState !== null),
          (t.stateNode.isHidden = u) && !c && t.mode & 1)
        )
          for (pt = t, c = t.child; c !== null; ) {
            for (f = pt = c; pt !== null; ) {
              switch (((h = pt), (d = h.child), h.tag)) {
                case 0:
                case 11:
                case 14:
                case 15:
                  mh(4, h, h.return);
                  break;
                case 1:
                  dc(h, h.return);
                  var p = h.stateNode;
                  if (typeof p.componentWillUnmount == "function") {
                    (n = h), (r = h.return);
                    try {
                      (e = n),
                        (p.props = e.memoizedProps),
                        (p.state = e.memoizedState),
                        p.componentWillUnmount();
                    } catch (m) {
                      yn(n, r, m);
                    }
                  }
                  break;
                case 5:
                  dc(h, h.return);
                  break;
                case 22:
                  if (h.memoizedState !== null) {
                    Ow(f);
                    continue;
                  }
              }
              d !== null ? ((d.return = h), (pt = d)) : Ow(f);
            }
            c = c.sibling;
          }
        e: for (c = null, f = t; ; ) {
          if (f.tag === 5) {
            if (c === null) {
              c = f;
              try {
                (i = f.stateNode),
                  u
                    ? ((o = i.style),
                      typeof o.setProperty == "function"
                        ? o.setProperty("display", "none", "important")
                        : (o.display = "none"))
                    : ((a = f.stateNode),
                      (l = f.memoizedProps.style),
                      (s =
                        l != null && l.hasOwnProperty("display")
                          ? l.display
                          : null),
                      (a.style.display = pA("display", s)));
              } catch (m) {
                yn(t, t.return, m);
              }
            }
          } else if (f.tag === 6) {
            if (c === null)
              try {
                f.stateNode.nodeValue = u ? "" : f.memoizedProps;
              } catch (m) {
                yn(t, t.return, m);
              }
          } else if (
            ((f.tag !== 22 && f.tag !== 23) ||
              f.memoizedState === null ||
              f === t) &&
            f.child !== null
          ) {
            (f.child.return = f), (f = f.child);
            continue;
          }
          if (f === t) break e;
          for (; f.sibling === null; ) {
            if (f.return === null || f.return === t) break e;
            c === f && (c = null), (f = f.return);
          }
          c === f && (c = null), (f.sibling.return = f.return), (f = f.sibling);
        }
      }
      break;
    case 19:
      yo(e, t), No(t), n & 4 && _w(t);
      break;
    case 21:
      break;
    default:
      yo(e, t), No(t);
  }
}
function No(t) {
  var e = t.flags;
  if (e & 2) {
    try {
      e: {
        for (var r = t.return; r !== null; ) {
          if (jE(r)) {
            var n = r;
            break e;
          }
          r = r.return;
        }
        throw Error(He(160));
      }
      switch (n.tag) {
        case 5:
          var i = n.stateNode;
          n.flags & 32 && (Ih(i, ""), (n.flags &= -33));
          var o = Mw(t);
          k3(t, o, i);
          break;
        case 3:
        case 4:
          var s = n.stateNode.containerInfo,
            a = Mw(t);
          x3(t, a, s);
          break;
        default:
          throw Error(He(161));
      }
    } catch (l) {
      yn(t, t.return, l);
    }
    t.flags &= -3;
  }
  e & 4096 && (t.flags &= -4097);
}
function ZN(t, e, r) {
  (pt = t), WE(t);
}
function WE(t, e, r) {
  for (var n = (t.mode & 1) !== 0; pt !== null; ) {
    var i = pt,
      o = i.child;
    if (i.tag === 22 && n) {
      var s = i.memoizedState !== null || tm;
      if (!s) {
        var a = i.alternate,
          l = (a !== null && a.memoizedState !== null) || Ci;
        a = tm;
        var u = Ci;
        if (((tm = s), (Ci = l) && !u))
          for (pt = i; pt !== null; )
            (s = pt),
              (l = s.child),
              s.tag === 22 && s.memoizedState !== null
                ? Bw(i)
                : l !== null
                  ? ((l.return = s), (pt = l))
                  : Bw(i);
        for (; o !== null; ) (pt = o), WE(o), (o = o.sibling);
        (pt = i), (tm = a), (Ci = u);
      }
      $w(t);
    } else
      i.subtreeFlags & 8772 && o !== null ? ((o.return = i), (pt = o)) : $w(t);
  }
}
function $w(t) {
  for (; pt !== null; ) {
    var e = pt;
    if (e.flags & 8772) {
      var r = e.alternate;
      try {
        if (e.flags & 8772)
          switch (e.tag) {
            case 0:
            case 11:
            case 15:
              Ci || mv(5, e);
              break;
            case 1:
              var n = e.stateNode;
              if (e.flags & 4 && !Ci)
                if (r === null) n.componentDidMount();
                else {
                  var i =
                    e.elementType === e.type
                      ? r.memoizedProps
                      : bo(e.type, r.memoizedProps);
                  n.componentDidUpdate(
                    i,
                    r.memoizedState,
                    n.__reactInternalSnapshotBeforeUpdate
                  );
                }
              var o = e.updateQueue;
              o !== null && pw(e, o, n);
              break;
            case 3:
              var s = e.updateQueue;
              if (s !== null) {
                if (((r = null), e.child !== null))
                  switch (e.child.tag) {
                    case 5:
                      r = e.child.stateNode;
                      break;
                    case 1:
                      r = e.child.stateNode;
                  }
                pw(e, s, r);
              }
              break;
            case 5:
              var a = e.stateNode;
              if (r === null && e.flags & 4) {
                r = a;
                var l = e.memoizedProps;
                switch (e.type) {
                  case "button":
                  case "input":
                  case "select":
                  case "textarea":
                    l.autoFocus && r.focus();
                    break;
                  case "img":
                    l.src && (r.src = l.src);
                }
              }
              break;
            case 6:
              break;
            case 4:
              break;
            case 12:
              break;
            case 13:
              if (e.memoizedState === null) {
                var u = e.alternate;
                if (u !== null) {
                  var c = u.memoizedState;
                  if (c !== null) {
                    var f = c.dehydrated;
                    f !== null && jh(f);
                  }
                }
              }
              break;
            case 19:
            case 17:
            case 21:
            case 22:
            case 23:
            case 25:
              break;
            default:
              throw Error(He(163));
          }
        Ci || (e.flags & 512 && w3(e));
      } catch (h) {
        yn(e, e.return, h);
      }
    }
    if (e === t) {
      pt = null;
      break;
    }
    if (((r = e.sibling), r !== null)) {
      (r.return = e.return), (pt = r);
      break;
    }
    pt = e.return;
  }
}
function Ow(t) {
  for (; pt !== null; ) {
    var e = pt;
    if (e === t) {
      pt = null;
      break;
    }
    var r = e.sibling;
    if (r !== null) {
      (r.return = e.return), (pt = r);
      break;
    }
    pt = e.return;
  }
}
function Bw(t) {
  for (; pt !== null; ) {
    var e = pt;
    try {
      switch (e.tag) {
        case 0:
        case 11:
        case 15:
          var r = e.return;
          try {
            mv(4, e);
          } catch (l) {
            yn(e, r, l);
          }
          break;
        case 1:
          var n = e.stateNode;
          if (typeof n.componentDidMount == "function") {
            var i = e.return;
            try {
              n.componentDidMount();
            } catch (l) {
              yn(e, i, l);
            }
          }
          var o = e.return;
          try {
            w3(e);
          } catch (l) {
            yn(e, o, l);
          }
          break;
        case 5:
          var s = e.return;
          try {
            w3(e);
          } catch (l) {
            yn(e, s, l);
          }
      }
    } catch (l) {
      yn(e, e.return, l);
    }
    if (e === t) {
      pt = null;
      break;
    }
    var a = e.sibling;
    if (a !== null) {
      (a.return = e.return), (pt = a);
      break;
    }
    pt = e.return;
  }
}
var eL = Math.ceil,
  Jg = rl.ReactCurrentDispatcher,
  D8 = rl.ReactCurrentOwner,
  Zs = rl.ReactCurrentBatchConfig,
  pr = 0,
  ei = null,
  Tn = null,
  pi = 0,
  fs = 0,
  pc = bu(0),
  jn = 0,
  Qh = null,
  a0 = 0,
  gv = 0,
  w8 = 0,
  gh = null,
  Qi = null,
  x8 = 0,
  Kc = 1 / 0,
  Fa = null,
  Qg = !1,
  S3 = null,
  Ul = null,
  rm = !1,
  Tl = null,
  Zg = 0,
  vh = 0,
  C3 = null,
  ng = -1,
  ig = 0;
function Ii() {
  return pr & 6 ? kn() : ng !== -1 ? ng : (ng = kn());
}
function Gl(t) {
  return t.mode & 1
    ? pr & 2 && pi !== 0
      ? pi & -pi
      : IN.transition !== null
        ? (ig === 0 && (ig = EA()), ig)
        : ((t = Mr),
          t !== 0 || ((t = window.event), (t = t === void 0 ? 16 : TA(t.type))),
          t)
    : 1;
}
function Co(t, e, r, n) {
  if (50 < vh) throw ((vh = 0), (C3 = null), Error(He(185)));
  Ud(t, r, n),
    (!(pr & 2) || t !== ei) &&
      (t === ei && (!(pr & 2) && (gv |= r), jn === 4 && _l(t, pi)),
      ss(t, n),
      r === 1 && pr === 0 && !(e.mode & 1) && ((Kc = kn() + 500), hv && Du()));
}
function ss(t, e) {
  var r = t.callbackNode;
  II(t, e);
  var n = Rg(t, t === ei ? pi : 0);
  if (n === 0)
    r !== null && HD(r), (t.callbackNode = null), (t.callbackPriority = 0);
  else if (((e = n & -n), t.callbackPriority !== e)) {
    if ((r != null && HD(r), e === 1))
      t.tag === 0 ? RN(Tw.bind(null, t)) : ZA(Tw.bind(null, t)),
        ON(function () {
          !(pr & 6) && Du();
        }),
        (r = null);
    else {
      switch (FA(n)) {
        case 1:
          r = K6;
          break;
        case 4:
          r = CA;
          break;
        case 16:
          r = Pg;
          break;
        case 536870912:
          r = AA;
          break;
        default:
          r = Pg;
      }
      r = QE(r, qE.bind(null, t));
    }
    (t.callbackPriority = e), (t.callbackNode = r);
  }
}
function qE(t, e) {
  if (((ng = -1), (ig = 0), pr & 6)) throw Error(He(327));
  var r = t.callbackNode;
  if (_c() && t.callbackNode !== r) return null;
  var n = Rg(t, t === ei ? pi : 0);
  if (n === 0) return null;
  if (n & 30 || n & t.expiredLanes || e) e = e1(t, n);
  else {
    e = n;
    var i = pr;
    pr |= 2;
    var o = GE();
    (ei !== t || pi !== e) && ((Fa = null), (Kc = kn() + 500), Zu(t, e));
    do
      try {
        nL();
        break;
      } catch (a) {
        UE(t, a);
      }
    while (!0);
    a8(),
      (Jg.current = o),
      (pr = i),
      Tn !== null ? (e = 0) : ((ei = null), (pi = 0), (e = jn));
  }
  if (e !== 0) {
    if (
      (e === 2 && ((i = Qy(t)), i !== 0 && ((n = i), (e = A3(t, i)))), e === 1)
    )
      throw ((r = Qh), Zu(t, 0), _l(t, n), ss(t, kn()), r);
    if (e === 6) _l(t, n);
    else {
      if (
        ((i = t.current.alternate),
        !(n & 30) &&
          !tL(i) &&
          ((e = e1(t, n)),
          e === 2 && ((o = Qy(t)), o !== 0 && ((n = o), (e = A3(t, o)))),
          e === 1))
      )
        throw ((r = Qh), Zu(t, 0), _l(t, n), ss(t, kn()), r);
      switch (((t.finishedWork = i), (t.finishedLanes = n), e)) {
        case 0:
        case 1:
          throw Error(He(345));
        case 2:
          zu(t, Qi, Fa);
          break;
        case 3:
          if (
            (_l(t, n), (n & 130023424) === n && ((e = x8 + 500 - kn()), 10 < e))
          ) {
            if (Rg(t, 0) !== 0) break;
            if (((i = t.suspendedLanes), (i & n) !== n)) {
              Ii(), (t.pingedLanes |= t.suspendedLanes & i);
              break;
            }
            t.timeoutHandle = o3(zu.bind(null, t, Qi, Fa), e);
            break;
          }
          zu(t, Qi, Fa);
          break;
        case 4:
          if ((_l(t, n), (n & 4194240) === n)) break;
          for (e = t.eventTimes, i = -1; 0 < n; ) {
            var s = 31 - So(n);
            (o = 1 << s), (s = e[s]), s > i && (i = s), (n &= ~o);
          }
          if (
            ((n = i),
            (n = kn() - n),
            (n =
              (120 > n
                ? 120
                : 480 > n
                  ? 480
                  : 1080 > n
                    ? 1080
                    : 1920 > n
                      ? 1920
                      : 3e3 > n
                        ? 3e3
                        : 4320 > n
                          ? 4320
                          : 1960 * eL(n / 1960)) - n),
            10 < n)
          ) {
            t.timeoutHandle = o3(zu.bind(null, t, Qi, Fa), n);
            break;
          }
          zu(t, Qi, Fa);
          break;
        case 5:
          zu(t, Qi, Fa);
          break;
        default:
          throw Error(He(329));
      }
    }
  }
  return ss(t, kn()), t.callbackNode === r ? qE.bind(null, t) : null;
}
function A3(t, e) {
  var r = gh;
  return (
    t.current.memoizedState.isDehydrated && (Zu(t, e).flags |= 256),
    (t = e1(t, e)),
    t !== 2 && ((e = Qi), (Qi = r), e !== null && E3(e)),
    t
  );
}
function E3(t) {
  Qi === null ? (Qi = t) : Qi.push.apply(Qi, t);
}
function tL(t) {
  for (var e = t; ; ) {
    if (e.flags & 16384) {
      var r = e.updateQueue;
      if (r !== null && ((r = r.stores), r !== null))
        for (var n = 0; n < r.length; n++) {
          var i = r[n],
            o = i.getSnapshot;
          i = i.value;
          try {
            if (!Mo(o(), i)) return !1;
          } catch {
            return !1;
          }
        }
    }
    if (((r = e.child), e.subtreeFlags & 16384 && r !== null))
      (r.return = e), (e = r);
    else {
      if (e === t) break;
      for (; e.sibling === null; ) {
        if (e.return === null || e.return === t) return !0;
        e = e.return;
      }
      (e.sibling.return = e.return), (e = e.sibling);
    }
  }
  return !0;
}
function _l(t, e) {
  for (
    e &= ~w8,
      e &= ~gv,
      t.suspendedLanes |= e,
      t.pingedLanes &= ~e,
      t = t.expirationTimes;
    0 < e;

  ) {
    var r = 31 - So(e),
      n = 1 << r;
    (t[r] = -1), (e &= ~n);
  }
}
function Tw(t) {
  if (pr & 6) throw Error(He(327));
  _c();
  var e = Rg(t, 0);
  if (!(e & 1)) return ss(t, kn()), null;
  var r = e1(t, e);
  if (t.tag !== 0 && r === 2) {
    var n = Qy(t);
    n !== 0 && ((e = n), (r = A3(t, n)));
  }
  if (r === 1) throw ((r = Qh), Zu(t, 0), _l(t, e), ss(t, kn()), r);
  if (r === 6) throw Error(He(345));
  return (
    (t.finishedWork = t.current.alternate),
    (t.finishedLanes = e),
    zu(t, Qi, Fa),
    ss(t, kn()),
    null
  );
}
function k8(t, e) {
  var r = pr;
  pr |= 1;
  try {
    return t(e);
  } finally {
    (pr = r), pr === 0 && ((Kc = kn() + 500), hv && Du());
  }
}
function l0(t) {
  Tl !== null && Tl.tag === 0 && !(pr & 6) && _c();
  var e = pr;
  pr |= 1;
  var r = Zs.transition,
    n = Mr;
  try {
    if (((Zs.transition = null), (Mr = 1), t)) return t();
  } finally {
    (Mr = n), (Zs.transition = r), (pr = e), !(pr & 6) && Du();
  }
}
function S8() {
  (fs = pc.current), Yr(pc);
}
function Zu(t, e) {
  (t.finishedWork = null), (t.finishedLanes = 0);
  var r = t.timeoutHandle;
  if ((r !== -1 && ((t.timeoutHandle = -1), $N(r)), Tn !== null))
    for (r = Tn.return; r !== null; ) {
      var n = r;
      switch ((i8(n), n.tag)) {
        case 1:
          (n = n.type.childContextTypes), n != null && jg();
          break;
        case 3:
          Uc(), Yr(ns), Yr(Fi), d8();
          break;
        case 5:
          h8(n);
          break;
        case 4:
          Uc();
          break;
        case 13:
          Yr(an);
          break;
        case 19:
          Yr(an);
          break;
        case 10:
          l8(n.type._context);
          break;
        case 22:
        case 23:
          S8();
      }
      r = r.return;
    }
  if (
    ((ei = t),
    (Tn = t = Kl(t.current, null)),
    (pi = fs = e),
    (jn = 0),
    (Qh = null),
    (w8 = gv = a0 = 0),
    (Qi = gh = null),
    Gu !== null)
  ) {
    for (e = 0; e < Gu.length; e++)
      if (((r = Gu[e]), (n = r.interleaved), n !== null)) {
        r.interleaved = null;
        var i = n.next,
          o = r.pending;
        if (o !== null) {
          var s = o.next;
          (o.next = i), (n.next = s);
        }
        r.pending = n;
      }
    Gu = null;
  }
  return t;
}
function UE(t, e) {
  do {
    var r = Tn;
    try {
      if ((a8(), (eg.current = Xg), Yg)) {
        for (var n = cn.memoizedState; n !== null; ) {
          var i = n.queue;
          i !== null && (i.pending = null), (n = n.next);
        }
        Yg = !1;
      }
      if (
        ((o0 = 0),
        (Xn = Ln = cn = null),
        (ph = !1),
        (Yh = 0),
        (D8.current = null),
        r === null || r.return === null)
      ) {
        (jn = 1), (Qh = e), (Tn = null);
        break;
      }
      e: {
        var o = t,
          s = r.return,
          a = r,
          l = e;
        if (
          ((e = pi),
          (a.flags |= 32768),
          l !== null && typeof l == "object" && typeof l.then == "function")
        ) {
          var u = l,
            c = a,
            f = c.tag;
          if (!(c.mode & 1) && (f === 0 || f === 11 || f === 15)) {
            var h = c.alternate;
            h
              ? ((c.updateQueue = h.updateQueue),
                (c.memoizedState = h.memoizedState),
                (c.lanes = h.lanes))
              : ((c.updateQueue = null), (c.memoizedState = null));
          }
          var d = ww(s);
          if (d !== null) {
            (d.flags &= -257),
              xw(d, s, a, o, e),
              d.mode & 1 && Dw(o, u, e),
              (e = d),
              (l = u);
            var p = e.updateQueue;
            if (p === null) {
              var m = new Set();
              m.add(l), (e.updateQueue = m);
            } else p.add(l);
            break e;
          } else {
            if (!(e & 1)) {
              Dw(o, u, e), C8();
              break e;
            }
            l = Error(He(426));
          }
        } else if (en && a.mode & 1) {
          var b = ww(s);
          if (b !== null) {
            !(b.flags & 65536) && (b.flags |= 256),
              xw(b, s, a, o, e),
              s8(Gc(l, a));
            break e;
          }
        }
        (o = l = Gc(l, a)),
          jn !== 4 && (jn = 2),
          gh === null ? (gh = [o]) : gh.push(o),
          (o = s);
        do {
          switch (o.tag) {
            case 3:
              (o.flags |= 65536), (e &= -e), (o.lanes |= e);
              var D = ME(o, l, e);
              dw(o, D);
              break e;
            case 1:
              a = l;
              var k = o.type,
                S = o.stateNode;
              if (
                !(o.flags & 128) &&
                (typeof k.getDerivedStateFromError == "function" ||
                  (S !== null &&
                    typeof S.componentDidCatch == "function" &&
                    (Ul === null || !Ul.has(S))))
              ) {
                (o.flags |= 65536), (e &= -e), (o.lanes |= e);
                var B = _E(o, a, e);
                dw(o, B);
                break e;
              }
          }
          o = o.return;
        } while (o !== null);
      }
      YE(r);
    } catch ($) {
      (e = $), Tn === r && r !== null && (Tn = r = r.return);
      continue;
    }
    break;
  } while (!0);
}
function GE() {
  var t = Jg.current;
  return (Jg.current = Xg), t === null ? Xg : t;
}
function C8() {
  (jn === 0 || jn === 3 || jn === 2) && (jn = 4),
    ei === null || (!(a0 & 268435455) && !(gv & 268435455)) || _l(ei, pi);
}
function e1(t, e) {
  var r = pr;
  pr |= 2;
  var n = GE();
  (ei !== t || pi !== e) && ((Fa = null), Zu(t, e));
  do
    try {
      rL();
      break;
    } catch (i) {
      UE(t, i);
    }
  while (!0);
  if ((a8(), (pr = r), (Jg.current = n), Tn !== null)) throw Error(He(261));
  return (ei = null), (pi = 0), jn;
}
function rL() {
  for (; Tn !== null; ) KE(Tn);
}
function nL() {
  for (; Tn !== null && !FI(); ) KE(Tn);
}
function KE(t) {
  var e = JE(t.alternate, t, fs);
  (t.memoizedProps = t.pendingProps),
    e === null ? YE(t) : (Tn = e),
    (D8.current = null);
}
function YE(t) {
  var e = t;
  do {
    var r = e.alternate;
    if (((t = e.return), e.flags & 32768)) {
      if (((r = XN(r, e)), r !== null)) {
        (r.flags &= 32767), (Tn = r);
        return;
      }
      if (t !== null)
        (t.flags |= 32768), (t.subtreeFlags = 0), (t.deletions = null);
      else {
        (jn = 6), (Tn = null);
        return;
      }
    } else if (((r = YN(r, e, fs)), r !== null)) {
      Tn = r;
      return;
    }
    if (((e = e.sibling), e !== null)) {
      Tn = e;
      return;
    }
    Tn = e = t;
  } while (e !== null);
  jn === 0 && (jn = 5);
}
function zu(t, e, r) {
  var n = Mr,
    i = Zs.transition;
  try {
    (Zs.transition = null), (Mr = 1), iL(t, e, r, n);
  } finally {
    (Zs.transition = i), (Mr = n);
  }
  return null;
}
function iL(t, e, r, n) {
  do _c();
  while (Tl !== null);
  if (pr & 6) throw Error(He(327));
  r = t.finishedWork;
  var i = t.finishedLanes;
  if (r === null) return null;
  if (((t.finishedWork = null), (t.finishedLanes = 0), r === t.current))
    throw Error(He(177));
  (t.callbackNode = null), (t.callbackPriority = 0);
  var o = r.lanes | r.childLanes;
  if (
    (NI(t, o),
    t === ei && ((Tn = ei = null), (pi = 0)),
    (!(r.subtreeFlags & 2064) && !(r.flags & 2064)) ||
      rm ||
      ((rm = !0),
      QE(Pg, function () {
        return _c(), null;
      })),
    (o = (r.flags & 15990) !== 0),
    r.subtreeFlags & 15990 || o)
  ) {
    (o = Zs.transition), (Zs.transition = null);
    var s = Mr;
    Mr = 1;
    var a = pr;
    (pr |= 4),
      (D8.current = null),
      QN(t, r),
      VE(r, t),
      SN(i3),
      (Ig = !!n3),
      (i3 = n3 = null),
      (t.current = r),
      ZN(r),
      MI(),
      (pr = a),
      (Mr = s),
      (Zs.transition = o);
  } else t.current = r;
  if (
    (rm && ((rm = !1), (Tl = t), (Zg = i)),
    (o = t.pendingLanes),
    o === 0 && (Ul = null),
    OI(r.stateNode),
    ss(t, kn()),
    e !== null)
  )
    for (n = t.onRecoverableError, r = 0; r < e.length; r++)
      (i = e[r]), n(i.value, { componentStack: i.stack, digest: i.digest });
  if (Qg) throw ((Qg = !1), (t = S3), (S3 = null), t);
  return (
    Zg & 1 && t.tag !== 0 && _c(),
    (o = t.pendingLanes),
    o & 1 ? (t === C3 ? vh++ : ((vh = 0), (C3 = t))) : (vh = 0),
    Du(),
    null
  );
}
function _c() {
  if (Tl !== null) {
    var t = FA(Zg),
      e = Zs.transition,
      r = Mr;
    try {
      if (((Zs.transition = null), (Mr = 16 > t ? 16 : t), Tl === null))
        var n = !1;
      else {
        if (((t = Tl), (Tl = null), (Zg = 0), pr & 6)) throw Error(He(331));
        var i = pr;
        for (pr |= 4, pt = t.current; pt !== null; ) {
          var o = pt,
            s = o.child;
          if (pt.flags & 16) {
            var a = o.deletions;
            if (a !== null) {
              for (var l = 0; l < a.length; l++) {
                var u = a[l];
                for (pt = u; pt !== null; ) {
                  var c = pt;
                  switch (c.tag) {
                    case 0:
                    case 11:
                    case 15:
                      mh(8, c, o);
                  }
                  var f = c.child;
                  if (f !== null) (f.return = c), (pt = f);
                  else
                    for (; pt !== null; ) {
                      c = pt;
                      var h = c.sibling,
                        d = c.return;
                      if ((zE(c), c === u)) {
                        pt = null;
                        break;
                      }
                      if (h !== null) {
                        (h.return = d), (pt = h);
                        break;
                      }
                      pt = d;
                    }
                }
              }
              var p = o.alternate;
              if (p !== null) {
                var m = p.child;
                if (m !== null) {
                  p.child = null;
                  do {
                    var b = m.sibling;
                    (m.sibling = null), (m = b);
                  } while (m !== null);
                }
              }
              pt = o;
            }
          }
          if (o.subtreeFlags & 2064 && s !== null) (s.return = o), (pt = s);
          else
            e: for (; pt !== null; ) {
              if (((o = pt), o.flags & 2048))
                switch (o.tag) {
                  case 0:
                  case 11:
                  case 15:
                    mh(9, o, o.return);
                }
              var D = o.sibling;
              if (D !== null) {
                (D.return = o.return), (pt = D);
                break e;
              }
              pt = o.return;
            }
        }
        var k = t.current;
        for (pt = k; pt !== null; ) {
          s = pt;
          var S = s.child;
          if (s.subtreeFlags & 2064 && S !== null) (S.return = s), (pt = S);
          else
            e: for (s = k; pt !== null; ) {
              if (((a = pt), a.flags & 2048))
                try {
                  switch (a.tag) {
                    case 0:
                    case 11:
                    case 15:
                      mv(9, a);
                  }
                } catch ($) {
                  yn(a, a.return, $);
                }
              if (a === s) {
                pt = null;
                break e;
              }
              var B = a.sibling;
              if (B !== null) {
                (B.return = a.return), (pt = B);
                break e;
              }
              pt = a.return;
            }
        }
        if (
          ((pr = i), Du(), ia && typeof ia.onPostCommitFiberRoot == "function")
        )
          try {
            ia.onPostCommitFiberRoot(av, t);
          } catch {}
        n = !0;
      }
      return n;
    } finally {
      (Mr = r), (Zs.transition = e);
    }
  }
  return !1;
}
function Pw(t, e, r) {
  (e = Gc(r, e)),
    (e = ME(t, e, 1)),
    (t = ql(t, e, 1)),
    (e = Ii()),
    t !== null && (Ud(t, 1, e), ss(t, e));
}
function yn(t, e, r) {
  if (t.tag === 3) Pw(t, t, r);
  else
    for (; e !== null; ) {
      if (e.tag === 3) {
        Pw(e, t, r);
        break;
      } else if (e.tag === 1) {
        var n = e.stateNode;
        if (
          typeof e.type.getDerivedStateFromError == "function" ||
          (typeof n.componentDidCatch == "function" &&
            (Ul === null || !Ul.has(n)))
        ) {
          (t = Gc(r, t)),
            (t = _E(e, t, 1)),
            (e = ql(e, t, 1)),
            (t = Ii()),
            e !== null && (Ud(e, 1, t), ss(e, t));
          break;
        }
      }
      e = e.return;
    }
}
function sL(t, e, r) {
  var n = t.pingCache;
  n !== null && n.delete(e),
    (e = Ii()),
    (t.pingedLanes |= t.suspendedLanes & r),
    ei === t &&
      (pi & r) === r &&
      (jn === 4 || (jn === 3 && (pi & 130023424) === pi && 500 > kn() - x8)
        ? Zu(t, 0)
        : (w8 |= r)),
    ss(t, e);
}
function XE(t, e) {
  e === 0 &&
    (t.mode & 1
      ? ((e = Up), (Up <<= 1), !(Up & 130023424) && (Up = 4194304))
      : (e = 1));
  var r = Ii();
  (t = Wa(t, e)), t !== null && (Ud(t, e, r), ss(t, r));
}
function oL(t) {
  var e = t.memoizedState,
    r = 0;
  e !== null && (r = e.retryLane), XE(t, r);
}
function aL(t, e) {
  var r = 0;
  switch (t.tag) {
    case 13:
      var n = t.stateNode,
        i = t.memoizedState;
      i !== null && (r = i.retryLane);
      break;
    case 19:
      n = t.stateNode;
      break;
    default:
      throw Error(He(314));
  }
  n !== null && n.delete(e), XE(t, r);
}
var JE;
JE = function (t, e, r) {
  if (t !== null)
    if (t.memoizedProps !== e.pendingProps || ns.current) es = !0;
    else {
      if (!(t.lanes & r) && !(e.flags & 128)) return (es = !1), KN(t, e, r);
      es = !!(t.flags & 131072);
    }
  else (es = !1), en && e.flags & 1048576 && eE(e, Wg, e.index);
  switch (((e.lanes = 0), e.tag)) {
    case 2:
      var n = e.type;
      rg(t, e), (t = e.pendingProps);
      var i = Vc(e, Fi.current);
      Mc(e, r), (i = m8(null, e, n, t, i, r));
      var o = g8();
      return (
        (e.flags |= 1),
        typeof i == "object" &&
        i !== null &&
        typeof i.render == "function" &&
        i.$$typeof === void 0
          ? ((e.tag = 1),
            (e.memoizedState = null),
            (e.updateQueue = null),
            is(n) ? ((o = !0), Hg(e)) : (o = !1),
            (e.memoizedState =
              i.state !== null && i.state !== void 0 ? i.state : null),
            c8(e),
            (i.updater = dv),
            (e.stateNode = i),
            (i._reactInternals = e),
            d3(e, n, t, r),
            (e = g3(null, e, n, !0, o, r)))
          : ((e.tag = 0), en && o && n8(e), Bi(null, e, i, r), (e = e.child)),
        e
      );
    case 16:
      n = e.elementType;
      e: {
        switch (
          (rg(t, e),
          (t = e.pendingProps),
          (i = n._init),
          (n = i(n._payload)),
          (e.type = n),
          (i = e.tag = uL(n)),
          (t = bo(n, t)),
          i)
        ) {
          case 0:
            e = m3(null, e, n, t, r);
            break e;
          case 1:
            e = Cw(null, e, n, t, r);
            break e;
          case 11:
            e = kw(null, e, n, t, r);
            break e;
          case 14:
            e = Sw(null, e, n, bo(n.type, t), r);
            break e;
        }
        throw Error(He(306, n, ""));
      }
      return e;
    case 0:
      return (
        (n = e.type),
        (i = e.pendingProps),
        (i = e.elementType === n ? i : bo(n, i)),
        m3(t, e, n, i, r)
      );
    case 1:
      return (
        (n = e.type),
        (i = e.pendingProps),
        (i = e.elementType === n ? i : bo(n, i)),
        Cw(t, e, n, i, r)
      );
    case 3:
      e: {
        if ((TE(e), t === null)) throw Error(He(387));
        (n = e.pendingProps),
          (o = e.memoizedState),
          (i = o.element),
          iE(t, e),
          Gg(e, n, null, r);
        var s = e.memoizedState;
        if (((n = s.element), o.isDehydrated))
          if (
            ((o = {
              element: n,
              isDehydrated: !1,
              cache: s.cache,
              pendingSuspenseBoundaries: s.pendingSuspenseBoundaries,
              transitions: s.transitions,
            }),
            (e.updateQueue.baseState = o),
            (e.memoizedState = o),
            e.flags & 256)
          ) {
            (i = Gc(Error(He(423)), e)), (e = Aw(t, e, n, r, i));
            break e;
          } else if (n !== i) {
            (i = Gc(Error(He(424)), e)), (e = Aw(t, e, n, r, i));
            break e;
          } else
            for (
              vs = Wl(e.stateNode.containerInfo.firstChild),
                ws = e,
                en = !0,
                xo = null,
                r = lE(e, null, n, r),
                e.child = r;
              r;

            )
              (r.flags = (r.flags & -3) | 4096), (r = r.sibling);
        else {
          if ((Wc(), n === i)) {
            e = qa(t, e, r);
            break e;
          }
          Bi(t, e, n, r);
        }
        e = e.child;
      }
      return e;
    case 5:
      return (
        uE(e),
        t === null && c3(e),
        (n = e.type),
        (i = e.pendingProps),
        (o = t !== null ? t.memoizedProps : null),
        (s = i.children),
        s3(n, i) ? (s = null) : o !== null && s3(n, o) && (e.flags |= 32),
        BE(t, e),
        Bi(t, e, s, r),
        e.child
      );
    case 6:
      return t === null && c3(e), null;
    case 13:
      return PE(t, e, r);
    case 4:
      return (
        f8(e, e.stateNode.containerInfo),
        (n = e.pendingProps),
        t === null ? (e.child = qc(e, null, n, r)) : Bi(t, e, n, r),
        e.child
      );
    case 11:
      return (
        (n = e.type),
        (i = e.pendingProps),
        (i = e.elementType === n ? i : bo(n, i)),
        kw(t, e, n, i, r)
      );
    case 7:
      return Bi(t, e, e.pendingProps, r), e.child;
    case 8:
      return Bi(t, e, e.pendingProps.children, r), e.child;
    case 12:
      return Bi(t, e, e.pendingProps.children, r), e.child;
    case 10:
      e: {
        if (
          ((n = e.type._context),
          (i = e.pendingProps),
          (o = e.memoizedProps),
          (s = i.value),
          Wr(qg, n._currentValue),
          (n._currentValue = s),
          o !== null)
        )
          if (Mo(o.value, s)) {
            if (o.children === i.children && !ns.current) {
              e = qa(t, e, r);
              break e;
            }
          } else
            for (o = e.child, o !== null && (o.return = e); o !== null; ) {
              var a = o.dependencies;
              if (a !== null) {
                s = o.child;
                for (var l = a.firstContext; l !== null; ) {
                  if (l.context === n) {
                    if (o.tag === 1) {
                      (l = Ia(-1, r & -r)), (l.tag = 2);
                      var u = o.updateQueue;
                      if (u !== null) {
                        u = u.shared;
                        var c = u.pending;
                        c === null
                          ? (l.next = l)
                          : ((l.next = c.next), (c.next = l)),
                          (u.pending = l);
                      }
                    }
                    (o.lanes |= r),
                      (l = o.alternate),
                      l !== null && (l.lanes |= r),
                      f3(o.return, r, e),
                      (a.lanes |= r);
                    break;
                  }
                  l = l.next;
                }
              } else if (o.tag === 10) s = o.type === e.type ? null : o.child;
              else if (o.tag === 18) {
                if (((s = o.return), s === null)) throw Error(He(341));
                (s.lanes |= r),
                  (a = s.alternate),
                  a !== null && (a.lanes |= r),
                  f3(s, r, e),
                  (s = o.sibling);
              } else s = o.child;
              if (s !== null) s.return = o;
              else
                for (s = o; s !== null; ) {
                  if (s === e) {
                    s = null;
                    break;
                  }
                  if (((o = s.sibling), o !== null)) {
                    (o.return = s.return), (s = o);
                    break;
                  }
                  s = s.return;
                }
              o = s;
            }
        Bi(t, e, i.children, r), (e = e.child);
      }
      return e;
    case 9:
      return (
        (i = e.type),
        (n = e.pendingProps.children),
        Mc(e, r),
        (i = io(i)),
        (n = n(i)),
        (e.flags |= 1),
        Bi(t, e, n, r),
        e.child
      );
    case 14:
      return (
        (n = e.type),
        (i = bo(n, e.pendingProps)),
        (i = bo(n.type, i)),
        Sw(t, e, n, i, r)
      );
    case 15:
      return $E(t, e, e.type, e.pendingProps, r);
    case 17:
      return (
        (n = e.type),
        (i = e.pendingProps),
        (i = e.elementType === n ? i : bo(n, i)),
        rg(t, e),
        (e.tag = 1),
        is(n) ? ((t = !0), Hg(e)) : (t = !1),
        Mc(e, r),
        oE(e, n, i),
        d3(e, n, i, r),
        g3(null, e, n, !0, t, r)
      );
    case 19:
      return RE(t, e, r);
    case 22:
      return OE(t, e, r);
  }
  throw Error(He(156, e.tag));
};
function QE(t, e) {
  return SA(t, e);
}
function lL(t, e, r, n) {
  (this.tag = t),
    (this.key = r),
    (this.sibling =
      this.child =
      this.return =
      this.stateNode =
      this.type =
      this.elementType =
        null),
    (this.index = 0),
    (this.ref = null),
    (this.pendingProps = e),
    (this.dependencies =
      this.memoizedState =
      this.updateQueue =
      this.memoizedProps =
        null),
    (this.mode = n),
    (this.subtreeFlags = this.flags = 0),
    (this.deletions = null),
    (this.childLanes = this.lanes = 0),
    (this.alternate = null);
}
function Ks(t, e, r, n) {
  return new lL(t, e, r, n);
}
function A8(t) {
  return (t = t.prototype), !(!t || !t.isReactComponent);
}
function uL(t) {
  if (typeof t == "function") return A8(t) ? 1 : 0;
  if (t != null) {
    if (((t = t.$$typeof), t === q6)) return 11;
    if (t === U6) return 14;
  }
  return 2;
}
function Kl(t, e) {
  var r = t.alternate;
  return (
    r === null
      ? ((r = Ks(t.tag, e, t.key, t.mode)),
        (r.elementType = t.elementType),
        (r.type = t.type),
        (r.stateNode = t.stateNode),
        (r.alternate = t),
        (t.alternate = r))
      : ((r.pendingProps = e),
        (r.type = t.type),
        (r.flags = 0),
        (r.subtreeFlags = 0),
        (r.deletions = null)),
    (r.flags = t.flags & 14680064),
    (r.childLanes = t.childLanes),
    (r.lanes = t.lanes),
    (r.child = t.child),
    (r.memoizedProps = t.memoizedProps),
    (r.memoizedState = t.memoizedState),
    (r.updateQueue = t.updateQueue),
    (e = t.dependencies),
    (r.dependencies =
      e === null ? null : { lanes: e.lanes, firstContext: e.firstContext }),
    (r.sibling = t.sibling),
    (r.index = t.index),
    (r.ref = t.ref),
    r
  );
}
function sg(t, e, r, n, i, o) {
  var s = 2;
  if (((n = t), typeof t == "function")) A8(t) && (s = 1);
  else if (typeof t == "string") s = 5;
  else
    e: switch (t) {
      case ic:
        return e0(r.children, i, o, e);
      case W6:
        (s = 8), (i |= 8);
        break;
      case Iy:
        return (
          (t = Ks(12, r, e, i | 2)), (t.elementType = Iy), (t.lanes = o), t
        );
      case Ny:
        return (t = Ks(13, r, e, i)), (t.elementType = Ny), (t.lanes = o), t;
      case Ly:
        return (t = Ks(19, r, e, i)), (t.elementType = Ly), (t.lanes = o), t;
      case aA:
        return vv(r, i, o, e);
      default:
        if (typeof t == "object" && t !== null)
          switch (t.$$typeof) {
            case sA:
              s = 10;
              break e;
            case oA:
              s = 9;
              break e;
            case q6:
              s = 11;
              break e;
            case U6:
              s = 14;
              break e;
            case Cl:
              (s = 16), (n = null);
              break e;
          }
        throw Error(He(130, t == null ? t : typeof t, ""));
    }
  return (
    (e = Ks(s, r, e, i)), (e.elementType = t), (e.type = n), (e.lanes = o), e
  );
}
function e0(t, e, r, n) {
  return (t = Ks(7, t, n, e)), (t.lanes = r), t;
}
function vv(t, e, r, n) {
  return (
    (t = Ks(22, t, n, e)),
    (t.elementType = aA),
    (t.lanes = r),
    (t.stateNode = { isHidden: !1 }),
    t
  );
}
function m4(t, e, r) {
  return (t = Ks(6, t, null, e)), (t.lanes = r), t;
}
function g4(t, e, r) {
  return (
    (e = Ks(4, t.children !== null ? t.children : [], t.key, e)),
    (e.lanes = r),
    (e.stateNode = {
      containerInfo: t.containerInfo,
      pendingChildren: null,
      implementation: t.implementation,
    }),
    e
  );
}
function cL(t, e, r, n, i) {
  (this.tag = e),
    (this.containerInfo = t),
    (this.finishedWork =
      this.pingCache =
      this.current =
      this.pendingChildren =
        null),
    (this.timeoutHandle = -1),
    (this.callbackNode = this.pendingContext = this.context = null),
    (this.callbackPriority = 0),
    (this.eventTimes = X2(0)),
    (this.expirationTimes = X2(-1)),
    (this.entangledLanes =
      this.finishedLanes =
      this.mutableReadLanes =
      this.expiredLanes =
      this.pingedLanes =
      this.suspendedLanes =
      this.pendingLanes =
        0),
    (this.entanglements = X2(0)),
    (this.identifierPrefix = n),
    (this.onRecoverableError = i),
    (this.mutableSourceEagerHydrationData = null);
}
function E8(t, e, r, n, i, o, s, a, l) {
  return (
    (t = new cL(t, e, r, a, l)),
    e === 1 ? ((e = 1), o === !0 && (e |= 8)) : (e = 0),
    (o = Ks(3, null, null, e)),
    (t.current = o),
    (o.stateNode = t),
    (o.memoizedState = {
      element: n,
      isDehydrated: r,
      cache: null,
      transitions: null,
      pendingSuspenseBoundaries: null,
    }),
    c8(o),
    t
  );
}
function fL(t, e, r) {
  var n = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
  return {
    $$typeof: nc,
    key: n == null ? null : "" + n,
    children: t,
    containerInfo: e,
    implementation: r,
  };
}
function ZE(t) {
  if (!t) return iu;
  t = t._reactInternals;
  e: {
    if (k0(t) !== t || t.tag !== 1) throw Error(He(170));
    var e = t;
    do {
      switch (e.tag) {
        case 3:
          e = e.stateNode.context;
          break e;
        case 1:
          if (is(e.type)) {
            e = e.stateNode.__reactInternalMemoizedMergedChildContext;
            break e;
          }
      }
      e = e.return;
    } while (e !== null);
    throw Error(He(171));
  }
  if (t.tag === 1) {
    var r = t.type;
    if (is(r)) return QA(t, r, e);
  }
  return e;
}
function eF(t, e, r, n, i, o, s, a, l) {
  return (
    (t = E8(r, n, !0, t, i, o, s, a, l)),
    (t.context = ZE(null)),
    (r = t.current),
    (n = Ii()),
    (i = Gl(r)),
    (o = Ia(n, i)),
    (o.callback = e ?? null),
    ql(r, o, i),
    (t.current.lanes = i),
    Ud(t, i, n),
    ss(t, n),
    t
  );
}
function yv(t, e, r, n) {
  var i = e.current,
    o = Ii(),
    s = Gl(i);
  return (
    (r = ZE(r)),
    e.context === null ? (e.context = r) : (e.pendingContext = r),
    (e = Ia(o, s)),
    (e.payload = { element: t }),
    (n = n === void 0 ? null : n),
    n !== null && (e.callback = n),
    (t = ql(i, e, s)),
    t !== null && (Co(t, i, s, o), Zm(t, i, s)),
    s
  );
}
function t1(t) {
  if (((t = t.current), !t.child)) return null;
  switch (t.child.tag) {
    case 5:
      return t.child.stateNode;
    default:
      return t.child.stateNode;
  }
}
function Rw(t, e) {
  if (((t = t.memoizedState), t !== null && t.dehydrated !== null)) {
    var r = t.retryLane;
    t.retryLane = r !== 0 && r < e ? r : e;
  }
}
function F8(t, e) {
  Rw(t, e), (t = t.alternate) && Rw(t, e);
}
function hL() {
  return null;
}
var tF =
  typeof reportError == "function"
    ? reportError
    : function (t) {
        console.error(t);
      };
function M8(t) {
  this._internalRoot = t;
}
bv.prototype.render = M8.prototype.render = function (t) {
  var e = this._internalRoot;
  if (e === null) throw Error(He(409));
  yv(t, e, null, null);
};
bv.prototype.unmount = M8.prototype.unmount = function () {
  var t = this._internalRoot;
  if (t !== null) {
    this._internalRoot = null;
    var e = t.containerInfo;
    l0(function () {
      yv(null, t, null, null);
    }),
      (e[Va] = null);
  }
};
function bv(t) {
  this._internalRoot = t;
}
bv.prototype.unstable_scheduleHydration = function (t) {
  if (t) {
    var e = $A();
    t = { blockedOn: null, target: t, priority: e };
    for (var r = 0; r < Ml.length && e !== 0 && e < Ml[r].priority; r++);
    Ml.splice(r, 0, t), r === 0 && BA(t);
  }
};
function _8(t) {
  return !(!t || (t.nodeType !== 1 && t.nodeType !== 9 && t.nodeType !== 11));
}
function Dv(t) {
  return !(
    !t ||
    (t.nodeType !== 1 &&
      t.nodeType !== 9 &&
      t.nodeType !== 11 &&
      (t.nodeType !== 8 || t.nodeValue !== " react-mount-point-unstable "))
  );
}
function Iw() {}
function dL(t, e, r, n, i) {
  if (i) {
    if (typeof n == "function") {
      var o = n;
      n = function () {
        var u = t1(s);
        o.call(u);
      };
    }
    var s = eF(e, n, t, 0, null, !1, !1, "", Iw);
    return (
      (t._reactRootContainer = s),
      (t[Va] = s.current),
      Wh(t.nodeType === 8 ? t.parentNode : t),
      l0(),
      s
    );
  }
  for (; (i = t.lastChild); ) t.removeChild(i);
  if (typeof n == "function") {
    var a = n;
    n = function () {
      var u = t1(l);
      a.call(u);
    };
  }
  var l = E8(t, 0, !1, null, null, !1, !1, "", Iw);
  return (
    (t._reactRootContainer = l),
    (t[Va] = l.current),
    Wh(t.nodeType === 8 ? t.parentNode : t),
    l0(function () {
      yv(e, l, r, n);
    }),
    l
  );
}
function wv(t, e, r, n, i) {
  var o = r._reactRootContainer;
  if (o) {
    var s = o;
    if (typeof i == "function") {
      var a = i;
      i = function () {
        var l = t1(s);
        a.call(l);
      };
    }
    yv(e, s, t, i);
  } else s = dL(r, e, t, i, n);
  return t1(s);
}
MA = function (t) {
  switch (t.tag) {
    case 3:
      var e = t.stateNode;
      if (e.current.memoizedState.isDehydrated) {
        var r = Zf(e.pendingLanes);
        r !== 0 &&
          (Y6(e, r | 1), ss(e, kn()), !(pr & 6) && ((Kc = kn() + 500), Du()));
      }
      break;
    case 13:
      l0(function () {
        var n = Wa(t, 1);
        if (n !== null) {
          var i = Ii();
          Co(n, t, 1, i);
        }
      }),
        F8(t, 1);
  }
};
X6 = function (t) {
  if (t.tag === 13) {
    var e = Wa(t, 134217728);
    if (e !== null) {
      var r = Ii();
      Co(e, t, 134217728, r);
    }
    F8(t, 134217728);
  }
};
_A = function (t) {
  if (t.tag === 13) {
    var e = Gl(t),
      r = Wa(t, e);
    if (r !== null) {
      var n = Ii();
      Co(r, t, e, n);
    }
    F8(t, e);
  }
};
$A = function () {
  return Mr;
};
OA = function (t, e) {
  var r = Mr;
  try {
    return (Mr = t), e();
  } finally {
    Mr = r;
  }
};
Yy = function (t, e, r) {
  switch (e) {
    case "input":
      if ((Hy(t, r), (e = r.name), r.type === "radio" && e != null)) {
        for (r = t; r.parentNode; ) r = r.parentNode;
        for (
          r = r.querySelectorAll(
            "input[name=" + JSON.stringify("" + e) + '][type="radio"]'
          ),
            e = 0;
          e < r.length;
          e++
        ) {
          var n = r[e];
          if (n !== t && n.form === t.form) {
            var i = fv(n);
            if (!i) throw Error(He(90));
            uA(n), Hy(n, i);
          }
        }
      }
      break;
    case "textarea":
      fA(t, r);
      break;
    case "select":
      (e = r.value), e != null && Cc(t, !!r.multiple, e, !1);
  }
};
yA = k8;
bA = l0;
var pL = { usingClientEntryPoint: !1, Events: [Kd, lc, fv, gA, vA, k8] },
  jf = {
    findFiberByHostInstance: Uu,
    bundleType: 0,
    version: "18.2.0",
    rendererPackageName: "react-dom",
  },
  mL = {
    bundleType: jf.bundleType,
    version: jf.version,
    rendererPackageName: jf.rendererPackageName,
    rendererConfig: jf.rendererConfig,
    overrideHookState: null,
    overrideHookStateDeletePath: null,
    overrideHookStateRenamePath: null,
    overrideProps: null,
    overridePropsDeletePath: null,
    overridePropsRenamePath: null,
    setErrorHandler: null,
    setSuspenseHandler: null,
    scheduleUpdate: null,
    currentDispatcherRef: rl.ReactCurrentDispatcher,
    findHostInstanceByFiber: function (t) {
      return (t = xA(t)), t === null ? null : t.stateNode;
    },
    findFiberByHostInstance: jf.findFiberByHostInstance || hL,
    findHostInstancesForRefresh: null,
    scheduleRefresh: null,
    scheduleRoot: null,
    setRefreshHandler: null,
    getCurrentFiber: null,
    reconcilerVersion: "18.2.0-next-9e3b772b8-20220608",
  };
if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
  var nm = __REACT_DEVTOOLS_GLOBAL_HOOK__;
  if (!nm.isDisabled && nm.supportsFiber)
    try {
      (av = nm.inject(mL)), (ia = nm);
    } catch {}
}
Cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = pL;
Cs.createPortal = function (t, e) {
  var r = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
  if (!_8(e)) throw Error(He(200));
  return fL(t, e, null, r);
};
Cs.createRoot = function (t, e) {
  if (!_8(t)) throw Error(He(299));
  var r = !1,
    n = "",
    i = tF;
  return (
    e != null &&
      (e.unstable_strictMode === !0 && (r = !0),
      e.identifierPrefix !== void 0 && (n = e.identifierPrefix),
      e.onRecoverableError !== void 0 && (i = e.onRecoverableError)),
    (e = E8(t, 1, !1, null, null, r, !1, n, i)),
    (t[Va] = e.current),
    Wh(t.nodeType === 8 ? t.parentNode : t),
    new M8(e)
  );
};
Cs.findDOMNode = function (t) {
  if (t == null) return null;
  if (t.nodeType === 1) return t;
  var e = t._reactInternals;
  if (e === void 0)
    throw typeof t.render == "function"
      ? Error(He(188))
      : ((t = Object.keys(t).join(",")), Error(He(268, t)));
  return (t = xA(e)), (t = t === null ? null : t.stateNode), t;
};
Cs.flushSync = function (t) {
  return l0(t);
};
Cs.hydrate = function (t, e, r) {
  if (!Dv(e)) throw Error(He(200));
  return wv(null, t, e, !0, r);
};
Cs.hydrateRoot = function (t, e, r) {
  if (!_8(t)) throw Error(He(405));
  var n = (r != null && r.hydratedSources) || null,
    i = !1,
    o = "",
    s = tF;
  if (
    (r != null &&
      (r.unstable_strictMode === !0 && (i = !0),
      r.identifierPrefix !== void 0 && (o = r.identifierPrefix),
      r.onRecoverableError !== void 0 && (s = r.onRecoverableError)),
    (e = eF(e, null, t, 1, r ?? null, i, !1, o, s)),
    (t[Va] = e.current),
    Wh(t),
    n)
  )
    for (t = 0; t < n.length; t++)
      (r = n[t]),
        (i = r._getVersion),
        (i = i(r._source)),
        e.mutableSourceEagerHydrationData == null
          ? (e.mutableSourceEagerHydrationData = [r, i])
          : e.mutableSourceEagerHydrationData.push(r, i);
  return new bv(e);
};
Cs.render = function (t, e, r) {
  if (!Dv(e)) throw Error(He(200));
  return wv(null, t, e, !1, r);
};
Cs.unmountComponentAtNode = function (t) {
  if (!Dv(t)) throw Error(He(40));
  return t._reactRootContainer
    ? (l0(function () {
        wv(null, null, t, !1, function () {
          (t._reactRootContainer = null), (t[Va] = null);
        });
      }),
      !0)
    : !1;
};
Cs.unstable_batchedUpdates = k8;
Cs.unstable_renderSubtreeIntoContainer = function (t, e, r, n) {
  if (!Dv(r)) throw Error(He(200));
  if (t == null || t._reactInternals === void 0) throw Error(He(38));
  return wv(t, e, r, !1, n);
};
Cs.version = "18.2.0-next-9e3b772b8-20220608";
function rF() {
  if (
    !(
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" ||
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"
    )
  )
    try {
      __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rF);
    } catch (t) {
      console.error(t);
    }
}
rF(), (eA.exports = Cs);
var nF = eA.exports,
  Nw = nF;
(Py.createRoot = Nw.createRoot), (Py.hydrateRoot = Nw.hydrateRoot);
var $8 = L6(function (t, e) {
  var r = t.styles,
    n = Qu([r], void 0, ct.useContext(qd)),
    i = ct.useRef();
  return (
    OD(
      function () {
        var o = e.key + "-global",
          s = new e.sheet.constructor({
            key: o,
            nonce: e.sheet.nonce,
            container: e.sheet.container,
            speedy: e.sheet.isSpeedy,
          }),
          a = !1,
          l = document.querySelector(
            'style[data-emotion="' + o + " " + n.name + '"]'
          );
        return (
          e.sheet.tags.length && (s.before = e.sheet.tags[0]),
          l !== null &&
            ((a = !0), l.setAttribute("data-emotion", o), s.hydrate([l])),
          (i.current = [s, a]),
          function () {
            s.flush();
          }
        );
      },
      [e]
    ),
    OD(
      function () {
        var o = i.current,
          s = o[0],
          a = o[1];
        if (a) {
          o[1] = !1;
          return;
        }
        if ((n.next !== void 0 && sv(e, n.next, !0), s.tags.length)) {
          var l = s.tags[s.tags.length - 1].nextElementSibling;
          (s.before = l), s.flush();
        }
        e.insert("", n, s, !1);
      },
      [e, n.name]
    ),
    null
  );
});
function Xr() {
  for (var t = arguments.length, e = new Array(t), r = 0; r < t; r++)
    e[r] = arguments[r];
  return Qu(e);
}
var gL = function () {
  var e = Xr.apply(void 0, arguments),
    r = "animation-" + e.name;
  return {
    name: r,
    styles: "@keyframes " + r + "{" + e.styles + "}",
    anim: 1,
    toString: function () {
      return "_EMO_" + this.name + "_" + this.styles + "_EMO_";
    },
  };
};
function Lw(t, e) {
  if (t.inserted[e.name] === void 0) return t.insert("", e, t.sheet, !0);
}
function zw(t, e, r) {
  var n = [],
    i = iv(t, n, r);
  return n.length < 2 ? r : i + e(n);
}
var vL = function (e) {
    var r = T6(e);
    (r.sheet.speedy = function (a) {
      this.isSpeedy = a;
    }),
      (r.compat = !0);
    var n = function () {
        for (var l = arguments.length, u = new Array(l), c = 0; c < l; c++)
          u[c] = arguments[c];
        var f = Qu(u, r.registered, void 0);
        return sv(r, f, !1), r.key + "-" + f.name;
      },
      i = function () {
        for (var l = arguments.length, u = new Array(l), c = 0; c < l; c++)
          u[c] = arguments[c];
        var f = Qu(u, r.registered),
          h = "animation-" + f.name;
        return (
          Lw(r, {
            name: f.name,
            styles: "@keyframes " + h + "{" + f.styles + "}",
          }),
          h
        );
      },
      o = function () {
        for (var l = arguments.length, u = new Array(l), c = 0; c < l; c++)
          u[c] = arguments[c];
        var f = Qu(u, r.registered);
        Lw(r, f);
      },
      s = function () {
        for (var l = arguments.length, u = new Array(l), c = 0; c < l; c++)
          u[c] = arguments[c];
        return zw(r.registered, n, yL(u));
      };
    return {
      css: n,
      cx: s,
      injectGlobal: o,
      keyframes: i,
      hydrate: function (l) {
        l.forEach(function (u) {
          r.inserted[u] = !0;
        });
      },
      flush: function () {
        (r.registered = {}), (r.inserted = {}), r.sheet.flush();
      },
      sheet: r.sheet,
      cache: r,
      getRegisteredStyles: iv.bind(null, r.registered),
      merge: zw.bind(null, r.registered, n),
    };
  },
  yL = function t(e) {
    for (var r = "", n = 0; n < e.length; n++) {
      var i = e[n];
      if (i != null) {
        var o = void 0;
        switch (typeof i) {
          case "boolean":
            break;
          case "object": {
            if (Array.isArray(i)) o = t(i);
            else {
              o = "";
              for (var s in i) i[s] && s && (o && (o += " "), (o += s));
            }
            break;
          }
          default:
            o = i;
        }
        o && (r && (r += " "), (r += o));
      }
    }
    return r;
  },
  bL = vL({ key: "css" }),
  DL = bL.css,
  v4 = ct,
  wL = function (t) {
    return typeof t == "function";
  },
  xL = function (t) {
    var e = v4.useState(t),
      r = e[0],
      n = e[1],
      i = v4.useRef(r),
      o = v4.useCallback(function (s) {
        (i.current = wL(s) ? s(i.current) : s), n(i.current);
      }, []);
    return [r, o, i];
  },
  kL = xL;
const iF = CC(kL);
function fr(t) {
  for (
    var e = arguments.length, r = new Array(e > 1 ? e - 1 : 0), n = 1;
    n < e;
    n++
  )
    r[n - 1] = arguments[n];
  throw new Error(
    typeof t == "number"
      ? "[MobX] minified error nr: " +
        t +
        (r.length ? " " + r.map(String).join(",") : "") +
        ". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts"
      : "[MobX] " + t
  );
}
var SL = {};
function O8() {
  return typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
      ? window
      : typeof global < "u"
        ? global
        : typeof self < "u"
          ? self
          : SL;
}
var sF = Object.assign,
  r1 = Object.getOwnPropertyDescriptor,
  oa = Object.defineProperty,
  Xd = Object.prototype,
  F3 = [];
Object.freeze(F3);
var B8 = {};
Object.freeze(B8);
var CL = typeof Proxy < "u",
  AL = Object.toString();
function oF() {
  CL || fr("Proxy not available");
}
function aF(t) {
  var e = !1;
  return function () {
    if (!e) return (e = !0), t.apply(this, arguments);
  };
}
var mc = function () {};
function _o(t) {
  return typeof t == "function";
}
function u0(t) {
  var e = typeof t;
  switch (e) {
    case "string":
    case "symbol":
    case "number":
      return !0;
  }
  return !1;
}
function xv(t) {
  return t !== null && typeof t == "object";
}
function su(t) {
  if (!xv(t)) return !1;
  var e = Object.getPrototypeOf(t);
  if (e == null) return !0;
  var r = Object.hasOwnProperty.call(e, "constructor") && e.constructor;
  return typeof r == "function" && r.toString() === AL;
}
function lF(t) {
  var e = t == null ? void 0 : t.constructor;
  return e
    ? e.name === "GeneratorFunction" || e.displayName === "GeneratorFunction"
    : !1;
}
function kv(t, e, r) {
  oa(t, e, { enumerable: !1, writable: !0, configurable: !0, value: r });
}
function uF(t, e, r) {
  oa(t, e, { enumerable: !1, writable: !1, configurable: !0, value: r });
}
function wu(t, e) {
  var r = "isMobX" + t;
  return (
    (e.prototype[r] = !0),
    function (n) {
      return xv(n) && n[r] === !0;
    }
  );
}
function bf(t) {
  return t instanceof Map;
}
function Jd(t) {
  return t instanceof Set;
}
var cF = typeof Object.getOwnPropertySymbols < "u";
function EL(t) {
  var e = Object.keys(t);
  if (!cF) return e;
  var r = Object.getOwnPropertySymbols(t);
  return r.length
    ? [].concat(
        e,
        r.filter(function (n) {
          return Xd.propertyIsEnumerable.call(t, n);
        })
      )
    : e;
}
var Sv =
  typeof Reflect < "u" && Reflect.ownKeys
    ? Reflect.ownKeys
    : cF
      ? function (t) {
          return Object.getOwnPropertyNames(t).concat(
            Object.getOwnPropertySymbols(t)
          );
        }
      : Object.getOwnPropertyNames;
function fF(t) {
  return t === null ? null : typeof t == "object" ? "" + t : t;
}
function Na(t, e) {
  return Xd.hasOwnProperty.call(t, e);
}
var FL =
  Object.getOwnPropertyDescriptors ||
  function (e) {
    var r = {};
    return (
      Sv(e).forEach(function (n) {
        r[n] = r1(e, n);
      }),
      r
    );
  };
function jw(t, e) {
  for (var r = 0; r < e.length; r++) {
    var n = e[r];
    (n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(t, $L(n.key), n);
  }
}
function T8(t, e, r) {
  return (
    e && jw(t.prototype, e),
    r && jw(t, r),
    Object.defineProperty(t, "prototype", { writable: !1 }),
    t
  );
}
function c0() {
  return (
    (c0 = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var r = arguments[e];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]);
          }
          return t;
        }),
    c0.apply(this, arguments)
  );
}
function hF(t, e) {
  (t.prototype = Object.create(e.prototype)),
    (t.prototype.constructor = t),
    M3(t, e);
}
function M3(t, e) {
  return (
    (M3 = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return (n.__proto__ = i), n;
        }),
    M3(t, e)
  );
}
function y4(t) {
  if (t === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called"
    );
  return t;
}
function ML(t, e) {
  if (t) {
    if (typeof t == "string") return Hw(t, e);
    var r = Object.prototype.toString.call(t).slice(8, -1);
    if (
      (r === "Object" && t.constructor && (r = t.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(t);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return Hw(t, e);
  }
}
function Hw(t, e) {
  (e == null || e > t.length) && (e = t.length);
  for (var r = 0, n = new Array(e); r < e; r++) n[r] = t[r];
  return n;
}
function gc(t, e) {
  var r = (typeof Symbol < "u" && t[Symbol.iterator]) || t["@@iterator"];
  if (r) return (r = r.call(t)).next.bind(r);
  if (
    Array.isArray(t) ||
    (r = ML(t)) ||
    (e && t && typeof t.length == "number")
  ) {
    r && (t = r);
    var n = 0;
    return function () {
      return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function _L(t, e) {
  if (typeof t != "object" || t === null) return t;
  var r = t[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(t, e || "default");
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (e === "string" ? String : Number)(t);
}
function $L(t) {
  var e = _L(t, "string");
  return typeof e == "symbol" ? e : String(e);
}
var Zo = Symbol("mobx-stored-annotations");
function aa(t) {
  function e(r, n) {
    if (Qd(n)) return t.decorate_20223_(r, n);
    Df(r, n, t);
  }
  return Object.assign(e, t);
}
function Df(t, e, r) {
  Na(t, Zo) || kv(t, Zo, c0({}, t[Zo])), zL(r) || (t[Zo][e] = r);
}
function OL(t) {
  return Na(t, Zo) || kv(t, Zo, c0({}, t[Zo])), t[Zo];
}
function Qd(t) {
  return typeof t == "object" && typeof t.kind == "string";
}
var Nt = Symbol("mobx administration"),
  Zd = (function () {
    function t(r) {
      r === void 0 && (r = "Atom"),
        (this.name_ = void 0),
        (this.isPendingUnobservation_ = !1),
        (this.isBeingObserved_ = !1),
        (this.observers_ = new Set()),
        (this.diffValue_ = 0),
        (this.lastAccessedBy_ = 0),
        (this.lowestObserverState_ = yr.NOT_TRACKING_),
        (this.onBOL = void 0),
        (this.onBUOL = void 0),
        (this.name_ = r);
    }
    var e = t.prototype;
    return (
      (e.onBO = function () {
        this.onBOL &&
          this.onBOL.forEach(function (n) {
            return n();
          });
      }),
      (e.onBUO = function () {
        this.onBUOL &&
          this.onBUOL.forEach(function (n) {
            return n();
          });
      }),
      (e.reportObserved = function () {
        return _F(this);
      }),
      (e.reportChanged = function () {
        Ys(), $F(this), Xs();
      }),
      (e.toString = function () {
        return this.name_;
      }),
      t
    );
  })(),
  P8 = wu("Atom", Zd);
function dF(t, e, r) {
  e === void 0 && (e = mc), r === void 0 && (r = mc);
  var n = new Zd(t);
  return e !== mc && Uz(n, e), r !== mc && IF(n, r), n;
}
function BL(t, e) {
  return t === e;
}
function TL(t, e) {
  return j8(t, e);
}
function PL(t, e) {
  return j8(t, e, 1);
}
function RL(t, e) {
  return Object.is
    ? Object.is(t, e)
    : t === e
      ? t !== 0 || 1 / t === 1 / e
      : t !== t && e !== e;
}
var Yc = { identity: BL, structural: TL, default: RL, shallow: PL };
function f0(t, e, r) {
  return N8(t)
    ? t
    : Array.isArray(t)
      ? or.array(t, { name: r })
      : su(t)
        ? or.object(t, void 0, { name: r })
        : bf(t)
          ? or.map(t, { name: r })
          : Jd(t)
            ? or.set(t, { name: r })
            : typeof t == "function" && !Mv(t) && !td(t)
              ? lF(t)
                ? Jc(t)
                : ed(r, t)
              : t;
}
function IL(t, e, r) {
  if (t == null || Qc(t) || ip(t) || xu(t) || C0(t)) return t;
  if (Array.isArray(t)) return or.array(t, { name: r, deep: !1 });
  if (su(t)) return or.object(t, void 0, { name: r, deep: !1 });
  if (bf(t)) return or.map(t, { name: r, deep: !1 });
  if (Jd(t)) return or.set(t, { name: r, deep: !1 });
}
function Cv(t) {
  return t;
}
function NL(t, e) {
  return j8(t, e) ? e : t;
}
var LL = "override";
function zL(t) {
  return t.annotationType_ === LL;
}
function ep(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: jL,
    extend_: HL,
    decorate_20223_: VL,
  };
}
function jL(t, e, r, n) {
  var i;
  if ((i = this.options_) != null && i.bound)
    return this.extend_(t, e, r, !1) === null ? 0 : 1;
  if (n === t.target_) return this.extend_(t, e, r, !1) === null ? 0 : 2;
  if (Mv(r.value)) return 1;
  var o = pF(t, this, e, r, !1);
  return oa(n, e, o), 2;
}
function HL(t, e, r, n) {
  var i = pF(t, this, e, r);
  return t.defineProperty_(e, i, n);
}
function VL(t, e) {
  var r = e.kind,
    n = e.name,
    i = e.addInitializer,
    o = this,
    s = function (u) {
      var c, f, h, d;
      return h0(
        (c = (f = o.options_) == null ? void 0 : f.name) != null
          ? c
          : n.toString(),
        u,
        (h = (d = o.options_) == null ? void 0 : d.autoAction) != null ? h : !1
      );
    };
  if (r == "field") {
    i(function () {
      Df(this, n, o);
    });
    return;
  }
  if (r == "method") {
    var a;
    return (
      Mv(t) || (t = s(t)),
      (a = this.options_) != null &&
        a.bound &&
        i(function () {
          var l = this,
            u = l[n].bind(l);
          (u.isMobxAction = !0), (l[n] = u);
        }),
      t
    );
  }
  fr(
    "Cannot apply '" +
      o.annotationType_ +
      "' to '" +
      String(n) +
      "' (kind: " +
      r +
      "):" +
      (`
'` +
        o.annotationType_ +
        "' can only be used on properties with a function value.")
  );
}
function WL(t, e, r, n) {
  e.annotationType_, n.value;
}
function pF(t, e, r, n, i) {
  var o, s, a, l, u, c, f;
  i === void 0 && (i = et.safeDescriptors), WL(t, e, r, n);
  var h = n.value;
  if ((o = e.options_) != null && o.bound) {
    var d;
    h = h.bind((d = t.proxy_) != null ? d : t.target_);
  }
  return {
    value: h0(
      (s = (a = e.options_) == null ? void 0 : a.name) != null
        ? s
        : r.toString(),
      h,
      (l = (u = e.options_) == null ? void 0 : u.autoAction) != null ? l : !1,
      (c = e.options_) != null && c.bound
        ? (f = t.proxy_) != null
          ? f
          : t.target_
        : void 0
    ),
    configurable: i ? t.isPlainObject_ : !0,
    enumerable: !1,
    writable: !i,
  };
}
function mF(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: qL,
    extend_: UL,
    decorate_20223_: GL,
  };
}
function qL(t, e, r, n) {
  var i;
  if (n === t.target_) return this.extend_(t, e, r, !1) === null ? 0 : 2;
  if (
    (i = this.options_) != null &&
    i.bound &&
    (!Na(t.target_, e) || !td(t.target_[e])) &&
    this.extend_(t, e, r, !1) === null
  )
    return 0;
  if (td(r.value)) return 1;
  var o = gF(t, this, e, r, !1, !1);
  return oa(n, e, o), 2;
}
function UL(t, e, r, n) {
  var i,
    o = gF(t, this, e, r, (i = this.options_) == null ? void 0 : i.bound);
  return t.defineProperty_(e, o, n);
}
function GL(t, e) {
  var r,
    n = e.name,
    i = e.addInitializer;
  return (
    td(t) || (t = Jc(t)),
    (r = this.options_) != null &&
      r.bound &&
      i(function () {
        var o = this,
          s = o[n].bind(o);
        (s.isMobXFlow = !0), (o[n] = s);
      }),
    t
  );
}
function KL(t, e, r, n) {
  e.annotationType_, n.value;
}
function gF(t, e, r, n, i, o) {
  o === void 0 && (o = et.safeDescriptors), KL(t, e, r, n);
  var s = n.value;
  if ((td(s) || (s = Jc(s)), i)) {
    var a;
    (s = s.bind((a = t.proxy_) != null ? a : t.target_)), (s.isMobXFlow = !0);
  }
  return {
    value: s,
    configurable: o ? t.isPlainObject_ : !0,
    enumerable: !1,
    writable: !o,
  };
}
function R8(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: YL,
    extend_: XL,
    decorate_20223_: JL,
  };
}
function YL(t, e, r) {
  return this.extend_(t, e, r, !1) === null ? 0 : 1;
}
function XL(t, e, r, n) {
  return (
    QL(t, this, e, r),
    t.defineComputedProperty_(
      e,
      c0({}, this.options_, { get: r.get, set: r.set }),
      n
    )
  );
}
function JL(t, e) {
  var r = this,
    n = e.name,
    i = e.addInitializer;
  return (
    i(function () {
      var o = wf(this)[Nt],
        s = c0({}, r.options_, { get: t, context: this });
      s.name || (s.name = "ObservableObject." + n.toString()),
        o.values_.set(n, new Xc(s));
    }),
    function () {
      return this[Nt].getObservablePropValue_(n);
    }
  );
}
function QL(t, e, r, n) {
  e.annotationType_, n.get;
}
function Av(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: ZL,
    extend_: ez,
    decorate_20223_: tz,
  };
}
function ZL(t, e, r) {
  return this.extend_(t, e, r, !1) === null ? 0 : 1;
}
function ez(t, e, r, n) {
  var i, o;
  return (
    rz(t, this),
    t.defineObservableProperty_(
      e,
      r.value,
      (i = (o = this.options_) == null ? void 0 : o.enhancer) != null ? i : f0,
      n
    )
  );
}
function tz(t, e) {
  var r = this,
    n = e.kind,
    i = e.name,
    o = new WeakSet();
  function s(a, l) {
    var u,
      c,
      f = wf(a)[Nt],
      h = new Yl(
        l,
        (u = (c = r.options_) == null ? void 0 : c.enhancer) != null ? u : f0,
        "ObservableObject." + i.toString(),
        !1
      );
    f.values_.set(i, h), o.add(a);
  }
  if (n == "accessor")
    return {
      get: function () {
        return (
          o.has(this) || s(this, t.get.call(this)),
          this[Nt].getObservablePropValue_(i)
        );
      },
      set: function (l) {
        return (
          o.has(this) || s(this, l), this[Nt].setObservablePropValue_(i, l)
        );
      },
      init: function (l) {
        return o.has(this) || s(this, l), l;
      },
    };
}
function rz(t, e, r, n) {
  e.annotationType_;
}
var nz = "true",
  iz = vF();
function vF(t) {
  return {
    annotationType_: nz,
    options_: t,
    make_: sz,
    extend_: oz,
    decorate_20223_: az,
  };
}
function sz(t, e, r, n) {
  var i, o;
  if (r.get) return Zn.make_(t, e, r, n);
  if (r.set) {
    var s = h0(e.toString(), r.set);
    return n === t.target_
      ? t.defineProperty_(e, {
          configurable: et.safeDescriptors ? t.isPlainObject_ : !0,
          set: s,
        }) === null
        ? 0
        : 2
      : (oa(n, e, { configurable: !0, set: s }), 2);
  }
  if (n !== t.target_ && typeof r.value == "function") {
    var a;
    if (lF(r.value)) {
      var l,
        u = (l = this.options_) != null && l.autoBind ? Jc.bound : Jc;
      return u.make_(t, e, r, n);
    }
    var c = (a = this.options_) != null && a.autoBind ? ed.bound : ed;
    return c.make_(t, e, r, n);
  }
  var f = ((i = this.options_) == null ? void 0 : i.deep) === !1 ? or.ref : or;
  if (
    typeof r.value == "function" &&
    (o = this.options_) != null &&
    o.autoBind
  ) {
    var h;
    r.value = r.value.bind((h = t.proxy_) != null ? h : t.target_);
  }
  return f.make_(t, e, r, n);
}
function oz(t, e, r, n) {
  var i, o;
  if (r.get) return Zn.extend_(t, e, r, n);
  if (r.set)
    return t.defineProperty_(
      e,
      {
        configurable: et.safeDescriptors ? t.isPlainObject_ : !0,
        set: h0(e.toString(), r.set),
      },
      n
    );
  if (
    typeof r.value == "function" &&
    (i = this.options_) != null &&
    i.autoBind
  ) {
    var s;
    r.value = r.value.bind((s = t.proxy_) != null ? s : t.target_);
  }
  var a = ((o = this.options_) == null ? void 0 : o.deep) === !1 ? or.ref : or;
  return a.extend_(t, e, r, n);
}
function az(t, e) {
  fr("'" + this.annotationType_ + "' cannot be used as a decorator");
}
var lz = "observable",
  uz = "observable.ref",
  cz = "observable.shallow",
  fz = "observable.struct",
  yF = { deep: !0, name: void 0, defaultDecorator: void 0, proxy: !0 };
Object.freeze(yF);
function im(t) {
  return t || yF;
}
var _3 = Av(lz),
  hz = Av(uz, { enhancer: Cv }),
  dz = Av(cz, { enhancer: IL }),
  pz = Av(fz, { enhancer: NL }),
  bF = aa(_3);
function sm(t) {
  return t.deep === !0 ? f0 : t.deep === !1 ? Cv : gz(t.defaultDecorator);
}
function mz(t) {
  var e;
  return t ? ((e = t.defaultDecorator) != null ? e : vF(t)) : void 0;
}
function gz(t) {
  var e, r;
  return t && (e = (r = t.options_) == null ? void 0 : r.enhancer) != null
    ? e
    : f0;
}
function DF(t, e, r) {
  if (Qd(e)) return _3.decorate_20223_(t, e);
  if (u0(e)) {
    Df(t, e, _3);
    return;
  }
  return N8(t)
    ? t
    : su(t)
      ? or.object(t, e, r)
      : Array.isArray(t)
        ? or.array(t, e)
        : bf(t)
          ? or.map(t, e)
          : Jd(t)
            ? or.set(t, e)
            : typeof t == "object" && t !== null
              ? t
              : or.box(t, e);
}
sF(DF, bF);
var vz = {
    box: function (e, r) {
      var n = im(r);
      return new Yl(e, sm(n), n.name, !0, n.equals);
    },
    array: function (e, r) {
      var n = im(r);
      return (et.useProxies === !1 || n.proxy === !1 ? bj : uj)(
        e,
        sm(n),
        n.name
      );
    },
    map: function (e, r) {
      var n = im(r);
      return new WF(e, sm(n), n.name);
    },
    set: function (e, r) {
      var n = im(r);
      return new GF(e, sm(n), n.name);
    },
    object: function (e, r, n) {
      return A0(function () {
        return Xz(
          et.useProxies === !1 || (n == null ? void 0 : n.proxy) === !1
            ? wf({}, n)
            : sj({}, n),
          e,
          r
        );
      });
    },
    ref: aa(hz),
    shallow: aa(dz),
    deep: bF,
    struct: aa(pz),
  },
  or = sF(DF, vz),
  wF = "computed",
  yz = "computed.struct",
  $3 = R8(wF),
  bz = R8(yz, { equals: Yc.structural }),
  Zn = function (e, r) {
    if (Qd(r)) return $3.decorate_20223_(e, r);
    if (u0(r)) return Df(e, r, $3);
    if (su(e)) return aa(R8(wF, e));
    var n = su(r) ? r : {};
    return (n.get = e), n.name || (n.name = e.name || ""), new Xc(n);
  };
Object.assign(Zn, $3);
Zn.struct = aa(bz);
var Vw,
  Ww,
  n1 = 0,
  Dz = 1,
  wz =
    (Vw =
      (Ww = r1(function () {}, "name")) == null ? void 0 : Ww.configurable) !=
    null
      ? Vw
      : !1,
  qw = { value: "action", configurable: !0, writable: !1, enumerable: !1 };
function h0(t, e, r, n) {
  r === void 0 && (r = !1);
  function i() {
    return xz(t, r, e, n || this, arguments);
  }
  return (
    (i.isMobxAction = !0),
    (i.toString = function () {
      return e.toString();
    }),
    wz && ((qw.value = t), oa(i, "name", qw)),
    i
  );
}
function xz(t, e, r, n, i) {
  var o = kz(t, e);
  try {
    return r.apply(n, i);
  } catch (s) {
    throw ((o.error_ = s), s);
  } finally {
    Sz(o);
  }
}
function kz(t, e, r, n) {
  var i = !1,
    o = 0,
    s = et.trackingDerivation,
    a = !e || !s;
  Ys();
  var l = et.allowStateChanges;
  a && (S0(), (l = Ev(!0)));
  var u = I8(!0),
    c = {
      runAsAction_: a,
      prevDerivation_: s,
      prevAllowStateChanges_: l,
      prevAllowStateReads_: u,
      notifySpy_: i,
      startTime_: o,
      actionId_: Dz++,
      parentActionId_: n1,
    };
  return (n1 = c.actionId_), c;
}
function Sz(t) {
  n1 !== t.actionId_ && fr(30),
    (n1 = t.parentActionId_),
    t.error_ !== void 0 && (et.suppressReactionErrors = !0),
    Fv(t.prevAllowStateChanges_),
    yh(t.prevAllowStateReads_),
    Xs(),
    t.runAsAction_ && La(t.prevDerivation_),
    (et.suppressReactionErrors = !1);
}
function Cz(t, e) {
  var r = Ev(t);
  try {
    return e();
  } finally {
    Fv(r);
  }
}
function Ev(t) {
  var e = et.allowStateChanges;
  return (et.allowStateChanges = t), e;
}
function Fv(t) {
  et.allowStateChanges = t;
}
var xF;
xF = Symbol.toPrimitive;
var Yl = (function (t) {
    hF(e, t);
    function e(n, i, o, s, a) {
      var l;
      return (
        o === void 0 && (o = "ObservableValue"),
        a === void 0 && (a = Yc.default),
        (l = t.call(this, o) || this),
        (l.enhancer = void 0),
        (l.name_ = void 0),
        (l.equals = void 0),
        (l.hasUnreportedChange_ = !1),
        (l.interceptors_ = void 0),
        (l.changeListeners_ = void 0),
        (l.value_ = void 0),
        (l.dehancer = void 0),
        (l.enhancer = i),
        (l.name_ = o),
        (l.equals = a),
        (l.value_ = i(n, void 0, o)),
        l
      );
    }
    var r = e.prototype;
    return (
      (r.dehanceValue = function (i) {
        return this.dehancer !== void 0 ? this.dehancer(i) : i;
      }),
      (r.set = function (i) {
        this.value_,
          (i = this.prepareNewValue_(i)),
          i !== et.UNCHANGED && this.setNewValue_(i);
      }),
      (r.prepareNewValue_ = function (i) {
        if (Ws(this)) {
          var o = qs(this, { object: this, type: la, newValue: i });
          if (!o) return et.UNCHANGED;
          i = o.newValue;
        }
        return (
          (i = this.enhancer(i, this.value_, this.name_)),
          this.equals(this.value_, i) ? et.UNCHANGED : i
        );
      }),
      (r.setNewValue_ = function (i) {
        var o = this.value_;
        (this.value_ = i),
          this.reportChanged(),
          Ao(this) &&
            Eo(this, { type: la, object: this, newValue: i, oldValue: o });
      }),
      (r.get = function () {
        return this.reportObserved(), this.dehanceValue(this.value_);
      }),
      (r.intercept_ = function (i) {
        return rp(this, i);
      }),
      (r.observe_ = function (i, o) {
        return (
          o &&
            i({
              observableKind: "value",
              debugObjectName: this.name_,
              object: this,
              type: la,
              newValue: this.value_,
              oldValue: void 0,
            }),
          np(this, i)
        );
      }),
      (r.raw = function () {
        return this.value_;
      }),
      (r.toJSON = function () {
        return this.get();
      }),
      (r.toString = function () {
        return this.name_ + "[" + this.value_ + "]";
      }),
      (r.valueOf = function () {
        return fF(this.get());
      }),
      (r[xF] = function () {
        return this.valueOf();
      }),
      e
    );
  })(Zd),
  Az = wu("ObservableValue", Yl),
  kF;
kF = Symbol.toPrimitive;
var Xc = (function () {
    function t(r) {
      (this.dependenciesState_ = yr.NOT_TRACKING_),
        (this.observing_ = []),
        (this.newObserving_ = null),
        (this.isBeingObserved_ = !1),
        (this.isPendingUnobservation_ = !1),
        (this.observers_ = new Set()),
        (this.diffValue_ = 0),
        (this.runId_ = 0),
        (this.lastAccessedBy_ = 0),
        (this.lowestObserverState_ = yr.UP_TO_DATE_),
        (this.unboundDepsCount_ = 0),
        (this.value_ = new s1(null)),
        (this.name_ = void 0),
        (this.triggeredBy_ = void 0),
        (this.isComputing_ = !1),
        (this.isRunningSetter_ = !1),
        (this.derivation = void 0),
        (this.setter_ = void 0),
        (this.isTracing_ = i1.NONE),
        (this.scope_ = void 0),
        (this.equals_ = void 0),
        (this.requiresReaction_ = void 0),
        (this.keepAlive_ = void 0),
        (this.onBOL = void 0),
        (this.onBUOL = void 0),
        r.get || fr(31),
        (this.derivation = r.get),
        (this.name_ = r.name || "ComputedValue"),
        r.set && (this.setter_ = h0("ComputedValue-setter", r.set)),
        (this.equals_ =
          r.equals ||
          (r.compareStructural || r.struct ? Yc.structural : Yc.default)),
        (this.scope_ = r.context),
        (this.requiresReaction_ = r.requiresReaction),
        (this.keepAlive_ = !!r.keepAlive);
    }
    var e = t.prototype;
    return (
      (e.onBecomeStale_ = function () {
        $z(this);
      }),
      (e.onBO = function () {
        this.onBOL &&
          this.onBOL.forEach(function (n) {
            return n();
          });
      }),
      (e.onBUO = function () {
        this.onBUOL &&
          this.onBUOL.forEach(function (n) {
            return n();
          });
      }),
      (e.get = function () {
        if (
          (this.isComputing_ && fr(32, this.name_, this.derivation),
          et.inBatch === 0 && this.observers_.size === 0 && !this.keepAlive_)
        )
          O3(this) &&
            (this.warnAboutUntrackedRead_(),
            Ys(),
            (this.value_ = this.computeValue_(!1)),
            Xs());
        else if ((_F(this), O3(this))) {
          var n = et.trackingContext;
          this.keepAlive_ && !n && (et.trackingContext = this),
            this.trackAndCompute() && _z(this),
            (et.trackingContext = n);
        }
        var i = this.value_;
        if (og(i)) throw i.cause;
        return i;
      }),
      (e.set = function (n) {
        if (this.setter_) {
          this.isRunningSetter_ && fr(33, this.name_),
            (this.isRunningSetter_ = !0);
          try {
            this.setter_.call(this.scope_, n);
          } finally {
            this.isRunningSetter_ = !1;
          }
        } else fr(34, this.name_);
      }),
      (e.trackAndCompute = function () {
        var n = this.value_,
          i = this.dependenciesState_ === yr.NOT_TRACKING_,
          o = this.computeValue_(!0),
          s = i || og(n) || og(o) || !this.equals_(n, o);
        return s && (this.value_ = o), s;
      }),
      (e.computeValue_ = function (n) {
        this.isComputing_ = !0;
        var i = Ev(!1),
          o;
        if (n) o = SF(this, this.derivation, this.scope_);
        else if (et.disableErrorBoundaries === !0)
          o = this.derivation.call(this.scope_);
        else
          try {
            o = this.derivation.call(this.scope_);
          } catch (s) {
            o = new s1(s);
          }
        return Fv(i), (this.isComputing_ = !1), o;
      }),
      (e.suspend_ = function () {
        this.keepAlive_ || (B3(this), (this.value_ = void 0));
      }),
      (e.observe_ = function (n, i) {
        var o = this,
          s = !0,
          a = void 0;
        return jz(function () {
          var l = o.get();
          if (!s || i) {
            var u = S0();
            n({
              observableKind: "computed",
              debugObjectName: o.name_,
              type: la,
              object: o,
              newValue: l,
              oldValue: a,
            }),
              La(u);
          }
          (s = !1), (a = l);
        });
      }),
      (e.warnAboutUntrackedRead_ = function () {}),
      (e.toString = function () {
        return this.name_ + "[" + this.derivation.toString() + "]";
      }),
      (e.valueOf = function () {
        return fF(this.get());
      }),
      (e[kF] = function () {
        return this.valueOf();
      }),
      t
    );
  })(),
  tp = wu("ComputedValue", Xc),
  yr;
(function (t) {
  (t[(t.NOT_TRACKING_ = -1)] = "NOT_TRACKING_"),
    (t[(t.UP_TO_DATE_ = 0)] = "UP_TO_DATE_"),
    (t[(t.POSSIBLY_STALE_ = 1)] = "POSSIBLY_STALE_"),
    (t[(t.STALE_ = 2)] = "STALE_");
})(yr || (yr = {}));
var i1;
(function (t) {
  (t[(t.NONE = 0)] = "NONE"),
    (t[(t.LOG = 1)] = "LOG"),
    (t[(t.BREAK = 2)] = "BREAK");
})(i1 || (i1 = {}));
var s1 = function (e) {
  (this.cause = void 0), (this.cause = e);
};
function og(t) {
  return t instanceof s1;
}
function O3(t) {
  switch (t.dependenciesState_) {
    case yr.UP_TO_DATE_:
      return !1;
    case yr.NOT_TRACKING_:
    case yr.STALE_:
      return !0;
    case yr.POSSIBLY_STALE_: {
      for (
        var e = I8(!0), r = S0(), n = t.observing_, i = n.length, o = 0;
        o < i;
        o++
      ) {
        var s = n[o];
        if (tp(s)) {
          if (et.disableErrorBoundaries) s.get();
          else
            try {
              s.get();
            } catch {
              return La(r), yh(e), !0;
            }
          if (t.dependenciesState_ === yr.STALE_) return La(r), yh(e), !0;
        }
      }
      return AF(t), La(r), yh(e), !1;
    }
  }
}
function SF(t, e, r) {
  var n = I8(!0);
  AF(t),
    (t.newObserving_ = new Array(t.runId_ === 0 ? 100 : t.observing_.length)),
    (t.unboundDepsCount_ = 0),
    (t.runId_ = ++et.runId);
  var i = et.trackingDerivation;
  (et.trackingDerivation = t), et.inBatch++;
  var o;
  if (et.disableErrorBoundaries === !0) o = e.call(r);
  else
    try {
      o = e.call(r);
    } catch (s) {
      o = new s1(s);
    }
  return et.inBatch--, (et.trackingDerivation = i), Ez(t), yh(n), o;
}
function Ez(t) {
  for (
    var e = t.observing_,
      r = (t.observing_ = t.newObserving_),
      n = yr.UP_TO_DATE_,
      i = 0,
      o = t.unboundDepsCount_,
      s = 0;
    s < o;
    s++
  ) {
    var a = r[s];
    a.diffValue_ === 0 && ((a.diffValue_ = 1), i !== s && (r[i] = a), i++),
      a.dependenciesState_ > n && (n = a.dependenciesState_);
  }
  for (r.length = i, t.newObserving_ = null, o = e.length; o--; ) {
    var l = e[o];
    l.diffValue_ === 0 && FF(l, t), (l.diffValue_ = 0);
  }
  for (; i--; ) {
    var u = r[i];
    u.diffValue_ === 1 && ((u.diffValue_ = 0), Mz(u, t));
  }
  n !== yr.UP_TO_DATE_ && ((t.dependenciesState_ = n), t.onBecomeStale_());
}
function B3(t) {
  var e = t.observing_;
  t.observing_ = [];
  for (var r = e.length; r--; ) FF(e[r], t);
  t.dependenciesState_ = yr.NOT_TRACKING_;
}
function CF(t) {
  var e = S0();
  try {
    return t();
  } finally {
    La(e);
  }
}
function S0() {
  var t = et.trackingDerivation;
  return (et.trackingDerivation = null), t;
}
function La(t) {
  et.trackingDerivation = t;
}
function I8(t) {
  var e = et.allowStateReads;
  return (et.allowStateReads = t), e;
}
function yh(t) {
  et.allowStateReads = t;
}
function AF(t) {
  if (t.dependenciesState_ !== yr.UP_TO_DATE_) {
    t.dependenciesState_ = yr.UP_TO_DATE_;
    for (var e = t.observing_, r = e.length; r--; )
      e[r].lowestObserverState_ = yr.UP_TO_DATE_;
  }
}
var ag = function () {
    (this.version = 6),
      (this.UNCHANGED = {}),
      (this.trackingDerivation = null),
      (this.trackingContext = null),
      (this.runId = 0),
      (this.mobxGuid = 0),
      (this.inBatch = 0),
      (this.pendingUnobservations = []),
      (this.pendingReactions = []),
      (this.isRunningReactions = !1),
      (this.allowStateChanges = !1),
      (this.allowStateReads = !0),
      (this.enforceActions = !0),
      (this.spyListeners = []),
      (this.globalReactionErrorHandlers = []),
      (this.computedRequiresReaction = !1),
      (this.reactionRequiresObservable = !1),
      (this.observableRequiresReaction = !1),
      (this.disableErrorBoundaries = !1),
      (this.suppressReactionErrors = !1),
      (this.useProxies = !0),
      (this.verifyProxies = !1),
      (this.safeDescriptors = !0);
  },
  lg = !0,
  EF = !1,
  et = (function () {
    var t = O8();
    return (
      t.__mobxInstanceCount > 0 && !t.__mobxGlobals && (lg = !1),
      t.__mobxGlobals &&
        t.__mobxGlobals.version !== new ag().version &&
        (lg = !1),
      lg
        ? t.__mobxGlobals
          ? ((t.__mobxInstanceCount += 1),
            t.__mobxGlobals.UNCHANGED || (t.__mobxGlobals.UNCHANGED = {}),
            t.__mobxGlobals)
          : ((t.__mobxInstanceCount = 1), (t.__mobxGlobals = new ag()))
        : (setTimeout(function () {
            EF || fr(35);
          }, 1),
          new ag())
    );
  })();
function Fz() {
  if (
    ((et.pendingReactions.length || et.inBatch || et.isRunningReactions) &&
      fr(36),
    (EF = !0),
    lg)
  ) {
    var t = O8();
    --t.__mobxInstanceCount === 0 && (t.__mobxGlobals = void 0),
      (et = new ag());
  }
}
function Mz(t, e) {
  t.observers_.add(e),
    t.lowestObserverState_ > e.dependenciesState_ &&
      (t.lowestObserverState_ = e.dependenciesState_);
}
function FF(t, e) {
  t.observers_.delete(e), t.observers_.size === 0 && MF(t);
}
function MF(t) {
  t.isPendingUnobservation_ === !1 &&
    ((t.isPendingUnobservation_ = !0), et.pendingUnobservations.push(t));
}
function Ys() {
  et.inBatch++;
}
function Xs() {
  if (--et.inBatch === 0) {
    OF();
    for (var t = et.pendingUnobservations, e = 0; e < t.length; e++) {
      var r = t[e];
      (r.isPendingUnobservation_ = !1),
        r.observers_.size === 0 &&
          (r.isBeingObserved_ && ((r.isBeingObserved_ = !1), r.onBUO()),
          r instanceof Xc && r.suspend_());
    }
    et.pendingUnobservations = [];
  }
}
function _F(t) {
  var e = et.trackingDerivation;
  return e !== null
    ? (e.runId_ !== t.lastAccessedBy_ &&
        ((t.lastAccessedBy_ = e.runId_),
        (e.newObserving_[e.unboundDepsCount_++] = t),
        !t.isBeingObserved_ &&
          et.trackingContext &&
          ((t.isBeingObserved_ = !0), t.onBO())),
      t.isBeingObserved_)
    : (t.observers_.size === 0 && et.inBatch > 0 && MF(t), !1);
}
function $F(t) {
  t.lowestObserverState_ !== yr.STALE_ &&
    ((t.lowestObserverState_ = yr.STALE_),
    t.observers_.forEach(function (e) {
      e.dependenciesState_ === yr.UP_TO_DATE_ && e.onBecomeStale_(),
        (e.dependenciesState_ = yr.STALE_);
    }));
}
function _z(t) {
  t.lowestObserverState_ !== yr.STALE_ &&
    ((t.lowestObserverState_ = yr.STALE_),
    t.observers_.forEach(function (e) {
      e.dependenciesState_ === yr.POSSIBLY_STALE_
        ? (e.dependenciesState_ = yr.STALE_)
        : e.dependenciesState_ === yr.UP_TO_DATE_ &&
          (t.lowestObserverState_ = yr.UP_TO_DATE_);
    }));
}
function $z(t) {
  t.lowestObserverState_ === yr.UP_TO_DATE_ &&
    ((t.lowestObserverState_ = yr.POSSIBLY_STALE_),
    t.observers_.forEach(function (e) {
      e.dependenciesState_ === yr.UP_TO_DATE_ &&
        ((e.dependenciesState_ = yr.POSSIBLY_STALE_), e.onBecomeStale_());
    }));
}
var Zh = (function () {
    function t(r, n, i, o) {
      r === void 0 && (r = "Reaction"),
        (this.name_ = void 0),
        (this.onInvalidate_ = void 0),
        (this.errorHandler_ = void 0),
        (this.requiresObservable_ = void 0),
        (this.observing_ = []),
        (this.newObserving_ = []),
        (this.dependenciesState_ = yr.NOT_TRACKING_),
        (this.diffValue_ = 0),
        (this.runId_ = 0),
        (this.unboundDepsCount_ = 0),
        (this.isDisposed_ = !1),
        (this.isScheduled_ = !1),
        (this.isTrackPending_ = !1),
        (this.isRunning_ = !1),
        (this.isTracing_ = i1.NONE),
        (this.name_ = r),
        (this.onInvalidate_ = n),
        (this.errorHandler_ = i),
        (this.requiresObservable_ = o);
    }
    var e = t.prototype;
    return (
      (e.onBecomeStale_ = function () {
        this.schedule_();
      }),
      (e.schedule_ = function () {
        this.isScheduled_ ||
          ((this.isScheduled_ = !0), et.pendingReactions.push(this), OF());
      }),
      (e.isScheduled = function () {
        return this.isScheduled_;
      }),
      (e.runReaction_ = function () {
        if (!this.isDisposed_) {
          Ys(), (this.isScheduled_ = !1);
          var n = et.trackingContext;
          if (((et.trackingContext = this), O3(this))) {
            this.isTrackPending_ = !0;
            try {
              this.onInvalidate_();
            } catch (i) {
              this.reportExceptionInDerivation_(i);
            }
          }
          (et.trackingContext = n), Xs();
        }
      }),
      (e.track = function (n) {
        if (!this.isDisposed_) {
          Ys(), (this.isRunning_ = !0);
          var i = et.trackingContext;
          et.trackingContext = this;
          var o = SF(this, n, void 0);
          (et.trackingContext = i),
            (this.isRunning_ = !1),
            (this.isTrackPending_ = !1),
            this.isDisposed_ && B3(this),
            og(o) && this.reportExceptionInDerivation_(o.cause),
            Xs();
        }
      }),
      (e.reportExceptionInDerivation_ = function (n) {
        var i = this;
        if (this.errorHandler_) {
          this.errorHandler_(n, this);
          return;
        }
        if (et.disableErrorBoundaries) throw n;
        var o = "[mobx] uncaught error in '" + this + "'";
        et.suppressReactionErrors || console.error(o, n),
          et.globalReactionErrorHandlers.forEach(function (s) {
            return s(n, i);
          });
      }),
      (e.dispose = function () {
        this.isDisposed_ ||
          ((this.isDisposed_ = !0), this.isRunning_ || (Ys(), B3(this), Xs()));
      }),
      (e.getDisposer_ = function (n) {
        var i = this,
          o = function s() {
            i.dispose(),
              n == null ||
                n.removeEventListener == null ||
                n.removeEventListener("abort", s);
          };
        return (
          n == null ||
            n.addEventListener == null ||
            n.addEventListener("abort", o),
          (o[Nt] = this),
          o
        );
      }),
      (e.toString = function () {
        return "Reaction[" + this.name_ + "]";
      }),
      (e.trace = function (n) {}),
      t
    );
  })(),
  Oz = 100,
  T3 = function (e) {
    return e();
  };
function OF() {
  et.inBatch > 0 || et.isRunningReactions || T3(Bz);
}
function Bz() {
  et.isRunningReactions = !0;
  for (var t = et.pendingReactions, e = 0; t.length > 0; ) {
    ++e === Oz &&
      (console.error("[mobx] cycle in reaction: " + t[0]), t.splice(0));
    for (var r = t.splice(0), n = 0, i = r.length; n < i; n++)
      r[n].runReaction_();
  }
  et.isRunningReactions = !1;
}
var o1 = wu("Reaction", Zh);
function Tz(t) {
  var e = T3;
  T3 = function (n) {
    return t(function () {
      return e(n);
    });
  };
}
function bh() {
  return !1;
}
function Pz(t) {
  return (
    console.warn("[mobx.spy] Is a no-op in production builds"), function () {}
  );
}
var BF = "action",
  Rz = "action.bound",
  TF = "autoAction",
  Iz = "autoAction.bound",
  Nz = "<unnamed action>",
  P3 = ep(BF),
  Lz = ep(Rz, { bound: !0 }),
  R3 = ep(TF, { autoAction: !0 }),
  zz = ep(Iz, { autoAction: !0, bound: !0 });
function PF(t) {
  var e = function (n, i) {
    if (_o(n)) return h0(n.name || Nz, n, t);
    if (_o(i)) return h0(n, i, t);
    if (Qd(i)) return (t ? R3 : P3).decorate_20223_(n, i);
    if (u0(i)) return Df(n, i, t ? R3 : P3);
    if (u0(n)) return aa(ep(t ? TF : BF, { name: n, autoAction: t }));
  };
  return e;
}
var vr = PF(!1);
Object.assign(vr, P3);
var ed = PF(!0);
Object.assign(ed, R3);
vr.bound = aa(Lz);
ed.bound = aa(zz);
function Mv(t) {
  return _o(t) && t.isMobxAction === !0;
}
function jz(t, e) {
  var r, n, i, o, s;
  e === void 0 && (e = B8);
  var a = (r = (n = e) == null ? void 0 : n.name) != null ? r : "Autorun",
    l = !e.scheduler && !e.delay,
    u;
  if (l)
    u = new Zh(
      a,
      function () {
        this.track(h);
      },
      e.onError,
      e.requiresObservable
    );
  else {
    var c = RF(e),
      f = !1;
    u = new Zh(
      a,
      function () {
        f ||
          ((f = !0),
          c(function () {
            (f = !1), u.isDisposed_ || u.track(h);
          }));
      },
      e.onError,
      e.requiresObservable
    );
  }
  function h() {
    t(u);
  }
  return (
    ((i = e) != null && (o = i.signal) != null && o.aborted) || u.schedule_(),
    u.getDisposer_((s = e) == null ? void 0 : s.signal)
  );
}
var Hz = function (e) {
  return e();
};
function RF(t) {
  return t.scheduler
    ? t.scheduler
    : t.delay
      ? function (e) {
          return setTimeout(e, t.delay);
        }
      : Hz;
}
function I3(t, e, r) {
  var n, i, o, s;
  r === void 0 && (r = B8);
  var a = (n = r.name) != null ? n : "Reaction",
    l = vr(a, r.onError ? Vz(r.onError, e) : e),
    u = !r.scheduler && !r.delay,
    c = RF(r),
    f = !0,
    h = !1,
    d,
    p = r.compareStructural ? Yc.structural : r.equals || Yc.default,
    m = new Zh(
      a,
      function () {
        f || u ? b() : h || ((h = !0), c(b));
      },
      r.onError,
      r.requiresObservable
    );
  function b() {
    if (((h = !1), !m.isDisposed_)) {
      var D = !1,
        k = d;
      m.track(function () {
        var S = Cz(!1, function () {
          return t(m);
        });
        (D = f || !p(d, S)), (d = S);
      }),
        ((f && r.fireImmediately) || (!f && D)) && l(d, k, m),
        (f = !1);
    }
  }
  return (
    ((i = r) != null && (o = i.signal) != null && o.aborted) || m.schedule_(),
    m.getDisposer_((s = r) == null ? void 0 : s.signal)
  );
}
function Vz(t, e) {
  return function () {
    try {
      return e.apply(this, arguments);
    } catch (r) {
      t.call(this, r);
    }
  };
}
var Wz = "onBO",
  qz = "onBUO";
function Uz(t, e, r) {
  return NF(Wz, t, e, r);
}
function IF(t, e, r) {
  return NF(qz, t, e, r);
}
function NF(t, e, r, n) {
  var i = typeof n == "function" ? Zc(e, r) : Zc(e),
    o = _o(n) ? n : r,
    s = t + "L";
  return (
    i[s] ? i[s].add(o) : (i[s] = new Set([o])),
    function () {
      var a = i[s];
      a && (a.delete(o), a.size === 0 && delete i[s]);
    }
  );
}
var Gz = "never",
  om = "always",
  Kz = "observed";
function Yz(t) {
  t.isolateGlobalState === !0 && Fz();
  var e = t.useProxies,
    r = t.enforceActions;
  if (
    (e !== void 0 &&
      (et.useProxies = e === om ? !0 : e === Gz ? !1 : typeof Proxy < "u"),
    e === "ifavailable" && (et.verifyProxies = !0),
    r !== void 0)
  ) {
    var n = r === om ? om : r === Kz;
    (et.enforceActions = n), (et.allowStateChanges = !(n === !0 || n === om));
  }
  [
    "computedRequiresReaction",
    "reactionRequiresObservable",
    "observableRequiresReaction",
    "disableErrorBoundaries",
    "safeDescriptors",
  ].forEach(function (i) {
    i in t && (et[i] = !!t[i]);
  }),
    (et.allowStateReads = !et.observableRequiresReaction),
    t.reactionScheduler && Tz(t.reactionScheduler);
}
function Xz(t, e, r, n) {
  var i = FL(e);
  return (
    A0(function () {
      var o = wf(t, n)[Nt];
      Sv(i).forEach(function (s) {
        o.extend_(s, i[s], r && s in r ? r[s] : !0);
      });
    }),
    t
  );
}
function Jz(t, e) {
  return LF(Zc(t, e));
}
function LF(t) {
  var e = { name: t.name_ };
  return (
    t.observing_ &&
      t.observing_.length > 0 &&
      (e.dependencies = Qz(t.observing_).map(LF)),
    e
  );
}
function Qz(t) {
  return Array.from(new Set(t));
}
var Zz = 0;
function zF() {
  this.message = "FLOW_CANCELLED";
}
zF.prototype = Object.create(Error.prototype);
var b4 = mF("flow"),
  ej = mF("flow.bound", { bound: !0 }),
  Jc = Object.assign(function (e, r) {
    if (Qd(r)) return b4.decorate_20223_(e, r);
    if (u0(r)) return Df(e, r, b4);
    var n = e,
      i = n.name || "<unnamed flow>",
      o = function () {
        var a = this,
          l = arguments,
          u = ++Zz,
          c = vr(i + " - runid: " + u + " - init", n).apply(a, l),
          f,
          h = void 0,
          d = new Promise(function (p, m) {
            var b = 0;
            f = m;
            function D(B) {
              h = void 0;
              var $;
              try {
                $ = vr(i + " - runid: " + u + " - yield " + b++, c.next).call(
                  c,
                  B
                );
              } catch (T) {
                return m(T);
              }
              S($);
            }
            function k(B) {
              h = void 0;
              var $;
              try {
                $ = vr(i + " - runid: " + u + " - yield " + b++, c.throw).call(
                  c,
                  B
                );
              } catch (T) {
                return m(T);
              }
              S($);
            }
            function S(B) {
              if (_o(B == null ? void 0 : B.then)) {
                B.then(S, m);
                return;
              }
              return B.done
                ? p(B.value)
                : ((h = Promise.resolve(B.value)), h.then(D, k));
            }
            D(void 0);
          });
        return (
          (d.cancel = vr(i + " - runid: " + u + " - cancel", function () {
            try {
              h && Uw(h);
              var p = c.return(void 0),
                m = Promise.resolve(p.value);
              m.then(mc, mc), Uw(m), f(new zF());
            } catch (b) {
              f(b);
            }
          })),
          d
        );
      };
    return (o.isMobXFlow = !0), o;
  }, b4);
Jc.bound = aa(ej);
function Uw(t) {
  _o(t.cancel) && t.cancel();
}
function td(t) {
  return (t == null ? void 0 : t.isMobXFlow) === !0;
}
function tj(t, e) {
  return t
    ? e !== void 0
      ? Qc(t)
        ? t[Nt].values_.has(e)
        : !1
      : Qc(t) || !!t[Nt] || P8(t) || o1(t) || tp(t)
    : !1;
}
function N8(t) {
  return tj(t);
}
function rj(t) {
  if (Qc(t)) return t[Nt].ownKeys_();
  fr(38);
}
function am(t, e, r) {
  return t.set(e, r), r;
}
function Y0(t, e) {
  if (t == null || typeof t != "object" || t instanceof Date || !N8(t))
    return t;
  if (Az(t) || tp(t)) return Y0(t.get(), e);
  if (e.has(t)) return e.get(t);
  if (ip(t)) {
    var r = am(e, t, new Array(t.length));
    return (
      t.forEach(function (s, a) {
        r[a] = Y0(s, e);
      }),
      r
    );
  }
  if (C0(t)) {
    var n = am(e, t, new Set());
    return (
      t.forEach(function (s) {
        n.add(Y0(s, e));
      }),
      n
    );
  }
  if (xu(t)) {
    var i = am(e, t, new Map());
    return (
      t.forEach(function (s, a) {
        i.set(a, Y0(s, e));
      }),
      i
    );
  } else {
    var o = am(e, t, {});
    return (
      rj(t).forEach(function (s) {
        Xd.propertyIsEnumerable.call(t, s) && (o[s] = Y0(t[s], e));
      }),
      o
    );
  }
}
function nj(t, e) {
  return Y0(t, new Map());
}
function $a(t, e) {
  e === void 0 && (e = void 0), Ys();
  try {
    return t.apply(e);
  } finally {
    Xs();
  }
}
function L0(t) {
  return t[Nt];
}
var ij = {
  has: function (e, r) {
    return L0(e).has_(r);
  },
  get: function (e, r) {
    return L0(e).get_(r);
  },
  set: function (e, r, n) {
    var i;
    return u0(r) ? ((i = L0(e).set_(r, n, !0)) != null ? i : !0) : !1;
  },
  deleteProperty: function (e, r) {
    var n;
    return u0(r) ? ((n = L0(e).delete_(r, !0)) != null ? n : !0) : !1;
  },
  defineProperty: function (e, r, n) {
    var i;
    return (i = L0(e).defineProperty_(r, n)) != null ? i : !0;
  },
  ownKeys: function (e) {
    return L0(e).ownKeys_();
  },
  preventExtensions: function (e) {
    fr(13);
  },
};
function sj(t, e) {
  var r, n;
  return (
    oF(),
    (t = wf(t, e)),
    (n = (r = t[Nt]).proxy_) != null ? n : (r.proxy_ = new Proxy(t, ij))
  );
}
function Ws(t) {
  return t.interceptors_ !== void 0 && t.interceptors_.length > 0;
}
function rp(t, e) {
  var r = t.interceptors_ || (t.interceptors_ = []);
  return (
    r.push(e),
    aF(function () {
      var n = r.indexOf(e);
      n !== -1 && r.splice(n, 1);
    })
  );
}
function qs(t, e) {
  var r = S0();
  try {
    for (
      var n = [].concat(t.interceptors_ || []), i = 0, o = n.length;
      i < o && ((e = n[i](e)), e && !e.type && fr(14), !!e);
      i++
    );
    return e;
  } finally {
    La(r);
  }
}
function Ao(t) {
  return t.changeListeners_ !== void 0 && t.changeListeners_.length > 0;
}
function np(t, e) {
  var r = t.changeListeners_ || (t.changeListeners_ = []);
  return (
    r.push(e),
    aF(function () {
      var n = r.indexOf(e);
      n !== -1 && r.splice(n, 1);
    })
  );
}
function Eo(t, e) {
  var r = S0(),
    n = t.changeListeners_;
  if (n) {
    n = n.slice();
    for (var i = 0, o = n.length; i < o; i++) n[i](e);
    La(r);
  }
}
function oj(t, e, r) {
  return (
    A0(function () {
      var n,
        i = wf(t, r)[Nt];
      (n = e) != null || (e = OL(t)),
        Sv(e).forEach(function (o) {
          return i.make_(o, e[o]);
        });
    }),
    t
  );
}
var Gw = "splice",
  la = "update",
  aj = 1e4,
  lj = {
    get: function (e, r) {
      var n = e[Nt];
      return r === Nt
        ? n
        : r === "length"
          ? n.getArrayLength_()
          : typeof r == "string" && !isNaN(r)
            ? n.get_(parseInt(r))
            : Na(a1, r)
              ? a1[r]
              : e[r];
    },
    set: function (e, r, n) {
      var i = e[Nt];
      return (
        r === "length" && i.setArrayLength_(n),
        typeof r == "symbol" || isNaN(r) ? (e[r] = n) : i.set_(parseInt(r), n),
        !0
      );
    },
    preventExtensions: function () {
      fr(15);
    },
  },
  L8 = (function () {
    function t(r, n, i, o) {
      r === void 0 && (r = "ObservableArray"),
        (this.owned_ = void 0),
        (this.legacyMode_ = void 0),
        (this.atom_ = void 0),
        (this.values_ = []),
        (this.interceptors_ = void 0),
        (this.changeListeners_ = void 0),
        (this.enhancer_ = void 0),
        (this.dehancer = void 0),
        (this.proxy_ = void 0),
        (this.lastKnownLength_ = 0),
        (this.owned_ = i),
        (this.legacyMode_ = o),
        (this.atom_ = new Zd(r)),
        (this.enhancer_ = function (s, a) {
          return n(s, a, "ObservableArray[..]");
        });
    }
    var e = t.prototype;
    return (
      (e.dehanceValue_ = function (n) {
        return this.dehancer !== void 0 ? this.dehancer(n) : n;
      }),
      (e.dehanceValues_ = function (n) {
        return this.dehancer !== void 0 && n.length > 0
          ? n.map(this.dehancer)
          : n;
      }),
      (e.intercept_ = function (n) {
        return rp(this, n);
      }),
      (e.observe_ = function (n, i) {
        return (
          i === void 0 && (i = !1),
          i &&
            n({
              observableKind: "array",
              object: this.proxy_,
              debugObjectName: this.atom_.name_,
              type: "splice",
              index: 0,
              added: this.values_.slice(),
              addedCount: this.values_.length,
              removed: [],
              removedCount: 0,
            }),
          np(this, n)
        );
      }),
      (e.getArrayLength_ = function () {
        return this.atom_.reportObserved(), this.values_.length;
      }),
      (e.setArrayLength_ = function (n) {
        (typeof n != "number" || isNaN(n) || n < 0) && fr("Out of range: " + n);
        var i = this.values_.length;
        if (n !== i)
          if (n > i) {
            for (var o = new Array(n - i), s = 0; s < n - i; s++) o[s] = void 0;
            this.spliceWithArray_(i, 0, o);
          } else this.spliceWithArray_(n, i - n);
      }),
      (e.updateArrayLength_ = function (n, i) {
        n !== this.lastKnownLength_ && fr(16),
          (this.lastKnownLength_ += i),
          this.legacyMode_ && i > 0 && JF(n + i + 1);
      }),
      (e.spliceWithArray_ = function (n, i, o) {
        var s = this;
        this.atom_;
        var a = this.values_.length;
        if (
          (n === void 0
            ? (n = 0)
            : n > a
              ? (n = a)
              : n < 0 && (n = Math.max(0, a + n)),
          arguments.length === 1
            ? (i = a - n)
            : i == null
              ? (i = 0)
              : (i = Math.max(0, Math.min(i, a - n))),
          o === void 0 && (o = F3),
          Ws(this))
        ) {
          var l = qs(this, {
            object: this.proxy_,
            type: Gw,
            index: n,
            removedCount: i,
            added: o,
          });
          if (!l) return F3;
          (i = l.removedCount), (o = l.added);
        }
        if (
          ((o =
            o.length === 0
              ? o
              : o.map(function (f) {
                  return s.enhancer_(f, void 0);
                })),
          this.legacyMode_)
        ) {
          var u = o.length - i;
          this.updateArrayLength_(a, u);
        }
        var c = this.spliceItemsIntoValues_(n, i, o);
        return (
          (i !== 0 || o.length !== 0) && this.notifyArraySplice_(n, o, c),
          this.dehanceValues_(c)
        );
      }),
      (e.spliceItemsIntoValues_ = function (n, i, o) {
        if (o.length < aj) {
          var s;
          return (s = this.values_).splice.apply(s, [n, i].concat(o));
        } else {
          var a = this.values_.slice(n, n + i),
            l = this.values_.slice(n + i);
          this.values_.length += o.length - i;
          for (var u = 0; u < o.length; u++) this.values_[n + u] = o[u];
          for (var c = 0; c < l.length; c++)
            this.values_[n + o.length + c] = l[c];
          return a;
        }
      }),
      (e.notifyArrayChildUpdate_ = function (n, i, o) {
        var s = !this.owned_ && bh(),
          a = Ao(this),
          l =
            a || s
              ? {
                  observableKind: "array",
                  object: this.proxy_,
                  type: la,
                  debugObjectName: this.atom_.name_,
                  index: n,
                  newValue: i,
                  oldValue: o,
                }
              : null;
        this.atom_.reportChanged(), a && Eo(this, l);
      }),
      (e.notifyArraySplice_ = function (n, i, o) {
        var s = !this.owned_ && bh(),
          a = Ao(this),
          l =
            a || s
              ? {
                  observableKind: "array",
                  object: this.proxy_,
                  debugObjectName: this.atom_.name_,
                  type: Gw,
                  index: n,
                  removed: o,
                  added: i,
                  removedCount: o.length,
                  addedCount: i.length,
                }
              : null;
        this.atom_.reportChanged(), a && Eo(this, l);
      }),
      (e.get_ = function (n) {
        if (this.legacyMode_ && n >= this.values_.length) {
          console.warn("[mobx] Out of bounds read: " + n);
          return;
        }
        return this.atom_.reportObserved(), this.dehanceValue_(this.values_[n]);
      }),
      (e.set_ = function (n, i) {
        var o = this.values_;
        if (
          (this.legacyMode_ && n > o.length && fr(17, n, o.length),
          n < o.length)
        ) {
          this.atom_;
          var s = o[n];
          if (Ws(this)) {
            var a = qs(this, {
              type: la,
              object: this.proxy_,
              index: n,
              newValue: i,
            });
            if (!a) return;
            i = a.newValue;
          }
          i = this.enhancer_(i, s);
          var l = i !== s;
          l && ((o[n] = i), this.notifyArrayChildUpdate_(n, i, s));
        } else {
          for (
            var u = new Array(n + 1 - o.length), c = 0;
            c < u.length - 1;
            c++
          )
            u[c] = void 0;
          (u[u.length - 1] = i), this.spliceWithArray_(o.length, 0, u);
        }
      }),
      t
    );
  })();
function uj(t, e, r, n) {
  return (
    r === void 0 && (r = "ObservableArray"),
    n === void 0 && (n = !1),
    oF(),
    A0(function () {
      var i = new L8(r, e, n, !1);
      uF(i.values_, Nt, i);
      var o = new Proxy(i.values_, lj);
      return (i.proxy_ = o), t && t.length && i.spliceWithArray_(0, 0, t), o;
    })
  );
}
var a1 = {
  clear: function () {
    return this.splice(0);
  },
  replace: function (e) {
    var r = this[Nt];
    return r.spliceWithArray_(0, r.values_.length, e);
  },
  toJSON: function () {
    return this.slice();
  },
  splice: function (e, r) {
    for (
      var n = arguments.length, i = new Array(n > 2 ? n - 2 : 0), o = 2;
      o < n;
      o++
    )
      i[o - 2] = arguments[o];
    var s = this[Nt];
    switch (arguments.length) {
      case 0:
        return [];
      case 1:
        return s.spliceWithArray_(e);
      case 2:
        return s.spliceWithArray_(e, r);
    }
    return s.spliceWithArray_(e, r, i);
  },
  spliceWithArray: function (e, r, n) {
    return this[Nt].spliceWithArray_(e, r, n);
  },
  push: function () {
    for (
      var e = this[Nt], r = arguments.length, n = new Array(r), i = 0;
      i < r;
      i++
    )
      n[i] = arguments[i];
    return e.spliceWithArray_(e.values_.length, 0, n), e.values_.length;
  },
  pop: function () {
    return this.splice(Math.max(this[Nt].values_.length - 1, 0), 1)[0];
  },
  shift: function () {
    return this.splice(0, 1)[0];
  },
  unshift: function () {
    for (
      var e = this[Nt], r = arguments.length, n = new Array(r), i = 0;
      i < r;
      i++
    )
      n[i] = arguments[i];
    return e.spliceWithArray_(0, 0, n), e.values_.length;
  },
  reverse: function () {
    return (
      et.trackingDerivation && fr(37, "reverse"),
      this.replace(this.slice().reverse()),
      this
    );
  },
  sort: function () {
    et.trackingDerivation && fr(37, "sort");
    var e = this.slice();
    return e.sort.apply(e, arguments), this.replace(e), this;
  },
  remove: function (e) {
    var r = this[Nt],
      n = r.dehanceValues_(r.values_).indexOf(e);
    return n > -1 ? (this.splice(n, 1), !0) : !1;
  },
};
Ur("at", Es);
Ur("concat", Es);
Ur("flat", Es);
Ur("includes", Es);
Ur("indexOf", Es);
Ur("join", Es);
Ur("lastIndexOf", Es);
Ur("slice", Es);
Ur("toString", Es);
Ur("toLocaleString", Es);
Ur("toSorted", Es);
Ur("toSpliced", Es);
Ur("with", Es);
Ur("every", To);
Ur("filter", To);
Ur("find", To);
Ur("findIndex", To);
Ur("findLast", To);
Ur("findLastIndex", To);
Ur("flatMap", To);
Ur("forEach", To);
Ur("map", To);
Ur("some", To);
Ur("toReversed", To);
Ur("reduce", jF);
Ur("reduceRight", jF);
function Ur(t, e) {
  typeof Array.prototype[t] == "function" && (a1[t] = e(t));
}
function Es(t) {
  return function () {
    var e = this[Nt];
    e.atom_.reportObserved();
    var r = e.dehanceValues_(e.values_);
    return r[t].apply(r, arguments);
  };
}
function To(t) {
  return function (e, r) {
    var n = this,
      i = this[Nt];
    i.atom_.reportObserved();
    var o = i.dehanceValues_(i.values_);
    return o[t](function (s, a) {
      return e.call(r, s, a, n);
    });
  };
}
function jF(t) {
  return function () {
    var e = this,
      r = this[Nt];
    r.atom_.reportObserved();
    var n = r.dehanceValues_(r.values_),
      i = arguments[0];
    return (
      (arguments[0] = function (o, s, a) {
        return i(o, s, a, e);
      }),
      n[t].apply(n, arguments)
    );
  };
}
var cj = wu("ObservableArrayAdministration", L8);
function ip(t) {
  return xv(t) && cj(t[Nt]);
}
var HF,
  VF,
  fj = {},
  Pl = "add",
  l1 = "delete";
HF = Symbol.iterator;
VF = Symbol.toStringTag;
var WF = (function () {
    function t(r, n, i) {
      var o = this;
      n === void 0 && (n = f0),
        i === void 0 && (i = "ObservableMap"),
        (this.enhancer_ = void 0),
        (this.name_ = void 0),
        (this[Nt] = fj),
        (this.data_ = void 0),
        (this.hasMap_ = void 0),
        (this.keysAtom_ = void 0),
        (this.interceptors_ = void 0),
        (this.changeListeners_ = void 0),
        (this.dehancer = void 0),
        (this.enhancer_ = n),
        (this.name_ = i),
        _o(Map) || fr(18),
        A0(function () {
          (o.keysAtom_ = dF("ObservableMap.keys()")),
            (o.data_ = new Map()),
            (o.hasMap_ = new Map()),
            r && o.merge(r);
        });
    }
    var e = t.prototype;
    return (
      (e.has_ = function (n) {
        return this.data_.has(n);
      }),
      (e.has = function (n) {
        var i = this;
        if (!et.trackingDerivation) return this.has_(n);
        var o = this.hasMap_.get(n);
        if (!o) {
          var s = (o = new Yl(this.has_(n), Cv, "ObservableMap.key?", !1));
          this.hasMap_.set(n, s),
            IF(s, function () {
              return i.hasMap_.delete(n);
            });
        }
        return o.get();
      }),
      (e.set = function (n, i) {
        var o = this.has_(n);
        if (Ws(this)) {
          var s = qs(this, {
            type: o ? la : Pl,
            object: this,
            newValue: i,
            name: n,
          });
          if (!s) return this;
          i = s.newValue;
        }
        return o ? this.updateValue_(n, i) : this.addValue_(n, i), this;
      }),
      (e.delete = function (n) {
        var i = this;
        if ((this.keysAtom_, Ws(this))) {
          var o = qs(this, { type: l1, object: this, name: n });
          if (!o) return !1;
        }
        if (this.has_(n)) {
          var s = bh(),
            a = Ao(this),
            l =
              a || s
                ? {
                    observableKind: "map",
                    debugObjectName: this.name_,
                    type: l1,
                    object: this,
                    oldValue: this.data_.get(n).value_,
                    name: n,
                  }
                : null;
          return (
            $a(function () {
              var u;
              i.keysAtom_.reportChanged(),
                (u = i.hasMap_.get(n)) == null || u.setNewValue_(!1);
              var c = i.data_.get(n);
              c.setNewValue_(void 0), i.data_.delete(n);
            }),
            a && Eo(this, l),
            !0
          );
        }
        return !1;
      }),
      (e.updateValue_ = function (n, i) {
        var o = this.data_.get(n);
        if (((i = o.prepareNewValue_(i)), i !== et.UNCHANGED)) {
          var s = bh(),
            a = Ao(this),
            l =
              a || s
                ? {
                    observableKind: "map",
                    debugObjectName: this.name_,
                    type: la,
                    object: this,
                    oldValue: o.value_,
                    name: n,
                    newValue: i,
                  }
                : null;
          o.setNewValue_(i), a && Eo(this, l);
        }
      }),
      (e.addValue_ = function (n, i) {
        var o = this;
        this.keysAtom_,
          $a(function () {
            var u,
              c = new Yl(i, o.enhancer_, "ObservableMap.key", !1);
            o.data_.set(n, c),
              (i = c.value_),
              (u = o.hasMap_.get(n)) == null || u.setNewValue_(!0),
              o.keysAtom_.reportChanged();
          });
        var s = bh(),
          a = Ao(this),
          l =
            a || s
              ? {
                  observableKind: "map",
                  debugObjectName: this.name_,
                  type: Pl,
                  object: this,
                  name: n,
                  newValue: i,
                }
              : null;
        a && Eo(this, l);
      }),
      (e.get = function (n) {
        return this.has(n)
          ? this.dehanceValue_(this.data_.get(n).get())
          : this.dehanceValue_(void 0);
      }),
      (e.dehanceValue_ = function (n) {
        return this.dehancer !== void 0 ? this.dehancer(n) : n;
      }),
      (e.keys = function () {
        return this.keysAtom_.reportObserved(), this.data_.keys();
      }),
      (e.values = function () {
        var n = this,
          i = this.keys();
        return rd({
          next: function () {
            var s = i.next(),
              a = s.done,
              l = s.value;
            return { done: a, value: a ? void 0 : n.get(l) };
          },
        });
      }),
      (e.entries = function () {
        var n = this,
          i = this.keys();
        return rd({
          next: function () {
            var s = i.next(),
              a = s.done,
              l = s.value;
            return { done: a, value: a ? void 0 : [l, n.get(l)] };
          },
        });
      }),
      (e[HF] = function () {
        return this.entries();
      }),
      (e.forEach = function (n, i) {
        for (var o = gc(this), s; !(s = o()).done; ) {
          var a = s.value,
            l = a[0],
            u = a[1];
          n.call(i, u, l, this);
        }
      }),
      (e.merge = function (n) {
        var i = this;
        return (
          xu(n) && (n = new Map(n)),
          $a(function () {
            su(n)
              ? EL(n).forEach(function (o) {
                  return i.set(o, n[o]);
                })
              : Array.isArray(n)
                ? n.forEach(function (o) {
                    var s = o[0],
                      a = o[1];
                    return i.set(s, a);
                  })
                : bf(n)
                  ? (n.constructor !== Map && fr(19, n),
                    n.forEach(function (o, s) {
                      return i.set(s, o);
                    }))
                  : n != null && fr(20, n);
          }),
          this
        );
      }),
      (e.clear = function () {
        var n = this;
        $a(function () {
          CF(function () {
            for (var i = gc(n.keys()), o; !(o = i()).done; ) {
              var s = o.value;
              n.delete(s);
            }
          });
        });
      }),
      (e.replace = function (n) {
        var i = this;
        return (
          $a(function () {
            for (
              var o = hj(n), s = new Map(), a = !1, l = gc(i.data_.keys()), u;
              !(u = l()).done;

            ) {
              var c = u.value;
              if (!o.has(c)) {
                var f = i.delete(c);
                if (f) a = !0;
                else {
                  var h = i.data_.get(c);
                  s.set(c, h);
                }
              }
            }
            for (var d = gc(o.entries()), p; !(p = d()).done; ) {
              var m = p.value,
                b = m[0],
                D = m[1],
                k = i.data_.has(b);
              if ((i.set(b, D), i.data_.has(b))) {
                var S = i.data_.get(b);
                s.set(b, S), k || (a = !0);
              }
            }
            if (!a)
              if (i.data_.size !== s.size) i.keysAtom_.reportChanged();
              else
                for (
                  var B = i.data_.keys(),
                    $ = s.keys(),
                    T = B.next(),
                    P = $.next();
                  !T.done;

                ) {
                  if (T.value !== P.value) {
                    i.keysAtom_.reportChanged();
                    break;
                  }
                  (T = B.next()), (P = $.next());
                }
            i.data_ = s;
          }),
          this
        );
      }),
      (e.toString = function () {
        return "[object ObservableMap]";
      }),
      (e.toJSON = function () {
        return Array.from(this);
      }),
      (e.observe_ = function (n, i) {
        return np(this, n);
      }),
      (e.intercept_ = function (n) {
        return rp(this, n);
      }),
      T8(t, [
        {
          key: "size",
          get: function () {
            return this.keysAtom_.reportObserved(), this.data_.size;
          },
        },
        {
          key: VF,
          get: function () {
            return "Map";
          },
        },
      ]),
      t
    );
  })(),
  xu = wu("ObservableMap", WF);
function hj(t) {
  if (bf(t) || xu(t)) return t;
  if (Array.isArray(t)) return new Map(t);
  if (su(t)) {
    var e = new Map();
    for (var r in t) e.set(r, t[r]);
    return e;
  } else return fr(21, t);
}
var qF,
  UF,
  dj = {};
qF = Symbol.iterator;
UF = Symbol.toStringTag;
var GF = (function () {
    function t(r, n, i) {
      var o = this;
      n === void 0 && (n = f0),
        i === void 0 && (i = "ObservableSet"),
        (this.name_ = void 0),
        (this[Nt] = dj),
        (this.data_ = new Set()),
        (this.atom_ = void 0),
        (this.changeListeners_ = void 0),
        (this.interceptors_ = void 0),
        (this.dehancer = void 0),
        (this.enhancer_ = void 0),
        (this.name_ = i),
        _o(Set) || fr(22),
        (this.enhancer_ = function (s, a) {
          return n(s, a, i);
        }),
        A0(function () {
          (o.atom_ = dF(o.name_)), r && o.replace(r);
        });
    }
    var e = t.prototype;
    return (
      (e.dehanceValue_ = function (n) {
        return this.dehancer !== void 0 ? this.dehancer(n) : n;
      }),
      (e.clear = function () {
        var n = this;
        $a(function () {
          CF(function () {
            for (var i = gc(n.data_.values()), o; !(o = i()).done; ) {
              var s = o.value;
              n.delete(s);
            }
          });
        });
      }),
      (e.forEach = function (n, i) {
        for (var o = gc(this), s; !(s = o()).done; ) {
          var a = s.value;
          n.call(i, a, a, this);
        }
      }),
      (e.add = function (n) {
        var i = this;
        if ((this.atom_, Ws(this))) {
          var o = qs(this, { type: Pl, object: this, newValue: n });
          if (!o) return this;
        }
        if (!this.has(n)) {
          $a(function () {
            i.data_.add(i.enhancer_(n, void 0)), i.atom_.reportChanged();
          });
          var s = !1,
            a = Ao(this),
            l =
              a || s
                ? {
                    observableKind: "set",
                    debugObjectName: this.name_,
                    type: Pl,
                    object: this,
                    newValue: n,
                  }
                : null;
          a && Eo(this, l);
        }
        return this;
      }),
      (e.delete = function (n) {
        var i = this;
        if (Ws(this)) {
          var o = qs(this, { type: l1, object: this, oldValue: n });
          if (!o) return !1;
        }
        if (this.has(n)) {
          var s = !1,
            a = Ao(this),
            l =
              a || s
                ? {
                    observableKind: "set",
                    debugObjectName: this.name_,
                    type: l1,
                    object: this,
                    oldValue: n,
                  }
                : null;
          return (
            $a(function () {
              i.atom_.reportChanged(), i.data_.delete(n);
            }),
            a && Eo(this, l),
            !0
          );
        }
        return !1;
      }),
      (e.has = function (n) {
        return (
          this.atom_.reportObserved(), this.data_.has(this.dehanceValue_(n))
        );
      }),
      (e.entries = function () {
        var n = 0,
          i = Array.from(this.keys()),
          o = Array.from(this.values());
        return rd({
          next: function () {
            var a = n;
            return (
              (n += 1),
              a < o.length ? { value: [i[a], o[a]], done: !1 } : { done: !0 }
            );
          },
        });
      }),
      (e.keys = function () {
        return this.values();
      }),
      (e.values = function () {
        this.atom_.reportObserved();
        var n = this,
          i = 0,
          o = Array.from(this.data_.values());
        return rd({
          next: function () {
            return i < o.length
              ? { value: n.dehanceValue_(o[i++]), done: !1 }
              : { done: !0 };
          },
        });
      }),
      (e.replace = function (n) {
        var i = this;
        return (
          C0(n) && (n = new Set(n)),
          $a(function () {
            Array.isArray(n)
              ? (i.clear(),
                n.forEach(function (o) {
                  return i.add(o);
                }))
              : Jd(n)
                ? (i.clear(),
                  n.forEach(function (o) {
                    return i.add(o);
                  }))
                : n != null && fr("Cannot initialize set from " + n);
          }),
          this
        );
      }),
      (e.observe_ = function (n, i) {
        return np(this, n);
      }),
      (e.intercept_ = function (n) {
        return rp(this, n);
      }),
      (e.toJSON = function () {
        return Array.from(this);
      }),
      (e.toString = function () {
        return "[object ObservableSet]";
      }),
      (e[qF] = function () {
        return this.values();
      }),
      T8(t, [
        {
          key: "size",
          get: function () {
            return this.atom_.reportObserved(), this.data_.size;
          },
        },
        {
          key: UF,
          get: function () {
            return "Set";
          },
        },
      ]),
      t
    );
  })(),
  C0 = wu("ObservableSet", GF),
  Kw = Object.create(null),
  Yw = "remove",
  KF = (function () {
    function t(r, n, i, o) {
      n === void 0 && (n = new Map()),
        o === void 0 && (o = iz),
        (this.target_ = void 0),
        (this.values_ = void 0),
        (this.name_ = void 0),
        (this.defaultAnnotation_ = void 0),
        (this.keysAtom_ = void 0),
        (this.changeListeners_ = void 0),
        (this.interceptors_ = void 0),
        (this.proxy_ = void 0),
        (this.isPlainObject_ = void 0),
        (this.appliedAnnotations_ = void 0),
        (this.pendingKeys_ = void 0),
        (this.target_ = r),
        (this.values_ = n),
        (this.name_ = i),
        (this.defaultAnnotation_ = o),
        (this.keysAtom_ = new Zd("ObservableObject.keys")),
        (this.isPlainObject_ = su(this.target_));
    }
    var e = t.prototype;
    return (
      (e.getObservablePropValue_ = function (n) {
        return this.values_.get(n).get();
      }),
      (e.setObservablePropValue_ = function (n, i) {
        var o = this.values_.get(n);
        if (o instanceof Xc) return o.set(i), !0;
        if (Ws(this)) {
          var s = qs(this, {
            type: la,
            object: this.proxy_ || this.target_,
            name: n,
            newValue: i,
          });
          if (!s) return null;
          i = s.newValue;
        }
        if (((i = o.prepareNewValue_(i)), i !== et.UNCHANGED)) {
          var a = Ao(this),
            l = !1,
            u =
              a || l
                ? {
                    type: la,
                    observableKind: "object",
                    debugObjectName: this.name_,
                    object: this.proxy_ || this.target_,
                    oldValue: o.value_,
                    name: n,
                    newValue: i,
                  }
                : null;
          o.setNewValue_(i), a && Eo(this, u);
        }
        return !0;
      }),
      (e.get_ = function (n) {
        return (
          et.trackingDerivation && !Na(this.target_, n) && this.has_(n),
          this.target_[n]
        );
      }),
      (e.set_ = function (n, i, o) {
        return (
          o === void 0 && (o = !1),
          Na(this.target_, n)
            ? this.values_.has(n)
              ? this.setObservablePropValue_(n, i)
              : o
                ? Reflect.set(this.target_, n, i)
                : ((this.target_[n] = i), !0)
            : this.extend_(
                n,
                { value: i, enumerable: !0, writable: !0, configurable: !0 },
                this.defaultAnnotation_,
                o
              )
        );
      }),
      (e.has_ = function (n) {
        if (!et.trackingDerivation) return n in this.target_;
        this.pendingKeys_ || (this.pendingKeys_ = new Map());
        var i = this.pendingKeys_.get(n);
        return (
          i ||
            ((i = new Yl(n in this.target_, Cv, "ObservableObject.key?", !1)),
            this.pendingKeys_.set(n, i)),
          i.get()
        );
      }),
      (e.make_ = function (n, i) {
        if ((i === !0 && (i = this.defaultAnnotation_), i !== !1)) {
          if (!(n in this.target_)) {
            var o;
            if ((o = this.target_[Zo]) != null && o[n]) return;
            fr(1, i.annotationType_, this.name_ + "." + n.toString());
          }
          for (var s = this.target_; s && s !== Xd; ) {
            var a = r1(s, n);
            if (a) {
              var l = i.make_(this, n, a, s);
              if (l === 0) return;
              if (l === 1) break;
            }
            s = Object.getPrototypeOf(s);
          }
          Jw(this, i, n);
        }
      }),
      (e.extend_ = function (n, i, o, s) {
        if (
          (s === void 0 && (s = !1),
          o === !0 && (o = this.defaultAnnotation_),
          o === !1)
        )
          return this.defineProperty_(n, i, s);
        var a = o.extend_(this, n, i, s);
        return a && Jw(this, o, n), a;
      }),
      (e.defineProperty_ = function (n, i, o) {
        o === void 0 && (o = !1), this.keysAtom_;
        try {
          Ys();
          var s = this.delete_(n);
          if (!s) return s;
          if (Ws(this)) {
            var a = qs(this, {
              object: this.proxy_ || this.target_,
              name: n,
              type: Pl,
              newValue: i.value,
            });
            if (!a) return null;
            var l = a.newValue;
            i.value !== l && (i = c0({}, i, { value: l }));
          }
          if (o) {
            if (!Reflect.defineProperty(this.target_, n, i)) return !1;
          } else oa(this.target_, n, i);
          this.notifyPropertyAddition_(n, i.value);
        } finally {
          Xs();
        }
        return !0;
      }),
      (e.defineObservableProperty_ = function (n, i, o, s) {
        s === void 0 && (s = !1), this.keysAtom_;
        try {
          Ys();
          var a = this.delete_(n);
          if (!a) return a;
          if (Ws(this)) {
            var l = qs(this, {
              object: this.proxy_ || this.target_,
              name: n,
              type: Pl,
              newValue: i,
            });
            if (!l) return null;
            i = l.newValue;
          }
          var u = Xw(n),
            c = {
              configurable: et.safeDescriptors ? this.isPlainObject_ : !0,
              enumerable: !0,
              get: u.get,
              set: u.set,
            };
          if (s) {
            if (!Reflect.defineProperty(this.target_, n, c)) return !1;
          } else oa(this.target_, n, c);
          var f = new Yl(i, o, "ObservableObject.key", !1);
          this.values_.set(n, f), this.notifyPropertyAddition_(n, f.value_);
        } finally {
          Xs();
        }
        return !0;
      }),
      (e.defineComputedProperty_ = function (n, i, o) {
        o === void 0 && (o = !1), this.keysAtom_;
        try {
          Ys();
          var s = this.delete_(n);
          if (!s) return s;
          if (Ws(this)) {
            var a = qs(this, {
              object: this.proxy_ || this.target_,
              name: n,
              type: Pl,
              newValue: void 0,
            });
            if (!a) return null;
          }
          i.name || (i.name = "ObservableObject.key"),
            (i.context = this.proxy_ || this.target_);
          var l = Xw(n),
            u = {
              configurable: et.safeDescriptors ? this.isPlainObject_ : !0,
              enumerable: !1,
              get: l.get,
              set: l.set,
            };
          if (o) {
            if (!Reflect.defineProperty(this.target_, n, u)) return !1;
          } else oa(this.target_, n, u);
          this.values_.set(n, new Xc(i)),
            this.notifyPropertyAddition_(n, void 0);
        } finally {
          Xs();
        }
        return !0;
      }),
      (e.delete_ = function (n, i) {
        if ((i === void 0 && (i = !1), this.keysAtom_, !Na(this.target_, n)))
          return !0;
        if (Ws(this)) {
          var o = qs(this, {
            object: this.proxy_ || this.target_,
            name: n,
            type: Yw,
          });
          if (!o) return null;
        }
        try {
          var s, a;
          Ys();
          var l = Ao(this),
            u = !1,
            c = this.values_.get(n),
            f = void 0;
          if (!c && (l || u)) {
            var h;
            f = (h = r1(this.target_, n)) == null ? void 0 : h.value;
          }
          if (i) {
            if (!Reflect.deleteProperty(this.target_, n)) return !1;
          } else delete this.target_[n];
          if (
            (c &&
              (this.values_.delete(n),
              c instanceof Yl && (f = c.value_),
              $F(c)),
            this.keysAtom_.reportChanged(),
            (s = this.pendingKeys_) == null ||
              (a = s.get(n)) == null ||
              a.set(n in this.target_),
            l || u)
          ) {
            var d = {
              type: Yw,
              observableKind: "object",
              object: this.proxy_ || this.target_,
              debugObjectName: this.name_,
              oldValue: f,
              name: n,
            };
            l && Eo(this, d);
          }
        } finally {
          Xs();
        }
        return !0;
      }),
      (e.observe_ = function (n, i) {
        return np(this, n);
      }),
      (e.intercept_ = function (n) {
        return rp(this, n);
      }),
      (e.notifyPropertyAddition_ = function (n, i) {
        var o,
          s,
          a = Ao(this),
          l = !1;
        if (a || l) {
          var u =
            a || l
              ? {
                  type: Pl,
                  observableKind: "object",
                  debugObjectName: this.name_,
                  object: this.proxy_ || this.target_,
                  name: n,
                  newValue: i,
                }
              : null;
          a && Eo(this, u);
        }
        (o = this.pendingKeys_) == null || (s = o.get(n)) == null || s.set(!0),
          this.keysAtom_.reportChanged();
      }),
      (e.ownKeys_ = function () {
        return this.keysAtom_.reportObserved(), Sv(this.target_);
      }),
      (e.keys_ = function () {
        return this.keysAtom_.reportObserved(), Object.keys(this.target_);
      }),
      t
    );
  })();
function wf(t, e) {
  var r;
  if (Na(t, Nt)) return t;
  var n = (r = e == null ? void 0 : e.name) != null ? r : "ObservableObject",
    i = new KF(t, new Map(), String(n), mz(e));
  return kv(t, Nt, i), t;
}
var pj = wu("ObservableObjectAdministration", KF);
function Xw(t) {
  return (
    Kw[t] ||
    (Kw[t] = {
      get: function () {
        return this[Nt].getObservablePropValue_(t);
      },
      set: function (r) {
        return this[Nt].setObservablePropValue_(t, r);
      },
    })
  );
}
function Qc(t) {
  return xv(t) ? pj(t[Nt]) : !1;
}
function Jw(t, e, r) {
  var n;
  (n = t.target_[Zo]) == null || delete n[r];
}
var mj = XF(0),
  gj = (function () {
    var t = !1,
      e = {};
    return (
      Object.defineProperty(e, "0", {
        set: function () {
          t = !0;
        },
      }),
      (Object.create(e)[0] = 1),
      t === !1
    );
  })(),
  D4 = 0,
  YF = function () {};
function vj(t, e) {
  Object.setPrototypeOf
    ? Object.setPrototypeOf(t.prototype, e)
    : t.prototype.__proto__ !== void 0
      ? (t.prototype.__proto__ = e)
      : (t.prototype = e);
}
vj(YF, Array.prototype);
var z8 = (function (t, e, r) {
  hF(n, t);
  function n(o, s, a, l) {
    var u;
    return (
      a === void 0 && (a = "ObservableArray"),
      l === void 0 && (l = !1),
      (u = t.call(this) || this),
      A0(function () {
        var c = new L8(a, s, l, !0);
        (c.proxy_ = y4(u)),
          uF(y4(u), Nt, c),
          o && o.length && u.spliceWithArray(0, 0, o),
          gj && Object.defineProperty(y4(u), "0", mj);
      }),
      u
    );
  }
  var i = n.prototype;
  return (
    (i.concat = function () {
      this[Nt].atom_.reportObserved();
      for (var s = arguments.length, a = new Array(s), l = 0; l < s; l++)
        a[l] = arguments[l];
      return Array.prototype.concat.apply(
        this.slice(),
        a.map(function (u) {
          return ip(u) ? u.slice() : u;
        })
      );
    }),
    (i[r] = function () {
      var o = this,
        s = 0;
      return rd({
        next: function () {
          return s < o.length
            ? { value: o[s++], done: !1 }
            : { done: !0, value: void 0 };
        },
      });
    }),
    T8(n, [
      {
        key: "length",
        get: function () {
          return this[Nt].getArrayLength_();
        },
        set: function (s) {
          this[Nt].setArrayLength_(s);
        },
      },
      {
        key: e,
        get: function () {
          return "Array";
        },
      },
    ]),
    n
  );
})(YF, Symbol.toStringTag, Symbol.iterator);
Object.entries(a1).forEach(function (t) {
  var e = t[0],
    r = t[1];
  e !== "concat" && kv(z8.prototype, e, r);
});
function XF(t) {
  return {
    enumerable: !1,
    configurable: !0,
    get: function () {
      return this[Nt].get_(t);
    },
    set: function (r) {
      this[Nt].set_(t, r);
    },
  };
}
function yj(t) {
  oa(z8.prototype, "" + t, XF(t));
}
function JF(t) {
  if (t > D4) {
    for (var e = D4; e < t + 100; e++) yj(e);
    D4 = t;
  }
}
JF(1e3);
function bj(t, e, r) {
  return new z8(t, e, r);
}
function Zc(t, e) {
  if (typeof t == "object" && t !== null) {
    if (ip(t)) return e !== void 0 && fr(23), t[Nt].atom_;
    if (C0(t)) return t.atom_;
    if (xu(t)) {
      if (e === void 0) return t.keysAtom_;
      var r = t.data_.get(e) || t.hasMap_.get(e);
      return r || fr(25, e, N3(t)), r;
    }
    if (Qc(t)) {
      if (!e) return fr(26);
      var n = t[Nt].values_.get(e);
      return n || fr(27, e, N3(t)), n;
    }
    if (P8(t) || tp(t) || o1(t)) return t;
  } else if (_o(t) && o1(t[Nt])) return t[Nt];
  fr(28);
}
function QF(t, e) {
  if ((t || fr(29), e !== void 0)) return QF(Zc(t, e));
  if (P8(t) || tp(t) || o1(t) || xu(t) || C0(t)) return t;
  if (t[Nt]) return t[Nt];
  fr(24, t);
}
function N3(t, e) {
  var r;
  if (e !== void 0) r = Zc(t, e);
  else {
    if (Mv(t)) return t.name;
    Qc(t) || xu(t) || C0(t) ? (r = QF(t)) : (r = Zc(t));
  }
  return r.name_;
}
function A0(t) {
  var e = S0(),
    r = Ev(!0);
  Ys();
  try {
    return t();
  } finally {
    Xs(), Fv(r), La(e);
  }
}
var Qw = Xd.toString;
function j8(t, e, r) {
  return r === void 0 && (r = -1), L3(t, e, r);
}
function L3(t, e, r, n, i) {
  if (t === e) return t !== 0 || 1 / t === 1 / e;
  if (t == null || e == null) return !1;
  if (t !== t) return e !== e;
  var o = typeof t;
  if (o !== "function" && o !== "object" && typeof e != "object") return !1;
  var s = Qw.call(t);
  if (s !== Qw.call(e)) return !1;
  switch (s) {
    case "[object RegExp]":
    case "[object String]":
      return "" + t == "" + e;
    case "[object Number]":
      return +t != +t ? +e != +e : +t == 0 ? 1 / +t === 1 / e : +t == +e;
    case "[object Date]":
    case "[object Boolean]":
      return +t == +e;
    case "[object Symbol]":
      return (
        typeof Symbol < "u" && Symbol.valueOf.call(t) === Symbol.valueOf.call(e)
      );
    case "[object Map]":
    case "[object Set]":
      r >= 0 && r++;
      break;
  }
  (t = Zw(t)), (e = Zw(e));
  var a = s === "[object Array]";
  if (!a) {
    if (typeof t != "object" || typeof e != "object") return !1;
    var l = t.constructor,
      u = e.constructor;
    if (
      l !== u &&
      !(_o(l) && l instanceof l && _o(u) && u instanceof u) &&
      "constructor" in t &&
      "constructor" in e
    )
      return !1;
  }
  if (r === 0) return !1;
  r < 0 && (r = -1), (n = n || []), (i = i || []);
  for (var c = n.length; c--; ) if (n[c] === t) return i[c] === e;
  if ((n.push(t), i.push(e), a)) {
    if (((c = t.length), c !== e.length)) return !1;
    for (; c--; ) if (!L3(t[c], e[c], r - 1, n, i)) return !1;
  } else {
    var f = Object.keys(t),
      h;
    if (((c = f.length), Object.keys(e).length !== c)) return !1;
    for (; c--; )
      if (((h = f[c]), !(Na(e, h) && L3(t[h], e[h], r - 1, n, i)))) return !1;
  }
  return n.pop(), i.pop(), !0;
}
function Zw(t) {
  return ip(t)
    ? t.slice()
    : bf(t) || xu(t) || Jd(t) || C0(t)
      ? Array.from(t.entries())
      : t;
}
function rd(t) {
  return (t[Symbol.iterator] = Dj), t;
}
function Dj() {
  return this;
}
["Symbol", "Map", "Set"].forEach(function (t) {
  var e = O8();
  typeof e[t] > "u" &&
    fr("MobX requires global '" + t + "' to be available or polyfilled");
});
typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ == "object" &&
  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
    spy: Pz,
    extras: { getDebugName: N3 },
    $mobx: Nt,
  });
if (!ct.useState)
  throw new Error("mobx-react-lite requires React with Hooks support");
if (!oj)
  throw new Error(
    "mobx-react-lite@3 requires mobx at least version 6 to be available"
  );
function wj(t) {
  t();
}
function xj(t) {
  t || (t = wj), Yz({ reactionScheduler: t });
}
function kj(t) {
  return Jz(t);
}
var Sj = 1e4,
  Cj = 1e4,
  Aj = (function () {
    function t(e) {
      var r = this;
      Object.defineProperty(this, "finalize", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: e,
      }),
        Object.defineProperty(this, "registrations", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: new Map(),
        }),
        Object.defineProperty(this, "sweepTimeout", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: void 0,
        }),
        Object.defineProperty(this, "sweep", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: function (n) {
            n === void 0 && (n = Sj),
              clearTimeout(r.sweepTimeout),
              (r.sweepTimeout = void 0);
            var i = Date.now();
            r.registrations.forEach(function (o, s) {
              i - o.registeredAt >= n &&
                (r.finalize(o.value), r.registrations.delete(s));
            }),
              r.registrations.size > 0 && r.scheduleSweep();
          },
        }),
        Object.defineProperty(this, "finalizeAllImmediately", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: function () {
            r.sweep(0);
          },
        });
    }
    return (
      Object.defineProperty(t.prototype, "register", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function (e, r, n) {
          this.registrations.set(n, { value: r, registeredAt: Date.now() }),
            this.scheduleSweep();
        },
      }),
      Object.defineProperty(t.prototype, "unregister", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function (e) {
          this.registrations.delete(e);
        },
      }),
      Object.defineProperty(t.prototype, "scheduleSweep", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function () {
          this.sweepTimeout === void 0 &&
            (this.sweepTimeout = setTimeout(this.sweep, Cj));
        },
      }),
      t
    );
  })(),
  Ej = typeof FinalizationRegistry < "u" ? FinalizationRegistry : Aj,
  z3 = new Ej(function (t) {
    var e;
    (e = t.reaction) === null || e === void 0 || e.dispose(),
      (t.reaction = null);
  }),
  ZF = { exports: {} },
  eM = {};
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var ef = ct;
function Fj(t, e) {
  return (t === e && (t !== 0 || 1 / t === 1 / e)) || (t !== t && e !== e);
}
var Mj = typeof Object.is == "function" ? Object.is : Fj,
  _j = ef.useState,
  $j = ef.useEffect,
  Oj = ef.useLayoutEffect,
  Bj = ef.useDebugValue;
function Tj(t, e) {
  var r = e(),
    n = _j({ inst: { value: r, getSnapshot: e } }),
    i = n[0].inst,
    o = n[1];
  return (
    Oj(
      function () {
        (i.value = r), (i.getSnapshot = e), w4(i) && o({ inst: i });
      },
      [t, r, e]
    ),
    $j(
      function () {
        return (
          w4(i) && o({ inst: i }),
          t(function () {
            w4(i) && o({ inst: i });
          })
        );
      },
      [t]
    ),
    Bj(r),
    r
  );
}
function w4(t) {
  var e = t.getSnapshot;
  t = t.value;
  try {
    var r = e();
    return !Mj(t, r);
  } catch {
    return !0;
  }
}
function Pj(t, e) {
  return e();
}
var Rj =
  typeof window > "u" ||
  typeof window.document > "u" ||
  typeof window.document.createElement > "u"
    ? Pj
    : Tj;
eM.useSyncExternalStore =
  ef.useSyncExternalStore !== void 0 ? ef.useSyncExternalStore : Rj;
ZF.exports = eM;
var Ij = ZF.exports;
function e9(t) {
  t.reaction = new Zh("observer".concat(t.name), function () {
    var e;
    (t.stateVersion = Symbol()),
      (e = t.onStoreChange) === null || e === void 0 || e.call(t);
  });
}
function Nj(t, e) {
  e === void 0 && (e = "observed");
  var r = zc.useRef(null);
  if (!r.current) {
    var n = {
      reaction: null,
      onStoreChange: null,
      stateVersion: Symbol(),
      name: e,
      subscribe: function (a) {
        return (
          z3.unregister(n),
          (n.onStoreChange = a),
          n.reaction || (e9(n), (n.stateVersion = Symbol())),
          function () {
            var l;
            (n.onStoreChange = null),
              (l = n.reaction) === null || l === void 0 || l.dispose(),
              (n.reaction = null);
          }
        );
      },
      getSnapshot: function () {
        return n.stateVersion;
      },
    };
    r.current = n;
  }
  var i = r.current;
  i.reaction || (e9(i), z3.register(r, i, i)),
    zc.useDebugValue(i.reaction, kj),
    Ij.useSyncExternalStore(i.subscribe, i.getSnapshot, i.getSnapshot);
  var o, s;
  if (
    (i.reaction.track(function () {
      try {
        o = t();
      } catch (a) {
        s = a;
      }
    }),
    s)
  )
    throw s;
  return o;
}
var x4,
  k4,
  tM = typeof Symbol == "function" && Symbol.for,
  Lj =
    (k4 =
      (x4 = Object.getOwnPropertyDescriptor(function () {}, "name")) === null ||
      x4 === void 0
        ? void 0
        : x4.configurable) !== null && k4 !== void 0
      ? k4
      : !1,
  t9 = tM
    ? Symbol.for("react.forward_ref")
    : typeof ct.forwardRef == "function" &&
      ct.forwardRef(function (t) {
        return null;
      }).$$typeof,
  r9 = tM
    ? Symbol.for("react.memo")
    : typeof ct.memo == "function" &&
      ct.memo(function (t) {
        return null;
      }).$$typeof;
function Hi(t, e) {
  var r;
  if (r9 && t.$$typeof === r9)
    throw new Error(
      "[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you."
    );
  var n =
      (r = e == null ? void 0 : e.forwardRef) !== null && r !== void 0 ? r : !1,
    i = t,
    o = t.displayName || t.name;
  if (
    t9 &&
    t.$$typeof === t9 &&
    ((n = !0), (i = t.render), typeof i != "function")
  )
    throw new Error(
      "[mobx-react-lite] `render` property of ForwardRef was not a function"
    );
  var s = function (a, l) {
    return Nj(function () {
      return i(a, l);
    }, o);
  };
  return (
    (s.displayName = t.displayName),
    Lj &&
      Object.defineProperty(s, "name", {
        value: t.name,
        writable: !0,
        configurable: !0,
      }),
    t.contextTypes && (s.contextTypes = t.contextTypes),
    n && (s = ct.forwardRef(s)),
    (s = ct.memo(s)),
    jj(t, s),
    s
  );
}
var zj = { $$typeof: !0, render: !0, compare: !0, type: !0, displayName: !0 };
function jj(t, e) {
  Object.keys(t).forEach(function (r) {
    zj[r] || Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));
  });
}
var S4;
xj(nF.unstable_batchedUpdates);
S4 = z3.finalizeAllImmediately;
const Hj = 1024;
let Vj = 0,
  C4 = class {
    constructor(e, r) {
      (this.from = e), (this.to = r);
    }
  };
class ar {
  constructor(e = {}) {
    (this.id = Vj++),
      (this.perNode = !!e.perNode),
      (this.deserialize =
        e.deserialize ||
        (() => {
          throw new Error(
            "This node type doesn't define a deserialize function"
          );
        }));
  }
  add(e) {
    if (this.perNode)
      throw new RangeError("Can't add per-node props to node types");
    return (
      typeof e != "function" && (e = as.match(e)),
      (r) => {
        let n = e(r);
        return n === void 0 ? null : [this, n];
      }
    );
  }
}
ar.closedBy = new ar({ deserialize: (t) => t.split(" ") });
ar.openedBy = new ar({ deserialize: (t) => t.split(" ") });
ar.group = new ar({ deserialize: (t) => t.split(" ") });
ar.isolate = new ar({
  deserialize: (t) => {
    if (t && t != "rtl" && t != "ltr" && t != "auto")
      throw new RangeError("Invalid value for isolate: " + t);
    return t || "auto";
  },
});
ar.contextHash = new ar({ perNode: !0 });
ar.lookAhead = new ar({ perNode: !0 });
ar.mounted = new ar({ perNode: !0 });
class u1 {
  constructor(e, r, n) {
    (this.tree = e), (this.overlay = r), (this.parser = n);
  }
  static get(e) {
    return e && e.props && e.props[ar.mounted.id];
  }
}
const Wj = Object.create(null);
class as {
  constructor(e, r, n, i = 0) {
    (this.name = e), (this.props = r), (this.id = n), (this.flags = i);
  }
  static define(e) {
    let r = e.props && e.props.length ? Object.create(null) : Wj,
      n =
        (e.top ? 1 : 0) |
        (e.skipped ? 2 : 0) |
        (e.error ? 4 : 0) |
        (e.name == null ? 8 : 0),
      i = new as(e.name || "", r, e.id, n);
    if (e.props) {
      for (let o of e.props)
        if ((Array.isArray(o) || (o = o(i)), o)) {
          if (o[0].perNode)
            throw new RangeError("Can't store a per-node prop on a node type");
          r[o[0].id] = o[1];
        }
    }
    return i;
  }
  prop(e) {
    return this.props[e.id];
  }
  get isTop() {
    return (this.flags & 1) > 0;
  }
  get isSkipped() {
    return (this.flags & 2) > 0;
  }
  get isError() {
    return (this.flags & 4) > 0;
  }
  get isAnonymous() {
    return (this.flags & 8) > 0;
  }
  is(e) {
    if (typeof e == "string") {
      if (this.name == e) return !0;
      let r = this.prop(ar.group);
      return r ? r.indexOf(e) > -1 : !1;
    }
    return this.id == e;
  }
  static match(e) {
    let r = Object.create(null);
    for (let n in e) for (let i of n.split(" ")) r[i] = e[n];
    return (n) => {
      for (let i = n.prop(ar.group), o = -1; o < (i ? i.length : 0); o++) {
        let s = r[o < 0 ? n.name : i[o]];
        if (s) return s;
      }
    };
  }
}
as.none = new as("", Object.create(null), 0, 8);
class H8 {
  constructor(e) {
    this.types = e;
    for (let r = 0; r < e.length; r++)
      if (e[r].id != r)
        throw new RangeError(
          "Node type ids should correspond to array positions when creating a node set"
        );
  }
  extend(...e) {
    let r = [];
    for (let n of this.types) {
      let i = null;
      for (let o of e) {
        let s = o(n);
        s && (i || (i = Object.assign({}, n.props)), (i[s[0].id] = s[1]));
      }
      r.push(i ? new as(n.name, i, n.id, n.flags) : n);
    }
    return new H8(r);
  }
}
const lm = new WeakMap(),
  n9 = new WeakMap();
var ui;
(function (t) {
  (t[(t.ExcludeBuffers = 1)] = "ExcludeBuffers"),
    (t[(t.IncludeAnonymous = 2)] = "IncludeAnonymous"),
    (t[(t.IgnoreMounts = 4)] = "IgnoreMounts"),
    (t[(t.IgnoreOverlays = 8)] = "IgnoreOverlays");
})(ui || (ui = {}));
class un {
  constructor(e, r, n, i, o) {
    if (
      ((this.type = e),
      (this.children = r),
      (this.positions = n),
      (this.length = i),
      (this.props = null),
      o && o.length)
    ) {
      this.props = Object.create(null);
      for (let [s, a] of o) this.props[typeof s == "number" ? s : s.id] = a;
    }
  }
  toString() {
    let e = u1.get(this);
    if (e && !e.overlay) return e.tree.toString();
    let r = "";
    for (let n of this.children) {
      let i = n.toString();
      i && (r && (r += ","), (r += i));
    }
    return this.type.name
      ? (/\W/.test(this.type.name) && !this.type.isError
          ? JSON.stringify(this.type.name)
          : this.type.name) + (r.length ? "(" + r + ")" : "")
      : r;
  }
  cursor(e = 0) {
    return new H3(this.topNode, e);
  }
  cursorAt(e, r = 0, n = 0) {
    let i = lm.get(this) || this.topNode,
      o = new H3(i);
    return o.moveTo(e, r), lm.set(this, o._tree), o;
  }
  get topNode() {
    return new eo(this, 0, 0, null);
  }
  resolve(e, r = 0) {
    let n = nd(lm.get(this) || this.topNode, e, r, !1);
    return lm.set(this, n), n;
  }
  resolveInner(e, r = 0) {
    let n = nd(n9.get(this) || this.topNode, e, r, !0);
    return n9.set(this, n), n;
  }
  resolveStack(e, r = 0) {
    return Gj(this, e, r);
  }
  iterate(e) {
    let { enter: r, leave: n, from: i = 0, to: o = this.length } = e,
      s = e.mode || 0,
      a = (s & ui.IncludeAnonymous) > 0;
    for (let l = this.cursor(s | ui.IncludeAnonymous); ; ) {
      let u = !1;
      if (
        l.from <= o &&
        l.to >= i &&
        ((!a && l.type.isAnonymous) || r(l) !== !1)
      ) {
        if (l.firstChild()) continue;
        u = !0;
      }
      for (; u && n && (a || !l.type.isAnonymous) && n(l), !l.nextSibling(); ) {
        if (!l.parent()) return;
        u = !0;
      }
    }
  }
  prop(e) {
    return e.perNode
      ? this.props
        ? this.props[e.id]
        : void 0
      : this.type.prop(e);
  }
  get propValues() {
    let e = [];
    if (this.props) for (let r in this.props) e.push([+r, this.props[r]]);
    return e;
  }
  balance(e = {}) {
    return this.children.length <= 8
      ? this
      : q8(
          as.none,
          this.children,
          this.positions,
          0,
          this.children.length,
          0,
          this.length,
          (r, n, i) => new un(this.type, r, n, i, this.propValues),
          e.makeTree || ((r, n, i) => new un(as.none, r, n, i))
        );
  }
  static build(e) {
    return Kj(e);
  }
}
un.empty = new un(as.none, [], [], 0);
class V8 {
  constructor(e, r) {
    (this.buffer = e), (this.index = r);
  }
  get id() {
    return this.buffer[this.index - 4];
  }
  get start() {
    return this.buffer[this.index - 3];
  }
  get end() {
    return this.buffer[this.index - 2];
  }
  get size() {
    return this.buffer[this.index - 1];
  }
  get pos() {
    return this.index;
  }
  next() {
    this.index -= 4;
  }
  fork() {
    return new V8(this.buffer, this.index);
  }
}
class ou {
  constructor(e, r, n) {
    (this.buffer = e), (this.length = r), (this.set = n);
  }
  get type() {
    return as.none;
  }
  toString() {
    let e = [];
    for (let r = 0; r < this.buffer.length; )
      e.push(this.childString(r)), (r = this.buffer[r + 3]);
    return e.join(",");
  }
  childString(e) {
    let r = this.buffer[e],
      n = this.buffer[e + 3],
      i = this.set.types[r],
      o = i.name;
    if (
      (/\W/.test(o) && !i.isError && (o = JSON.stringify(o)), (e += 4), n == e)
    )
      return o;
    let s = [];
    for (; e < n; ) s.push(this.childString(e)), (e = this.buffer[e + 3]);
    return o + "(" + s.join(",") + ")";
  }
  findChild(e, r, n, i, o) {
    let { buffer: s } = this,
      a = -1;
    for (
      let l = e;
      l != r && !(rM(o, i, s[l + 1], s[l + 2]) && ((a = l), n > 0));
      l = s[l + 3]
    );
    return a;
  }
  slice(e, r, n) {
    let i = this.buffer,
      o = new Uint16Array(r - e),
      s = 0;
    for (let a = e, l = 0; a < r; ) {
      (o[l++] = i[a++]), (o[l++] = i[a++] - n);
      let u = (o[l++] = i[a++] - n);
      (o[l++] = i[a++] - e), (s = Math.max(s, u));
    }
    return new ou(o, s, this.set);
  }
}
function rM(t, e, r, n) {
  switch (t) {
    case -2:
      return r < e;
    case -1:
      return n >= e && r < e;
    case 0:
      return r < e && n > e;
    case 1:
      return r <= e && n > e;
    case 2:
      return n > e;
    case 4:
      return !0;
  }
}
function nd(t, e, r, n) {
  for (
    var i;
    t.from == t.to ||
    (r < 1 ? t.from >= e : t.from > e) ||
    (r > -1 ? t.to <= e : t.to < e);

  ) {
    let s = !n && t instanceof eo && t.index < 0 ? null : t.parent;
    if (!s) return t;
    t = s;
  }
  let o = n ? 0 : ui.IgnoreOverlays;
  if (n)
    for (let s = t, a = s.parent; a; s = a, a = s.parent)
      s instanceof eo &&
        s.index < 0 &&
        ((i = a.enter(e, r, o)) === null || i === void 0 ? void 0 : i.from) !=
          s.from &&
        (t = a);
  for (;;) {
    let s = t.enter(e, r, o);
    if (!s) return t;
    t = s;
  }
}
class nM {
  cursor(e = 0) {
    return new H3(this, e);
  }
  getChild(e, r = null, n = null) {
    let i = i9(this, e, r, n);
    return i.length ? i[0] : null;
  }
  getChildren(e, r = null, n = null) {
    return i9(this, e, r, n);
  }
  resolve(e, r = 0) {
    return nd(this, e, r, !1);
  }
  resolveInner(e, r = 0) {
    return nd(this, e, r, !0);
  }
  matchContext(e) {
    return j3(this, e);
  }
  enterUnfinishedNodesBefore(e) {
    let r = this.childBefore(e),
      n = this;
    for (; r; ) {
      let i = r.lastChild;
      if (!i || i.to != r.to) break;
      i.type.isError && i.from == i.to
        ? ((n = r), (r = i.prevSibling))
        : (r = i);
    }
    return n;
  }
  get node() {
    return this;
  }
  get next() {
    return this.parent;
  }
}
class eo extends nM {
  constructor(e, r, n, i) {
    super(),
      (this._tree = e),
      (this.from = r),
      (this.index = n),
      (this._parent = i);
  }
  get type() {
    return this._tree.type;
  }
  get name() {
    return this._tree.type.name;
  }
  get to() {
    return this.from + this._tree.length;
  }
  nextChild(e, r, n, i, o = 0) {
    for (let s = this; ; ) {
      for (
        let { children: a, positions: l } = s._tree, u = r > 0 ? a.length : -1;
        e != u;
        e += r
      ) {
        let c = a[e],
          f = l[e] + s.from;
        if (rM(i, n, f, f + c.length)) {
          if (c instanceof ou) {
            if (o & ui.ExcludeBuffers) continue;
            let h = c.findChild(0, c.buffer.length, r, n - f, i);
            if (h > -1) return new Rl(new qj(s, c, e, f), null, h);
          } else if (o & ui.IncludeAnonymous || !c.type.isAnonymous || W8(c)) {
            let h;
            if (!(o & ui.IgnoreMounts) && (h = u1.get(c)) && !h.overlay)
              return new eo(h.tree, f, e, s);
            let d = new eo(c, f, e, s);
            return o & ui.IncludeAnonymous || !d.type.isAnonymous
              ? d
              : d.nextChild(r < 0 ? c.children.length - 1 : 0, r, n, i);
          }
        }
      }
      if (
        o & ui.IncludeAnonymous ||
        !s.type.isAnonymous ||
        (s.index >= 0
          ? (e = s.index + r)
          : (e = r < 0 ? -1 : s._parent._tree.children.length),
        (s = s._parent),
        !s)
      )
        return null;
    }
  }
  get firstChild() {
    return this.nextChild(0, 1, 0, 4);
  }
  get lastChild() {
    return this.nextChild(this._tree.children.length - 1, -1, 0, 4);
  }
  childAfter(e) {
    return this.nextChild(0, 1, e, 2);
  }
  childBefore(e) {
    return this.nextChild(this._tree.children.length - 1, -1, e, -2);
  }
  enter(e, r, n = 0) {
    let i;
    if (!(n & ui.IgnoreOverlays) && (i = u1.get(this._tree)) && i.overlay) {
      let o = e - this.from;
      for (let { from: s, to: a } of i.overlay)
        if ((r > 0 ? s <= o : s < o) && (r < 0 ? a >= o : a > o))
          return new eo(i.tree, i.overlay[0].from + this.from, -1, this);
    }
    return this.nextChild(0, 1, e, r, n);
  }
  nextSignificantParent() {
    let e = this;
    for (; e.type.isAnonymous && e._parent; ) e = e._parent;
    return e;
  }
  get parent() {
    return this._parent ? this._parent.nextSignificantParent() : null;
  }
  get nextSibling() {
    return this._parent && this.index >= 0
      ? this._parent.nextChild(this.index + 1, 1, 0, 4)
      : null;
  }
  get prevSibling() {
    return this._parent && this.index >= 0
      ? this._parent.nextChild(this.index - 1, -1, 0, 4)
      : null;
  }
  get tree() {
    return this._tree;
  }
  toTree() {
    return this._tree;
  }
  toString() {
    return this._tree.toString();
  }
}
function i9(t, e, r, n) {
  let i = t.cursor(),
    o = [];
  if (!i.firstChild()) return o;
  if (r != null) {
    for (let s = !1; !s; ) if (((s = i.type.is(r)), !i.nextSibling())) return o;
  }
  for (;;) {
    if (n != null && i.type.is(n)) return o;
    if ((i.type.is(e) && o.push(i.node), !i.nextSibling()))
      return n == null ? o : [];
  }
}
function j3(t, e, r = e.length - 1) {
  for (let n = t.parent; r >= 0; n = n.parent) {
    if (!n) return !1;
    if (!n.type.isAnonymous) {
      if (e[r] && e[r] != n.name) return !1;
      r--;
    }
  }
  return !0;
}
class qj {
  constructor(e, r, n, i) {
    (this.parent = e), (this.buffer = r), (this.index = n), (this.start = i);
  }
}
class Rl extends nM {
  get name() {
    return this.type.name;
  }
  get from() {
    return this.context.start + this.context.buffer.buffer[this.index + 1];
  }
  get to() {
    return this.context.start + this.context.buffer.buffer[this.index + 2];
  }
  constructor(e, r, n) {
    super(),
      (this.context = e),
      (this._parent = r),
      (this.index = n),
      (this.type = e.buffer.set.types[e.buffer.buffer[n]]);
  }
  child(e, r, n) {
    let { buffer: i } = this.context,
      o = i.findChild(
        this.index + 4,
        i.buffer[this.index + 3],
        e,
        r - this.context.start,
        n
      );
    return o < 0 ? null : new Rl(this.context, this, o);
  }
  get firstChild() {
    return this.child(1, 0, 4);
  }
  get lastChild() {
    return this.child(-1, 0, 4);
  }
  childAfter(e) {
    return this.child(1, e, 2);
  }
  childBefore(e) {
    return this.child(-1, e, -2);
  }
  enter(e, r, n = 0) {
    if (n & ui.ExcludeBuffers) return null;
    let { buffer: i } = this.context,
      o = i.findChild(
        this.index + 4,
        i.buffer[this.index + 3],
        r > 0 ? 1 : -1,
        e - this.context.start,
        r
      );
    return o < 0 ? null : new Rl(this.context, this, o);
  }
  get parent() {
    return this._parent || this.context.parent.nextSignificantParent();
  }
  externalSibling(e) {
    return this._parent
      ? null
      : this.context.parent.nextChild(this.context.index + e, e, 0, 4);
  }
  get nextSibling() {
    let { buffer: e } = this.context,
      r = e.buffer[this.index + 3];
    return r <
      (this._parent ? e.buffer[this._parent.index + 3] : e.buffer.length)
      ? new Rl(this.context, this._parent, r)
      : this.externalSibling(1);
  }
  get prevSibling() {
    let { buffer: e } = this.context,
      r = this._parent ? this._parent.index + 4 : 0;
    return this.index == r
      ? this.externalSibling(-1)
      : new Rl(
          this.context,
          this._parent,
          e.findChild(r, this.index, -1, 0, 4)
        );
  }
  get tree() {
    return null;
  }
  toTree() {
    let e = [],
      r = [],
      { buffer: n } = this.context,
      i = this.index + 4,
      o = n.buffer[this.index + 3];
    if (o > i) {
      let s = n.buffer[this.index + 1];
      e.push(n.slice(i, o, s)), r.push(0);
    }
    return new un(this.type, e, r, this.to - this.from);
  }
  toString() {
    return this.context.buffer.childString(this.index);
  }
}
function iM(t) {
  if (!t.length) return null;
  let e = 0,
    r = t[0];
  for (let o = 1; o < t.length; o++) {
    let s = t[o];
    (s.from > r.from || s.to < r.to) && ((r = s), (e = o));
  }
  let n = r instanceof eo && r.index < 0 ? null : r.parent,
    i = t.slice();
  return n ? (i[e] = n) : i.splice(e, 1), new Uj(i, r);
}
class Uj {
  constructor(e, r) {
    (this.heads = e), (this.node = r);
  }
  get next() {
    return iM(this.heads);
  }
}
function Gj(t, e, r) {
  let n = t.resolveInner(e, r),
    i = null;
  for (let o = n instanceof eo ? n : n.context.parent; o; o = o.parent)
    if (o.index < 0) {
      let s = o.parent;
      (i || (i = [n])).push(s.resolve(e, r)), (o = s);
    } else {
      let s = u1.get(o.tree);
      if (
        s &&
        s.overlay &&
        s.overlay[0].from <= e &&
        s.overlay[s.overlay.length - 1].to >= e
      ) {
        let a = new eo(s.tree, s.overlay[0].from + o.from, -1, o);
        (i || (i = [n])).push(nd(a, e, r, !1));
      }
    }
  return i ? iM(i) : n;
}
class H3 {
  get name() {
    return this.type.name;
  }
  constructor(e, r = 0) {
    if (
      ((this.mode = r),
      (this.buffer = null),
      (this.stack = []),
      (this.index = 0),
      (this.bufferNode = null),
      e instanceof eo)
    )
      this.yieldNode(e);
    else {
      (this._tree = e.context.parent), (this.buffer = e.context);
      for (let n = e._parent; n; n = n._parent) this.stack.unshift(n.index);
      (this.bufferNode = e), this.yieldBuf(e.index);
    }
  }
  yieldNode(e) {
    return e
      ? ((this._tree = e),
        (this.type = e.type),
        (this.from = e.from),
        (this.to = e.to),
        !0)
      : !1;
  }
  yieldBuf(e, r) {
    this.index = e;
    let { start: n, buffer: i } = this.buffer;
    return (
      (this.type = r || i.set.types[i.buffer[e]]),
      (this.from = n + i.buffer[e + 1]),
      (this.to = n + i.buffer[e + 2]),
      !0
    );
  }
  yield(e) {
    return e
      ? e instanceof eo
        ? ((this.buffer = null), this.yieldNode(e))
        : ((this.buffer = e.context), this.yieldBuf(e.index, e.type))
      : !1;
  }
  toString() {
    return this.buffer
      ? this.buffer.buffer.childString(this.index)
      : this._tree.toString();
  }
  enterChild(e, r, n) {
    if (!this.buffer)
      return this.yield(
        this._tree.nextChild(
          e < 0 ? this._tree._tree.children.length - 1 : 0,
          e,
          r,
          n,
          this.mode
        )
      );
    let { buffer: i } = this.buffer,
      o = i.findChild(
        this.index + 4,
        i.buffer[this.index + 3],
        e,
        r - this.buffer.start,
        n
      );
    return o < 0 ? !1 : (this.stack.push(this.index), this.yieldBuf(o));
  }
  firstChild() {
    return this.enterChild(1, 0, 4);
  }
  lastChild() {
    return this.enterChild(-1, 0, 4);
  }
  childAfter(e) {
    return this.enterChild(1, e, 2);
  }
  childBefore(e) {
    return this.enterChild(-1, e, -2);
  }
  enter(e, r, n = this.mode) {
    return this.buffer
      ? n & ui.ExcludeBuffers
        ? !1
        : this.enterChild(1, e, r)
      : this.yield(this._tree.enter(e, r, n));
  }
  parent() {
    if (!this.buffer)
      return this.yieldNode(
        this.mode & ui.IncludeAnonymous ? this._tree._parent : this._tree.parent
      );
    if (this.stack.length) return this.yieldBuf(this.stack.pop());
    let e =
      this.mode & ui.IncludeAnonymous
        ? this.buffer.parent
        : this.buffer.parent.nextSignificantParent();
    return (this.buffer = null), this.yieldNode(e);
  }
  sibling(e) {
    if (!this.buffer)
      return this._tree._parent
        ? this.yield(
            this._tree.index < 0
              ? null
              : this._tree._parent.nextChild(
                  this._tree.index + e,
                  e,
                  0,
                  4,
                  this.mode
                )
          )
        : !1;
    let { buffer: r } = this.buffer,
      n = this.stack.length - 1;
    if (e < 0) {
      let i = n < 0 ? 0 : this.stack[n] + 4;
      if (this.index != i)
        return this.yieldBuf(r.findChild(i, this.index, -1, 0, 4));
    } else {
      let i = r.buffer[this.index + 3];
      if (i < (n < 0 ? r.buffer.length : r.buffer[this.stack[n] + 3]))
        return this.yieldBuf(i);
    }
    return n < 0
      ? this.yield(
          this.buffer.parent.nextChild(
            this.buffer.index + e,
            e,
            0,
            4,
            this.mode
          )
        )
      : !1;
  }
  nextSibling() {
    return this.sibling(1);
  }
  prevSibling() {
    return this.sibling(-1);
  }
  atLastNode(e) {
    let r,
      n,
      { buffer: i } = this;
    if (i) {
      if (e > 0) {
        if (this.index < i.buffer.buffer.length) return !1;
      } else
        for (let o = 0; o < this.index; o++)
          if (i.buffer.buffer[o + 3] < this.index) return !1;
      ({ index: r, parent: n } = i);
    } else ({ index: r, _parent: n } = this._tree);
    for (; n; { index: r, _parent: n } = n)
      if (r > -1)
        for (
          let o = r + e, s = e < 0 ? -1 : n._tree.children.length;
          o != s;
          o += e
        ) {
          let a = n._tree.children[o];
          if (
            this.mode & ui.IncludeAnonymous ||
            a instanceof ou ||
            !a.type.isAnonymous ||
            W8(a)
          )
            return !1;
        }
    return !0;
  }
  move(e, r) {
    if (r && this.enterChild(e, 0, 4)) return !0;
    for (;;) {
      if (this.sibling(e)) return !0;
      if (this.atLastNode(e) || !this.parent()) return !1;
    }
  }
  next(e = !0) {
    return this.move(1, e);
  }
  prev(e = !0) {
    return this.move(-1, e);
  }
  moveTo(e, r = 0) {
    for (
      ;
      (this.from == this.to ||
        (r < 1 ? this.from >= e : this.from > e) ||
        (r > -1 ? this.to <= e : this.to < e)) &&
      this.parent();

    );
    for (; this.enterChild(1, e, r); );
    return this;
  }
  get node() {
    if (!this.buffer) return this._tree;
    let e = this.bufferNode,
      r = null,
      n = 0;
    if (e && e.context == this.buffer)
      e: for (let i = this.index, o = this.stack.length; o >= 0; ) {
        for (let s = e; s; s = s._parent)
          if (s.index == i) {
            if (i == this.index) return s;
            (r = s), (n = o + 1);
            break e;
          }
        i = this.stack[--o];
      }
    for (let i = n; i < this.stack.length; i++)
      r = new Rl(this.buffer, r, this.stack[i]);
    return (this.bufferNode = new Rl(this.buffer, r, this.index));
  }
  get tree() {
    return this.buffer ? null : this._tree._tree;
  }
  iterate(e, r) {
    for (let n = 0; ; ) {
      let i = !1;
      if (this.type.isAnonymous || e(this) !== !1) {
        if (this.firstChild()) {
          n++;
          continue;
        }
        this.type.isAnonymous || (i = !0);
      }
      for (
        ;
        i && r && r(this), (i = this.type.isAnonymous), !this.nextSibling();

      ) {
        if (!n) return;
        this.parent(), n--, (i = !0);
      }
    }
  }
  matchContext(e) {
    if (!this.buffer) return j3(this.node, e);
    let { buffer: r } = this.buffer,
      { types: n } = r.set;
    for (let i = e.length - 1, o = this.stack.length - 1; i >= 0; o--) {
      if (o < 0) return j3(this.node, e, i);
      let s = n[r.buffer[this.stack[o]]];
      if (!s.isAnonymous) {
        if (e[i] && e[i] != s.name) return !1;
        i--;
      }
    }
    return !0;
  }
}
function W8(t) {
  return t.children.some(
    (e) => e instanceof ou || !e.type.isAnonymous || W8(e)
  );
}
function Kj(t) {
  var e;
  let {
      buffer: r,
      nodeSet: n,
      maxBufferLength: i = Hj,
      reused: o = [],
      minRepeatType: s = n.types.length,
    } = t,
    a = Array.isArray(r) ? new V8(r, r.length) : r,
    l = n.types,
    u = 0,
    c = 0;
  function f($, T, P, te, ee, de) {
    let { id: ke, start: Ce, end: he, size: ze } = a,
      Ve = c;
    for (; ze < 0; )
      if ((a.next(), ze == -1)) {
        let Re = o[ke];
        P.push(Re), te.push(Ce - $);
        return;
      } else if (ze == -3) {
        u = ke;
        return;
      } else if (ze == -4) {
        c = ke;
        return;
      } else throw new RangeError(`Unrecognized record size: ${ze}`);
    let Ae = l[ke],
      tt,
      Ee,
      Je = Ce - $;
    if (he - Ce <= i && (Ee = b(a.pos - T, ee))) {
      let Re = new Uint16Array(Ee.size - Ee.skip),
        ve = a.pos - Ee.size,
        Fe = Re.length;
      for (; a.pos > ve; ) Fe = D(Ee.start, Re, Fe);
      (tt = new ou(Re, he - Ee.start, n)), (Je = Ee.start - $);
    } else {
      let Re = a.pos - ze;
      a.next();
      let ve = [],
        Fe = [],
        q = ke >= s ? ke : -1,
        Ot = 0,
        Mt = he;
      for (; a.pos > Re; )
        q >= 0 && a.id == q && a.size >= 0
          ? (a.end <= Mt - i &&
              (p(ve, Fe, Ce, Ot, a.end, Mt, q, Ve),
              (Ot = ve.length),
              (Mt = a.end)),
            a.next())
          : de > 2500
            ? h(Ce, Re, ve, Fe)
            : f(Ce, Re, ve, Fe, q, de + 1);
      if (
        (q >= 0 && Ot > 0 && Ot < ve.length && p(ve, Fe, Ce, Ot, Ce, Mt, q, Ve),
        ve.reverse(),
        Fe.reverse(),
        q > -1 && Ot > 0)
      ) {
        let yt = d(Ae);
        tt = q8(Ae, ve, Fe, 0, ve.length, 0, he - Ce, yt, yt);
      } else tt = m(Ae, ve, Fe, he - Ce, Ve - he);
    }
    P.push(tt), te.push(Je);
  }
  function h($, T, P, te) {
    let ee = [],
      de = 0,
      ke = -1;
    for (; a.pos > T; ) {
      let { id: Ce, start: he, end: ze, size: Ve } = a;
      if (Ve > 4) a.next();
      else {
        if (ke > -1 && he < ke) break;
        ke < 0 && (ke = ze - i), ee.push(Ce, he, ze), de++, a.next();
      }
    }
    if (de) {
      let Ce = new Uint16Array(de * 4),
        he = ee[ee.length - 2];
      for (let ze = ee.length - 3, Ve = 0; ze >= 0; ze -= 3)
        (Ce[Ve++] = ee[ze]),
          (Ce[Ve++] = ee[ze + 1] - he),
          (Ce[Ve++] = ee[ze + 2] - he),
          (Ce[Ve++] = Ve);
      P.push(new ou(Ce, ee[2] - he, n)), te.push(he - $);
    }
  }
  function d($) {
    return (T, P, te) => {
      let ee = 0,
        de = T.length - 1,
        ke,
        Ce;
      if (de >= 0 && (ke = T[de]) instanceof un) {
        if (!de && ke.type == $ && ke.length == te) return ke;
        (Ce = ke.prop(ar.lookAhead)) && (ee = P[de] + ke.length + Ce);
      }
      return m($, T, P, te, ee);
    };
  }
  function p($, T, P, te, ee, de, ke, Ce) {
    let he = [],
      ze = [];
    for (; $.length > te; ) he.push($.pop()), ze.push(T.pop() + P - ee);
    $.push(m(n.types[ke], he, ze, de - ee, Ce - de)), T.push(ee - P);
  }
  function m($, T, P, te, ee = 0, de) {
    if (u) {
      let ke = [ar.contextHash, u];
      de = de ? [ke].concat(de) : [ke];
    }
    if (ee > 25) {
      let ke = [ar.lookAhead, ee];
      de = de ? [ke].concat(de) : [ke];
    }
    return new un($, T, P, te, de);
  }
  function b($, T) {
    let P = a.fork(),
      te = 0,
      ee = 0,
      de = 0,
      ke = P.end - i,
      Ce = { size: 0, start: 0, skip: 0 };
    e: for (let he = P.pos - $; P.pos > he; ) {
      let ze = P.size;
      if (P.id == T && ze >= 0) {
        (Ce.size = te),
          (Ce.start = ee),
          (Ce.skip = de),
          (de += 4),
          (te += 4),
          P.next();
        continue;
      }
      let Ve = P.pos - ze;
      if (ze < 0 || Ve < he || P.start < ke) break;
      let Ae = P.id >= s ? 4 : 0,
        tt = P.start;
      for (P.next(); P.pos > Ve; ) {
        if (P.size < 0)
          if (P.size == -3) Ae += 4;
          else break e;
        else P.id >= s && (Ae += 4);
        P.next();
      }
      (ee = tt), (te += ze), (de += Ae);
    }
    return (
      (T < 0 || te == $) && ((Ce.size = te), (Ce.start = ee), (Ce.skip = de)),
      Ce.size > 4 ? Ce : void 0
    );
  }
  function D($, T, P) {
    let { id: te, start: ee, end: de, size: ke } = a;
    if ((a.next(), ke >= 0 && te < s)) {
      let Ce = P;
      if (ke > 4) {
        let he = a.pos - (ke - 4);
        for (; a.pos > he; ) P = D($, T, P);
      }
      (T[--P] = Ce), (T[--P] = de - $), (T[--P] = ee - $), (T[--P] = te);
    } else ke == -3 ? (u = te) : ke == -4 && (c = te);
    return P;
  }
  let k = [],
    S = [];
  for (; a.pos > 0; ) f(t.start || 0, t.bufferStart || 0, k, S, -1, 0);
  let B =
    (e = t.length) !== null && e !== void 0
      ? e
      : k.length
        ? S[0] + k[0].length
        : 0;
  return new un(l[t.topID], k.reverse(), S.reverse(), B);
}
const s9 = new WeakMap();
function ug(t, e) {
  if (!t.isAnonymous || e instanceof ou || e.type != t) return 1;
  let r = s9.get(e);
  if (r == null) {
    r = 1;
    for (let n of e.children) {
      if (n.type != t || !(n instanceof un)) {
        r = 1;
        break;
      }
      r += ug(t, n);
    }
    s9.set(e, r);
  }
  return r;
}
function q8(t, e, r, n, i, o, s, a, l) {
  let u = 0;
  for (let p = n; p < i; p++) u += ug(t, e[p]);
  let c = Math.ceil((u * 1.5) / 8),
    f = [],
    h = [];
  function d(p, m, b, D, k) {
    for (let S = b; S < D; ) {
      let B = S,
        $ = m[S],
        T = ug(t, p[S]);
      for (S++; S < D; S++) {
        let P = ug(t, p[S]);
        if (T + P >= c) break;
        T += P;
      }
      if (S == B + 1) {
        if (T > c) {
          let P = p[B];
          d(P.children, P.positions, 0, P.children.length, m[B] + k);
          continue;
        }
        f.push(p[B]);
      } else {
        let P = m[S - 1] + p[S - 1].length - $;
        f.push(q8(t, p, m, B, S, $, P, null, l));
      }
      h.push($ + k - o);
    }
  }
  return d(e, r, n, i, 0), (a || l)(f, h, s);
}
class t0 {
  constructor(e, r, n, i, o = !1, s = !1) {
    (this.from = e),
      (this.to = r),
      (this.tree = n),
      (this.offset = i),
      (this.open = (o ? 1 : 0) | (s ? 2 : 0));
  }
  get openStart() {
    return (this.open & 1) > 0;
  }
  get openEnd() {
    return (this.open & 2) > 0;
  }
  static addTree(e, r = [], n = !1) {
    let i = [new t0(0, e.length, e, 0, !1, n)];
    for (let o of r) o.to > e.length && i.push(o);
    return i;
  }
  static applyChanges(e, r, n = 128) {
    if (!r.length) return e;
    let i = [],
      o = 1,
      s = e.length ? e[0] : null;
    for (let a = 0, l = 0, u = 0; ; a++) {
      let c = a < r.length ? r[a] : null,
        f = c ? c.fromA : 1e9;
      if (f - l >= n)
        for (; s && s.from < f; ) {
          let h = s;
          if (l >= h.from || f <= h.to || u) {
            let d = Math.max(h.from, l) - u,
              p = Math.min(h.to, f) - u;
            h = d >= p ? null : new t0(d, p, h.tree, h.offset + u, a > 0, !!c);
          }
          if ((h && i.push(h), s.to > f)) break;
          s = o < e.length ? e[o++] : null;
        }
      if (!c) break;
      (l = c.toA), (u = c.toA - c.toB);
    }
    return i;
  }
}
let sM = class {
  startParse(e, r, n) {
    return (
      typeof e == "string" && (e = new Yj(e)),
      (n = n
        ? n.length
          ? n.map((i) => new C4(i.from, i.to))
          : [new C4(0, 0)]
        : [new C4(0, e.length)]),
      this.createParse(e, r || [], n)
    );
  }
  parse(e, r, n) {
    let i = this.startParse(e, r, n);
    for (;;) {
      let o = i.advance();
      if (o) return o;
    }
  }
};
class Yj {
  constructor(e) {
    this.string = e;
  }
  get length() {
    return this.string.length;
  }
  chunk(e) {
    return this.string.slice(e);
  }
  get lineChunks() {
    return !1;
  }
  read(e, r) {
    return this.string.slice(e, r);
  }
}
new ar({ perNode: !0 });
let Er = class oM {
  lineAt(e) {
    if (e < 0 || e > this.length)
      throw new RangeError(
        `Invalid position ${e} in document of length ${this.length}`
      );
    return this.lineInner(e, !1, 1, 0);
  }
  line(e) {
    if (e < 1 || e > this.lines)
      throw new RangeError(
        `Invalid line number ${e} in ${this.lines}-line document`
      );
    return this.lineInner(e, !0, 1, 0);
  }
  replace(e, r, n) {
    [e, r] = tf(this, e, r);
    let i = [];
    return (
      this.decompose(0, e, i, 2),
      n.length && n.decompose(0, n.length, i, 3),
      this.decompose(r, this.length, i, 1),
      cg.from(i, this.length - (r - e) + n.length)
    );
  }
  append(e) {
    return this.replace(this.length, this.length, e);
  }
  slice(e, r = this.length) {
    [e, r] = tf(this, e, r);
    let n = [];
    return this.decompose(e, r, n, 0), cg.from(n, r - e);
  }
  eq(e) {
    if (e == this) return !0;
    if (e.length != this.length || e.lines != this.lines) return !1;
    let r = this.scanIdentical(e, 1),
      n = this.length - this.scanIdentical(e, -1),
      i = new Dh(this),
      o = new Dh(e);
    for (let s = r, a = r; ; ) {
      if (
        (i.next(s),
        o.next(s),
        (s = 0),
        i.lineBreak != o.lineBreak || i.done != o.done || i.value != o.value)
      )
        return !1;
      if (((a += i.value.length), i.done || a >= n)) return !0;
    }
  }
  iter(e = 1) {
    return new Dh(this, e);
  }
  iterRange(e, r = this.length) {
    return new aM(this, e, r);
  }
  iterLines(e, r) {
    let n;
    if (e == null) n = this.iter();
    else {
      r == null && (r = this.lines + 1);
      let i = this.line(e).from;
      n = this.iterRange(
        i,
        Math.max(
          i,
          r == this.lines + 1 ? this.length : r <= 1 ? 0 : this.line(r - 1).to
        )
      );
    }
    return new lM(n);
  }
  toString() {
    return this.sliceString(0);
  }
  toJSON() {
    let e = [];
    return this.flatten(e), e;
  }
  constructor() {}
  static of(e) {
    if (e.length == 0)
      throw new RangeError("A document must have at least one line");
    return e.length == 1 && !e[0]
      ? oM.empty
      : e.length <= 32
        ? new xn(e)
        : cg.from(xn.split(e, []));
  }
};
class xn extends Er {
  constructor(e, r = Xj(e)) {
    super(), (this.text = e), (this.length = r);
  }
  get lines() {
    return this.text.length;
  }
  get children() {
    return null;
  }
  lineInner(e, r, n, i) {
    for (let o = 0; ; o++) {
      let s = this.text[o],
        a = i + s.length;
      if ((r ? n : a) >= e) return new Jj(i, a, n, s);
      (i = a + 1), n++;
    }
  }
  decompose(e, r, n, i) {
    let o =
      e <= 0 && r >= this.length
        ? this
        : new xn(
            o9(this.text, e, r),
            Math.min(r, this.length) - Math.max(0, e)
          );
    if (i & 1) {
      let s = n.pop(),
        a = fg(o.text, s.text.slice(), 0, o.length);
      if (a.length <= 32) n.push(new xn(a, s.length + o.length));
      else {
        let l = a.length >> 1;
        n.push(new xn(a.slice(0, l)), new xn(a.slice(l)));
      }
    } else n.push(o);
  }
  replace(e, r, n) {
    if (!(n instanceof xn)) return super.replace(e, r, n);
    [e, r] = tf(this, e, r);
    let i = fg(this.text, fg(n.text, o9(this.text, 0, e)), r),
      o = this.length + n.length - (r - e);
    return i.length <= 32 ? new xn(i, o) : cg.from(xn.split(i, []), o);
  }
  sliceString(
    e,
    r = this.length,
    n = `
`
  ) {
    [e, r] = tf(this, e, r);
    let i = "";
    for (let o = 0, s = 0; o <= r && s < this.text.length; s++) {
      let a = this.text[s],
        l = o + a.length;
      o > e && s && (i += n),
        e < l && r > o && (i += a.slice(Math.max(0, e - o), r - o)),
        (o = l + 1);
    }
    return i;
  }
  flatten(e) {
    for (let r of this.text) e.push(r);
  }
  scanIdentical() {
    return 0;
  }
  static split(e, r) {
    let n = [],
      i = -1;
    for (let o of e)
      n.push(o),
        (i += o.length + 1),
        n.length == 32 && (r.push(new xn(n, i)), (n = []), (i = -1));
    return i > -1 && r.push(new xn(n, i)), r;
  }
}
let cg = class X0 extends Er {
  constructor(e, r) {
    super(), (this.children = e), (this.length = r), (this.lines = 0);
    for (let n of e) this.lines += n.lines;
  }
  lineInner(e, r, n, i) {
    for (let o = 0; ; o++) {
      let s = this.children[o],
        a = i + s.length,
        l = n + s.lines - 1;
      if ((r ? l : a) >= e) return s.lineInner(e, r, n, i);
      (i = a + 1), (n = l + 1);
    }
  }
  decompose(e, r, n, i) {
    for (let o = 0, s = 0; s <= r && o < this.children.length; o++) {
      let a = this.children[o],
        l = s + a.length;
      if (e <= l && r >= s) {
        let u = i & ((s <= e ? 1 : 0) | (l >= r ? 2 : 0));
        s >= e && l <= r && !u ? n.push(a) : a.decompose(e - s, r - s, n, u);
      }
      s = l + 1;
    }
  }
  replace(e, r, n) {
    if ((([e, r] = tf(this, e, r)), n.lines < this.lines))
      for (let i = 0, o = 0; i < this.children.length; i++) {
        let s = this.children[i],
          a = o + s.length;
        if (e >= o && r <= a) {
          let l = s.replace(e - o, r - o, n),
            u = this.lines - s.lines + l.lines;
          if (l.lines < u >> 4 && l.lines > u >> 6) {
            let c = this.children.slice();
            return (c[i] = l), new X0(c, this.length - (r - e) + n.length);
          }
          return super.replace(o, a, l);
        }
        o = a + 1;
      }
    return super.replace(e, r, n);
  }
  sliceString(
    e,
    r = this.length,
    n = `
`
  ) {
    [e, r] = tf(this, e, r);
    let i = "";
    for (let o = 0, s = 0; o < this.children.length && s <= r; o++) {
      let a = this.children[o],
        l = s + a.length;
      s > e && o && (i += n),
        e < l && r > s && (i += a.sliceString(e - s, r - s, n)),
        (s = l + 1);
    }
    return i;
  }
  flatten(e) {
    for (let r of this.children) r.flatten(e);
  }
  scanIdentical(e, r) {
    if (!(e instanceof X0)) return 0;
    let n = 0,
      [i, o, s, a] =
        r > 0
          ? [0, 0, this.children.length, e.children.length]
          : [this.children.length - 1, e.children.length - 1, -1, -1];
    for (; ; i += r, o += r) {
      if (i == s || o == a) return n;
      let l = this.children[i],
        u = e.children[o];
      if (l != u) return n + l.scanIdentical(u, r);
      n += l.length + 1;
    }
  }
  static from(e, r = e.reduce((n, i) => n + i.length + 1, -1)) {
    let n = 0;
    for (let d of e) n += d.lines;
    if (n < 32) {
      let d = [];
      for (let p of e) p.flatten(d);
      return new xn(d, r);
    }
    let i = Math.max(32, n >> 5),
      o = i << 1,
      s = i >> 1,
      a = [],
      l = 0,
      u = -1,
      c = [];
    function f(d) {
      let p;
      if (d.lines > o && d instanceof X0) for (let m of d.children) f(m);
      else
        d.lines > s && (l > s || !l)
          ? (h(), a.push(d))
          : d instanceof xn &&
              l &&
              (p = c[c.length - 1]) instanceof xn &&
              d.lines + p.lines <= 32
            ? ((l += d.lines),
              (u += d.length + 1),
              (c[c.length - 1] = new xn(
                p.text.concat(d.text),
                p.length + 1 + d.length
              )))
            : (l + d.lines > i && h(),
              (l += d.lines),
              (u += d.length + 1),
              c.push(d));
    }
    function h() {
      l != 0 &&
        (a.push(c.length == 1 ? c[0] : X0.from(c, u)),
        (u = -1),
        (l = c.length = 0));
    }
    for (let d of e) f(d);
    return h(), a.length == 1 ? a[0] : new X0(a, r);
  }
};
Er.empty = new xn([""], 0);
function Xj(t) {
  let e = -1;
  for (let r of t) e += r.length + 1;
  return e;
}
function fg(t, e, r = 0, n = 1e9) {
  for (let i = 0, o = 0, s = !0; o < t.length && i <= n; o++) {
    let a = t[o],
      l = i + a.length;
    l >= r &&
      (l > n && (a = a.slice(0, n - i)),
      i < r && (a = a.slice(r - i)),
      s ? ((e[e.length - 1] += a), (s = !1)) : e.push(a)),
      (i = l + 1);
  }
  return e;
}
function o9(t, e, r) {
  return fg(t, [""], e, r);
}
class Dh {
  constructor(e, r = 1) {
    (this.dir = r),
      (this.done = !1),
      (this.lineBreak = !1),
      (this.value = ""),
      (this.nodes = [e]),
      (this.offsets = [
        r > 0 ? 1 : (e instanceof xn ? e.text.length : e.children.length) << 1,
      ]);
  }
  nextInner(e, r) {
    for (this.done = this.lineBreak = !1; ; ) {
      let n = this.nodes.length - 1,
        i = this.nodes[n],
        o = this.offsets[n],
        s = o >> 1,
        a = i instanceof xn ? i.text.length : i.children.length;
      if (s == (r > 0 ? a : 0)) {
        if (n == 0) return (this.done = !0), (this.value = ""), this;
        r > 0 && this.offsets[n - 1]++, this.nodes.pop(), this.offsets.pop();
      } else if ((o & 1) == (r > 0 ? 0 : 1)) {
        if (((this.offsets[n] += r), e == 0))
          return (
            (this.lineBreak = !0),
            (this.value = `
`),
            this
          );
        e--;
      } else if (i instanceof xn) {
        let l = i.text[s + (r < 0 ? -1 : 0)];
        if (((this.offsets[n] += r), l.length > Math.max(0, e)))
          return (
            (this.value =
              e == 0 ? l : r > 0 ? l.slice(e) : l.slice(0, l.length - e)),
            this
          );
        e -= l.length;
      } else {
        let l = i.children[s + (r < 0 ? -1 : 0)];
        e > l.length
          ? ((e -= l.length), (this.offsets[n] += r))
          : (r < 0 && this.offsets[n]--,
            this.nodes.push(l),
            this.offsets.push(
              r > 0
                ? 1
                : (l instanceof xn ? l.text.length : l.children.length) << 1
            ));
      }
    }
  }
  next(e = 0) {
    return (
      e < 0 && (this.nextInner(-e, -this.dir), (e = this.value.length)),
      this.nextInner(e, this.dir)
    );
  }
}
class aM {
  constructor(e, r, n) {
    (this.value = ""),
      (this.done = !1),
      (this.cursor = new Dh(e, r > n ? -1 : 1)),
      (this.pos = r > n ? e.length : 0),
      (this.from = Math.min(r, n)),
      (this.to = Math.max(r, n));
  }
  nextInner(e, r) {
    if (r < 0 ? this.pos <= this.from : this.pos >= this.to)
      return (this.value = ""), (this.done = !0), this;
    e += Math.max(0, r < 0 ? this.pos - this.to : this.from - this.pos);
    let n = r < 0 ? this.pos - this.from : this.to - this.pos;
    e > n && (e = n), (n -= e);
    let { value: i } = this.cursor.next(e);
    return (
      (this.pos += (i.length + e) * r),
      (this.value =
        i.length <= n ? i : r < 0 ? i.slice(i.length - n) : i.slice(0, n)),
      (this.done = !this.value),
      this
    );
  }
  next(e = 0) {
    return (
      e < 0
        ? (e = Math.max(e, this.from - this.pos))
        : e > 0 && (e = Math.min(e, this.to - this.pos)),
      this.nextInner(e, this.cursor.dir)
    );
  }
  get lineBreak() {
    return this.cursor.lineBreak && this.value != "";
  }
}
class lM {
  constructor(e) {
    (this.inner = e),
      (this.afterBreak = !0),
      (this.value = ""),
      (this.done = !1);
  }
  next(e = 0) {
    let { done: r, lineBreak: n, value: i } = this.inner.next(e);
    return (
      r && this.afterBreak
        ? ((this.value = ""), (this.afterBreak = !1))
        : r
          ? ((this.done = !0), (this.value = ""))
          : n
            ? this.afterBreak
              ? (this.value = "")
              : ((this.afterBreak = !0), this.next())
            : ((this.value = i), (this.afterBreak = !1)),
      this
    );
  }
  get lineBreak() {
    return !1;
  }
}
typeof Symbol < "u" &&
  ((Er.prototype[Symbol.iterator] = function () {
    return this.iter();
  }),
  (Dh.prototype[Symbol.iterator] =
    aM.prototype[Symbol.iterator] =
    lM.prototype[Symbol.iterator] =
      function () {
        return this;
      }));
class Jj {
  constructor(e, r, n, i) {
    (this.from = e), (this.to = r), (this.number = n), (this.text = i);
  }
  get length() {
    return this.to - this.from;
  }
}
function tf(t, e, r) {
  return (
    (e = Math.max(0, Math.min(t.length, e))),
    [e, Math.max(e, Math.min(t.length, r))]
  );
}
let $c =
  "lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o"
    .split(",")
    .map((t) => (t ? parseInt(t, 36) : 1));
for (let t = 1; t < $c.length; t++) $c[t] += $c[t - 1];
function Qj(t) {
  for (let e = 1; e < $c.length; e += 2) if ($c[e] > t) return $c[e - 1] <= t;
  return !1;
}
function a9(t) {
  return t >= 127462 && t <= 127487;
}
const l9 = 8205;
function di(t, e, r = !0, n = !0) {
  return (r ? uM : Zj)(t, e, n);
}
function uM(t, e, r) {
  if (e == t.length) return e;
  e && cM(t.charCodeAt(e)) && fM(t.charCodeAt(e - 1)) && e--;
  let n = ci(t, e);
  for (e += Us(n); e < t.length; ) {
    let i = ci(t, e);
    if (n == l9 || i == l9 || (r && Qj(i))) (e += Us(i)), (n = i);
    else if (a9(i)) {
      let o = 0,
        s = e - 2;
      for (; s >= 0 && a9(ci(t, s)); ) o++, (s -= 2);
      if (o % 2 == 0) break;
      e += 2;
    } else break;
  }
  return e;
}
function Zj(t, e, r) {
  for (; e > 0; ) {
    let n = uM(t, e - 2, r);
    if (n < e) return n;
    e--;
  }
  return 0;
}
function cM(t) {
  return t >= 56320 && t < 57344;
}
function fM(t) {
  return t >= 55296 && t < 56320;
}
function ci(t, e) {
  let r = t.charCodeAt(e);
  if (!fM(r) || e + 1 == t.length) return r;
  let n = t.charCodeAt(e + 1);
  return cM(n) ? ((r - 55296) << 10) + (n - 56320) + 65536 : r;
}
function U8(t) {
  return t <= 65535
    ? String.fromCharCode(t)
    : ((t -= 65536),
      String.fromCharCode((t >> 10) + 55296, (t & 1023) + 56320));
}
function Us(t) {
  return t < 65536 ? 1 : 2;
}
const V3 = /\r\n?|\n/;
var Pi = (function (t) {
  return (
    (t[(t.Simple = 0)] = "Simple"),
    (t[(t.TrackDel = 1)] = "TrackDel"),
    (t[(t.TrackBefore = 2)] = "TrackBefore"),
    (t[(t.TrackAfter = 3)] = "TrackAfter"),
    t
  );
})(Pi || (Pi = {}));
class ua {
  constructor(e) {
    this.sections = e;
  }
  get length() {
    let e = 0;
    for (let r = 0; r < this.sections.length; r += 2) e += this.sections[r];
    return e;
  }
  get newLength() {
    let e = 0;
    for (let r = 0; r < this.sections.length; r += 2) {
      let n = this.sections[r + 1];
      e += n < 0 ? this.sections[r] : n;
    }
    return e;
  }
  get empty() {
    return (
      this.sections.length == 0 ||
      (this.sections.length == 2 && this.sections[1] < 0)
    );
  }
  iterGaps(e) {
    for (let r = 0, n = 0, i = 0; r < this.sections.length; ) {
      let o = this.sections[r++],
        s = this.sections[r++];
      s < 0 ? (e(n, i, o), (i += o)) : (i += s), (n += o);
    }
  }
  iterChangedRanges(e, r = !1) {
    W3(this, e, r);
  }
  get invertedDesc() {
    let e = [];
    for (let r = 0; r < this.sections.length; ) {
      let n = this.sections[r++],
        i = this.sections[r++];
      i < 0 ? e.push(n, i) : e.push(i, n);
    }
    return new ua(e);
  }
  composeDesc(e) {
    return this.empty ? e : e.empty ? this : hM(this, e);
  }
  mapDesc(e, r = !1) {
    return e.empty ? this : q3(this, e, r);
  }
  mapPos(e, r = -1, n = Pi.Simple) {
    let i = 0,
      o = 0;
    for (let s = 0; s < this.sections.length; ) {
      let a = this.sections[s++],
        l = this.sections[s++],
        u = i + a;
      if (l < 0) {
        if (u > e) return o + (e - i);
        o += a;
      } else {
        if (
          n != Pi.Simple &&
          u >= e &&
          ((n == Pi.TrackDel && i < e && u > e) ||
            (n == Pi.TrackBefore && i < e) ||
            (n == Pi.TrackAfter && u > e))
        )
          return null;
        if (u > e || (u == e && r < 0 && !a))
          return e == i || r < 0 ? o : o + l;
        o += l;
      }
      i = u;
    }
    if (e > i)
      throw new RangeError(
        `Position ${e} is out of range for changeset of length ${i}`
      );
    return o;
  }
  touchesRange(e, r = e) {
    for (let n = 0, i = 0; n < this.sections.length && i <= r; ) {
      let o = this.sections[n++],
        s = this.sections[n++],
        a = i + o;
      if (s >= 0 && i <= r && a >= e) return i < e && a > r ? "cover" : !0;
      i = a;
    }
    return !1;
  }
  toString() {
    let e = "";
    for (let r = 0; r < this.sections.length; ) {
      let n = this.sections[r++],
        i = this.sections[r++];
      e += (e ? " " : "") + n + (i >= 0 ? ":" + i : "");
    }
    return e;
  }
  toJSON() {
    return this.sections;
  }
  static fromJSON(e) {
    if (
      !Array.isArray(e) ||
      e.length % 2 ||
      e.some((r) => typeof r != "number")
    )
      throw new RangeError("Invalid JSON representation of ChangeDesc");
    return new ua(e);
  }
  static create(e) {
    return new ua(e);
  }
}
class zn extends ua {
  constructor(e, r) {
    super(e), (this.inserted = r);
  }
  apply(e) {
    if (this.length != e.length)
      throw new RangeError(
        "Applying change set to a document with the wrong length"
      );
    return (
      W3(this, (r, n, i, o, s) => (e = e.replace(i, i + (n - r), s)), !1), e
    );
  }
  mapDesc(e, r = !1) {
    return q3(this, e, r, !0);
  }
  invert(e) {
    let r = this.sections.slice(),
      n = [];
    for (let i = 0, o = 0; i < r.length; i += 2) {
      let s = r[i],
        a = r[i + 1];
      if (a >= 0) {
        (r[i] = a), (r[i + 1] = s);
        let l = i >> 1;
        for (; n.length < l; ) n.push(Er.empty);
        n.push(s ? e.slice(o, o + s) : Er.empty);
      }
      o += s;
    }
    return new zn(r, n);
  }
  compose(e) {
    return this.empty ? e : e.empty ? this : hM(this, e, !0);
  }
  map(e, r = !1) {
    return e.empty ? this : q3(this, e, r, !0);
  }
  iterChanges(e, r = !1) {
    W3(this, e, r);
  }
  get desc() {
    return ua.create(this.sections);
  }
  filter(e) {
    let r = [],
      n = [],
      i = [],
      o = new id(this);
    e: for (let s = 0, a = 0; ; ) {
      let l = s == e.length ? 1e9 : e[s++];
      for (; a < l || (a == l && o.len == 0); ) {
        if (o.done) break e;
        let c = Math.min(o.len, l - a);
        Si(i, c, -1);
        let f = o.ins == -1 ? -1 : o.off == 0 ? o.ins : 0;
        Si(r, c, f), f > 0 && Il(n, r, o.text), o.forward(c), (a += c);
      }
      let u = e[s++];
      for (; a < u; ) {
        if (o.done) break e;
        let c = Math.min(o.len, u - a);
        Si(r, c, -1),
          Si(i, c, o.ins == -1 ? -1 : o.off == 0 ? o.ins : 0),
          o.forward(c),
          (a += c);
      }
    }
    return { changes: new zn(r, n), filtered: ua.create(i) };
  }
  toJSON() {
    let e = [];
    for (let r = 0; r < this.sections.length; r += 2) {
      let n = this.sections[r],
        i = this.sections[r + 1];
      i < 0
        ? e.push(n)
        : i == 0
          ? e.push([n])
          : e.push([n].concat(this.inserted[r >> 1].toJSON()));
    }
    return e;
  }
  static of(e, r, n) {
    let i = [],
      o = [],
      s = 0,
      a = null;
    function l(c = !1) {
      if (!c && !i.length) return;
      s < r && Si(i, r - s, -1);
      let f = new zn(i, o);
      (a = a ? a.compose(f.map(a)) : f), (i = []), (o = []), (s = 0);
    }
    function u(c) {
      if (Array.isArray(c)) for (let f of c) u(f);
      else if (c instanceof zn) {
        if (c.length != r)
          throw new RangeError(
            `Mismatched change set length (got ${c.length}, expected ${r})`
          );
        l(), (a = a ? a.compose(c.map(a)) : c);
      } else {
        let { from: f, to: h = f, insert: d } = c;
        if (f > h || f < 0 || h > r)
          throw new RangeError(
            `Invalid change range ${f} to ${h} (in doc of length ${r})`
          );
        let p = d
            ? typeof d == "string"
              ? Er.of(d.split(n || V3))
              : d
            : Er.empty,
          m = p.length;
        if (f == h && m == 0) return;
        f < s && l(),
          f > s && Si(i, f - s, -1),
          Si(i, h - f, m),
          Il(o, i, p),
          (s = h);
      }
    }
    return u(e), l(!a), a;
  }
  static empty(e) {
    return new zn(e ? [e, -1] : [], []);
  }
  static fromJSON(e) {
    if (!Array.isArray(e))
      throw new RangeError("Invalid JSON representation of ChangeSet");
    let r = [],
      n = [];
    for (let i = 0; i < e.length; i++) {
      let o = e[i];
      if (typeof o == "number") r.push(o, -1);
      else {
        if (
          !Array.isArray(o) ||
          typeof o[0] != "number" ||
          o.some((s, a) => a && typeof s != "string")
        )
          throw new RangeError("Invalid JSON representation of ChangeSet");
        if (o.length == 1) r.push(o[0], 0);
        else {
          for (; n.length < i; ) n.push(Er.empty);
          (n[i] = Er.of(o.slice(1))), r.push(o[0], n[i].length);
        }
      }
    }
    return new zn(r, n);
  }
  static createSet(e, r) {
    return new zn(e, r);
  }
}
function Si(t, e, r, n = !1) {
  if (e == 0 && r <= 0) return;
  let i = t.length - 2;
  i >= 0 && r <= 0 && r == t[i + 1]
    ? (t[i] += e)
    : e == 0 && t[i] == 0
      ? (t[i + 1] += r)
      : n
        ? ((t[i] += e), (t[i + 1] += r))
        : t.push(e, r);
}
function Il(t, e, r) {
  if (r.length == 0) return;
  let n = (e.length - 2) >> 1;
  if (n < t.length) t[t.length - 1] = t[t.length - 1].append(r);
  else {
    for (; t.length < n; ) t.push(Er.empty);
    t.push(r);
  }
}
function W3(t, e, r) {
  let n = t.inserted;
  for (let i = 0, o = 0, s = 0; s < t.sections.length; ) {
    let a = t.sections[s++],
      l = t.sections[s++];
    if (l < 0) (i += a), (o += a);
    else {
      let u = i,
        c = o,
        f = Er.empty;
      for (
        ;
        (u += a),
          (c += l),
          l && n && (f = f.append(n[(s - 2) >> 1])),
          !(r || s == t.sections.length || t.sections[s + 1] < 0);

      )
        (a = t.sections[s++]), (l = t.sections[s++]);
      e(i, u, o, c, f), (i = u), (o = c);
    }
  }
}
function q3(t, e, r, n = !1) {
  let i = [],
    o = n ? [] : null,
    s = new id(t),
    a = new id(e);
  for (let l = -1; ; )
    if (s.ins == -1 && a.ins == -1) {
      let u = Math.min(s.len, a.len);
      Si(i, u, -1), s.forward(u), a.forward(u);
    } else if (
      a.ins >= 0 &&
      (s.ins < 0 ||
        l == s.i ||
        (s.off == 0 && (a.len < s.len || (a.len == s.len && !r))))
    ) {
      let u = a.len;
      for (Si(i, a.ins, -1); u; ) {
        let c = Math.min(s.len, u);
        s.ins >= 0 &&
          l < s.i &&
          s.len <= c &&
          (Si(i, 0, s.ins), o && Il(o, i, s.text), (l = s.i)),
          s.forward(c),
          (u -= c);
      }
      a.next();
    } else if (s.ins >= 0) {
      let u = 0,
        c = s.len;
      for (; c; )
        if (a.ins == -1) {
          let f = Math.min(c, a.len);
          (u += f), (c -= f), a.forward(f);
        } else if (a.ins == 0 && a.len < c) (c -= a.len), a.next();
        else break;
      Si(i, u, l < s.i ? s.ins : 0),
        o && l < s.i && Il(o, i, s.text),
        (l = s.i),
        s.forward(s.len - c);
    } else {
      if (s.done && a.done) return o ? zn.createSet(i, o) : ua.create(i);
      throw new Error("Mismatched change set lengths");
    }
}
function hM(t, e, r = !1) {
  let n = [],
    i = r ? [] : null,
    o = new id(t),
    s = new id(e);
  for (let a = !1; ; ) {
    if (o.done && s.done) return i ? zn.createSet(n, i) : ua.create(n);
    if (o.ins == 0) Si(n, o.len, 0, a), o.next();
    else if (s.len == 0 && !s.done)
      Si(n, 0, s.ins, a), i && Il(i, n, s.text), s.next();
    else {
      if (o.done || s.done) throw new Error("Mismatched change set lengths");
      {
        let l = Math.min(o.len2, s.len),
          u = n.length;
        if (o.ins == -1) {
          let c = s.ins == -1 ? -1 : s.off ? 0 : s.ins;
          Si(n, l, c, a), i && c && Il(i, n, s.text);
        } else
          s.ins == -1
            ? (Si(n, o.off ? 0 : o.len, l, a), i && Il(i, n, o.textBit(l)))
            : (Si(n, o.off ? 0 : o.len, s.off ? 0 : s.ins, a),
              i && !s.off && Il(i, n, s.text));
        (a = (o.ins > l || (s.ins >= 0 && s.len > l)) && (a || n.length > u)),
          o.forward2(l),
          s.forward(l);
      }
    }
  }
}
class id {
  constructor(e) {
    (this.set = e), (this.i = 0), this.next();
  }
  next() {
    let { sections: e } = this.set;
    this.i < e.length
      ? ((this.len = e[this.i++]), (this.ins = e[this.i++]))
      : ((this.len = 0), (this.ins = -2)),
      (this.off = 0);
  }
  get done() {
    return this.ins == -2;
  }
  get len2() {
    return this.ins < 0 ? this.len : this.ins;
  }
  get text() {
    let { inserted: e } = this.set,
      r = (this.i - 2) >> 1;
    return r >= e.length ? Er.empty : e[r];
  }
  textBit(e) {
    let { inserted: r } = this.set,
      n = (this.i - 2) >> 1;
    return n >= r.length && !e
      ? Er.empty
      : r[n].slice(this.off, e == null ? void 0 : this.off + e);
  }
  forward(e) {
    e == this.len ? this.next() : ((this.len -= e), (this.off += e));
  }
  forward2(e) {
    this.ins == -1
      ? this.forward(e)
      : e == this.ins
        ? this.next()
        : ((this.ins -= e), (this.off += e));
  }
}
class Yu {
  constructor(e, r, n) {
    (this.from = e), (this.to = r), (this.flags = n);
  }
  get anchor() {
    return this.flags & 32 ? this.to : this.from;
  }
  get head() {
    return this.flags & 32 ? this.from : this.to;
  }
  get empty() {
    return this.from == this.to;
  }
  get assoc() {
    return this.flags & 8 ? -1 : this.flags & 16 ? 1 : 0;
  }
  get bidiLevel() {
    let e = this.flags & 7;
    return e == 7 ? null : e;
  }
  get goalColumn() {
    let e = this.flags >> 6;
    return e == 16777215 ? void 0 : e;
  }
  map(e, r = -1) {
    let n, i;
    return (
      this.empty
        ? (n = i = e.mapPos(this.from, r))
        : ((n = e.mapPos(this.from, 1)), (i = e.mapPos(this.to, -1))),
      n == this.from && i == this.to ? this : new Yu(n, i, this.flags)
    );
  }
  extend(e, r = e) {
    if (e <= this.anchor && r >= this.anchor) return Te.range(e, r);
    let n = Math.abs(e - this.anchor) > Math.abs(r - this.anchor) ? e : r;
    return Te.range(this.anchor, n);
  }
  eq(e, r = !1) {
    return (
      this.anchor == e.anchor &&
      this.head == e.head &&
      (!r || !this.empty || this.assoc == e.assoc)
    );
  }
  toJSON() {
    return { anchor: this.anchor, head: this.head };
  }
  static fromJSON(e) {
    if (!e || typeof e.anchor != "number" || typeof e.head != "number")
      throw new RangeError("Invalid JSON representation for SelectionRange");
    return Te.range(e.anchor, e.head);
  }
  static create(e, r, n) {
    return new Yu(e, r, n);
  }
}
class Te {
  constructor(e, r) {
    (this.ranges = e), (this.mainIndex = r);
  }
  map(e, r = -1) {
    return e.empty
      ? this
      : Te.create(
          this.ranges.map((n) => n.map(e, r)),
          this.mainIndex
        );
  }
  eq(e, r = !1) {
    if (this.ranges.length != e.ranges.length || this.mainIndex != e.mainIndex)
      return !1;
    for (let n = 0; n < this.ranges.length; n++)
      if (!this.ranges[n].eq(e.ranges[n], r)) return !1;
    return !0;
  }
  get main() {
    return this.ranges[this.mainIndex];
  }
  asSingle() {
    return this.ranges.length == 1 ? this : new Te([this.main], 0);
  }
  addRange(e, r = !0) {
    return Te.create([e].concat(this.ranges), r ? 0 : this.mainIndex + 1);
  }
  replaceRange(e, r = this.mainIndex) {
    let n = this.ranges.slice();
    return (n[r] = e), Te.create(n, this.mainIndex);
  }
  toJSON() {
    return { ranges: this.ranges.map((e) => e.toJSON()), main: this.mainIndex };
  }
  static fromJSON(e) {
    if (
      !e ||
      !Array.isArray(e.ranges) ||
      typeof e.main != "number" ||
      e.main >= e.ranges.length
    )
      throw new RangeError("Invalid JSON representation for EditorSelection");
    return new Te(
      e.ranges.map((r) => Yu.fromJSON(r)),
      e.main
    );
  }
  static single(e, r = e) {
    return new Te([Te.range(e, r)], 0);
  }
  static create(e, r = 0) {
    if (e.length == 0)
      throw new RangeError("A selection needs at least one range");
    for (let n = 0, i = 0; i < e.length; i++) {
      let o = e[i];
      if (o.empty ? o.from <= n : o.from < n)
        return Te.normalized(e.slice(), r);
      n = o.to;
    }
    return new Te(e, r);
  }
  static cursor(e, r = 0, n, i) {
    return Yu.create(
      e,
      e,
      (r == 0 ? 0 : r < 0 ? 8 : 16) |
        (n == null ? 7 : Math.min(6, n)) |
        ((i ?? 16777215) << 6)
    );
  }
  static range(e, r, n, i) {
    let o = ((n ?? 16777215) << 6) | (i == null ? 7 : Math.min(6, i));
    return r < e
      ? Yu.create(r, e, 48 | o)
      : Yu.create(e, r, (r > e ? 8 : 0) | o);
  }
  static normalized(e, r = 0) {
    let n = e[r];
    e.sort((i, o) => i.from - o.from), (r = e.indexOf(n));
    for (let i = 1; i < e.length; i++) {
      let o = e[i],
        s = e[i - 1];
      if (o.empty ? o.from <= s.to : o.from < s.to) {
        let a = s.from,
          l = Math.max(o.to, s.to);
        i <= r && r--,
          e.splice(--i, 2, o.anchor > o.head ? Te.range(l, a) : Te.range(a, l));
      }
    }
    return new Te(e, r);
  }
}
function dM(t, e) {
  for (let r of t.ranges)
    if (r.to > e) throw new RangeError("Selection points outside of document");
}
let G8 = 0;
class vt {
  constructor(e, r, n, i, o) {
    (this.combine = e),
      (this.compareInput = r),
      (this.compare = n),
      (this.isStatic = i),
      (this.id = G8++),
      (this.default = e([])),
      (this.extensions = typeof o == "function" ? o(this) : o);
  }
  get reader() {
    return this;
  }
  static define(e = {}) {
    return new vt(
      e.combine || ((r) => r),
      e.compareInput || ((r, n) => r === n),
      e.compare || (e.combine ? (r, n) => r === n : K8),
      !!e.static,
      e.enables
    );
  }
  of(e) {
    return new hg([], this, 0, e);
  }
  compute(e, r) {
    if (this.isStatic) throw new Error("Can't compute a static facet");
    return new hg(e, this, 1, r);
  }
  computeN(e, r) {
    if (this.isStatic) throw new Error("Can't compute a static facet");
    return new hg(e, this, 2, r);
  }
  from(e, r) {
    return r || (r = (n) => n), this.compute([e], (n) => r(n.field(e)));
  }
}
function K8(t, e) {
  return t == e || (t.length == e.length && t.every((r, n) => r === e[n]));
}
class hg {
  constructor(e, r, n, i) {
    (this.dependencies = e),
      (this.facet = r),
      (this.type = n),
      (this.value = i),
      (this.id = G8++);
  }
  dynamicSlot(e) {
    var r;
    let n = this.value,
      i = this.facet.compareInput,
      o = this.id,
      s = e[o] >> 1,
      a = this.type == 2,
      l = !1,
      u = !1,
      c = [];
    for (let f of this.dependencies)
      f == "doc"
        ? (l = !0)
        : f == "selection"
          ? (u = !0)
          : ((r = e[f.id]) !== null && r !== void 0 ? r : 1) & 1 ||
            c.push(e[f.id]);
    return {
      create(f) {
        return (f.values[s] = n(f)), 1;
      },
      update(f, h) {
        if (
          (l && h.docChanged) ||
          (u && (h.docChanged || h.selection)) ||
          U3(f, c)
        ) {
          let d = n(f);
          if (a ? !u9(d, f.values[s], i) : !i(d, f.values[s]))
            return (f.values[s] = d), 1;
        }
        return 0;
      },
      reconfigure: (f, h) => {
        let d,
          p = h.config.address[o];
        if (p != null) {
          let m = f1(h, p);
          if (
            this.dependencies.every((b) =>
              b instanceof vt
                ? h.facet(b) === f.facet(b)
                : b instanceof ri
                  ? h.field(b, !1) == f.field(b, !1)
                  : !0
            ) ||
            (a ? u9((d = n(f)), m, i) : i((d = n(f)), m))
          )
            return (f.values[s] = m), 0;
        } else d = n(f);
        return (f.values[s] = d), 1;
      },
    };
  }
}
function u9(t, e, r) {
  if (t.length != e.length) return !1;
  for (let n = 0; n < t.length; n++) if (!r(t[n], e[n])) return !1;
  return !0;
}
function U3(t, e) {
  let r = !1;
  for (let n of e) wh(t, n) & 1 && (r = !0);
  return r;
}
function eH(t, e, r) {
  let n = r.map((l) => t[l.id]),
    i = r.map((l) => l.type),
    o = n.filter((l) => !(l & 1)),
    s = t[e.id] >> 1;
  function a(l) {
    let u = [];
    for (let c = 0; c < n.length; c++) {
      let f = f1(l, n[c]);
      if (i[c] == 2) for (let h of f) u.push(h);
      else u.push(f);
    }
    return e.combine(u);
  }
  return {
    create(l) {
      for (let u of n) wh(l, u);
      return (l.values[s] = a(l)), 1;
    },
    update(l, u) {
      if (!U3(l, o)) return 0;
      let c = a(l);
      return e.compare(c, l.values[s]) ? 0 : ((l.values[s] = c), 1);
    },
    reconfigure(l, u) {
      let c = U3(l, n),
        f = u.config.facets[e.id],
        h = u.facet(e);
      if (f && !c && K8(r, f)) return (l.values[s] = h), 0;
      let d = a(l);
      return e.compare(d, h) ? ((l.values[s] = h), 0) : ((l.values[s] = d), 1);
    },
  };
}
const c9 = vt.define({ static: !0 });
class ri {
  constructor(e, r, n, i, o) {
    (this.id = e),
      (this.createF = r),
      (this.updateF = n),
      (this.compareF = i),
      (this.spec = o),
      (this.provides = void 0);
  }
  static define(e) {
    let r = new ri(
      G8++,
      e.create,
      e.update,
      e.compare || ((n, i) => n === i),
      e
    );
    return e.provide && (r.provides = e.provide(r)), r;
  }
  create(e) {
    let r = e.facet(c9).find((n) => n.field == this);
    return ((r == null ? void 0 : r.create) || this.createF)(e);
  }
  slot(e) {
    let r = e[this.id] >> 1;
    return {
      create: (n) => ((n.values[r] = this.create(n)), 1),
      update: (n, i) => {
        let o = n.values[r],
          s = this.updateF(o, i);
        return this.compareF(o, s) ? 0 : ((n.values[r] = s), 1);
      },
      reconfigure: (n, i) =>
        i.config.address[this.id] != null
          ? ((n.values[r] = i.field(this)), 0)
          : ((n.values[r] = this.create(n)), 1),
    };
  }
  init(e) {
    return [this, c9.of({ field: this, create: e })];
  }
  get extension() {
    return this;
  }
}
const Hu = { lowest: 4, low: 3, default: 2, high: 1, highest: 0 };
function Hf(t) {
  return (e) => new pM(e, t);
}
const E0 = {
  highest: Hf(Hu.highest),
  high: Hf(Hu.high),
  default: Hf(Hu.default),
  low: Hf(Hu.low),
  lowest: Hf(Hu.lowest),
};
class pM {
  constructor(e, r) {
    (this.inner = e), (this.prec = r);
  }
}
class _v {
  of(e) {
    return new G3(this, e);
  }
  reconfigure(e) {
    return _v.reconfigure.of({ compartment: this, extension: e });
  }
  get(e) {
    return e.config.compartments.get(this);
  }
}
class G3 {
  constructor(e, r) {
    (this.compartment = e), (this.inner = r);
  }
}
class c1 {
  constructor(e, r, n, i, o, s) {
    for (
      this.base = e,
        this.compartments = r,
        this.dynamicSlots = n,
        this.address = i,
        this.staticValues = o,
        this.facets = s,
        this.statusTemplate = [];
      this.statusTemplate.length < n.length;

    )
      this.statusTemplate.push(0);
  }
  staticFacet(e) {
    let r = this.address[e.id];
    return r == null ? e.default : this.staticValues[r >> 1];
  }
  static resolve(e, r, n) {
    let i = [],
      o = Object.create(null),
      s = new Map();
    for (let h of tH(e, r, s))
      h instanceof ri
        ? i.push(h)
        : (o[h.facet.id] || (o[h.facet.id] = [])).push(h);
    let a = Object.create(null),
      l = [],
      u = [];
    for (let h of i) (a[h.id] = u.length << 1), u.push((d) => h.slot(d));
    let c = n == null ? void 0 : n.config.facets;
    for (let h in o) {
      let d = o[h],
        p = d[0].facet,
        m = (c && c[h]) || [];
      if (d.every((b) => b.type == 0))
        if (((a[p.id] = (l.length << 1) | 1), K8(m, d))) l.push(n.facet(p));
        else {
          let b = p.combine(d.map((D) => D.value));
          l.push(n && p.compare(b, n.facet(p)) ? n.facet(p) : b);
        }
      else {
        for (let b of d)
          b.type == 0
            ? ((a[b.id] = (l.length << 1) | 1), l.push(b.value))
            : ((a[b.id] = u.length << 1), u.push((D) => b.dynamicSlot(D)));
        (a[p.id] = u.length << 1), u.push((b) => eH(b, p, d));
      }
    }
    let f = u.map((h) => h(a));
    return new c1(e, s, f, a, l, o);
  }
}
function tH(t, e, r) {
  let n = [[], [], [], [], []],
    i = new Map();
  function o(s, a) {
    let l = i.get(s);
    if (l != null) {
      if (l <= a) return;
      let u = n[l].indexOf(s);
      u > -1 && n[l].splice(u, 1), s instanceof G3 && r.delete(s.compartment);
    }
    if ((i.set(s, a), Array.isArray(s))) for (let u of s) o(u, a);
    else if (s instanceof G3) {
      if (r.has(s.compartment))
        throw new RangeError("Duplicate use of compartment in extensions");
      let u = e.get(s.compartment) || s.inner;
      r.set(s.compartment, u), o(u, a);
    } else if (s instanceof pM) o(s.inner, s.prec);
    else if (s instanceof ri) n[a].push(s), s.provides && o(s.provides, a);
    else if (s instanceof hg)
      n[a].push(s), s.facet.extensions && o(s.facet.extensions, Hu.default);
    else {
      let u = s.extension;
      if (!u)
        throw new Error(
          `Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`
        );
      o(u, a);
    }
  }
  return o(t, Hu.default), n.reduce((s, a) => s.concat(a));
}
function wh(t, e) {
  if (e & 1) return 2;
  let r = e >> 1,
    n = t.status[r];
  if (n == 4) throw new Error("Cyclic dependency between fields and/or facets");
  if (n & 2) return n;
  t.status[r] = 4;
  let i = t.computeSlot(t, t.config.dynamicSlots[r]);
  return (t.status[r] = 2 | i);
}
function f1(t, e) {
  return e & 1 ? t.config.staticValues[e >> 1] : t.values[e >> 1];
}
const mM = vt.define(),
  K3 = vt.define({ combine: (t) => t.some((e) => e), static: !0 }),
  gM = vt.define({ combine: (t) => (t.length ? t[0] : void 0), static: !0 }),
  vM = vt.define(),
  yM = vt.define(),
  bM = vt.define(),
  DM = vt.define({ combine: (t) => (t.length ? t[0] : !1) });
class nl {
  constructor(e, r) {
    (this.type = e), (this.value = r);
  }
  static define() {
    return new rH();
  }
}
class rH {
  of(e) {
    return new nl(this, e);
  }
}
class nH {
  constructor(e) {
    this.map = e;
  }
  of(e) {
    return new Qt(this, e);
  }
}
class Qt {
  constructor(e, r) {
    (this.type = e), (this.value = r);
  }
  map(e) {
    let r = this.type.map(this.value, e);
    return r === void 0
      ? void 0
      : r == this.value
        ? this
        : new Qt(this.type, r);
  }
  is(e) {
    return this.type == e;
  }
  static define(e = {}) {
    return new nH(e.map || ((r) => r));
  }
  static mapEffects(e, r) {
    if (!e.length) return e;
    let n = [];
    for (let i of e) {
      let o = i.map(r);
      o && n.push(o);
    }
    return n;
  }
}
Qt.reconfigure = Qt.define();
Qt.appendConfig = Qt.define();
class Hn {
  constructor(e, r, n, i, o, s) {
    (this.startState = e),
      (this.changes = r),
      (this.selection = n),
      (this.effects = i),
      (this.annotations = o),
      (this.scrollIntoView = s),
      (this._doc = null),
      (this._state = null),
      n && dM(n, r.newLength),
      o.some((a) => a.type == Hn.time) ||
        (this.annotations = o.concat(Hn.time.of(Date.now())));
  }
  static create(e, r, n, i, o, s) {
    return new Hn(e, r, n, i, o, s);
  }
  get newDoc() {
    return this._doc || (this._doc = this.changes.apply(this.startState.doc));
  }
  get newSelection() {
    return this.selection || this.startState.selection.map(this.changes);
  }
  get state() {
    return this._state || this.startState.applyTransaction(this), this._state;
  }
  annotation(e) {
    for (let r of this.annotations) if (r.type == e) return r.value;
  }
  get docChanged() {
    return !this.changes.empty;
  }
  get reconfigured() {
    return this.startState.config != this.state.config;
  }
  isUserEvent(e) {
    let r = this.annotation(Hn.userEvent);
    return !!(
      r &&
      (r == e ||
        (r.length > e.length &&
          r.slice(0, e.length) == e &&
          r[e.length] == "."))
    );
  }
}
Hn.time = nl.define();
Hn.userEvent = nl.define();
Hn.addToHistory = nl.define();
Hn.remote = nl.define();
function iH(t, e) {
  let r = [];
  for (let n = 0, i = 0; ; ) {
    let o, s;
    if (n < t.length && (i == e.length || e[i] >= t[n]))
      (o = t[n++]), (s = t[n++]);
    else if (i < e.length) (o = e[i++]), (s = e[i++]);
    else return r;
    !r.length || r[r.length - 1] < o
      ? r.push(o, s)
      : r[r.length - 1] < s && (r[r.length - 1] = s);
  }
}
function wM(t, e, r) {
  var n;
  let i, o, s;
  return (
    r
      ? ((i = e.changes),
        (o = zn.empty(e.changes.length)),
        (s = t.changes.compose(e.changes)))
      : ((i = e.changes.map(t.changes)),
        (o = t.changes.mapDesc(e.changes, !0)),
        (s = t.changes.compose(i))),
    {
      changes: s,
      selection: e.selection
        ? e.selection.map(o)
        : (n = t.selection) === null || n === void 0
          ? void 0
          : n.map(i),
      effects: Qt.mapEffects(t.effects, i).concat(Qt.mapEffects(e.effects, o)),
      annotations: t.annotations.length
        ? t.annotations.concat(e.annotations)
        : e.annotations,
      scrollIntoView: t.scrollIntoView || e.scrollIntoView,
    }
  );
}
function Y3(t, e, r) {
  let n = e.selection,
    i = Oc(e.annotations);
  return (
    e.userEvent && (i = i.concat(Hn.userEvent.of(e.userEvent))),
    {
      changes:
        e.changes instanceof zn
          ? e.changes
          : zn.of(e.changes || [], r, t.facet(gM)),
      selection: n && (n instanceof Te ? n : Te.single(n.anchor, n.head)),
      effects: Oc(e.effects),
      annotations: i,
      scrollIntoView: !!e.scrollIntoView,
    }
  );
}
function xM(t, e, r) {
  let n = Y3(t, e.length ? e[0] : {}, t.doc.length);
  e.length && e[0].filter === !1 && (r = !1);
  for (let o = 1; o < e.length; o++) {
    e[o].filter === !1 && (r = !1);
    let s = !!e[o].sequential;
    n = wM(n, Y3(t, e[o], s ? n.changes.newLength : t.doc.length), s);
  }
  let i = Hn.create(
    t,
    n.changes,
    n.selection,
    n.effects,
    n.annotations,
    n.scrollIntoView
  );
  return oH(r ? sH(i) : i);
}
function sH(t) {
  let e = t.startState,
    r = !0;
  for (let i of e.facet(vM)) {
    let o = i(t);
    if (o === !1) {
      r = !1;
      break;
    }
    Array.isArray(o) && (r = r === !0 ? o : iH(r, o));
  }
  if (r !== !0) {
    let i, o;
    if (r === !1) (o = t.changes.invertedDesc), (i = zn.empty(e.doc.length));
    else {
      let s = t.changes.filter(r);
      (i = s.changes), (o = s.filtered.mapDesc(s.changes).invertedDesc);
    }
    t = Hn.create(
      e,
      i,
      t.selection && t.selection.map(o),
      Qt.mapEffects(t.effects, o),
      t.annotations,
      t.scrollIntoView
    );
  }
  let n = e.facet(yM);
  for (let i = n.length - 1; i >= 0; i--) {
    let o = n[i](t);
    o instanceof Hn
      ? (t = o)
      : Array.isArray(o) && o.length == 1 && o[0] instanceof Hn
        ? (t = o[0])
        : (t = xM(e, Oc(o), !1));
  }
  return t;
}
function oH(t) {
  let e = t.startState,
    r = e.facet(bM),
    n = t;
  for (let i = r.length - 1; i >= 0; i--) {
    let o = r[i](t);
    o &&
      Object.keys(o).length &&
      (n = wM(n, Y3(e, o, t.changes.newLength), !0));
  }
  return n == t
    ? t
    : Hn.create(
        e,
        t.changes,
        t.selection,
        n.effects,
        n.annotations,
        n.scrollIntoView
      );
}
const aH = [];
function Oc(t) {
  return t == null ? aH : Array.isArray(t) ? t : [t];
}
var tn = (function (t) {
  return (
    (t[(t.Word = 0)] = "Word"),
    (t[(t.Space = 1)] = "Space"),
    (t[(t.Other = 2)] = "Other"),
    t
  );
})(tn || (tn = {}));
const lH =
  /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
let X3;
try {
  X3 = new RegExp("[\\p{Alphabetic}\\p{Number}_]", "u");
} catch {}
function uH(t) {
  if (X3) return X3.test(t);
  for (let e = 0; e < t.length; e++) {
    let r = t[e];
    if (
      /\w/.test(r) ||
      (r > "" && (r.toUpperCase() != r.toLowerCase() || lH.test(r)))
    )
      return !0;
  }
  return !1;
}
function cH(t) {
  return (e) => {
    if (!/\S/.test(e)) return tn.Space;
    if (uH(e)) return tn.Word;
    for (let r = 0; r < t.length; r++) if (e.indexOf(t[r]) > -1) return tn.Word;
    return tn.Other;
  };
}
class sr {
  constructor(e, r, n, i, o, s) {
    (this.config = e),
      (this.doc = r),
      (this.selection = n),
      (this.values = i),
      (this.status = e.statusTemplate.slice()),
      (this.computeSlot = o),
      s && (s._state = this);
    for (let a = 0; a < this.config.dynamicSlots.length; a++) wh(this, a << 1);
    this.computeSlot = null;
  }
  field(e, r = !0) {
    let n = this.config.address[e.id];
    if (n == null) {
      if (r) throw new RangeError("Field is not present in this state");
      return;
    }
    return wh(this, n), f1(this, n);
  }
  update(...e) {
    return xM(this, e, !0);
  }
  applyTransaction(e) {
    let r = this.config,
      { base: n, compartments: i } = r;
    for (let a of e.effects)
      a.is(_v.reconfigure)
        ? (r &&
            ((i = new Map()),
            r.compartments.forEach((l, u) => i.set(u, l)),
            (r = null)),
          i.set(a.value.compartment, a.value.extension))
        : a.is(Qt.reconfigure)
          ? ((r = null), (n = a.value))
          : a.is(Qt.appendConfig) && ((r = null), (n = Oc(n).concat(a.value)));
    let o;
    r
      ? (o = e.startState.values.slice())
      : ((r = c1.resolve(n, i, this)),
        (o = new sr(
          r,
          this.doc,
          this.selection,
          r.dynamicSlots.map(() => null),
          (l, u) => u.reconfigure(l, this),
          null
        ).values));
    let s = e.startState.facet(K3) ? e.newSelection : e.newSelection.asSingle();
    new sr(r, e.newDoc, s, o, (a, l) => l.update(a, e), e);
  }
  replaceSelection(e) {
    return (
      typeof e == "string" && (e = this.toText(e)),
      this.changeByRange((r) => ({
        changes: { from: r.from, to: r.to, insert: e },
        range: Te.cursor(r.from + e.length),
      }))
    );
  }
  changeByRange(e) {
    let r = this.selection,
      n = e(r.ranges[0]),
      i = this.changes(n.changes),
      o = [n.range],
      s = Oc(n.effects);
    for (let a = 1; a < r.ranges.length; a++) {
      let l = e(r.ranges[a]),
        u = this.changes(l.changes),
        c = u.map(i);
      for (let h = 0; h < a; h++) o[h] = o[h].map(c);
      let f = i.mapDesc(u, !0);
      o.push(l.range.map(f)),
        (i = i.compose(c)),
        (s = Qt.mapEffects(s, c).concat(Qt.mapEffects(Oc(l.effects), f)));
    }
    return { changes: i, selection: Te.create(o, r.mainIndex), effects: s };
  }
  changes(e = []) {
    return e instanceof zn
      ? e
      : zn.of(e, this.doc.length, this.facet(sr.lineSeparator));
  }
  toText(e) {
    return Er.of(e.split(this.facet(sr.lineSeparator) || V3));
  }
  sliceDoc(e = 0, r = this.doc.length) {
    return this.doc.sliceString(e, r, this.lineBreak);
  }
  facet(e) {
    let r = this.config.address[e.id];
    return r == null ? e.default : (wh(this, r), f1(this, r));
  }
  toJSON(e) {
    let r = { doc: this.sliceDoc(), selection: this.selection.toJSON() };
    if (e)
      for (let n in e) {
        let i = e[n];
        i instanceof ri &&
          this.config.address[i.id] != null &&
          (r[n] = i.spec.toJSON(this.field(e[n]), this));
      }
    return r;
  }
  static fromJSON(e, r = {}, n) {
    if (!e || typeof e.doc != "string")
      throw new RangeError("Invalid JSON representation for EditorState");
    let i = [];
    if (n) {
      for (let o in n)
        if (Object.prototype.hasOwnProperty.call(e, o)) {
          let s = n[o],
            a = e[o];
          i.push(s.init((l) => s.spec.fromJSON(a, l)));
        }
    }
    return sr.create({
      doc: e.doc,
      selection: Te.fromJSON(e.selection),
      extensions: r.extensions ? i.concat([r.extensions]) : i,
    });
  }
  static create(e = {}) {
    let r = c1.resolve(e.extensions || [], new Map()),
      n =
        e.doc instanceof Er
          ? e.doc
          : Er.of((e.doc || "").split(r.staticFacet(sr.lineSeparator) || V3)),
      i = e.selection
        ? e.selection instanceof Te
          ? e.selection
          : Te.single(e.selection.anchor, e.selection.head)
        : Te.single(0);
    return (
      dM(i, n.length),
      r.staticFacet(K3) || (i = i.asSingle()),
      new sr(
        r,
        n,
        i,
        r.dynamicSlots.map(() => null),
        (o, s) => s.create(o),
        null
      )
    );
  }
  get tabSize() {
    return this.facet(sr.tabSize);
  }
  get lineBreak() {
    return (
      this.facet(sr.lineSeparator) ||
      `
`
    );
  }
  get readOnly() {
    return this.facet(DM);
  }
  phrase(e, ...r) {
    for (let n of this.facet(sr.phrases))
      if (Object.prototype.hasOwnProperty.call(n, e)) {
        e = n[e];
        break;
      }
    return (
      r.length &&
        (e = e.replace(/\$(\$|\d*)/g, (n, i) => {
          if (i == "$") return "$";
          let o = +(i || 1);
          return !o || o > r.length ? n : r[o - 1];
        })),
      e
    );
  }
  languageDataAt(e, r, n = -1) {
    let i = [];
    for (let o of this.facet(mM))
      for (let s of o(this, r, n))
        Object.prototype.hasOwnProperty.call(s, e) && i.push(s[e]);
    return i;
  }
  charCategorizer(e) {
    return cH(this.languageDataAt("wordChars", e).join(""));
  }
  wordAt(e) {
    let { text: r, from: n, length: i } = this.doc.lineAt(e),
      o = this.charCategorizer(e),
      s = e - n,
      a = e - n;
    for (; s > 0; ) {
      let l = di(r, s, !1);
      if (o(r.slice(l, s)) != tn.Word) break;
      s = l;
    }
    for (; a < i; ) {
      let l = di(r, a);
      if (o(r.slice(a, l)) != tn.Word) break;
      a = l;
    }
    return s == a ? null : Te.range(s + n, a + n);
  }
}
sr.allowMultipleSelections = K3;
sr.tabSize = vt.define({ combine: (t) => (t.length ? t[0] : 4) });
sr.lineSeparator = gM;
sr.readOnly = DM;
sr.phrases = vt.define({
  compare(t, e) {
    let r = Object.keys(t),
      n = Object.keys(e);
    return r.length == n.length && r.every((i) => t[i] == e[i]);
  },
});
sr.languageData = mM;
sr.changeFilter = vM;
sr.transactionFilter = yM;
sr.transactionExtender = bM;
_v.reconfigure = Qt.define();
function da(t, e, r = {}) {
  let n = {};
  for (let i of t)
    for (let o of Object.keys(i)) {
      let s = i[o],
        a = n[o];
      if (a === void 0) n[o] = s;
      else if (!(a === s || s === void 0))
        if (Object.hasOwnProperty.call(r, o)) n[o] = r[o](a, s);
        else throw new Error("Config merge conflict for field " + o);
    }
  for (let i in e) n[i] === void 0 && (n[i] = e[i]);
  return n;
}
class d0 {
  eq(e) {
    return this == e;
  }
  range(e, r = e) {
    return sd.create(e, r, this);
  }
}
d0.prototype.startSide = d0.prototype.endSide = 0;
d0.prototype.point = !1;
d0.prototype.mapMode = Pi.TrackDel;
class sd {
  constructor(e, r, n) {
    (this.from = e), (this.to = r), (this.value = n);
  }
  static create(e, r, n) {
    return new sd(e, r, n);
  }
}
function J3(t, e) {
  return t.from - e.from || t.value.startSide - e.value.startSide;
}
class Y8 {
  constructor(e, r, n, i) {
    (this.from = e), (this.to = r), (this.value = n), (this.maxPoint = i);
  }
  get length() {
    return this.to[this.to.length - 1];
  }
  findIndex(e, r, n, i = 0) {
    let o = n ? this.to : this.from;
    for (let s = i, a = o.length; ; ) {
      if (s == a) return s;
      let l = (s + a) >> 1,
        u =
          o[l] - e || (n ? this.value[l].endSide : this.value[l].startSide) - r;
      if (l == s) return u >= 0 ? s : a;
      u >= 0 ? (a = l) : (s = l + 1);
    }
  }
  between(e, r, n, i) {
    for (
      let o = this.findIndex(r, -1e9, !0), s = this.findIndex(n, 1e9, !1, o);
      o < s;
      o++
    )
      if (i(this.from[o] + e, this.to[o] + e, this.value[o]) === !1) return !1;
  }
  map(e, r) {
    let n = [],
      i = [],
      o = [],
      s = -1,
      a = -1;
    for (let l = 0; l < this.value.length; l++) {
      let u = this.value[l],
        c = this.from[l] + e,
        f = this.to[l] + e,
        h,
        d;
      if (c == f) {
        let p = r.mapPos(c, u.startSide, u.mapMode);
        if (
          p == null ||
          ((h = d = p),
          u.startSide != u.endSide && ((d = r.mapPos(c, u.endSide)), d < h))
        )
          continue;
      } else if (
        ((h = r.mapPos(c, u.startSide)),
        (d = r.mapPos(f, u.endSide)),
        h > d || (h == d && u.startSide > 0 && u.endSide <= 0))
      )
        continue;
      (d - h || u.endSide - u.startSide) < 0 ||
        (s < 0 && (s = h),
        u.point && (a = Math.max(a, d - h)),
        n.push(u),
        i.push(h - s),
        o.push(d - s));
    }
    return { mapped: n.length ? new Y8(i, o, n, a) : null, pos: s };
  }
}
class dr {
  constructor(e, r, n, i) {
    (this.chunkPos = e),
      (this.chunk = r),
      (this.nextLayer = n),
      (this.maxPoint = i);
  }
  static create(e, r, n, i) {
    return new dr(e, r, n, i);
  }
  get length() {
    let e = this.chunk.length - 1;
    return e < 0 ? 0 : Math.max(this.chunkEnd(e), this.nextLayer.length);
  }
  get size() {
    if (this.isEmpty) return 0;
    let e = this.nextLayer.size;
    for (let r of this.chunk) e += r.value.length;
    return e;
  }
  chunkEnd(e) {
    return this.chunkPos[e] + this.chunk[e].length;
  }
  update(e) {
    let {
        add: r = [],
        sort: n = !1,
        filterFrom: i = 0,
        filterTo: o = this.length,
      } = e,
      s = e.filter;
    if (r.length == 0 && !s) return this;
    if ((n && (r = r.slice().sort(J3)), this.isEmpty))
      return r.length ? dr.of(r) : this;
    let a = new kM(this, null, -1).goto(0),
      l = 0,
      u = [],
      c = new Ua();
    for (; a.value || l < r.length; )
      if (
        l < r.length &&
        (a.from - r[l].from || a.startSide - r[l].value.startSide) >= 0
      ) {
        let f = r[l++];
        c.addInner(f.from, f.to, f.value) || u.push(f);
      } else
        a.rangeIndex == 1 &&
        a.chunkIndex < this.chunk.length &&
        (l == r.length || this.chunkEnd(a.chunkIndex) < r[l].from) &&
        (!s ||
          i > this.chunkEnd(a.chunkIndex) ||
          o < this.chunkPos[a.chunkIndex]) &&
        c.addChunk(this.chunkPos[a.chunkIndex], this.chunk[a.chunkIndex])
          ? a.nextChunk()
          : ((!s || i > a.to || o < a.from || s(a.from, a.to, a.value)) &&
              (c.addInner(a.from, a.to, a.value) ||
                u.push(sd.create(a.from, a.to, a.value))),
            a.next());
    return c.finishInner(
      this.nextLayer.isEmpty && !u.length
        ? dr.empty
        : this.nextLayer.update({
            add: u,
            filter: s,
            filterFrom: i,
            filterTo: o,
          })
    );
  }
  map(e) {
    if (e.empty || this.isEmpty) return this;
    let r = [],
      n = [],
      i = -1;
    for (let s = 0; s < this.chunk.length; s++) {
      let a = this.chunkPos[s],
        l = this.chunk[s],
        u = e.touchesRange(a, a + l.length);
      if (u === !1)
        (i = Math.max(i, l.maxPoint)), r.push(l), n.push(e.mapPos(a));
      else if (u === !0) {
        let { mapped: c, pos: f } = l.map(a, e);
        c && ((i = Math.max(i, c.maxPoint)), r.push(c), n.push(f));
      }
    }
    let o = this.nextLayer.map(e);
    return r.length == 0 ? o : new dr(n, r, o || dr.empty, i);
  }
  between(e, r, n) {
    if (!this.isEmpty) {
      for (let i = 0; i < this.chunk.length; i++) {
        let o = this.chunkPos[i],
          s = this.chunk[i];
        if (r >= o && e <= o + s.length && s.between(o, e - o, r - o, n) === !1)
          return;
      }
      this.nextLayer.between(e, r, n);
    }
  }
  iter(e = 0) {
    return od.from([this]).goto(e);
  }
  get isEmpty() {
    return this.nextLayer == this;
  }
  static iter(e, r = 0) {
    return od.from(e).goto(r);
  }
  static compare(e, r, n, i, o = -1) {
    let s = e.filter((f) => f.maxPoint > 0 || (!f.isEmpty && f.maxPoint >= o)),
      a = r.filter((f) => f.maxPoint > 0 || (!f.isEmpty && f.maxPoint >= o)),
      l = f9(s, a, n),
      u = new Vf(s, l, o),
      c = new Vf(a, l, o);
    n.iterGaps((f, h, d) => h9(u, f, c, h, d, i)),
      n.empty && n.length == 0 && h9(u, 0, c, 0, 0, i);
  }
  static eq(e, r, n = 0, i) {
    i == null && (i = 999999999);
    let o = e.filter((c) => !c.isEmpty && r.indexOf(c) < 0),
      s = r.filter((c) => !c.isEmpty && e.indexOf(c) < 0);
    if (o.length != s.length) return !1;
    if (!o.length) return !0;
    let a = f9(o, s),
      l = new Vf(o, a, 0).goto(n),
      u = new Vf(s, a, 0).goto(n);
    for (;;) {
      if (
        l.to != u.to ||
        !Q3(l.active, u.active) ||
        (l.point && (!u.point || !l.point.eq(u.point)))
      )
        return !1;
      if (l.to > i) return !0;
      l.next(), u.next();
    }
  }
  static spans(e, r, n, i, o = -1) {
    let s = new Vf(e, null, o).goto(r),
      a = r,
      l = s.openStart;
    for (;;) {
      let u = Math.min(s.to, n);
      if (s.point) {
        let c = s.activeForPoint(s.to),
          f =
            s.pointFrom < r
              ? c.length + 1
              : s.point.startSide < 0
                ? c.length
                : Math.min(c.length, l);
        i.point(a, u, s.point, c, f, s.pointRank),
          (l = Math.min(s.openEnd(u), c.length));
      } else u > a && (i.span(a, u, s.active, l), (l = s.openEnd(u)));
      if (s.to > n) return l + (s.point && s.to > n ? 1 : 0);
      (a = s.to), s.next();
    }
  }
  static of(e, r = !1) {
    let n = new Ua();
    for (let i of e instanceof sd ? [e] : r ? fH(e) : e)
      n.add(i.from, i.to, i.value);
    return n.finish();
  }
  static join(e) {
    if (!e.length) return dr.empty;
    let r = e[e.length - 1];
    for (let n = e.length - 2; n >= 0; n--)
      for (let i = e[n]; i != dr.empty; i = i.nextLayer)
        r = new dr(i.chunkPos, i.chunk, r, Math.max(i.maxPoint, r.maxPoint));
    return r;
  }
}
dr.empty = new dr([], [], null, -1);
function fH(t) {
  if (t.length > 1)
    for (let e = t[0], r = 1; r < t.length; r++) {
      let n = t[r];
      if (J3(e, n) > 0) return t.slice().sort(J3);
      e = n;
    }
  return t;
}
dr.empty.nextLayer = dr.empty;
class Ua {
  finishChunk(e) {
    this.chunks.push(new Y8(this.from, this.to, this.value, this.maxPoint)),
      this.chunkPos.push(this.chunkStart),
      (this.chunkStart = -1),
      (this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint)),
      (this.maxPoint = -1),
      e && ((this.from = []), (this.to = []), (this.value = []));
  }
  constructor() {
    (this.chunks = []),
      (this.chunkPos = []),
      (this.chunkStart = -1),
      (this.last = null),
      (this.lastFrom = -1e9),
      (this.lastTo = -1e9),
      (this.from = []),
      (this.to = []),
      (this.value = []),
      (this.maxPoint = -1),
      (this.setMaxPoint = -1),
      (this.nextLayer = null);
  }
  add(e, r, n) {
    this.addInner(e, r, n) ||
      (this.nextLayer || (this.nextLayer = new Ua())).add(e, r, n);
  }
  addInner(e, r, n) {
    let i = e - this.lastTo || n.startSide - this.last.endSide;
    if (i <= 0 && (e - this.lastFrom || n.startSide - this.last.startSide) < 0)
      throw new Error(
        "Ranges must be added sorted by `from` position and `startSide`"
      );
    return i < 0
      ? !1
      : (this.from.length == 250 && this.finishChunk(!0),
        this.chunkStart < 0 && (this.chunkStart = e),
        this.from.push(e - this.chunkStart),
        this.to.push(r - this.chunkStart),
        (this.last = n),
        (this.lastFrom = e),
        (this.lastTo = r),
        this.value.push(n),
        n.point && (this.maxPoint = Math.max(this.maxPoint, r - e)),
        !0);
  }
  addChunk(e, r) {
    if ((e - this.lastTo || r.value[0].startSide - this.last.endSide) < 0)
      return !1;
    this.from.length && this.finishChunk(!0),
      (this.setMaxPoint = Math.max(this.setMaxPoint, r.maxPoint)),
      this.chunks.push(r),
      this.chunkPos.push(e);
    let n = r.value.length - 1;
    return (
      (this.last = r.value[n]),
      (this.lastFrom = r.from[n] + e),
      (this.lastTo = r.to[n] + e),
      !0
    );
  }
  finish() {
    return this.finishInner(dr.empty);
  }
  finishInner(e) {
    if ((this.from.length && this.finishChunk(!1), this.chunks.length == 0))
      return e;
    let r = dr.create(
      this.chunkPos,
      this.chunks,
      this.nextLayer ? this.nextLayer.finishInner(e) : e,
      this.setMaxPoint
    );
    return (this.from = null), r;
  }
}
function f9(t, e, r) {
  let n = new Map();
  for (let o of t)
    for (let s = 0; s < o.chunk.length; s++)
      o.chunk[s].maxPoint <= 0 && n.set(o.chunk[s], o.chunkPos[s]);
  let i = new Set();
  for (let o of e)
    for (let s = 0; s < o.chunk.length; s++) {
      let a = n.get(o.chunk[s]);
      a != null &&
        (r ? r.mapPos(a) : a) == o.chunkPos[s] &&
        !(r != null && r.touchesRange(a, a + o.chunk[s].length)) &&
        i.add(o.chunk[s]);
    }
  return i;
}
class kM {
  constructor(e, r, n, i = 0) {
    (this.layer = e), (this.skip = r), (this.minPoint = n), (this.rank = i);
  }
  get startSide() {
    return this.value ? this.value.startSide : 0;
  }
  get endSide() {
    return this.value ? this.value.endSide : 0;
  }
  goto(e, r = -1e9) {
    return (
      (this.chunkIndex = this.rangeIndex = 0), this.gotoInner(e, r, !1), this
    );
  }
  gotoInner(e, r, n) {
    for (; this.chunkIndex < this.layer.chunk.length; ) {
      let i = this.layer.chunk[this.chunkIndex];
      if (
        !(
          (this.skip && this.skip.has(i)) ||
          this.layer.chunkEnd(this.chunkIndex) < e ||
          i.maxPoint < this.minPoint
        )
      )
        break;
      this.chunkIndex++, (n = !1);
    }
    if (this.chunkIndex < this.layer.chunk.length) {
      let i = this.layer.chunk[this.chunkIndex].findIndex(
        e - this.layer.chunkPos[this.chunkIndex],
        r,
        !0
      );
      (!n || this.rangeIndex < i) && this.setRangeIndex(i);
    }
    this.next();
  }
  forward(e, r) {
    (this.to - e || this.endSide - r) < 0 && this.gotoInner(e, r, !0);
  }
  next() {
    for (;;)
      if (this.chunkIndex == this.layer.chunk.length) {
        (this.from = this.to = 1e9), (this.value = null);
        break;
      } else {
        let e = this.layer.chunkPos[this.chunkIndex],
          r = this.layer.chunk[this.chunkIndex],
          n = e + r.from[this.rangeIndex];
        if (
          ((this.from = n),
          (this.to = e + r.to[this.rangeIndex]),
          (this.value = r.value[this.rangeIndex]),
          this.setRangeIndex(this.rangeIndex + 1),
          this.minPoint < 0 ||
            (this.value.point && this.to - this.from >= this.minPoint))
        )
          break;
      }
  }
  setRangeIndex(e) {
    if (e == this.layer.chunk[this.chunkIndex].value.length) {
      if ((this.chunkIndex++, this.skip))
        for (
          ;
          this.chunkIndex < this.layer.chunk.length &&
          this.skip.has(this.layer.chunk[this.chunkIndex]);

        )
          this.chunkIndex++;
      this.rangeIndex = 0;
    } else this.rangeIndex = e;
  }
  nextChunk() {
    this.chunkIndex++, (this.rangeIndex = 0), this.next();
  }
  compare(e) {
    return (
      this.from - e.from ||
      this.startSide - e.startSide ||
      this.rank - e.rank ||
      this.to - e.to ||
      this.endSide - e.endSide
    );
  }
}
class od {
  constructor(e) {
    this.heap = e;
  }
  static from(e, r = null, n = -1) {
    let i = [];
    for (let o = 0; o < e.length; o++)
      for (let s = e[o]; !s.isEmpty; s = s.nextLayer)
        s.maxPoint >= n && i.push(new kM(s, r, n, o));
    return i.length == 1 ? i[0] : new od(i);
  }
  get startSide() {
    return this.value ? this.value.startSide : 0;
  }
  goto(e, r = -1e9) {
    for (let n of this.heap) n.goto(e, r);
    for (let n = this.heap.length >> 1; n >= 0; n--) A4(this.heap, n);
    return this.next(), this;
  }
  forward(e, r) {
    for (let n of this.heap) n.forward(e, r);
    for (let n = this.heap.length >> 1; n >= 0; n--) A4(this.heap, n);
    (this.to - e || this.value.endSide - r) < 0 && this.next();
  }
  next() {
    if (this.heap.length == 0)
      (this.from = this.to = 1e9), (this.value = null), (this.rank = -1);
    else {
      let e = this.heap[0];
      (this.from = e.from),
        (this.to = e.to),
        (this.value = e.value),
        (this.rank = e.rank),
        e.value && e.next(),
        A4(this.heap, 0);
    }
  }
}
function A4(t, e) {
  for (let r = t[e]; ; ) {
    let n = (e << 1) + 1;
    if (n >= t.length) break;
    let i = t[n];
    if (
      (n + 1 < t.length && i.compare(t[n + 1]) >= 0 && ((i = t[n + 1]), n++),
      r.compare(i) < 0)
    )
      break;
    (t[n] = r), (t[e] = i), (e = n);
  }
}
class Vf {
  constructor(e, r, n) {
    (this.minPoint = n),
      (this.active = []),
      (this.activeTo = []),
      (this.activeRank = []),
      (this.minActive = -1),
      (this.point = null),
      (this.pointFrom = 0),
      (this.pointRank = 0),
      (this.to = -1e9),
      (this.endSide = 0),
      (this.openStart = -1),
      (this.cursor = od.from(e, r, n));
  }
  goto(e, r = -1e9) {
    return (
      this.cursor.goto(e, r),
      (this.active.length = this.activeTo.length = this.activeRank.length = 0),
      (this.minActive = -1),
      (this.to = e),
      (this.endSide = r),
      (this.openStart = -1),
      this.next(),
      this
    );
  }
  forward(e, r) {
    for (
      ;
      this.minActive > -1 &&
      (this.activeTo[this.minActive] - e ||
        this.active[this.minActive].endSide - r) < 0;

    )
      this.removeActive(this.minActive);
    this.cursor.forward(e, r);
  }
  removeActive(e) {
    um(this.active, e),
      um(this.activeTo, e),
      um(this.activeRank, e),
      (this.minActive = d9(this.active, this.activeTo));
  }
  addActive(e) {
    let r = 0,
      { value: n, to: i, rank: o } = this.cursor;
    for (
      ;
      r < this.activeRank.length &&
      (o - this.activeRank[r] || i - this.activeTo[r]) > 0;

    )
      r++;
    cm(this.active, r, n),
      cm(this.activeTo, r, i),
      cm(this.activeRank, r, o),
      e && cm(e, r, this.cursor.from),
      (this.minActive = d9(this.active, this.activeTo));
  }
  next() {
    let e = this.to,
      r = this.point;
    this.point = null;
    let n = this.openStart < 0 ? [] : null;
    for (;;) {
      let i = this.minActive;
      if (
        i > -1 &&
        (this.activeTo[i] - this.cursor.from ||
          this.active[i].endSide - this.cursor.startSide) < 0
      ) {
        if (this.activeTo[i] > e) {
          (this.to = this.activeTo[i]), (this.endSide = this.active[i].endSide);
          break;
        }
        this.removeActive(i), n && um(n, i);
      } else if (this.cursor.value)
        if (this.cursor.from > e) {
          (this.to = this.cursor.from), (this.endSide = this.cursor.startSide);
          break;
        } else {
          let o = this.cursor.value;
          if (!o.point) this.addActive(n), this.cursor.next();
          else if (
            r &&
            this.cursor.to == this.to &&
            this.cursor.from < this.cursor.to
          )
            this.cursor.next();
          else {
            (this.point = o),
              (this.pointFrom = this.cursor.from),
              (this.pointRank = this.cursor.rank),
              (this.to = this.cursor.to),
              (this.endSide = o.endSide),
              this.cursor.next(),
              this.forward(this.to, this.endSide);
            break;
          }
        }
      else {
        this.to = this.endSide = 1e9;
        break;
      }
    }
    if (n) {
      this.openStart = 0;
      for (let i = n.length - 1; i >= 0 && n[i] < e; i--) this.openStart++;
    }
  }
  activeForPoint(e) {
    if (!this.active.length) return this.active;
    let r = [];
    for (
      let n = this.active.length - 1;
      n >= 0 && !(this.activeRank[n] < this.pointRank);
      n--
    )
      (this.activeTo[n] > e ||
        (this.activeTo[n] == e &&
          this.active[n].endSide >= this.point.endSide)) &&
        r.push(this.active[n]);
    return r.reverse();
  }
  openEnd(e) {
    let r = 0;
    for (let n = this.activeTo.length - 1; n >= 0 && this.activeTo[n] > e; n--)
      r++;
    return r;
  }
}
function h9(t, e, r, n, i, o) {
  t.goto(e), r.goto(n);
  let s = n + i,
    a = n,
    l = n - e;
  for (;;) {
    let u = t.to + l - r.to || t.endSide - r.endSide,
      c = u < 0 ? t.to + l : r.to,
      f = Math.min(c, s);
    if (
      (t.point || r.point
        ? (t.point &&
            r.point &&
            (t.point == r.point || t.point.eq(r.point)) &&
            Q3(t.activeForPoint(t.to), r.activeForPoint(r.to))) ||
          o.comparePoint(a, f, t.point, r.point)
        : f > a &&
          !Q3(t.active, r.active) &&
          o.compareRange(a, f, t.active, r.active),
      c > s)
    )
      break;
    (a = c), u <= 0 && t.next(), u >= 0 && r.next();
  }
}
function Q3(t, e) {
  if (t.length != e.length) return !1;
  for (let r = 0; r < t.length; r++)
    if (t[r] != e[r] && !t[r].eq(e[r])) return !1;
  return !0;
}
function um(t, e) {
  for (let r = e, n = t.length - 1; r < n; r++) t[r] = t[r + 1];
  t.pop();
}
function cm(t, e, r) {
  for (let n = t.length - 1; n >= e; n--) t[n + 1] = t[n];
  t[e] = r;
}
function d9(t, e) {
  let r = -1,
    n = 1e9;
  for (let i = 0; i < e.length; i++)
    (e[i] - n || t[i].endSide - t[r].endSide) < 0 && ((r = i), (n = e[i]));
  return r;
}
function xf(t, e, r = t.length) {
  let n = 0;
  for (let i = 0; i < r; )
    t.charCodeAt(i) == 9 ? ((n += e - (n % e)), i++) : (n++, (i = di(t, i)));
  return n;
}
function Z3(t, e, r, n) {
  for (let i = 0, o = 0; ; ) {
    if (o >= e) return i;
    if (i == t.length) break;
    (o += t.charCodeAt(i) == 9 ? r - (o % r) : 1), (i = di(t, i));
  }
  return n === !0 ? -1 : t.length;
}
const e5 = "ͼ",
  p9 = typeof Symbol > "u" ? "__" + e5 : Symbol.for(e5),
  t5 =
    typeof Symbol > "u"
      ? "__styleSet" + Math.floor(Math.random() * 1e8)
      : Symbol("styleSet"),
  m9 = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : {};
class au {
  constructor(e, r) {
    this.rules = [];
    let { finish: n } = r || {};
    function i(s) {
      return /^@/.test(s) ? [s] : s.split(/,\s*/);
    }
    function o(s, a, l, u) {
      let c = [],
        f = /^@(\w+)\b/.exec(s[0]),
        h = f && f[1] == "keyframes";
      if (f && a == null) return l.push(s[0] + ";");
      for (let d in a) {
        let p = a[d];
        if (/&/.test(d))
          o(
            d
              .split(/,\s*/)
              .map((m) => s.map((b) => m.replace(/&/, b)))
              .reduce((m, b) => m.concat(b)),
            p,
            l
          );
        else if (p && typeof p == "object") {
          if (!f)
            throw new RangeError(
              "The value of a property (" + d + ") should be a primitive value."
            );
          o(i(d), p, c, h);
        } else
          p != null &&
            c.push(
              d
                .replace(/_.*/, "")
                .replace(/[A-Z]/g, (m) => "-" + m.toLowerCase()) +
                ": " +
                p +
                ";"
            );
      }
      (c.length || h) &&
        l.push(
          (n && !f && !u ? s.map(n) : s).join(", ") + " {" + c.join(" ") + "}"
        );
    }
    for (let s in e) o(i(s), e[s], this.rules);
  }
  getRules() {
    return this.rules.join(`
`);
  }
  static newName() {
    let e = m9[p9] || 1;
    return (m9[p9] = e + 1), e5 + e.toString(36);
  }
  static mount(e, r, n) {
    let i = e[t5],
      o = n && n.nonce;
    i ? o && i.setNonce(o) : (i = new hH(e, o)),
      i.mount(Array.isArray(r) ? r : [r], e);
  }
}
let g9 = new Map();
class hH {
  constructor(e, r) {
    let n = e.ownerDocument || e,
      i = n.defaultView;
    if (!e.head && e.adoptedStyleSheets && i.CSSStyleSheet) {
      let o = g9.get(n);
      if (o) return (e[t5] = o);
      (this.sheet = new i.CSSStyleSheet()), g9.set(n, this);
    } else
      (this.styleTag = n.createElement("style")),
        r && this.styleTag.setAttribute("nonce", r);
    (this.modules = []), (e[t5] = this);
  }
  mount(e, r) {
    let n = this.sheet,
      i = 0,
      o = 0;
    for (let s = 0; s < e.length; s++) {
      let a = e[s],
        l = this.modules.indexOf(a);
      if (
        (l < o && l > -1 && (this.modules.splice(l, 1), o--, (l = -1)), l == -1)
      ) {
        if ((this.modules.splice(o++, 0, a), n))
          for (let u = 0; u < a.rules.length; u++)
            n.insertRule(a.rules[u], i++);
      } else {
        for (; o < l; ) i += this.modules[o++].rules.length;
        (i += a.rules.length), o++;
      }
    }
    if (n)
      r.adoptedStyleSheets.indexOf(this.sheet) < 0 &&
        (r.adoptedStyleSheets = [this.sheet, ...r.adoptedStyleSheets]);
    else {
      let s = "";
      for (let l = 0; l < this.modules.length; l++)
        s +=
          this.modules[l].getRules() +
          `
`;
      this.styleTag.textContent = s;
      let a = r.head || r;
      this.styleTag.parentNode != a &&
        a.insertBefore(this.styleTag, a.firstChild);
    }
  }
  setNonce(e) {
    this.styleTag &&
      this.styleTag.getAttribute("nonce") != e &&
      this.styleTag.setAttribute("nonce", e);
  }
}
var lu = {
    8: "Backspace",
    9: "Tab",
    10: "Enter",
    12: "NumLock",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    44: "PrintScreen",
    45: "Insert",
    46: "Delete",
    59: ";",
    61: "=",
    91: "Meta",
    92: "Meta",
    106: "*",
    107: "+",
    108: ",",
    109: "-",
    110: ".",
    111: "/",
    144: "NumLock",
    145: "ScrollLock",
    160: "Shift",
    161: "Shift",
    162: "Control",
    163: "Control",
    164: "Alt",
    165: "Alt",
    173: "-",
    186: ";",
    187: "=",
    188: ",",
    189: "-",
    190: ".",
    191: "/",
    192: "`",
    219: "[",
    220: "\\",
    221: "]",
    222: "'",
  },
  ad = {
    48: ")",
    49: "!",
    50: "@",
    51: "#",
    52: "$",
    53: "%",
    54: "^",
    55: "&",
    56: "*",
    57: "(",
    59: ":",
    61: "+",
    173: "_",
    186: ":",
    187: "+",
    188: "<",
    189: "_",
    190: ">",
    191: "?",
    192: "~",
    219: "{",
    220: "|",
    221: "}",
    222: '"',
  },
  dH = typeof navigator < "u" && /Mac/.test(navigator.platform),
  pH =
    typeof navigator < "u" &&
    /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);
for (var fi = 0; fi < 10; fi++) lu[48 + fi] = lu[96 + fi] = String(fi);
for (var fi = 1; fi <= 24; fi++) lu[fi + 111] = "F" + fi;
for (var fi = 65; fi <= 90; fi++)
  (lu[fi] = String.fromCharCode(fi + 32)), (ad[fi] = String.fromCharCode(fi));
for (var E4 in lu) ad.hasOwnProperty(E4) || (ad[E4] = lu[E4]);
function mH(t) {
  var e =
      (dH && t.metaKey && t.shiftKey && !t.ctrlKey && !t.altKey) ||
      (pH && t.shiftKey && t.key && t.key.length == 1) ||
      t.key == "Unidentified",
    r =
      (!e && t.key) ||
      (t.shiftKey ? ad : lu)[t.keyCode] ||
      t.key ||
      "Unidentified";
  return (
    r == "Esc" && (r = "Escape"),
    r == "Del" && (r = "Delete"),
    r == "Left" && (r = "ArrowLeft"),
    r == "Up" && (r = "ArrowUp"),
    r == "Right" && (r = "ArrowRight"),
    r == "Down" && (r = "ArrowDown"),
    r
  );
}
function h1(t) {
  let e;
  return (
    t.nodeType == 11 ? (e = t.getSelection ? t : t.ownerDocument) : (e = t),
    e.getSelection()
  );
}
function r5(t, e) {
  return e ? t == e || t.contains(e.nodeType != 1 ? e.parentNode : e) : !1;
}
function gH(t) {
  let e = t.activeElement;
  for (; e && e.shadowRoot; ) e = e.shadowRoot.activeElement;
  return e;
}
function dg(t, e) {
  if (!e.anchorNode) return !1;
  try {
    return r5(t, e.anchorNode);
  } catch {
    return !1;
  }
}
function ld(t) {
  return t.nodeType == 3
    ? m0(t, 0, t.nodeValue.length).getClientRects()
    : t.nodeType == 1
      ? t.getClientRects()
      : [];
}
function xh(t, e, r, n) {
  return r ? v9(t, e, r, n, -1) || v9(t, e, r, n, 1) : !1;
}
function p0(t) {
  for (var e = 0; ; e++) if (((t = t.previousSibling), !t)) return e;
}
function d1(t) {
  return (
    t.nodeType == 1 &&
    /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)
  );
}
function v9(t, e, r, n, i) {
  for (;;) {
    if (t == r && e == n) return !0;
    if (e == (i < 0 ? 0 : Ga(t))) {
      if (t.nodeName == "DIV") return !1;
      let o = t.parentNode;
      if (!o || o.nodeType != 1) return !1;
      (e = p0(t) + (i < 0 ? 0 : 1)), (t = o);
    } else if (t.nodeType == 1) {
      if (
        ((t = t.childNodes[e + (i < 0 ? -1 : 0)]),
        t.nodeType == 1 && t.contentEditable == "false")
      )
        return !1;
      e = i < 0 ? Ga(t) : 0;
    } else return !1;
  }
}
function Ga(t) {
  return t.nodeType == 3 ? t.nodeValue.length : t.childNodes.length;
}
function X8(t, e) {
  let r = e ? t.left : t.right;
  return { left: r, right: r, top: t.top, bottom: t.bottom };
}
function vH(t) {
  let e = t.visualViewport;
  return e
    ? { left: 0, right: e.width, top: 0, bottom: e.height }
    : { left: 0, right: t.innerWidth, top: 0, bottom: t.innerHeight };
}
function SM(t, e) {
  let r = e.width / t.offsetWidth,
    n = e.height / t.offsetHeight;
  return (
    ((r > 0.995 && r < 1.005) ||
      !isFinite(r) ||
      Math.abs(e.width - t.offsetWidth) < 1) &&
      (r = 1),
    ((n > 0.995 && n < 1.005) ||
      !isFinite(n) ||
      Math.abs(e.height - t.offsetHeight) < 1) &&
      (n = 1),
    { scaleX: r, scaleY: n }
  );
}
function yH(t, e, r, n, i, o, s, a) {
  let l = t.ownerDocument,
    u = l.defaultView || window;
  for (let c = t, f = !1; c && !f; )
    if (c.nodeType == 1) {
      let h,
        d = c == l.body,
        p = 1,
        m = 1;
      if (d) h = vH(u);
      else {
        if (
          (/^(fixed|sticky)$/.test(getComputedStyle(c).position) && (f = !0),
          c.scrollHeight <= c.clientHeight && c.scrollWidth <= c.clientWidth)
        ) {
          c = c.assignedSlot || c.parentNode;
          continue;
        }
        let k = c.getBoundingClientRect();
        ({ scaleX: p, scaleY: m } = SM(c, k)),
          (h = {
            left: k.left,
            right: k.left + c.clientWidth * p,
            top: k.top,
            bottom: k.top + c.clientHeight * m,
          });
      }
      let b = 0,
        D = 0;
      if (i == "nearest")
        e.top < h.top
          ? ((D = -(h.top - e.top + s)),
            r > 0 &&
              e.bottom > h.bottom + D &&
              (D = e.bottom - h.bottom + D + s))
          : e.bottom > h.bottom &&
            ((D = e.bottom - h.bottom + s),
            r < 0 && e.top - D < h.top && (D = -(h.top + D - e.top + s)));
      else {
        let k = e.bottom - e.top,
          S = h.bottom - h.top;
        D =
          (i == "center" && k <= S
            ? e.top + k / 2 - S / 2
            : i == "start" || (i == "center" && r < 0)
              ? e.top - s
              : e.bottom - S + s) - h.top;
      }
      if (
        (n == "nearest"
          ? e.left < h.left
            ? ((b = -(h.left - e.left + o)),
              r > 0 && e.right > h.right + b && (b = e.right - h.right + b + o))
            : e.right > h.right &&
              ((b = e.right - h.right + o),
              r < 0 && e.left < h.left + b && (b = -(h.left + b - e.left + o)))
          : (b =
              (n == "center"
                ? e.left + (e.right - e.left) / 2 - (h.right - h.left) / 2
                : (n == "start") == a
                  ? e.left - o
                  : e.right - (h.right - h.left) + o) - h.left),
        b || D)
      )
        if (d) u.scrollBy(b, D);
        else {
          let k = 0,
            S = 0;
          if (D) {
            let B = c.scrollTop;
            (c.scrollTop += D / m), (S = (c.scrollTop - B) * m);
          }
          if (b) {
            let B = c.scrollLeft;
            (c.scrollLeft += b / p), (k = (c.scrollLeft - B) * p);
          }
          (e = {
            left: e.left - k,
            top: e.top - S,
            right: e.right - k,
            bottom: e.bottom - S,
          }),
            k && Math.abs(k - b) < 1 && (n = "nearest"),
            S && Math.abs(S - D) < 1 && (i = "nearest");
        }
      if (d) break;
      c = c.assignedSlot || c.parentNode;
    } else if (c.nodeType == 11) c = c.host;
    else break;
}
function bH(t) {
  let e = t.ownerDocument;
  for (let r = t.parentNode; r && r != e.body; )
    if (r.nodeType == 1) {
      if (r.scrollHeight > r.clientHeight || r.scrollWidth > r.clientWidth)
        return r;
      r = r.assignedSlot || r.parentNode;
    } else if (r.nodeType == 11) r = r.host;
    else break;
  return null;
}
class DH {
  constructor() {
    (this.anchorNode = null),
      (this.anchorOffset = 0),
      (this.focusNode = null),
      (this.focusOffset = 0);
  }
  eq(e) {
    return (
      this.anchorNode == e.anchorNode &&
      this.anchorOffset == e.anchorOffset &&
      this.focusNode == e.focusNode &&
      this.focusOffset == e.focusOffset
    );
  }
  setRange(e) {
    let { anchorNode: r, focusNode: n } = e;
    this.set(
      r,
      Math.min(e.anchorOffset, r ? Ga(r) : 0),
      n,
      Math.min(e.focusOffset, n ? Ga(n) : 0)
    );
  }
  set(e, r, n, i) {
    (this.anchorNode = e),
      (this.anchorOffset = r),
      (this.focusNode = n),
      (this.focusOffset = i);
  }
}
let z0 = null;
function CM(t) {
  if (t.setActive) return t.setActive();
  if (z0) return t.focus(z0);
  let e = [];
  for (
    let r = t;
    r && (e.push(r, r.scrollTop, r.scrollLeft), r != r.ownerDocument);
    r = r.parentNode
  );
  if (
    (t.focus(
      z0 == null
        ? {
            get preventScroll() {
              return (z0 = { preventScroll: !0 }), !0;
            },
          }
        : void 0
    ),
    !z0)
  ) {
    z0 = !1;
    for (let r = 0; r < e.length; ) {
      let n = e[r++],
        i = e[r++],
        o = e[r++];
      n.scrollTop != i && (n.scrollTop = i),
        n.scrollLeft != o && (n.scrollLeft = o);
    }
  }
}
let y9;
function m0(t, e, r = e) {
  let n = y9 || (y9 = document.createRange());
  return n.setEnd(t, r), n.setStart(t, e), n;
}
function Bc(t, e, r, n) {
  let i = { key: e, code: e, keyCode: r, which: r, cancelable: !0 };
  n &&
    ({
      altKey: i.altKey,
      ctrlKey: i.ctrlKey,
      shiftKey: i.shiftKey,
      metaKey: i.metaKey,
    } = n);
  let o = new KeyboardEvent("keydown", i);
  (o.synthetic = !0), t.dispatchEvent(o);
  let s = new KeyboardEvent("keyup", i);
  return (
    (s.synthetic = !0),
    t.dispatchEvent(s),
    o.defaultPrevented || s.defaultPrevented
  );
}
function wH(t) {
  for (; t; ) {
    if (t && (t.nodeType == 9 || (t.nodeType == 11 && t.host))) return t;
    t = t.assignedSlot || t.parentNode;
  }
  return null;
}
function AM(t) {
  for (; t.attributes.length; ) t.removeAttributeNode(t.attributes[0]);
}
function xH(t, e) {
  let r = e.focusNode,
    n = e.focusOffset;
  if (!r || e.anchorNode != r || e.anchorOffset != n) return !1;
  for (n = Math.min(n, Ga(r)); ; )
    if (n) {
      if (r.nodeType != 1) return !1;
      let i = r.childNodes[n - 1];
      i.contentEditable == "false" ? n-- : ((r = i), (n = Ga(r)));
    } else {
      if (r == t) return !0;
      (n = p0(r)), (r = r.parentNode);
    }
}
function EM(t) {
  return t.scrollTop > Math.max(1, t.scrollHeight - t.clientHeight - 4);
}
function FM(t, e) {
  for (let r = t, n = e; ; ) {
    if (r.nodeType == 3 && n > 0) return { node: r, offset: n };
    if (r.nodeType == 1 && n > 0) {
      if (r.contentEditable == "false") return null;
      (r = r.childNodes[n - 1]), (n = Ga(r));
    } else if (r.parentNode && !d1(r)) (n = p0(r)), (r = r.parentNode);
    else return null;
  }
}
function MM(t, e) {
  for (let r = t, n = e; ; ) {
    if (r.nodeType == 3 && n < r.nodeValue.length)
      return { node: r, offset: n };
    if (r.nodeType == 1 && n < r.childNodes.length) {
      if (r.contentEditable == "false") return null;
      (r = r.childNodes[n]), (n = 0);
    } else if (r.parentNode && !d1(r)) (n = p0(r) + 1), (r = r.parentNode);
    else return null;
  }
}
class Ai {
  constructor(e, r, n = !0) {
    (this.node = e), (this.offset = r), (this.precise = n);
  }
  static before(e, r) {
    return new Ai(e.parentNode, p0(e), r);
  }
  static after(e, r) {
    return new Ai(e.parentNode, p0(e) + 1, r);
  }
}
const J8 = [];
class Ir {
  constructor() {
    (this.parent = null), (this.dom = null), (this.flags = 2);
  }
  get overrideDOMText() {
    return null;
  }
  get posAtStart() {
    return this.parent ? this.parent.posBefore(this) : 0;
  }
  get posAtEnd() {
    return this.posAtStart + this.length;
  }
  posBefore(e) {
    let r = this.posAtStart;
    for (let n of this.children) {
      if (n == e) return r;
      r += n.length + n.breakAfter;
    }
    throw new RangeError("Invalid child in posBefore");
  }
  posAfter(e) {
    return this.posBefore(e) + e.length;
  }
  sync(e, r) {
    if (this.flags & 2) {
      let n = this.dom,
        i = null,
        o;
      for (let s of this.children) {
        if (s.flags & 7) {
          if (!s.dom && (o = i ? i.nextSibling : n.firstChild)) {
            let a = Ir.get(o);
            (!a || (!a.parent && a.canReuseDOM(s))) && s.reuseDOM(o);
          }
          s.sync(e, r), (s.flags &= -8);
        }
        if (
          ((o = i ? i.nextSibling : n.firstChild),
          r && !r.written && r.node == n && o != s.dom && (r.written = !0),
          s.dom.parentNode == n)
        )
          for (; o && o != s.dom; ) o = b9(o);
        else n.insertBefore(s.dom, o);
        i = s.dom;
      }
      for (
        o = i ? i.nextSibling : n.firstChild,
          o && r && r.node == n && (r.written = !0);
        o;

      )
        o = b9(o);
    } else if (this.flags & 1)
      for (let n of this.children)
        n.flags & 7 && (n.sync(e, r), (n.flags &= -8));
  }
  reuseDOM(e) {}
  localPosFromDOM(e, r) {
    let n;
    if (e == this.dom) n = this.dom.childNodes[r];
    else {
      let i = Ga(e) == 0 ? 0 : r == 0 ? -1 : 1;
      for (;;) {
        let o = e.parentNode;
        if (o == this.dom) break;
        i == 0 &&
          o.firstChild != o.lastChild &&
          (e == o.firstChild ? (i = -1) : (i = 1)),
          (e = o);
      }
      i < 0 ? (n = e) : (n = e.nextSibling);
    }
    if (n == this.dom.firstChild) return 0;
    for (; n && !Ir.get(n); ) n = n.nextSibling;
    if (!n) return this.length;
    for (let i = 0, o = 0; ; i++) {
      let s = this.children[i];
      if (s.dom == n) return o;
      o += s.length + s.breakAfter;
    }
  }
  domBoundsAround(e, r, n = 0) {
    let i = -1,
      o = -1,
      s = -1,
      a = -1;
    for (let l = 0, u = n, c = n; l < this.children.length; l++) {
      let f = this.children[l],
        h = u + f.length;
      if (u < e && h > r) return f.domBoundsAround(e, r, u);
      if (
        (h >= e && i == -1 && ((i = l), (o = u)),
        u > r && f.dom.parentNode == this.dom)
      ) {
        (s = l), (a = c);
        break;
      }
      (c = h), (u = h + f.breakAfter);
    }
    return {
      from: o,
      to: a < 0 ? n + this.length : a,
      startDOM:
        (i ? this.children[i - 1].dom.nextSibling : null) ||
        this.dom.firstChild,
      endDOM: s < this.children.length && s >= 0 ? this.children[s].dom : null,
    };
  }
  markDirty(e = !1) {
    (this.flags |= 2), this.markParentsDirty(e);
  }
  markParentsDirty(e) {
    for (let r = this.parent; r; r = r.parent) {
      if ((e && (r.flags |= 2), r.flags & 1)) return;
      (r.flags |= 1), (e = !1);
    }
  }
  setParent(e) {
    this.parent != e &&
      ((this.parent = e), this.flags & 7 && this.markParentsDirty(!0));
  }
  setDOM(e) {
    this.dom != e &&
      (this.dom && (this.dom.cmView = null), (this.dom = e), (e.cmView = this));
  }
  get rootView() {
    for (let e = this; ; ) {
      let r = e.parent;
      if (!r) return e;
      e = r;
    }
  }
  replaceChildren(e, r, n = J8) {
    this.markDirty();
    for (let i = e; i < r; i++) {
      let o = this.children[i];
      o.parent == this && n.indexOf(o) < 0 && o.destroy();
    }
    this.children.splice(e, r - e, ...n);
    for (let i = 0; i < n.length; i++) n[i].setParent(this);
  }
  ignoreMutation(e) {
    return !1;
  }
  ignoreEvent(e) {
    return !1;
  }
  childCursor(e = this.length) {
    return new _M(this.children, e, this.children.length);
  }
  childPos(e, r = 1) {
    return this.childCursor().findPos(e, r);
  }
  toString() {
    let e = this.constructor.name.replace("View", "");
    return (
      e +
      (this.children.length
        ? "(" + this.children.join() + ")"
        : this.length
          ? "[" + (e == "Text" ? this.text : this.length) + "]"
          : "") +
      (this.breakAfter ? "#" : "")
    );
  }
  static get(e) {
    return e.cmView;
  }
  get isEditable() {
    return !0;
  }
  get isWidget() {
    return !1;
  }
  get isHidden() {
    return !1;
  }
  merge(e, r, n, i, o, s) {
    return !1;
  }
  become(e) {
    return !1;
  }
  canReuseDOM(e) {
    return e.constructor == this.constructor && !((this.flags | e.flags) & 8);
  }
  getSide() {
    return 0;
  }
  destroy() {
    for (let e of this.children) e.parent == this && e.destroy();
    this.parent = null;
  }
}
Ir.prototype.breakAfter = 0;
function b9(t) {
  let e = t.nextSibling;
  return t.parentNode.removeChild(t), e;
}
class _M {
  constructor(e, r, n) {
    (this.children = e), (this.pos = r), (this.i = n), (this.off = 0);
  }
  findPos(e, r = 1) {
    for (;;) {
      if (
        e > this.pos ||
        (e == this.pos &&
          (r > 0 || this.i == 0 || this.children[this.i - 1].breakAfter))
      )
        return (this.off = e - this.pos), this;
      let n = this.children[--this.i];
      this.pos -= n.length + n.breakAfter;
    }
  }
}
function $M(t, e, r, n, i, o, s, a, l) {
  let { children: u } = t,
    c = u.length ? u[e] : null,
    f = o.length ? o[o.length - 1] : null,
    h = f ? f.breakAfter : s;
  if (
    !(
      e == n &&
      c &&
      !s &&
      !h &&
      o.length < 2 &&
      c.merge(r, i, o.length ? f : null, r == 0, a, l)
    )
  ) {
    if (n < u.length) {
      let d = u[n];
      d && (i < d.length || (d.breakAfter && f != null && f.breakAfter))
        ? (e == n && ((d = d.split(i)), (i = 0)),
          !h && f && d.merge(0, i, f, !0, 0, l)
            ? (o[o.length - 1] = d)
            : ((i || (d.children.length && !d.children[0].length)) &&
                d.merge(0, i, null, !1, 0, l),
              o.push(d)))
        : d != null && d.breakAfter && (f ? (f.breakAfter = 1) : (s = 1)),
        n++;
    }
    for (
      c &&
      ((c.breakAfter = s),
      r > 0 &&
        (!s && o.length && c.merge(r, c.length, o[0], !1, a, 0)
          ? (c.breakAfter = o.shift().breakAfter)
          : (r < c.length ||
              (c.children.length &&
                c.children[c.children.length - 1].length == 0)) &&
            c.merge(r, c.length, null, !1, a, 0),
        e++));
      e < n && o.length;

    )
      if (u[n - 1].become(o[o.length - 1]))
        n--, o.pop(), (l = o.length ? 0 : a);
      else if (u[e].become(o[0])) e++, o.shift(), (a = o.length ? 0 : l);
      else break;
    !o.length &&
      e &&
      n < u.length &&
      !u[e - 1].breakAfter &&
      u[n].merge(0, 0, u[e - 1], !1, a, l) &&
      e--,
      (e < n || o.length) && t.replaceChildren(e, n, o);
  }
}
function OM(t, e, r, n, i, o) {
  let s = t.childCursor(),
    { i: a, off: l } = s.findPos(r, 1),
    { i: u, off: c } = s.findPos(e, -1),
    f = e - r;
  for (let h of n) f += h.length;
  (t.length += f), $M(t, u, c, a, l, n, 0, i, o);
}
let ps =
    typeof navigator < "u"
      ? navigator
      : { userAgent: "", vendor: "", platform: "" },
  n5 = typeof document < "u" ? document : { documentElement: { style: {} } };
const i5 = /Edge\/(\d+)/.exec(ps.userAgent),
  BM = /MSIE \d/.test(ps.userAgent),
  s5 = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ps.userAgent),
  $v = !!(BM || s5 || i5),
  D9 = !$v && /gecko\/(\d+)/i.test(ps.userAgent),
  F4 = !$v && /Chrome\/(\d+)/.exec(ps.userAgent),
  w9 = "webkitFontSmoothing" in n5.documentElement.style,
  TM = !$v && /Apple Computer/.test(ps.vendor),
  x9 = TM && (/Mobile\/\w+/.test(ps.userAgent) || ps.maxTouchPoints > 2);
var gt = {
  mac: x9 || /Mac/.test(ps.platform),
  windows: /Win/.test(ps.platform),
  linux: /Linux|X11/.test(ps.platform),
  ie: $v,
  ie_version: BM ? n5.documentMode || 6 : s5 ? +s5[1] : i5 ? +i5[1] : 0,
  gecko: D9,
  gecko_version: D9 ? +(/Firefox\/(\d+)/.exec(ps.userAgent) || [0, 0])[1] : 0,
  chrome: !!F4,
  chrome_version: F4 ? +F4[1] : 0,
  ios: x9,
  android: /Android\b/.test(ps.userAgent),
  webkit: w9,
  safari: TM,
  webkit_version: w9
    ? +(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1]
    : 0,
  tabSize:
    n5.documentElement.style.tabSize != null ? "tab-size" : "-moz-tab-size",
};
const kH = 256;
class $o extends Ir {
  constructor(e) {
    super(), (this.text = e);
  }
  get length() {
    return this.text.length;
  }
  createDOM(e) {
    this.setDOM(e || document.createTextNode(this.text));
  }
  sync(e, r) {
    this.dom || this.createDOM(),
      this.dom.nodeValue != this.text &&
        (r && r.node == this.dom && (r.written = !0),
        (this.dom.nodeValue = this.text));
  }
  reuseDOM(e) {
    e.nodeType == 3 && this.createDOM(e);
  }
  merge(e, r, n) {
    return this.flags & 8 ||
      (n &&
        (!(n instanceof $o) ||
          this.length - (r - e) + n.length > kH ||
          n.flags & 8))
      ? !1
      : ((this.text =
          this.text.slice(0, e) + (n ? n.text : "") + this.text.slice(r)),
        this.markDirty(),
        !0);
  }
  split(e) {
    let r = new $o(this.text.slice(e));
    return (
      (this.text = this.text.slice(0, e)),
      this.markDirty(),
      (r.flags |= this.flags & 8),
      r
    );
  }
  localPosFromDOM(e, r) {
    return e == this.dom ? r : r ? this.text.length : 0;
  }
  domAtPos(e) {
    return new Ai(this.dom, e);
  }
  domBoundsAround(e, r, n) {
    return {
      from: n,
      to: n + this.length,
      startDOM: this.dom,
      endDOM: this.dom.nextSibling,
    };
  }
  coordsAt(e, r) {
    return SH(this.dom, e, r);
  }
}
class Ka extends Ir {
  constructor(e, r = [], n = 0) {
    super(), (this.mark = e), (this.children = r), (this.length = n);
    for (let i of r) i.setParent(this);
  }
  setAttrs(e) {
    if (
      (AM(e),
      this.mark.class && (e.className = this.mark.class),
      this.mark.attrs)
    )
      for (let r in this.mark.attrs) e.setAttribute(r, this.mark.attrs[r]);
    return e;
  }
  canReuseDOM(e) {
    return super.canReuseDOM(e) && !((this.flags | e.flags) & 8);
  }
  reuseDOM(e) {
    e.nodeName == this.mark.tagName.toUpperCase() &&
      (this.setDOM(e), (this.flags |= 6));
  }
  sync(e, r) {
    this.dom
      ? this.flags & 4 && this.setAttrs(this.dom)
      : this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),
      super.sync(e, r);
  }
  merge(e, r, n, i, o, s) {
    return n &&
      (!(n instanceof Ka && n.mark.eq(this.mark)) ||
        (e && o <= 0) ||
        (r < this.length && s <= 0))
      ? !1
      : (OM(this, e, r, n ? n.children.slice() : [], o - 1, s - 1),
        this.markDirty(),
        !0);
  }
  split(e) {
    let r = [],
      n = 0,
      i = -1,
      o = 0;
    for (let a of this.children) {
      let l = n + a.length;
      l > e && r.push(n < e ? a.split(e - n) : a),
        i < 0 && n >= e && (i = o),
        (n = l),
        o++;
    }
    let s = this.length - e;
    return (
      (this.length = e),
      i > -1 && ((this.children.length = i), this.markDirty()),
      new Ka(this.mark, r, s)
    );
  }
  domAtPos(e) {
    return PM(this, e);
  }
  coordsAt(e, r) {
    return IM(this, e, r);
  }
}
function SH(t, e, r) {
  let n = t.nodeValue.length;
  e > n && (e = n);
  let i = e,
    o = e,
    s = 0;
  (e == 0 && r < 0) || (e == n && r >= 0)
    ? gt.chrome || gt.gecko || (e ? (i--, (s = 1)) : o < n && (o++, (s = -1)))
    : r < 0
      ? i--
      : o < n && o++;
  let a = m0(t, i, o).getClientRects();
  if (!a.length) return null;
  let l = a[(s ? s < 0 : r >= 0) ? 0 : a.length - 1];
  return (
    gt.safari &&
      !s &&
      l.width == 0 &&
      (l = Array.prototype.find.call(a, (u) => u.width) || l),
    s ? X8(l, s < 0) : l || null
  );
}
class Nl extends Ir {
  static create(e, r, n) {
    return new Nl(e, r, n);
  }
  constructor(e, r, n) {
    super(),
      (this.widget = e),
      (this.length = r),
      (this.side = n),
      (this.prevWidget = null);
  }
  split(e) {
    let r = Nl.create(this.widget, this.length - e, this.side);
    return (this.length -= e), r;
  }
  sync(e) {
    (!this.dom || !this.widget.updateDOM(this.dom, e)) &&
      (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom),
      (this.prevWidget = null),
      this.setDOM(this.widget.toDOM(e)),
      this.widget.editable || (this.dom.contentEditable = "false"));
  }
  getSide() {
    return this.side;
  }
  merge(e, r, n, i, o, s) {
    return n &&
      (!(n instanceof Nl) ||
        !this.widget.compare(n.widget) ||
        (e > 0 && o <= 0) ||
        (r < this.length && s <= 0))
      ? !1
      : ((this.length = e + (n ? n.length : 0) + (this.length - r)), !0);
  }
  become(e) {
    return e instanceof Nl &&
      e.side == this.side &&
      this.widget.constructor == e.widget.constructor
      ? (this.widget.compare(e.widget) || this.markDirty(!0),
        this.dom && !this.prevWidget && (this.prevWidget = this.widget),
        (this.widget = e.widget),
        (this.length = e.length),
        !0)
      : !1;
  }
  ignoreMutation() {
    return !0;
  }
  ignoreEvent(e) {
    return this.widget.ignoreEvent(e);
  }
  get overrideDOMText() {
    if (this.length == 0) return Er.empty;
    let e = this;
    for (; e.parent; ) e = e.parent;
    let { view: r } = e,
      n = r && r.state.doc,
      i = this.posAtStart;
    return n ? n.slice(i, i + this.length) : Er.empty;
  }
  domAtPos(e) {
    return (this.length ? e == 0 : this.side > 0)
      ? Ai.before(this.dom)
      : Ai.after(this.dom, e == this.length);
  }
  domBoundsAround() {
    return null;
  }
  coordsAt(e, r) {
    let n = this.widget.coordsAt(this.dom, e, r);
    if (n) return n;
    let i = this.dom.getClientRects(),
      o = null;
    if (!i.length) return null;
    let s = this.side ? this.side < 0 : e > 0;
    for (
      let a = s ? i.length - 1 : 0;
      (o = i[a]), !(e > 0 ? a == 0 : a == i.length - 1 || o.top < o.bottom);
      a += s ? -1 : 1
    );
    return X8(o, !s);
  }
  get isEditable() {
    return !1;
  }
  get isWidget() {
    return !0;
  }
  get isHidden() {
    return this.widget.isHidden;
  }
  destroy() {
    super.destroy(), this.dom && this.widget.destroy(this.dom);
  }
}
class rf extends Ir {
  constructor(e) {
    super(), (this.side = e);
  }
  get length() {
    return 0;
  }
  merge() {
    return !1;
  }
  become(e) {
    return e instanceof rf && e.side == this.side;
  }
  split() {
    return new rf(this.side);
  }
  sync() {
    if (!this.dom) {
      let e = document.createElement("img");
      (e.className = "cm-widgetBuffer"),
        e.setAttribute("aria-hidden", "true"),
        this.setDOM(e);
    }
  }
  getSide() {
    return this.side;
  }
  domAtPos(e) {
    return this.side > 0 ? Ai.before(this.dom) : Ai.after(this.dom);
  }
  localPosFromDOM() {
    return 0;
  }
  domBoundsAround() {
    return null;
  }
  coordsAt(e) {
    return this.dom.getBoundingClientRect();
  }
  get overrideDOMText() {
    return Er.empty;
  }
  get isHidden() {
    return !0;
  }
}
$o.prototype.children = Nl.prototype.children = rf.prototype.children = J8;
function PM(t, e) {
  let r = t.dom,
    { children: n } = t,
    i = 0;
  for (let o = 0; i < n.length; i++) {
    let s = n[i],
      a = o + s.length;
    if (!(a == o && s.getSide() <= 0)) {
      if (e > o && e < a && s.dom.parentNode == r) return s.domAtPos(e - o);
      if (e <= o) break;
      o = a;
    }
  }
  for (let o = i; o > 0; o--) {
    let s = n[o - 1];
    if (s.dom.parentNode == r) return s.domAtPos(s.length);
  }
  for (let o = i; o < n.length; o++) {
    let s = n[o];
    if (s.dom.parentNode == r) return s.domAtPos(0);
  }
  return new Ai(r, 0);
}
function RM(t, e, r) {
  let n,
    { children: i } = t;
  r > 0 &&
  e instanceof Ka &&
  i.length &&
  (n = i[i.length - 1]) instanceof Ka &&
  n.mark.eq(e.mark)
    ? RM(n, e.children[0], r - 1)
    : (i.push(e), e.setParent(t)),
    (t.length += e.length);
}
function IM(t, e, r) {
  let n = null,
    i = -1,
    o = null,
    s = -1;
  function a(u, c) {
    for (let f = 0, h = 0; f < u.children.length && h <= c; f++) {
      let d = u.children[f],
        p = h + d.length;
      p >= c &&
        (d.children.length
          ? a(d, c - h)
          : (!o || (o.isHidden && r > 0)) &&
              (p > c || (h == p && d.getSide() > 0))
            ? ((o = d), (s = c - h))
            : (h < c || (h == p && d.getSide() < 0 && !d.isHidden)) &&
              ((n = d), (i = c - h))),
        (h = p);
    }
  }
  a(t, e);
  let l = (r < 0 ? n : o) || n || o;
  return l ? l.coordsAt(Math.max(0, l == n ? i : s), r) : CH(t);
}
function CH(t) {
  let e = t.dom.lastChild;
  if (!e) return t.dom.getBoundingClientRect();
  let r = ld(e);
  return r[r.length - 1] || null;
}
function o5(t, e) {
  for (let r in t)
    r == "class" && e.class
      ? (e.class += " " + t.class)
      : r == "style" && e.style
        ? (e.style += ";" + t.style)
        : (e[r] = t[r]);
  return e;
}
const k9 = Object.create(null);
function Q8(t, e, r) {
  if (t == e) return !0;
  t || (t = k9), e || (e = k9);
  let n = Object.keys(t),
    i = Object.keys(e);
  if (
    n.length - (r && n.indexOf(r) > -1 ? 1 : 0) !=
    i.length - (r && i.indexOf(r) > -1 ? 1 : 0)
  )
    return !1;
  for (let o of n)
    if (o != r && (i.indexOf(o) == -1 || t[o] !== e[o])) return !1;
  return !0;
}
function a5(t, e, r) {
  let n = !1;
  if (e)
    for (let i in e)
      (r && i in r) ||
        ((n = !0),
        i == "style" ? (t.style.cssText = "") : t.removeAttribute(i));
  if (r)
    for (let i in r)
      (e && e[i] == r[i]) ||
        ((n = !0),
        i == "style" ? (t.style.cssText = r[i]) : t.setAttribute(i, r[i]));
  return n;
}
function AH(t) {
  let e = Object.create(null);
  for (let r = 0; r < t.attributes.length; r++) {
    let n = t.attributes[r];
    e[n.name] = n.value;
  }
  return e;
}
class In extends Ir {
  constructor() {
    super(...arguments),
      (this.children = []),
      (this.length = 0),
      (this.prevAttrs = void 0),
      (this.attrs = null),
      (this.breakAfter = 0);
  }
  merge(e, r, n, i, o, s) {
    if (n) {
      if (!(n instanceof In)) return !1;
      this.dom || n.transferDOM(this);
    }
    return (
      i && this.setDeco(n ? n.attrs : null),
      OM(this, e, r, n ? n.children.slice() : [], o, s),
      !0
    );
  }
  split(e) {
    let r = new In();
    if (((r.breakAfter = this.breakAfter), this.length == 0)) return r;
    let { i: n, off: i } = this.childPos(e);
    i &&
      (r.append(this.children[n].split(i), 0),
      this.children[n].merge(i, this.children[n].length, null, !1, 0, 0),
      n++);
    for (let o = n; o < this.children.length; o++)
      r.append(this.children[o], 0);
    for (; n > 0 && this.children[n - 1].length == 0; )
      this.children[--n].destroy();
    return (this.children.length = n), this.markDirty(), (this.length = e), r;
  }
  transferDOM(e) {
    this.dom &&
      (this.markDirty(),
      e.setDOM(this.dom),
      (e.prevAttrs = this.prevAttrs === void 0 ? this.attrs : this.prevAttrs),
      (this.prevAttrs = void 0),
      (this.dom = null));
  }
  setDeco(e) {
    Q8(this.attrs, e) ||
      (this.dom && ((this.prevAttrs = this.attrs), this.markDirty()),
      (this.attrs = e));
  }
  append(e, r) {
    RM(this, e, r);
  }
  addLineDeco(e) {
    let r = e.spec.attributes,
      n = e.spec.class;
    r && (this.attrs = o5(r, this.attrs || {})),
      n && (this.attrs = o5({ class: n }, this.attrs || {}));
  }
  domAtPos(e) {
    return PM(this, e);
  }
  reuseDOM(e) {
    e.nodeName == "DIV" && (this.setDOM(e), (this.flags |= 6));
  }
  sync(e, r) {
    var n;
    this.dom
      ? this.flags & 4 &&
        (AM(this.dom),
        (this.dom.className = "cm-line"),
        (this.prevAttrs = this.attrs ? null : void 0))
      : (this.setDOM(document.createElement("div")),
        (this.dom.className = "cm-line"),
        (this.prevAttrs = this.attrs ? null : void 0)),
      this.prevAttrs !== void 0 &&
        (a5(this.dom, this.prevAttrs, this.attrs),
        this.dom.classList.add("cm-line"),
        (this.prevAttrs = void 0)),
      super.sync(e, r);
    let i = this.dom.lastChild;
    for (; i && Ir.get(i) instanceof Ka; ) i = i.lastChild;
    if (
      !i ||
      !this.length ||
      (i.nodeName != "BR" &&
        ((n = Ir.get(i)) === null || n === void 0 ? void 0 : n.isEditable) ==
          !1 &&
        (!gt.ios || !this.children.some((o) => o instanceof $o)))
    ) {
      let o = document.createElement("BR");
      (o.cmIgnore = !0), this.dom.appendChild(o);
    }
  }
  measureTextSize() {
    if (this.children.length == 0 || this.length > 20) return null;
    let e = 0,
      r;
    for (let n of this.children) {
      if (!(n instanceof $o) || /[^ -~]/.test(n.text)) return null;
      let i = ld(n.dom);
      if (i.length != 1) return null;
      (e += i[0].width), (r = i[0].height);
    }
    return e
      ? {
          lineHeight: this.dom.getBoundingClientRect().height,
          charWidth: e / this.length,
          textHeight: r,
        }
      : null;
  }
  coordsAt(e, r) {
    let n = IM(this, e, r);
    if (!this.children.length && n && this.parent) {
      let { heightOracle: i } = this.parent.view.viewState,
        o = n.bottom - n.top;
      if (Math.abs(o - i.lineHeight) < 2 && i.textHeight < o) {
        let s = (o - i.textHeight) / 2;
        return {
          top: n.top + s,
          bottom: n.bottom - s,
          left: n.left,
          right: n.left,
        };
      }
    }
    return n;
  }
  become(e) {
    return !1;
  }
  covers() {
    return !0;
  }
  static find(e, r) {
    for (let n = 0, i = 0; n < e.children.length; n++) {
      let o = e.children[n],
        s = i + o.length;
      if (s >= r) {
        if (o instanceof In) return o;
        if (s > r) break;
      }
      i = s + o.breakAfter;
    }
    return null;
  }
}
class Xl extends Ir {
  constructor(e, r, n) {
    super(),
      (this.widget = e),
      (this.length = r),
      (this.deco = n),
      (this.breakAfter = 0),
      (this.prevWidget = null);
  }
  merge(e, r, n, i, o, s) {
    return n &&
      (!(n instanceof Xl) ||
        !this.widget.compare(n.widget) ||
        (e > 0 && o <= 0) ||
        (r < this.length && s <= 0))
      ? !1
      : ((this.length = e + (n ? n.length : 0) + (this.length - r)), !0);
  }
  domAtPos(e) {
    return e == 0 ? Ai.before(this.dom) : Ai.after(this.dom, e == this.length);
  }
  split(e) {
    let r = this.length - e;
    this.length = e;
    let n = new Xl(this.widget, r, this.deco);
    return (n.breakAfter = this.breakAfter), n;
  }
  get children() {
    return J8;
  }
  sync(e) {
    (!this.dom || !this.widget.updateDOM(this.dom, e)) &&
      (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom),
      (this.prevWidget = null),
      this.setDOM(this.widget.toDOM(e)),
      this.widget.editable || (this.dom.contentEditable = "false"));
  }
  get overrideDOMText() {
    return this.parent
      ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd)
      : Er.empty;
  }
  domBoundsAround() {
    return null;
  }
  become(e) {
    return e instanceof Xl && e.widget.constructor == this.widget.constructor
      ? (e.widget.compare(this.widget) || this.markDirty(!0),
        this.dom && !this.prevWidget && (this.prevWidget = this.widget),
        (this.widget = e.widget),
        (this.length = e.length),
        (this.deco = e.deco),
        (this.breakAfter = e.breakAfter),
        !0)
      : !1;
  }
  ignoreMutation() {
    return !0;
  }
  ignoreEvent(e) {
    return this.widget.ignoreEvent(e);
  }
  get isEditable() {
    return !1;
  }
  get isWidget() {
    return !0;
  }
  coordsAt(e, r) {
    return this.widget.coordsAt(this.dom, e, r);
  }
  destroy() {
    super.destroy(), this.dom && this.widget.destroy(this.dom);
  }
  covers(e) {
    let { startSide: r, endSide: n } = this.deco;
    return r == n ? !1 : e < 0 ? r < 0 : n > 0;
  }
}
class ku {
  eq(e) {
    return !1;
  }
  updateDOM(e, r) {
    return !1;
  }
  compare(e) {
    return this == e || (this.constructor == e.constructor && this.eq(e));
  }
  get estimatedHeight() {
    return -1;
  }
  get lineBreaks() {
    return 0;
  }
  ignoreEvent(e) {
    return !0;
  }
  coordsAt(e, r, n) {
    return null;
  }
  get isHidden() {
    return !1;
  }
  get editable() {
    return !1;
  }
  destroy(e) {}
}
var Ni = (function (t) {
  return (
    (t[(t.Text = 0)] = "Text"),
    (t[(t.WidgetBefore = 1)] = "WidgetBefore"),
    (t[(t.WidgetAfter = 2)] = "WidgetAfter"),
    (t[(t.WidgetRange = 3)] = "WidgetRange"),
    t
  );
})(Ni || (Ni = {}));
class Pt extends d0 {
  constructor(e, r, n, i) {
    super(),
      (this.startSide = e),
      (this.endSide = r),
      (this.widget = n),
      (this.spec = i);
  }
  get heightRelevant() {
    return !1;
  }
  static mark(e) {
    return new sp(e);
  }
  static widget(e) {
    let r = Math.max(-1e4, Math.min(1e4, e.side || 0)),
      n = !!e.block;
    return (
      (r += n && !e.inlineOrder ? (r > 0 ? 3e8 : -4e8) : r > 0 ? 1e8 : -1e8),
      new uu(e, r, r, n, e.widget || null, !1)
    );
  }
  static replace(e) {
    let r = !!e.block,
      n,
      i;
    if (e.isBlockGap) (n = -5e8), (i = 4e8);
    else {
      let { start: o, end: s } = NM(e, r);
      (n = (o ? (r ? -3e8 : -1) : 5e8) - 1),
        (i = (s ? (r ? 2e8 : 1) : -6e8) + 1);
    }
    return new uu(e, n, i, r, e.widget || null, !0);
  }
  static line(e) {
    return new op(e);
  }
  static set(e, r = !1) {
    return dr.of(e, r);
  }
  hasHeight() {
    return this.widget ? this.widget.estimatedHeight > -1 : !1;
  }
}
Pt.none = dr.empty;
class sp extends Pt {
  constructor(e) {
    let { start: r, end: n } = NM(e);
    super(r ? -1 : 5e8, n ? 1 : -6e8, null, e),
      (this.tagName = e.tagName || "span"),
      (this.class = e.class || ""),
      (this.attrs = e.attributes || null);
  }
  eq(e) {
    var r, n;
    return (
      this == e ||
      (e instanceof sp &&
        this.tagName == e.tagName &&
        (this.class ||
          ((r = this.attrs) === null || r === void 0 ? void 0 : r.class)) ==
          (e.class ||
            ((n = e.attrs) === null || n === void 0 ? void 0 : n.class)) &&
        Q8(this.attrs, e.attrs, "class"))
    );
  }
  range(e, r = e) {
    if (e >= r) throw new RangeError("Mark decorations may not be empty");
    return super.range(e, r);
  }
}
sp.prototype.point = !1;
class op extends Pt {
  constructor(e) {
    super(-2e8, -2e8, null, e);
  }
  eq(e) {
    return (
      e instanceof op &&
      this.spec.class == e.spec.class &&
      Q8(this.spec.attributes, e.spec.attributes)
    );
  }
  range(e, r = e) {
    if (r != e)
      throw new RangeError("Line decoration ranges must be zero-length");
    return super.range(e, r);
  }
}
op.prototype.mapMode = Pi.TrackBefore;
op.prototype.point = !0;
class uu extends Pt {
  constructor(e, r, n, i, o, s) {
    super(r, n, o, e),
      (this.block = i),
      (this.isReplace = s),
      (this.mapMode = i
        ? r <= 0
          ? Pi.TrackBefore
          : Pi.TrackAfter
        : Pi.TrackDel);
  }
  get type() {
    return this.startSide != this.endSide
      ? Ni.WidgetRange
      : this.startSide <= 0
        ? Ni.WidgetBefore
        : Ni.WidgetAfter;
  }
  get heightRelevant() {
    return (
      this.block ||
      (!!this.widget &&
        (this.widget.estimatedHeight >= 5 || this.widget.lineBreaks > 0))
    );
  }
  eq(e) {
    return (
      e instanceof uu &&
      EH(this.widget, e.widget) &&
      this.block == e.block &&
      this.startSide == e.startSide &&
      this.endSide == e.endSide
    );
  }
  range(e, r = e) {
    if (
      this.isReplace &&
      (e > r || (e == r && this.startSide > 0 && this.endSide <= 0))
    )
      throw new RangeError("Invalid range for replacement decoration");
    if (!this.isReplace && r != e)
      throw new RangeError(
        "Widget decorations can only have zero-length ranges"
      );
    return super.range(e, r);
  }
}
uu.prototype.point = !0;
function NM(t, e = !1) {
  let { inclusiveStart: r, inclusiveEnd: n } = t;
  return (
    r == null && (r = t.inclusive),
    n == null && (n = t.inclusive),
    { start: r ?? e, end: n ?? e }
  );
}
function EH(t, e) {
  return t == e || !!(t && e && t.compare(e));
}
function l5(t, e, r, n = 0) {
  let i = r.length - 1;
  i >= 0 && r[i] + n >= t ? (r[i] = Math.max(r[i], e)) : r.push(t, e);
}
class kh {
  constructor(e, r, n, i) {
    (this.doc = e),
      (this.pos = r),
      (this.end = n),
      (this.disallowBlockEffectsFor = i),
      (this.content = []),
      (this.curLine = null),
      (this.breakAtStart = 0),
      (this.pendingBuffer = 0),
      (this.bufferMarks = []),
      (this.atCursorPos = !0),
      (this.openStart = -1),
      (this.openEnd = -1),
      (this.text = ""),
      (this.textOff = 0),
      (this.cursor = e.iter()),
      (this.skip = r);
  }
  posCovered() {
    if (this.content.length == 0)
      return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;
    let e = this.content[this.content.length - 1];
    return !(e.breakAfter || (e instanceof Xl && e.deco.endSide < 0));
  }
  getLine() {
    return (
      this.curLine ||
        (this.content.push((this.curLine = new In())), (this.atCursorPos = !0)),
      this.curLine
    );
  }
  flushBuffer(e = this.bufferMarks) {
    this.pendingBuffer &&
      (this.curLine.append(fm(new rf(-1), e), e.length),
      (this.pendingBuffer = 0));
  }
  addBlockWidget(e) {
    this.flushBuffer(), (this.curLine = null), this.content.push(e);
  }
  finish(e) {
    this.pendingBuffer && e <= this.bufferMarks.length
      ? this.flushBuffer()
      : (this.pendingBuffer = 0),
      !this.posCovered() &&
        !(
          e &&
          this.content.length &&
          this.content[this.content.length - 1] instanceof Xl
        ) &&
        this.getLine();
  }
  buildText(e, r, n) {
    for (; e > 0; ) {
      if (this.textOff == this.text.length) {
        let { value: o, lineBreak: s, done: a } = this.cursor.next(this.skip);
        if (((this.skip = 0), a))
          throw new Error("Ran out of text content when drawing inline views");
        if (s) {
          this.posCovered() || this.getLine(),
            this.content.length
              ? (this.content[this.content.length - 1].breakAfter = 1)
              : (this.breakAtStart = 1),
            this.flushBuffer(),
            (this.curLine = null),
            (this.atCursorPos = !0),
            e--;
          continue;
        } else (this.text = o), (this.textOff = 0);
      }
      let i = Math.min(this.text.length - this.textOff, e, 512);
      this.flushBuffer(r.slice(r.length - n)),
        this.getLine().append(
          fm(new $o(this.text.slice(this.textOff, this.textOff + i)), r),
          n
        ),
        (this.atCursorPos = !0),
        (this.textOff += i),
        (e -= i),
        (n = 0);
    }
  }
  span(e, r, n, i) {
    this.buildText(r - e, n, i),
      (this.pos = r),
      this.openStart < 0 && (this.openStart = i);
  }
  point(e, r, n, i, o, s) {
    if (this.disallowBlockEffectsFor[s] && n instanceof uu) {
      if (n.block)
        throw new RangeError(
          "Block decorations may not be specified via plugins"
        );
      if (r > this.doc.lineAt(this.pos).to)
        throw new RangeError(
          "Decorations that replace line breaks may not be specified via plugins"
        );
    }
    let a = r - e;
    if (n instanceof uu)
      if (n.block)
        n.startSide > 0 && !this.posCovered() && this.getLine(),
          this.addBlockWidget(new Xl(n.widget || nf.block, a, n));
      else {
        let l = Nl.create(n.widget || nf.inline, a, a ? 0 : n.startSide),
          u =
            this.atCursorPos &&
            !l.isEditable &&
            o <= i.length &&
            (e < r || n.startSide > 0),
          c = !l.isEditable && (e < r || o > i.length || n.startSide <= 0),
          f = this.getLine();
        this.pendingBuffer == 2 &&
          !u &&
          !l.isEditable &&
          (this.pendingBuffer = 0),
          this.flushBuffer(i),
          u &&
            (f.append(fm(new rf(1), i), o),
            (o = i.length + Math.max(0, o - i.length))),
          f.append(fm(l, i), o),
          (this.atCursorPos = c),
          (this.pendingBuffer = c ? (e < r || o > i.length ? 1 : 2) : 0),
          this.pendingBuffer && (this.bufferMarks = i.slice());
      }
    else
      this.doc.lineAt(this.pos).from == this.pos &&
        this.getLine().addLineDeco(n);
    a &&
      (this.textOff + a <= this.text.length
        ? (this.textOff += a)
        : ((this.skip += a - (this.text.length - this.textOff)),
          (this.text = ""),
          (this.textOff = 0)),
      (this.pos = r)),
      this.openStart < 0 && (this.openStart = o);
  }
  static build(e, r, n, i, o) {
    let s = new kh(e, r, n, o);
    return (
      (s.openEnd = dr.spans(i, r, n, s)),
      s.openStart < 0 && (s.openStart = s.openEnd),
      s.finish(s.openEnd),
      s
    );
  }
}
function fm(t, e) {
  for (let r of e) t = new Ka(r, [t], t.length);
  return t;
}
class nf extends ku {
  constructor(e) {
    super(), (this.tag = e);
  }
  eq(e) {
    return e.tag == this.tag;
  }
  toDOM() {
    return document.createElement(this.tag);
  }
  updateDOM(e) {
    return e.nodeName.toLowerCase() == this.tag;
  }
  get isHidden() {
    return !0;
  }
}
nf.inline = new nf("span");
nf.block = new nf("div");
var Jr = (function (t) {
  return (t[(t.LTR = 0)] = "LTR"), (t[(t.RTL = 1)] = "RTL"), t;
})(Jr || (Jr = {}));
const g0 = Jr.LTR,
  Z8 = Jr.RTL;
function LM(t) {
  let e = [];
  for (let r = 0; r < t.length; r++) e.push(1 << +t[r]);
  return e;
}
const FH = LM(
    "88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"
  ),
  MH = LM(
    "4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"
  ),
  u5 = Object.create(null),
  Lo = [];
for (let t of ["()", "[]", "{}"]) {
  let e = t.charCodeAt(0),
    r = t.charCodeAt(1);
  (u5[e] = r), (u5[r] = -e);
}
function zM(t) {
  return t <= 247
    ? FH[t]
    : 1424 <= t && t <= 1524
      ? 2
      : 1536 <= t && t <= 1785
        ? MH[t - 1536]
        : 1774 <= t && t <= 2220
          ? 4
          : 8192 <= t && t <= 8204
            ? 256
            : 64336 <= t && t <= 65023
              ? 4
              : 1;
}
const _H = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;
class Ll {
  get dir() {
    return this.level % 2 ? Z8 : g0;
  }
  constructor(e, r, n) {
    (this.from = e), (this.to = r), (this.level = n);
  }
  side(e, r) {
    return (this.dir == r) == e ? this.to : this.from;
  }
  forward(e, r) {
    return e == (this.dir == r);
  }
  static find(e, r, n, i) {
    let o = -1;
    for (let s = 0; s < e.length; s++) {
      let a = e[s];
      if (a.from <= r && a.to >= r) {
        if (a.level == n) return s;
        (o < 0 ||
          (i != 0 ? (i < 0 ? a.from < r : a.to > r) : e[o].level > a.level)) &&
          (o = s);
      }
    }
    if (o < 0) throw new RangeError("Index out of range");
    return o;
  }
}
function jM(t, e) {
  if (t.length != e.length) return !1;
  for (let r = 0; r < t.length; r++) {
    let n = t[r],
      i = e[r];
    if (
      n.from != i.from ||
      n.to != i.to ||
      n.direction != i.direction ||
      !jM(n.inner, i.inner)
    )
      return !1;
  }
  return !0;
}
const Rr = [];
function $H(t, e, r, n, i) {
  for (let o = 0; o <= n.length; o++) {
    let s = o ? n[o - 1].to : e,
      a = o < n.length ? n[o].from : r,
      l = o ? 256 : i;
    for (let u = s, c = l, f = l; u < a; u++) {
      let h = zM(t.charCodeAt(u));
      h == 512 ? (h = c) : h == 8 && f == 4 && (h = 16),
        (Rr[u] = h == 4 ? 2 : h),
        h & 7 && (f = h),
        (c = h);
    }
    for (let u = s, c = l, f = l; u < a; u++) {
      let h = Rr[u];
      if (h == 128)
        u < a - 1 && c == Rr[u + 1] && c & 24 ? (h = Rr[u] = c) : (Rr[u] = 256);
      else if (h == 64) {
        let d = u + 1;
        for (; d < a && Rr[d] == 64; ) d++;
        let p = (u && c == 8) || (d < r && Rr[d] == 8) ? (f == 1 ? 1 : 8) : 256;
        for (let m = u; m < d; m++) Rr[m] = p;
        u = d - 1;
      } else h == 8 && f == 1 && (Rr[u] = 1);
      (c = h), h & 7 && (f = h);
    }
  }
}
function OH(t, e, r, n, i) {
  let o = i == 1 ? 2 : 1;
  for (let s = 0, a = 0, l = 0; s <= n.length; s++) {
    let u = s ? n[s - 1].to : e,
      c = s < n.length ? n[s].from : r;
    for (let f = u, h, d, p; f < c; f++)
      if ((d = u5[(h = t.charCodeAt(f))]))
        if (d < 0) {
          for (let m = a - 3; m >= 0; m -= 3)
            if (Lo[m + 1] == -d) {
              let b = Lo[m + 2],
                D = b & 2 ? i : b & 4 ? (b & 1 ? o : i) : 0;
              D && (Rr[f] = Rr[Lo[m]] = D), (a = m);
              break;
            }
        } else {
          if (Lo.length == 189) break;
          (Lo[a++] = f), (Lo[a++] = h), (Lo[a++] = l);
        }
      else if ((p = Rr[f]) == 2 || p == 1) {
        let m = p == i;
        l = m ? 0 : 1;
        for (let b = a - 3; b >= 0; b -= 3) {
          let D = Lo[b + 2];
          if (D & 2) break;
          if (m) Lo[b + 2] |= 2;
          else {
            if (D & 4) break;
            Lo[b + 2] |= 4;
          }
        }
      }
  }
}
function BH(t, e, r, n) {
  for (let i = 0, o = n; i <= r.length; i++) {
    let s = i ? r[i - 1].to : t,
      a = i < r.length ? r[i].from : e;
    for (let l = s; l < a; ) {
      let u = Rr[l];
      if (u == 256) {
        let c = l + 1;
        for (;;)
          if (c == a) {
            if (i == r.length) break;
            (c = r[i++].to), (a = i < r.length ? r[i].from : e);
          } else if (Rr[c] == 256) c++;
          else break;
        let f = o == 1,
          h = (c < e ? Rr[c] : n) == 1,
          d = f == h ? (f ? 1 : 2) : n;
        for (let p = c, m = i, b = m ? r[m - 1].to : t; p > l; )
          p == b && ((p = r[--m].from), (b = m ? r[m - 1].to : t)),
            (Rr[--p] = d);
        l = c;
      } else (o = u), l++;
    }
  }
}
function c5(t, e, r, n, i, o, s) {
  let a = n % 2 ? 2 : 1;
  if (n % 2 == i % 2)
    for (let l = e, u = 0; l < r; ) {
      let c = !0,
        f = !1;
      if (u == o.length || l < o[u].from) {
        let m = Rr[l];
        m != a && ((c = !1), (f = m == 16));
      }
      let h = !c && a == 1 ? [] : null,
        d = c ? n : n + 1,
        p = l;
      e: for (;;)
        if (u < o.length && p == o[u].from) {
          if (f) break e;
          let m = o[u];
          if (!c)
            for (let b = m.to, D = u + 1; ; ) {
              if (b == r) break e;
              if (D < o.length && o[D].from == b) b = o[D++].to;
              else {
                if (Rr[b] == a) break e;
                break;
              }
            }
          if ((u++, h)) h.push(m);
          else {
            m.from > l && s.push(new Ll(l, m.from, d));
            let b = (m.direction == g0) != !(d % 2);
            f5(t, b ? n + 1 : n, i, m.inner, m.from, m.to, s), (l = m.to);
          }
          p = m.to;
        } else {
          if (p == r || (c ? Rr[p] != a : Rr[p] == a)) break;
          p++;
        }
      h ? c5(t, l, p, n + 1, i, h, s) : l < p && s.push(new Ll(l, p, d)),
        (l = p);
    }
  else
    for (let l = r, u = o.length; l > e; ) {
      let c = !0,
        f = !1;
      if (!u || l > o[u - 1].to) {
        let m = Rr[l - 1];
        m != a && ((c = !1), (f = m == 16));
      }
      let h = !c && a == 1 ? [] : null,
        d = c ? n : n + 1,
        p = l;
      e: for (;;)
        if (u && p == o[u - 1].to) {
          if (f) break e;
          let m = o[--u];
          if (!c)
            for (let b = m.from, D = u; ; ) {
              if (b == e) break e;
              if (D && o[D - 1].to == b) b = o[--D].from;
              else {
                if (Rr[b - 1] == a) break e;
                break;
              }
            }
          if (h) h.push(m);
          else {
            m.to < l && s.push(new Ll(m.to, l, d));
            let b = (m.direction == g0) != !(d % 2);
            f5(t, b ? n + 1 : n, i, m.inner, m.from, m.to, s), (l = m.from);
          }
          p = m.from;
        } else {
          if (p == e || (c ? Rr[p - 1] != a : Rr[p - 1] == a)) break;
          p--;
        }
      h ? c5(t, p, l, n + 1, i, h, s) : p < l && s.push(new Ll(p, l, d)),
        (l = p);
    }
}
function f5(t, e, r, n, i, o, s) {
  let a = e % 2 ? 2 : 1;
  $H(t, i, o, n, a), OH(t, i, o, n, a), BH(i, o, n, a), c5(t, i, o, e, r, n, s);
}
function TH(t, e, r) {
  if (!t) return [new Ll(0, 0, e == Z8 ? 1 : 0)];
  if (e == g0 && !r.length && !_H.test(t)) return HM(t.length);
  if (r.length) for (; t.length > Rr.length; ) Rr[Rr.length] = 256;
  let n = [],
    i = e == g0 ? 0 : 1;
  return f5(t, i, i, r, 0, t.length, n), n;
}
function HM(t) {
  return [new Ll(0, t, 0)];
}
let VM = "";
function PH(t, e, r, n, i) {
  var o;
  let s = n.head - t.from,
    a = Ll.find(
      e,
      s,
      (o = n.bidiLevel) !== null && o !== void 0 ? o : -1,
      n.assoc
    ),
    l = e[a],
    u = l.side(i, r);
  if (s == u) {
    let h = (a += i ? 1 : -1);
    if (h < 0 || h >= e.length) return null;
    (l = e[(a = h)]), (s = l.side(!i, r)), (u = l.side(i, r));
  }
  let c = di(t.text, s, l.forward(i, r));
  (c < l.from || c > l.to) && (c = u),
    (VM = t.text.slice(Math.min(s, c), Math.max(s, c)));
  let f = a == (i ? e.length - 1 : 0) ? null : e[a + (i ? 1 : -1)];
  return f && c == u && f.level + (i ? 0 : 1) < l.level
    ? Te.cursor(f.side(!i, r) + t.from, f.forward(i, r) ? 1 : -1, f.level)
    : Te.cursor(c + t.from, l.forward(i, r) ? -1 : 1, l.level);
}
function RH(t, e, r) {
  for (let n = e; n < r; n++) {
    let i = zM(t.charCodeAt(n));
    if (i == 1) return g0;
    if (i == 2 || i == 4) return Z8;
  }
  return g0;
}
const WM = vt.define(),
  qM = vt.define(),
  UM = vt.define(),
  GM = vt.define(),
  h5 = vt.define(),
  KM = vt.define(),
  YM = vt.define(),
  XM = vt.define({ combine: (t) => t.some((e) => e) }),
  JM = vt.define({ combine: (t) => t.some((e) => e) }),
  QM = vt.define();
class Tc {
  constructor(e, r = "nearest", n = "nearest", i = 5, o = 5, s = !1) {
    (this.range = e),
      (this.y = r),
      (this.x = n),
      (this.yMargin = i),
      (this.xMargin = o),
      (this.isSnapshot = s);
  }
  map(e) {
    return e.empty
      ? this
      : new Tc(
          this.range.map(e),
          this.y,
          this.x,
          this.yMargin,
          this.xMargin,
          this.isSnapshot
        );
  }
  clip(e) {
    return this.range.to <= e.doc.length
      ? this
      : new Tc(
          Te.cursor(e.doc.length),
          this.y,
          this.x,
          this.yMargin,
          this.xMargin,
          this.isSnapshot
        );
  }
}
const hm = Qt.define({ map: (t, e) => t.map(e) });
function ts(t, e, r) {
  let n = t.facet(GM);
  n.length
    ? n[0](e)
    : window.onerror
      ? window.onerror(String(e), r, void 0, void 0, e)
      : r
        ? console.error(r + ":", e)
        : console.error(e);
}
const Ov = vt.define({ combine: (t) => (t.length ? t[0] : !0) });
let IH = 0;
const th = vt.define();
class Cn {
  constructor(e, r, n, i, o) {
    (this.id = e),
      (this.create = r),
      (this.domEventHandlers = n),
      (this.domEventObservers = i),
      (this.extension = o(this));
  }
  static define(e, r) {
    const {
      eventHandlers: n,
      eventObservers: i,
      provide: o,
      decorations: s,
    } = r || {};
    return new Cn(IH++, e, n, i, (a) => {
      let l = [th.of(a)];
      return (
        s &&
          l.push(
            ud.of((u) => {
              let c = u.plugin(a);
              return c ? s(c) : Pt.none;
            })
          ),
        o && l.push(o(a)),
        l
      );
    });
  }
  static fromClass(e, r) {
    return Cn.define((n) => new e(n), r);
  }
}
class M4 {
  constructor(e) {
    (this.spec = e), (this.mustUpdate = null), (this.value = null);
  }
  update(e) {
    if (this.value) {
      if (this.mustUpdate) {
        let r = this.mustUpdate;
        if (((this.mustUpdate = null), this.value.update))
          try {
            this.value.update(r);
          } catch (n) {
            if (
              (ts(r.state, n, "CodeMirror plugin crashed"), this.value.destroy)
            )
              try {
                this.value.destroy();
              } catch {}
            this.deactivate();
          }
      }
    } else if (this.spec)
      try {
        this.value = this.spec.create(e);
      } catch (r) {
        ts(e.state, r, "CodeMirror plugin crashed"), this.deactivate();
      }
    return this;
  }
  destroy(e) {
    var r;
    if (!((r = this.value) === null || r === void 0) && r.destroy)
      try {
        this.value.destroy();
      } catch (n) {
        ts(e.state, n, "CodeMirror plugin crashed");
      }
  }
  deactivate() {
    this.spec = this.value = null;
  }
}
const ZM = vt.define(),
  e7 = vt.define(),
  ud = vt.define(),
  e_ = vt.define(),
  t7 = vt.define(),
  t_ = vt.define();
function S9(t, e) {
  let r = t.state.facet(t_);
  if (!r.length) return r;
  let n = r.map((o) => (o instanceof Function ? o(t) : o)),
    i = [];
  return (
    dr.spans(n, e.from, e.to, {
      point() {},
      span(o, s, a, l) {
        let u = o - e.from,
          c = s - e.from,
          f = i;
        for (let h = a.length - 1; h >= 0; h--, l--) {
          let d = a[h].spec.bidiIsolate,
            p;
          if (
            (d == null && (d = RH(e.text, u, c)),
            l > 0 &&
              f.length &&
              (p = f[f.length - 1]).to == u &&
              p.direction == d)
          )
            (p.to = c), (f = p.inner);
          else {
            let m = { from: u, to: c, direction: d, inner: [] };
            f.push(m), (f = m.inner);
          }
        }
      },
    }),
    i
  );
}
const r_ = vt.define();
function n_(t) {
  let e = 0,
    r = 0,
    n = 0,
    i = 0;
  for (let o of t.state.facet(r_)) {
    let s = o(t);
    s &&
      (s.left != null && (e = Math.max(e, s.left)),
      s.right != null && (r = Math.max(r, s.right)),
      s.top != null && (n = Math.max(n, s.top)),
      s.bottom != null && (i = Math.max(i, s.bottom)));
  }
  return { left: e, right: r, top: n, bottom: i };
}
const rh = vt.define();
class to {
  constructor(e, r, n, i) {
    (this.fromA = e), (this.toA = r), (this.fromB = n), (this.toB = i);
  }
  join(e) {
    return new to(
      Math.min(this.fromA, e.fromA),
      Math.max(this.toA, e.toA),
      Math.min(this.fromB, e.fromB),
      Math.max(this.toB, e.toB)
    );
  }
  addToSet(e) {
    let r = e.length,
      n = this;
    for (; r > 0; r--) {
      let i = e[r - 1];
      if (!(i.fromA > n.toA)) {
        if (i.toA < n.fromA) break;
        (n = n.join(i)), e.splice(r - 1, 1);
      }
    }
    return e.splice(r, 0, n), e;
  }
  static extendWithRanges(e, r) {
    if (r.length == 0) return e;
    let n = [];
    for (let i = 0, o = 0, s = 0, a = 0; ; i++) {
      let l = i == e.length ? null : e[i],
        u = s - a,
        c = l ? l.fromB : 1e9;
      for (; o < r.length && r[o] < c; ) {
        let f = r[o],
          h = r[o + 1],
          d = Math.max(a, f),
          p = Math.min(c, h);
        if ((d <= p && new to(d + u, p + u, d, p).addToSet(n), h > c)) break;
        o += 2;
      }
      if (!l) return n;
      new to(l.fromA, l.toA, l.fromB, l.toB).addToSet(n),
        (s = l.toA),
        (a = l.toB);
    }
  }
}
class p1 {
  constructor(e, r, n) {
    (this.view = e),
      (this.state = r),
      (this.transactions = n),
      (this.flags = 0),
      (this.startState = e.state),
      (this.changes = zn.empty(this.startState.doc.length));
    for (let o of n) this.changes = this.changes.compose(o.changes);
    let i = [];
    this.changes.iterChangedRanges((o, s, a, l) => i.push(new to(o, s, a, l))),
      (this.changedRanges = i);
  }
  static create(e, r, n) {
    return new p1(e, r, n);
  }
  get viewportChanged() {
    return (this.flags & 4) > 0;
  }
  get heightChanged() {
    return (this.flags & 2) > 0;
  }
  get geometryChanged() {
    return this.docChanged || (this.flags & 10) > 0;
  }
  get focusChanged() {
    return (this.flags & 1) > 0;
  }
  get docChanged() {
    return !this.changes.empty;
  }
  get selectionSet() {
    return this.transactions.some((e) => e.selection);
  }
  get empty() {
    return this.flags == 0 && this.transactions.length == 0;
  }
}
class C9 extends Ir {
  get length() {
    return this.view.state.doc.length;
  }
  constructor(e) {
    super(),
      (this.view = e),
      (this.decorations = []),
      (this.dynamicDecorationMap = []),
      (this.domChanged = null),
      (this.hasComposition = null),
      (this.markedForComposition = new Set()),
      (this.lastCompositionAfterCursor = !1),
      (this.minWidth = 0),
      (this.minWidthFrom = 0),
      (this.minWidthTo = 0),
      (this.impreciseAnchor = null),
      (this.impreciseHead = null),
      (this.forceSelection = !1),
      (this.lastUpdate = Date.now()),
      this.setDOM(e.contentDOM),
      (this.children = [new In()]),
      this.children[0].setParent(this),
      this.updateDeco(),
      this.updateInner([new to(0, 0, 0, e.state.doc.length)], 0, null);
  }
  update(e) {
    var r;
    let n = e.changedRanges;
    this.minWidth > 0 &&
      n.length &&
      (n.every(
        ({ fromA: u, toA: c }) => c < this.minWidthFrom || u > this.minWidthTo
      )
        ? ((this.minWidthFrom = e.changes.mapPos(this.minWidthFrom, 1)),
          (this.minWidthTo = e.changes.mapPos(this.minWidthTo, 1)))
        : (this.minWidth = this.minWidthFrom = this.minWidthTo = 0));
    let i = -1;
    this.view.inputState.composing >= 0 &&
      (!((r = this.domChanged) === null || r === void 0) && r.newSel
        ? (i = this.domChanged.newSel.head)
        : !WH(e.changes, this.hasComposition) &&
          !e.selectionSet &&
          (i = e.state.selection.main.head));
    let o = i > -1 ? LH(this.view, e.changes, i) : null;
    if (((this.domChanged = null), this.hasComposition)) {
      this.markedForComposition.clear();
      let { from: u, to: c } = this.hasComposition;
      n = new to(
        u,
        c,
        e.changes.mapPos(u, -1),
        e.changes.mapPos(c, 1)
      ).addToSet(n.slice());
    }
    (this.hasComposition = o ? { from: o.range.fromB, to: o.range.toB } : null),
      (gt.ie || gt.chrome) &&
        !o &&
        e &&
        e.state.doc.lines != e.startState.doc.lines &&
        (this.forceSelection = !0);
    let s = this.decorations,
      a = this.updateDeco(),
      l = HH(s, a, e.changes);
    return (
      (n = to.extendWithRanges(n, l)),
      !(this.flags & 7) && n.length == 0
        ? !1
        : (this.updateInner(n, e.startState.doc.length, o),
          e.transactions.length && (this.lastUpdate = Date.now()),
          !0)
    );
  }
  updateInner(e, r, n) {
    (this.view.viewState.mustMeasureContent = !0), this.updateChildren(e, r, n);
    let { observer: i } = this.view;
    i.ignore(() => {
      (this.dom.style.height =
        this.view.viewState.contentHeight / this.view.scaleY + "px"),
        (this.dom.style.flexBasis = this.minWidth ? this.minWidth + "px" : "");
      let s =
        gt.chrome || gt.ios
          ? { node: i.selectionRange.focusNode, written: !1 }
          : void 0;
      this.sync(this.view, s),
        (this.flags &= -8),
        s &&
          (s.written || i.selectionRange.focusNode != s.node) &&
          (this.forceSelection = !0),
        (this.dom.style.height = "");
    }),
      this.markedForComposition.forEach((s) => (s.flags &= -9));
    let o = [];
    if (
      this.view.viewport.from ||
      this.view.viewport.to < this.view.state.doc.length
    )
      for (let s of this.children)
        s instanceof Xl && s.widget instanceof A9 && o.push(s.dom);
    i.updateGaps(o);
  }
  updateChildren(e, r, n) {
    let i = n ? n.range.addToSet(e.slice()) : e,
      o = this.childCursor(r);
    for (let s = i.length - 1; ; s--) {
      let a = s >= 0 ? i[s] : null;
      if (!a) break;
      let { fromA: l, toA: u, fromB: c, toB: f } = a,
        h,
        d,
        p,
        m;
      if (n && n.range.fromB < f && n.range.toB > c) {
        let B = kh.build(
            this.view.state.doc,
            c,
            n.range.fromB,
            this.decorations,
            this.dynamicDecorationMap
          ),
          $ = kh.build(
            this.view.state.doc,
            n.range.toB,
            f,
            this.decorations,
            this.dynamicDecorationMap
          );
        (d = B.breakAtStart), (p = B.openStart), (m = $.openEnd);
        let T = this.compositionView(n);
        $.breakAtStart
          ? (T.breakAfter = 1)
          : $.content.length &&
            T.merge(T.length, T.length, $.content[0], !1, $.openStart, 0) &&
            ((T.breakAfter = $.content[0].breakAfter), $.content.shift()),
          B.content.length &&
            T.merge(0, 0, B.content[B.content.length - 1], !0, 0, B.openEnd) &&
            B.content.pop(),
          (h = B.content.concat(T).concat($.content));
      } else
        ({
          content: h,
          breakAtStart: d,
          openStart: p,
          openEnd: m,
        } = kh.build(
          this.view.state.doc,
          c,
          f,
          this.decorations,
          this.dynamicDecorationMap
        ));
      let { i: b, off: D } = o.findPos(u, 1),
        { i: k, off: S } = o.findPos(l, -1);
      $M(this, k, S, b, D, h, d, p, m);
    }
    n && this.fixCompositionDOM(n);
  }
  compositionView(e) {
    let r = new $o(e.text.nodeValue);
    r.flags |= 8;
    for (let { deco: i } of e.marks) r = new Ka(i, [r], r.length);
    let n = new In();
    return n.append(r, 0), n;
  }
  fixCompositionDOM(e) {
    let r = (o, s) => {
        (s.flags |= 8 | (s.children.some((l) => l.flags & 7) ? 1 : 0)),
          this.markedForComposition.add(s);
        let a = Ir.get(o);
        a && a != s && (a.dom = null), s.setDOM(o);
      },
      n = this.childPos(e.range.fromB, 1),
      i = this.children[n.i];
    r(e.line, i);
    for (let o = e.marks.length - 1; o >= -1; o--)
      (n = i.childPos(n.off, 1)),
        (i = i.children[n.i]),
        r(o >= 0 ? e.marks[o].node : e.text, i);
  }
  updateSelection(e = !1, r = !1) {
    (e || !this.view.observer.selectionRange.focusNode) &&
      this.view.observer.readSelectionRange();
    let n = this.view.root.activeElement,
      i = n == this.dom,
      o =
        !i &&
        dg(this.dom, this.view.observer.selectionRange) &&
        !(n && this.dom.contains(n));
    if (!(i || r || o)) return;
    let s = this.forceSelection;
    this.forceSelection = !1;
    let a = this.view.state.selection.main,
      l = this.moveToLine(this.domAtPos(a.anchor)),
      u = a.empty ? l : this.moveToLine(this.domAtPos(a.head));
    if (gt.gecko && a.empty && !this.hasComposition && NH(l)) {
      let f = document.createTextNode("");
      this.view.observer.ignore(() =>
        l.node.insertBefore(f, l.node.childNodes[l.offset] || null)
      ),
        (l = u = new Ai(f, 0)),
        (s = !0);
    }
    let c = this.view.observer.selectionRange;
    (s ||
      !c.focusNode ||
      ((!xh(l.node, l.offset, c.anchorNode, c.anchorOffset) ||
        !xh(u.node, u.offset, c.focusNode, c.focusOffset)) &&
        !this.suppressWidgetCursorChange(c, a))) &&
      (this.view.observer.ignore(() => {
        gt.android &&
          gt.chrome &&
          this.dom.contains(c.focusNode) &&
          VH(c.focusNode, this.dom) &&
          (this.dom.blur(), this.dom.focus({ preventScroll: !0 }));
        let f = h1(this.view.root);
        if (f)
          if (a.empty) {
            if (gt.gecko) {
              let h = zH(l.node, l.offset);
              if (h && h != 3) {
                let d = (h == 1 ? FM : MM)(l.node, l.offset);
                d && (l = new Ai(d.node, d.offset));
              }
            }
            f.collapse(l.node, l.offset),
              a.bidiLevel != null &&
                f.caretBidiLevel !== void 0 &&
                (f.caretBidiLevel = a.bidiLevel);
          } else if (f.extend) {
            f.collapse(l.node, l.offset);
            try {
              f.extend(u.node, u.offset);
            } catch {}
          } else {
            let h = document.createRange();
            a.anchor > a.head && ([l, u] = [u, l]),
              h.setEnd(u.node, u.offset),
              h.setStart(l.node, l.offset),
              f.removeAllRanges(),
              f.addRange(h);
          }
        o &&
          this.view.root.activeElement == this.dom &&
          (this.dom.blur(), n && n.focus());
      }),
      this.view.observer.setSelectionRange(l, u)),
      (this.impreciseAnchor = l.precise
        ? null
        : new Ai(c.anchorNode, c.anchorOffset)),
      (this.impreciseHead = u.precise
        ? null
        : new Ai(c.focusNode, c.focusOffset));
  }
  suppressWidgetCursorChange(e, r) {
    return (
      this.hasComposition &&
      r.empty &&
      xh(e.focusNode, e.focusOffset, e.anchorNode, e.anchorOffset) &&
      this.posFromDOM(e.focusNode, e.focusOffset) == r.head
    );
  }
  enforceCursorAssoc() {
    if (this.hasComposition) return;
    let { view: e } = this,
      r = e.state.selection.main,
      n = h1(e.root),
      { anchorNode: i, anchorOffset: o } = e.observer.selectionRange;
    if (!n || !r.empty || !r.assoc || !n.modify) return;
    let s = In.find(this, r.head);
    if (!s) return;
    let a = s.posAtStart;
    if (r.head == a || r.head == a + s.length) return;
    let l = this.coordsAt(r.head, -1),
      u = this.coordsAt(r.head, 1);
    if (!l || !u || l.bottom > u.top) return;
    let c = this.domAtPos(r.head + r.assoc);
    n.collapse(c.node, c.offset),
      n.modify("move", r.assoc < 0 ? "forward" : "backward", "lineboundary"),
      e.observer.readSelectionRange();
    let f = e.observer.selectionRange;
    e.docView.posFromDOM(f.anchorNode, f.anchorOffset) != r.from &&
      n.collapse(i, o);
  }
  moveToLine(e) {
    let r = this.dom,
      n;
    if (e.node != r) return e;
    for (let i = e.offset; !n && i < r.childNodes.length; i++) {
      let o = Ir.get(r.childNodes[i]);
      o instanceof In && (n = o.domAtPos(0));
    }
    for (let i = e.offset - 1; !n && i >= 0; i--) {
      let o = Ir.get(r.childNodes[i]);
      o instanceof In && (n = o.domAtPos(o.length));
    }
    return n ? new Ai(n.node, n.offset, !0) : e;
  }
  nearest(e) {
    for (let r = e; r; ) {
      let n = Ir.get(r);
      if (n && n.rootView == this) return n;
      r = r.parentNode;
    }
    return null;
  }
  posFromDOM(e, r) {
    let n = this.nearest(e);
    if (!n)
      throw new RangeError(
        "Trying to find position for a DOM position outside of the document"
      );
    return n.localPosFromDOM(e, r) + n.posAtStart;
  }
  domAtPos(e) {
    let { i: r, off: n } = this.childCursor().findPos(e, -1);
    for (; r < this.children.length - 1; ) {
      let i = this.children[r];
      if (n < i.length || i instanceof In) break;
      r++, (n = 0);
    }
    return this.children[r].domAtPos(n);
  }
  coordsAt(e, r) {
    let n = null,
      i = 0;
    for (let o = this.length, s = this.children.length - 1; s >= 0; s--) {
      let a = this.children[s],
        l = o - a.breakAfter,
        u = l - a.length;
      if (l < e) break;
      u <= e &&
        (u < e || a.covers(-1)) &&
        (l > e || a.covers(1)) &&
        (!n || (a instanceof In && !(n instanceof In && r >= 0))) &&
        ((n = a), (i = u)),
        (o = u);
    }
    return n ? n.coordsAt(e - i, r) : null;
  }
  coordsForChar(e) {
    let { i: r, off: n } = this.childPos(e, 1),
      i = this.children[r];
    if (!(i instanceof In)) return null;
    for (; i.children.length; ) {
      let { i: a, off: l } = i.childPos(n, 1);
      for (; ; a++) {
        if (a == i.children.length) return null;
        if ((i = i.children[a]).length) break;
      }
      n = l;
    }
    if (!(i instanceof $o)) return null;
    let o = di(i.text, n);
    if (o == n) return null;
    let s = m0(i.dom, n, o).getClientRects();
    for (let a = 0; a < s.length; a++) {
      let l = s[a];
      if (a == s.length - 1 || (l.top < l.bottom && l.left < l.right)) return l;
    }
    return null;
  }
  measureVisibleLineHeights(e) {
    let r = [],
      { from: n, to: i } = e,
      o = this.view.contentDOM.clientWidth,
      s = o > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1,
      a = -1,
      l = this.view.textDirection == Jr.LTR;
    for (let u = 0, c = 0; c < this.children.length; c++) {
      let f = this.children[c],
        h = u + f.length;
      if (h > i) break;
      if (u >= n) {
        let d = f.dom.getBoundingClientRect();
        if ((r.push(d.height), s)) {
          let p = f.dom.lastChild,
            m = p ? ld(p) : [];
          if (m.length) {
            let b = m[m.length - 1],
              D = l ? b.right - d.left : d.right - b.left;
            D > a &&
              ((a = D),
              (this.minWidth = o),
              (this.minWidthFrom = u),
              (this.minWidthTo = h));
          }
        }
      }
      u = h + f.breakAfter;
    }
    return r;
  }
  textDirectionAt(e) {
    let { i: r } = this.childPos(e, 1);
    return getComputedStyle(this.children[r].dom).direction == "rtl"
      ? Jr.RTL
      : Jr.LTR;
  }
  measureTextSize() {
    for (let o of this.children)
      if (o instanceof In) {
        let s = o.measureTextSize();
        if (s) return s;
      }
    let e = document.createElement("div"),
      r,
      n,
      i;
    return (
      (e.className = "cm-line"),
      (e.style.width = "99999px"),
      (e.style.position = "absolute"),
      (e.textContent = "abc def ghi jkl mno pqr stu"),
      this.view.observer.ignore(() => {
        this.dom.appendChild(e);
        let o = ld(e.firstChild)[0];
        (r = e.getBoundingClientRect().height),
          (n = o ? o.width / 27 : 7),
          (i = o ? o.height : r),
          e.remove();
      }),
      { lineHeight: r, charWidth: n, textHeight: i }
    );
  }
  childCursor(e = this.length) {
    let r = this.children.length;
    return r && (e -= this.children[--r].length), new _M(this.children, e, r);
  }
  computeBlockGapDeco() {
    let e = [],
      r = this.view.viewState;
    for (let n = 0, i = 0; ; i++) {
      let o = i == r.viewports.length ? null : r.viewports[i],
        s = o ? o.from - 1 : this.length;
      if (s > n) {
        let a =
          (r.lineBlockAt(s).bottom - r.lineBlockAt(n).top) / this.view.scaleY;
        e.push(
          Pt.replace({
            widget: new A9(a),
            block: !0,
            inclusive: !0,
            isBlockGap: !0,
          }).range(n, s)
        );
      }
      if (!o) break;
      n = o.to + 1;
    }
    return Pt.set(e);
  }
  updateDeco() {
    let e = 0,
      r = this.view.state
        .facet(ud)
        .map((o) =>
          (this.dynamicDecorationMap[e++] = typeof o == "function")
            ? o(this.view)
            : o
        ),
      n = !1,
      i = this.view.state.facet(e_).map((o, s) => {
        let a = typeof o == "function";
        return a && (n = !0), a ? o(this.view) : o;
      });
    for (
      i.length && ((this.dynamicDecorationMap[e++] = n), r.push(dr.join(i))),
        this.decorations = [
          ...r,
          this.computeBlockGapDeco(),
          this.view.viewState.lineGapDeco,
        ];
      e < this.decorations.length;

    )
      this.dynamicDecorationMap[e++] = !1;
    return this.decorations;
  }
  scrollIntoView(e) {
    if (e.isSnapshot) {
      let u = this.view.viewState.lineBlockAt(e.range.head);
      (this.view.scrollDOM.scrollTop = u.top - e.yMargin),
        (this.view.scrollDOM.scrollLeft = e.xMargin);
      return;
    }
    for (let u of this.view.state.facet(QM))
      try {
        if (u(this.view, e.range, e)) return !0;
      } catch (c) {
        ts(this.view.state, c, "scroll handler");
      }
    let { range: r } = e,
      n = this.coordsAt(r.head, r.empty ? r.assoc : r.head > r.anchor ? -1 : 1),
      i;
    if (!n) return;
    !r.empty &&
      (i = this.coordsAt(r.anchor, r.anchor > r.head ? -1 : 1)) &&
      (n = {
        left: Math.min(n.left, i.left),
        top: Math.min(n.top, i.top),
        right: Math.max(n.right, i.right),
        bottom: Math.max(n.bottom, i.bottom),
      });
    let o = n_(this.view),
      s = {
        left: n.left - o.left,
        top: n.top - o.top,
        right: n.right + o.right,
        bottom: n.bottom + o.bottom,
      },
      { offsetWidth: a, offsetHeight: l } = this.view.scrollDOM;
    yH(
      this.view.scrollDOM,
      s,
      r.head < r.anchor ? -1 : 1,
      e.x,
      e.y,
      Math.max(Math.min(e.xMargin, a), -a),
      Math.max(Math.min(e.yMargin, l), -l),
      this.view.textDirection == Jr.LTR
    );
  }
}
function NH(t) {
  return (
    t.node.nodeType == 1 &&
    t.node.firstChild &&
    (t.offset == 0 ||
      t.node.childNodes[t.offset - 1].contentEditable == "false") &&
    (t.offset == t.node.childNodes.length ||
      t.node.childNodes[t.offset].contentEditable == "false")
  );
}
class A9 extends ku {
  constructor(e) {
    super(), (this.height = e);
  }
  toDOM() {
    let e = document.createElement("div");
    return (e.className = "cm-gap"), this.updateDOM(e), e;
  }
  eq(e) {
    return e.height == this.height;
  }
  updateDOM(e) {
    return (e.style.height = this.height + "px"), !0;
  }
  get editable() {
    return !0;
  }
  get estimatedHeight() {
    return this.height;
  }
  ignoreEvent() {
    return !1;
  }
}
function i_(t, e) {
  let r = t.observer.selectionRange;
  if (!r.focusNode) return null;
  let n = FM(r.focusNode, r.focusOffset),
    i = MM(r.focusNode, r.focusOffset),
    o = n || i;
  if (i && n && i.node != n.node) {
    let a = Ir.get(i.node);
    if (!a || (a instanceof $o && a.text != i.node.nodeValue)) o = i;
    else if (t.docView.lastCompositionAfterCursor) {
      let l = Ir.get(n.node);
      !l || (l instanceof $o && l.text != n.node.nodeValue) || (o = i);
    }
  }
  if (((t.docView.lastCompositionAfterCursor = o != n), !o)) return null;
  let s = e - o.offset;
  return { from: s, to: s + o.node.nodeValue.length, node: o.node };
}
function LH(t, e, r) {
  let n = i_(t, r);
  if (!n) return null;
  let { node: i, from: o, to: s } = n,
    a = i.nodeValue;
  if (/[\n\r]/.test(a) || t.state.doc.sliceString(n.from, n.to) != a)
    return null;
  let l = e.invertedDesc,
    u = new to(l.mapPos(o), l.mapPos(s), o, s),
    c = [];
  for (let f = i.parentNode; ; f = f.parentNode) {
    let h = Ir.get(f);
    if (h instanceof Ka) c.push({ node: f, deco: h.mark });
    else {
      if (
        h instanceof In ||
        (f.nodeName == "DIV" && f.parentNode == t.contentDOM)
      )
        return { range: u, text: i, marks: c, line: f };
      if (f != t.contentDOM)
        c.push({
          node: f,
          deco: new sp({
            inclusive: !0,
            attributes: AH(f),
            tagName: f.tagName.toLowerCase(),
          }),
        });
      else return null;
    }
  }
}
function zH(t, e) {
  return t.nodeType != 1
    ? 0
    : (e && t.childNodes[e - 1].contentEditable == "false" ? 1 : 0) |
        (e < t.childNodes.length && t.childNodes[e].contentEditable == "false"
          ? 2
          : 0);
}
let jH = class {
  constructor() {
    this.changes = [];
  }
  compareRange(e, r) {
    l5(e, r, this.changes);
  }
  comparePoint(e, r) {
    l5(e, r, this.changes);
  }
};
function HH(t, e, r) {
  let n = new jH();
  return dr.compare(t, e, r, n), n.changes;
}
function VH(t, e) {
  for (let r = t; r && r != e; r = r.assignedSlot || r.parentNode)
    if (r.nodeType == 1 && r.contentEditable == "false") return !0;
  return !1;
}
function WH(t, e) {
  let r = !1;
  return (
    e &&
      t.iterChangedRanges((n, i) => {
        n < e.to && i > e.from && (r = !0);
      }),
    r
  );
}
function qH(t, e, r = 1) {
  let n = t.charCategorizer(e),
    i = t.doc.lineAt(e),
    o = e - i.from;
  if (i.length == 0) return Te.cursor(e);
  o == 0 ? (r = 1) : o == i.length && (r = -1);
  let s = o,
    a = o;
  r < 0 ? (s = di(i.text, o, !1)) : (a = di(i.text, o));
  let l = n(i.text.slice(s, a));
  for (; s > 0; ) {
    let u = di(i.text, s, !1);
    if (n(i.text.slice(u, s)) != l) break;
    s = u;
  }
  for (; a < i.length; ) {
    let u = di(i.text, a);
    if (n(i.text.slice(a, u)) != l) break;
    a = u;
  }
  return Te.range(s + i.from, a + i.from);
}
function UH(t, e) {
  return e.left > t ? e.left - t : Math.max(0, t - e.right);
}
function GH(t, e) {
  return e.top > t ? e.top - t : Math.max(0, t - e.bottom);
}
function _4(t, e) {
  return t.top < e.bottom - 1 && t.bottom > e.top + 1;
}
function E9(t, e) {
  return e < t.top
    ? { top: e, left: t.left, right: t.right, bottom: t.bottom }
    : t;
}
function F9(t, e) {
  return e > t.bottom
    ? { top: t.top, left: t.left, right: t.right, bottom: e }
    : t;
}
function d5(t, e, r) {
  let n,
    i,
    o,
    s,
    a = !1,
    l,
    u,
    c,
    f;
  for (let p = t.firstChild; p; p = p.nextSibling) {
    let m = ld(p);
    for (let b = 0; b < m.length; b++) {
      let D = m[b];
      i && _4(i, D) && (D = E9(F9(D, i.bottom), i.top));
      let k = UH(e, D),
        S = GH(r, D);
      if (k == 0 && S == 0) return p.nodeType == 3 ? M9(p, e, r) : d5(p, e, r);
      if (!n || s > S || (s == S && o > k)) {
        (n = p), (i = D), (o = k), (s = S);
        let B = S ? (r < D.top ? -1 : 1) : k ? (e < D.left ? -1 : 1) : 0;
        a = !B || (B > 0 ? b < m.length - 1 : b > 0);
      }
      k == 0
        ? r > D.bottom && (!c || c.bottom < D.bottom)
          ? ((l = p), (c = D))
          : r < D.top && (!f || f.top > D.top) && ((u = p), (f = D))
        : c && _4(c, D)
          ? (c = F9(c, D.bottom))
          : f && _4(f, D) && (f = E9(f, D.top));
    }
  }
  if (
    (c && c.bottom >= r
      ? ((n = l), (i = c))
      : f && f.top <= r && ((n = u), (i = f)),
    !n)
  )
    return { node: t, offset: 0 };
  let h = Math.max(i.left, Math.min(i.right, e));
  if (n.nodeType == 3) return M9(n, h, r);
  if (a && n.contentEditable != "false") return d5(n, h, r);
  let d =
    Array.prototype.indexOf.call(t.childNodes, n) +
    (e >= (i.left + i.right) / 2 ? 1 : 0);
  return { node: t, offset: d };
}
function M9(t, e, r) {
  let n = t.nodeValue.length,
    i = -1,
    o = 1e9,
    s = 0;
  for (let a = 0; a < n; a++) {
    let l = m0(t, a, a + 1).getClientRects();
    for (let u = 0; u < l.length; u++) {
      let c = l[u];
      if (c.top == c.bottom) continue;
      s || (s = e - c.left);
      let f = (c.top > r ? c.top - r : r - c.bottom) - 1;
      if (c.left - 1 <= e && c.right + 1 >= e && f < o) {
        let h = e >= (c.left + c.right) / 2,
          d = h;
        if (
          ((gt.chrome || gt.gecko) &&
            m0(t, a).getBoundingClientRect().left == c.right &&
            (d = !h),
          f <= 0)
        )
          return { node: t, offset: a + (d ? 1 : 0) };
        (i = a + (d ? 1 : 0)), (o = f);
      }
    }
  }
  return { node: t, offset: i > -1 ? i : s > 0 ? t.nodeValue.length : 0 };
}
function s_(t, e, r, n = -1) {
  var i, o;
  let s = t.contentDOM.getBoundingClientRect(),
    a = s.top + t.viewState.paddingTop,
    l,
    { docHeight: u } = t.viewState,
    { x: c, y: f } = e,
    h = f - a;
  if (h < 0) return 0;
  if (h > u) return t.state.doc.length;
  for (
    let B = t.viewState.heightOracle.textHeight / 2, $ = !1;
    (l = t.elementAtHeight(h)), l.type != Ni.Text;

  )
    for (; (h = n > 0 ? l.bottom + B : l.top - B), !(h >= 0 && h <= u); ) {
      if ($) return r ? null : 0;
      ($ = !0), (n = -n);
    }
  f = a + h;
  let d = l.from;
  if (d < t.viewport.from)
    return t.viewport.from == 0 ? 0 : r ? null : _9(t, s, l, c, f);
  if (d > t.viewport.to)
    return t.viewport.to == t.state.doc.length
      ? t.state.doc.length
      : r
        ? null
        : _9(t, s, l, c, f);
  let p = t.dom.ownerDocument,
    m = t.root.elementFromPoint ? t.root : p,
    b = m.elementFromPoint(c, f);
  b && !t.contentDOM.contains(b) && (b = null),
    b ||
      ((c = Math.max(s.left + 1, Math.min(s.right - 1, c))),
      (b = m.elementFromPoint(c, f)),
      b && !t.contentDOM.contains(b) && (b = null));
  let D,
    k = -1;
  if (
    b &&
    ((i = t.docView.nearest(b)) === null || i === void 0
      ? void 0
      : i.isEditable) != !1
  ) {
    if (p.caretPositionFromPoint) {
      let B = p.caretPositionFromPoint(c, f);
      B && ({ offsetNode: D, offset: k } = B);
    } else if (p.caretRangeFromPoint) {
      let B = p.caretRangeFromPoint(c, f);
      B &&
        (({ startContainer: D, startOffset: k } = B),
        (!t.contentDOM.contains(D) ||
          (gt.safari && KH(D, k, c)) ||
          (gt.chrome && YH(D, k, c))) &&
          (D = void 0));
    }
  }
  if (!D || !t.docView.dom.contains(D)) {
    let B = In.find(t.docView, d);
    if (!B) return h > l.top + l.height / 2 ? l.to : l.from;
    ({ node: D, offset: k } = d5(B.dom, c, f));
  }
  let S = t.docView.nearest(D);
  if (!S) return null;
  if (
    S.isWidget &&
    ((o = S.dom) === null || o === void 0 ? void 0 : o.nodeType) == 1
  ) {
    let B = S.dom.getBoundingClientRect();
    return e.y < B.top || (e.y <= B.bottom && e.x <= (B.left + B.right) / 2)
      ? S.posAtStart
      : S.posAtEnd;
  } else return S.localPosFromDOM(D, k) + S.posAtStart;
}
function _9(t, e, r, n, i) {
  let o = Math.round((n - e.left) * t.defaultCharacterWidth);
  if (t.lineWrapping && r.height > t.defaultLineHeight * 1.5) {
    let a = t.viewState.heightOracle.textHeight,
      l = Math.floor((i - r.top - (t.defaultLineHeight - a) * 0.5) / a);
    o += l * t.viewState.heightOracle.lineLength;
  }
  let s = t.state.sliceDoc(r.from, r.to);
  return r.from + Z3(s, o, t.state.tabSize);
}
function KH(t, e, r) {
  let n;
  if (t.nodeType != 3 || e != (n = t.nodeValue.length)) return !1;
  for (let i = t.nextSibling; i; i = i.nextSibling)
    if (i.nodeType != 1 || i.nodeName != "BR") return !1;
  return m0(t, n - 1, n).getBoundingClientRect().left > r;
}
function YH(t, e, r) {
  if (e != 0) return !1;
  for (let i = t; ; ) {
    let o = i.parentNode;
    if (!o || o.nodeType != 1 || o.firstChild != i) return !1;
    if (o.classList.contains("cm-line")) break;
    i = o;
  }
  let n =
    t.nodeType == 1
      ? t.getBoundingClientRect()
      : m0(t, 0, Math.max(t.nodeValue.length, 1)).getBoundingClientRect();
  return r - n.left > 5;
}
function p5(t, e) {
  let r = t.lineBlockAt(e);
  if (Array.isArray(r.type)) {
    for (let n of r.type)
      if (n.to > e || (n.to == e && (n.to == r.to || n.type == Ni.Text)))
        return n;
  }
  return r;
}
function XH(t, e, r, n) {
  let i = p5(t, e.head),
    o =
      !n || i.type != Ni.Text || !(t.lineWrapping || i.widgetLineBreaks)
        ? null
        : t.coordsAtPos(e.assoc < 0 && e.head > i.from ? e.head - 1 : e.head);
  if (o) {
    let s = t.dom.getBoundingClientRect(),
      a = t.textDirectionAt(i.from),
      l = t.posAtCoords({
        x: r == (a == Jr.LTR) ? s.right - 1 : s.left + 1,
        y: (o.top + o.bottom) / 2,
      });
    if (l != null) return Te.cursor(l, r ? -1 : 1);
  }
  return Te.cursor(r ? i.to : i.from, r ? -1 : 1);
}
function $9(t, e, r, n) {
  let i = t.state.doc.lineAt(e.head),
    o = t.bidiSpans(i),
    s = t.textDirectionAt(i.from);
  for (let a = e, l = null; ; ) {
    let u = PH(i, o, s, a, r),
      c = VM;
    if (!u) {
      if (i.number == (r ? t.state.doc.lines : 1)) return a;
      (c = `
`),
        (i = t.state.doc.line(i.number + (r ? 1 : -1))),
        (o = t.bidiSpans(i)),
        (u = t.visualLineSide(i, !r));
    }
    if (l) {
      if (!l(c)) return a;
    } else {
      if (!n) return u;
      l = n(c);
    }
    a = u;
  }
}
function JH(t, e, r) {
  let n = t.state.charCategorizer(e),
    i = n(r);
  return (o) => {
    let s = n(o);
    return i == tn.Space && (i = s), i == s;
  };
}
function QH(t, e, r, n) {
  let i = e.head,
    o = r ? 1 : -1;
  if (i == (r ? t.state.doc.length : 0)) return Te.cursor(i, e.assoc);
  let s = e.goalColumn,
    a,
    l = t.contentDOM.getBoundingClientRect(),
    u = t.coordsAtPos(i, e.assoc || -1),
    c = t.documentTop;
  if (u) s == null && (s = u.left - l.left), (a = o < 0 ? u.top : u.bottom);
  else {
    let d = t.viewState.lineBlockAt(i);
    s == null &&
      (s = Math.min(l.right - l.left, t.defaultCharacterWidth * (i - d.from))),
      (a = (o < 0 ? d.top : d.bottom) + c);
  }
  let f = l.left + s,
    h = n ?? t.viewState.heightOracle.textHeight >> 1;
  for (let d = 0; ; d += 10) {
    let p = a + (h + d) * o,
      m = s_(t, { x: f, y: p }, !1, o);
    if (p < l.top || p > l.bottom || (o < 0 ? m < i : m > i)) {
      let b = t.docView.coordsForChar(m),
        D = !b || p < b.top ? -1 : 1;
      return Te.cursor(m, D, void 0, s);
    }
  }
}
function pg(t, e, r) {
  for (;;) {
    let n = 0;
    for (let i of t)
      i.between(e - 1, e + 1, (o, s, a) => {
        if (e > o && e < s) {
          let l = n || r || (e - o < s - e ? -1 : 1);
          (e = l < 0 ? o : s), (n = l);
        }
      });
    if (!n) return e;
  }
}
function $4(t, e, r) {
  let n = pg(
    t.state.facet(t7).map((i) => i(t)),
    r.from,
    e.head > r.from ? -1 : 1
  );
  return n == r.from ? r : Te.cursor(n, n < r.from ? 1 : -1);
}
class ZH {
  setSelectionOrigin(e) {
    (this.lastSelectionOrigin = e), (this.lastSelectionTime = Date.now());
  }
  constructor(e) {
    (this.view = e),
      (this.lastKeyCode = 0),
      (this.lastKeyTime = 0),
      (this.lastTouchTime = 0),
      (this.lastFocusTime = 0),
      (this.lastScrollTop = 0),
      (this.lastScrollLeft = 0),
      (this.pendingIOSKey = void 0),
      (this.lastSelectionOrigin = null),
      (this.lastSelectionTime = 0),
      (this.lastEscPress = 0),
      (this.lastContextMenu = 0),
      (this.scrollHandlers = []),
      (this.handlers = Object.create(null)),
      (this.composing = -1),
      (this.compositionFirstChange = null),
      (this.compositionEndedAt = 0),
      (this.compositionPendingKey = !1),
      (this.compositionPendingChange = !1),
      (this.mouseSelection = null),
      (this.draggedContent = null),
      (this.handleEvent = this.handleEvent.bind(this)),
      (this.notifiedFocused = e.hasFocus),
      gt.safari && e.contentDOM.addEventListener("input", () => null),
      gt.gecko && mV(e.contentDOM.ownerDocument);
  }
  handleEvent(e) {
    !aV(this.view, e) ||
      this.ignoreDuringComposition(e) ||
      (e.type == "keydown" && this.keydown(e)) ||
      this.runHandlers(e.type, e);
  }
  runHandlers(e, r) {
    let n = this.handlers[e];
    if (n) {
      for (let i of n.observers) i(this.view, r);
      for (let i of n.handlers) {
        if (r.defaultPrevented) break;
        if (i(this.view, r)) {
          r.preventDefault();
          break;
        }
      }
    }
  }
  ensureHandlers(e) {
    let r = eV(e),
      n = this.handlers,
      i = this.view.contentDOM;
    for (let o in r)
      if (o != "scroll") {
        let s = !r[o].handlers.length,
          a = n[o];
        a &&
          s != !a.handlers.length &&
          (i.removeEventListener(o, this.handleEvent), (a = null)),
          a || i.addEventListener(o, this.handleEvent, { passive: s });
      }
    for (let o in n)
      o != "scroll" && !r[o] && i.removeEventListener(o, this.handleEvent);
    this.handlers = r;
  }
  keydown(e) {
    if (
      ((this.lastKeyCode = e.keyCode),
      (this.lastKeyTime = Date.now()),
      e.keyCode == 9 && Date.now() < this.lastEscPress + 2e3)
    )
      return !0;
    if (
      (e.keyCode != 27 &&
        a_.indexOf(e.keyCode) < 0 &&
        (this.view.inputState.lastEscPress = 0),
      gt.android &&
        gt.chrome &&
        !e.synthetic &&
        (e.keyCode == 13 || e.keyCode == 8))
    )
      return this.view.observer.delayAndroidKey(e.key, e.keyCode), !0;
    let r;
    return gt.ios &&
      !e.synthetic &&
      !e.altKey &&
      !e.metaKey &&
      (((r = o_.find((n) => n.keyCode == e.keyCode)) && !e.ctrlKey) ||
        (tV.indexOf(e.key) > -1 && e.ctrlKey && !e.shiftKey))
      ? ((this.pendingIOSKey = r || e),
        setTimeout(() => this.flushIOSKey(), 250),
        !0)
      : (e.keyCode != 229 && this.view.observer.forceFlush(), !1);
  }
  flushIOSKey(e) {
    let r = this.pendingIOSKey;
    return !r ||
      (r.key == "Enter" &&
        e &&
        e.from < e.to &&
        /^\S+$/.test(e.insert.toString()))
      ? !1
      : ((this.pendingIOSKey = void 0),
        Bc(
          this.view.contentDOM,
          r.key,
          r.keyCode,
          r instanceof KeyboardEvent ? r : void 0
        ));
  }
  ignoreDuringComposition(e) {
    return /^key/.test(e.type)
      ? this.composing > 0
        ? !0
        : gt.safari &&
            !gt.ios &&
            this.compositionPendingKey &&
            Date.now() - this.compositionEndedAt < 100
          ? ((this.compositionPendingKey = !1), !0)
          : !1
      : !1;
  }
  startMouseSelection(e) {
    this.mouseSelection && this.mouseSelection.destroy(),
      (this.mouseSelection = e);
  }
  update(e) {
    this.mouseSelection && this.mouseSelection.update(e),
      this.draggedContent &&
        e.docChanged &&
        (this.draggedContent = this.draggedContent.map(e.changes)),
      e.transactions.length && (this.lastKeyCode = this.lastSelectionTime = 0);
  }
  destroy() {
    this.mouseSelection && this.mouseSelection.destroy();
  }
}
function O9(t, e) {
  return (r, n) => {
    try {
      return e.call(t, n, r);
    } catch (i) {
      ts(r.state, i);
    }
  };
}
function eV(t) {
  let e = Object.create(null);
  function r(n) {
    return e[n] || (e[n] = { observers: [], handlers: [] });
  }
  for (let n of t) {
    let i = n.spec;
    if (i && i.domEventHandlers)
      for (let o in i.domEventHandlers) {
        let s = i.domEventHandlers[o];
        s && r(o).handlers.push(O9(n.value, s));
      }
    if (i && i.domEventObservers)
      for (let o in i.domEventObservers) {
        let s = i.domEventObservers[o];
        s && r(o).observers.push(O9(n.value, s));
      }
  }
  for (let n in Oo) r(n).handlers.push(Oo[n]);
  for (let n in oo) r(n).observers.push(oo[n]);
  return e;
}
const o_ = [
    { key: "Backspace", keyCode: 8, inputType: "deleteContentBackward" },
    { key: "Enter", keyCode: 13, inputType: "insertParagraph" },
    { key: "Enter", keyCode: 13, inputType: "insertLineBreak" },
    { key: "Delete", keyCode: 46, inputType: "deleteContentForward" },
  ],
  tV = "dthko",
  a_ = [16, 17, 18, 20, 91, 92, 224, 225],
  dm = 6;
function pm(t) {
  return Math.max(0, t) * 0.7 + 8;
}
function rV(t, e) {
  return Math.max(
    Math.abs(t.clientX - e.clientX),
    Math.abs(t.clientY - e.clientY)
  );
}
class nV {
  constructor(e, r, n, i) {
    (this.view = e),
      (this.startEvent = r),
      (this.style = n),
      (this.mustSelect = i),
      (this.scrollSpeed = { x: 0, y: 0 }),
      (this.scrolling = -1),
      (this.lastEvent = r),
      (this.scrollParent = bH(e.contentDOM)),
      (this.atoms = e.state.facet(t7).map((s) => s(e)));
    let o = e.contentDOM.ownerDocument;
    o.addEventListener("mousemove", (this.move = this.move.bind(this))),
      o.addEventListener("mouseup", (this.up = this.up.bind(this))),
      (this.extend = r.shiftKey),
      (this.multiple = e.state.facet(sr.allowMultipleSelections) && iV(e, r)),
      (this.dragging = oV(e, r) && f_(r) == 1 ? null : !1);
  }
  start(e) {
    this.dragging === !1 && this.select(e);
  }
  move(e) {
    var r;
    if (e.buttons == 0) return this.destroy();
    if (this.dragging || (this.dragging == null && rV(this.startEvent, e) < 10))
      return;
    this.select((this.lastEvent = e));
    let n = 0,
      i = 0,
      o = ((r = this.scrollParent) === null || r === void 0
        ? void 0
        : r.getBoundingClientRect()) || {
        left: 0,
        top: 0,
        right: this.view.win.innerWidth,
        bottom: this.view.win.innerHeight,
      },
      s = n_(this.view);
    e.clientX - s.left <= o.left + dm
      ? (n = -pm(o.left - e.clientX))
      : e.clientX + s.right >= o.right - dm && (n = pm(e.clientX - o.right)),
      e.clientY - s.top <= o.top + dm
        ? (i = -pm(o.top - e.clientY))
        : e.clientY + s.bottom >= o.bottom - dm &&
          (i = pm(e.clientY - o.bottom)),
      this.setScrollSpeed(n, i);
  }
  up(e) {
    this.dragging == null && this.select(this.lastEvent),
      this.dragging || e.preventDefault(),
      this.destroy();
  }
  destroy() {
    this.setScrollSpeed(0, 0);
    let e = this.view.contentDOM.ownerDocument;
    e.removeEventListener("mousemove", this.move),
      e.removeEventListener("mouseup", this.up),
      (this.view.inputState.mouseSelection =
        this.view.inputState.draggedContent =
          null);
  }
  setScrollSpeed(e, r) {
    (this.scrollSpeed = { x: e, y: r }),
      e || r
        ? this.scrolling < 0 &&
          (this.scrolling = setInterval(() => this.scroll(), 50))
        : this.scrolling > -1 &&
          (clearInterval(this.scrolling), (this.scrolling = -1));
  }
  scroll() {
    this.scrollParent
      ? ((this.scrollParent.scrollLeft += this.scrollSpeed.x),
        (this.scrollParent.scrollTop += this.scrollSpeed.y))
      : this.view.win.scrollBy(this.scrollSpeed.x, this.scrollSpeed.y),
      this.dragging === !1 && this.select(this.lastEvent);
  }
  skipAtoms(e) {
    let r = null;
    for (let n = 0; n < e.ranges.length; n++) {
      let i = e.ranges[n],
        o = null;
      if (i.empty) {
        let s = pg(this.atoms, i.from, 0);
        s != i.from && (o = Te.cursor(s, -1));
      } else {
        let s = pg(this.atoms, i.from, -1),
          a = pg(this.atoms, i.to, 1);
        (s != i.from || a != i.to) &&
          (o = Te.range(i.from == i.anchor ? s : a, i.from == i.head ? s : a));
      }
      o && (r || (r = e.ranges.slice()), (r[n] = o));
    }
    return r ? Te.create(r, e.mainIndex) : e;
  }
  select(e) {
    let { view: r } = this,
      n = this.skipAtoms(this.style.get(e, this.extend, this.multiple));
    (this.mustSelect || !n.eq(r.state.selection, this.dragging === !1)) &&
      this.view.dispatch({ selection: n, userEvent: "select.pointer" }),
      (this.mustSelect = !1);
  }
  update(e) {
    this.style.update(e) && setTimeout(() => this.select(this.lastEvent), 20);
  }
}
function iV(t, e) {
  let r = t.state.facet(WM);
  return r.length ? r[0](e) : gt.mac ? e.metaKey : e.ctrlKey;
}
function sV(t, e) {
  let r = t.state.facet(qM);
  return r.length ? r[0](e) : gt.mac ? !e.altKey : !e.ctrlKey;
}
function oV(t, e) {
  let { main: r } = t.state.selection;
  if (r.empty) return !1;
  let n = h1(t.root);
  if (!n || n.rangeCount == 0) return !0;
  let i = n.getRangeAt(0).getClientRects();
  for (let o = 0; o < i.length; o++) {
    let s = i[o];
    if (
      s.left <= e.clientX &&
      s.right >= e.clientX &&
      s.top <= e.clientY &&
      s.bottom >= e.clientY
    )
      return !0;
  }
  return !1;
}
function aV(t, e) {
  if (!e.bubbles) return !0;
  if (e.defaultPrevented) return !1;
  for (let r = e.target, n; r != t.contentDOM; r = r.parentNode)
    if (!r || r.nodeType == 11 || ((n = Ir.get(r)) && n.ignoreEvent(e)))
      return !1;
  return !0;
}
const Oo = Object.create(null),
  oo = Object.create(null),
  l_ = (gt.ie && gt.ie_version < 15) || (gt.ios && gt.webkit_version < 604);
function lV(t) {
  let e = t.dom.parentNode;
  if (!e) return;
  let r = e.appendChild(document.createElement("textarea"));
  (r.style.cssText = "position: fixed; left: -10000px; top: 10px"),
    r.focus(),
    setTimeout(() => {
      t.focus(), r.remove(), u_(t, r.value);
    }, 50);
}
function u_(t, e) {
  let { state: r } = t,
    n,
    i = 1,
    o = r.toText(e),
    s = o.lines == r.selection.ranges.length;
  if (
    m5 != null &&
    r.selection.ranges.every((l) => l.empty) &&
    m5 == o.toString()
  ) {
    let l = -1;
    n = r.changeByRange((u) => {
      let c = r.doc.lineAt(u.from);
      if (c.from == l) return { range: u };
      l = c.from;
      let f = r.toText((s ? o.line(i++).text : e) + r.lineBreak);
      return {
        changes: { from: c.from, insert: f },
        range: Te.cursor(u.from + f.length),
      };
    });
  } else
    s
      ? (n = r.changeByRange((l) => {
          let u = o.line(i++);
          return {
            changes: { from: l.from, to: l.to, insert: u.text },
            range: Te.cursor(l.from + u.length),
          };
        }))
      : (n = r.replaceSelection(o));
  t.dispatch(n, { userEvent: "input.paste", scrollIntoView: !0 });
}
oo.scroll = (t) => {
  (t.inputState.lastScrollTop = t.scrollDOM.scrollTop),
    (t.inputState.lastScrollLeft = t.scrollDOM.scrollLeft);
};
Oo.keydown = (t, e) => (
  t.inputState.setSelectionOrigin("select"),
  e.keyCode == 27 && (t.inputState.lastEscPress = Date.now()),
  !1
);
oo.touchstart = (t, e) => {
  (t.inputState.lastTouchTime = Date.now()),
    t.inputState.setSelectionOrigin("select.pointer");
};
oo.touchmove = (t) => {
  t.inputState.setSelectionOrigin("select.pointer");
};
Oo.mousedown = (t, e) => {
  if ((t.observer.flush(), t.inputState.lastTouchTime > Date.now() - 2e3))
    return !1;
  let r = null;
  for (let n of t.state.facet(UM)) if (((r = n(t, e)), r)) break;
  if ((!r && e.button == 0 && (r = fV(t, e)), r)) {
    let n = !t.hasFocus;
    t.inputState.startMouseSelection(new nV(t, e, r, n)),
      n && t.observer.ignore(() => CM(t.contentDOM));
    let i = t.inputState.mouseSelection;
    if (i) return i.start(e), i.dragging === !1;
  }
  return !1;
};
function B9(t, e, r, n) {
  if (n == 1) return Te.cursor(e, r);
  if (n == 2) return qH(t.state, e, r);
  {
    let i = In.find(t.docView, e),
      o = t.state.doc.lineAt(i ? i.posAtEnd : e),
      s = i ? i.posAtStart : o.from,
      a = i ? i.posAtEnd : o.to;
    return a < t.state.doc.length && a == o.to && a++, Te.range(s, a);
  }
}
let c_ = (t, e) => t >= e.top && t <= e.bottom,
  T9 = (t, e, r) => c_(e, r) && t >= r.left && t <= r.right;
function uV(t, e, r, n) {
  let i = In.find(t.docView, e);
  if (!i) return 1;
  let o = e - i.posAtStart;
  if (o == 0) return 1;
  if (o == i.length) return -1;
  let s = i.coordsAt(o, -1);
  if (s && T9(r, n, s)) return -1;
  let a = i.coordsAt(o, 1);
  return a && T9(r, n, a) ? 1 : s && c_(n, s) ? -1 : 1;
}
function P9(t, e) {
  let r = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1);
  return { pos: r, bias: uV(t, r, e.clientX, e.clientY) };
}
const cV = gt.ie && gt.ie_version <= 11;
let R9 = null,
  I9 = 0,
  N9 = 0;
function f_(t) {
  if (!cV) return t.detail;
  let e = R9,
    r = N9;
  return (
    (R9 = t),
    (N9 = Date.now()),
    (I9 =
      !e ||
      (r > Date.now() - 400 &&
        Math.abs(e.clientX - t.clientX) < 2 &&
        Math.abs(e.clientY - t.clientY) < 2)
        ? (I9 + 1) % 3
        : 1)
  );
}
function fV(t, e) {
  let r = P9(t, e),
    n = f_(e),
    i = t.state.selection;
  return {
    update(o) {
      o.docChanged &&
        ((r.pos = o.changes.mapPos(r.pos)), (i = i.map(o.changes)));
    },
    get(o, s, a) {
      let l = P9(t, o),
        u,
        c = B9(t, l.pos, l.bias, n);
      if (r.pos != l.pos && !s) {
        let f = B9(t, r.pos, r.bias, n),
          h = Math.min(f.from, c.from),
          d = Math.max(f.to, c.to);
        c = h < c.from ? Te.range(h, d) : Te.range(d, h);
      }
      return s
        ? i.replaceRange(i.main.extend(c.from, c.to))
        : a && n == 1 && i.ranges.length > 1 && (u = hV(i, l.pos))
          ? u
          : a
            ? i.addRange(c)
            : Te.create([c]);
    },
  };
}
function hV(t, e) {
  for (let r = 0; r < t.ranges.length; r++) {
    let { from: n, to: i } = t.ranges[r];
    if (n <= e && i >= e)
      return Te.create(
        t.ranges.slice(0, r).concat(t.ranges.slice(r + 1)),
        t.mainIndex == r ? 0 : t.mainIndex - (t.mainIndex > r ? 1 : 0)
      );
  }
  return null;
}
Oo.dragstart = (t, e) => {
  let {
    selection: { main: r },
  } = t.state;
  if (e.target.draggable) {
    let i = t.docView.nearest(e.target);
    if (i && i.isWidget) {
      let o = i.posAtStart,
        s = o + i.length;
      (o >= r.to || s <= r.from) && (r = Te.range(o, s));
    }
  }
  let { inputState: n } = t;
  return (
    n.mouseSelection && (n.mouseSelection.dragging = !0),
    (n.draggedContent = r),
    e.dataTransfer &&
      (e.dataTransfer.setData("Text", t.state.sliceDoc(r.from, r.to)),
      (e.dataTransfer.effectAllowed = "copyMove")),
    !1
  );
};
Oo.dragend = (t) => ((t.inputState.draggedContent = null), !1);
function L9(t, e, r, n) {
  if (!r) return;
  let i = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1),
    { draggedContent: o } = t.inputState,
    s = n && o && sV(t, e) ? { from: o.from, to: o.to } : null,
    a = { from: i, insert: r },
    l = t.state.changes(s ? [s, a] : a);
  t.focus(),
    t.dispatch({
      changes: l,
      selection: { anchor: l.mapPos(i, -1), head: l.mapPos(i, 1) },
      userEvent: s ? "move.drop" : "input.drop",
    }),
    (t.inputState.draggedContent = null);
}
Oo.drop = (t, e) => {
  if (!e.dataTransfer) return !1;
  if (t.state.readOnly) return !0;
  let r = e.dataTransfer.files;
  if (r && r.length) {
    let n = Array(r.length),
      i = 0,
      o = () => {
        ++i == r.length &&
          L9(t, e, n.filter((s) => s != null).join(t.state.lineBreak), !1);
      };
    for (let s = 0; s < r.length; s++) {
      let a = new FileReader();
      (a.onerror = o),
        (a.onload = () => {
          /[\x00-\x08\x0e-\x1f]{2}/.test(a.result) || (n[s] = a.result), o();
        }),
        a.readAsText(r[s]);
    }
    return !0;
  } else {
    let n = e.dataTransfer.getData("Text");
    if (n) return L9(t, e, n, !0), !0;
  }
  return !1;
};
Oo.paste = (t, e) => {
  if (t.state.readOnly) return !0;
  t.observer.flush();
  let r = l_ ? null : e.clipboardData;
  return r
    ? (u_(t, r.getData("text/plain") || r.getData("text/uri-list")), !0)
    : (lV(t), !1);
};
function dV(t, e) {
  let r = t.dom.parentNode;
  if (!r) return;
  let n = r.appendChild(document.createElement("textarea"));
  (n.style.cssText = "position: fixed; left: -10000px; top: 10px"),
    (n.value = e),
    n.focus(),
    (n.selectionEnd = e.length),
    (n.selectionStart = 0),
    setTimeout(() => {
      n.remove(), t.focus();
    }, 50);
}
function pV(t) {
  let e = [],
    r = [],
    n = !1;
  for (let i of t.selection.ranges)
    i.empty || (e.push(t.sliceDoc(i.from, i.to)), r.push(i));
  if (!e.length) {
    let i = -1;
    for (let { from: o } of t.selection.ranges) {
      let s = t.doc.lineAt(o);
      s.number > i &&
        (e.push(s.text),
        r.push({ from: s.from, to: Math.min(t.doc.length, s.to + 1) })),
        (i = s.number);
    }
    n = !0;
  }
  return { text: e.join(t.lineBreak), ranges: r, linewise: n };
}
let m5 = null;
Oo.copy = Oo.cut = (t, e) => {
  let { text: r, ranges: n, linewise: i } = pV(t.state);
  if (!r && !i) return !1;
  (m5 = i ? r : null),
    e.type == "cut" &&
      !t.state.readOnly &&
      t.dispatch({ changes: n, scrollIntoView: !0, userEvent: "delete.cut" });
  let o = l_ ? null : e.clipboardData;
  return o ? (o.clearData(), o.setData("text/plain", r), !0) : (dV(t, r), !1);
};
const h_ = nl.define();
function d_(t, e) {
  let r = [];
  for (let n of t.facet(YM)) {
    let i = n(t, e);
    i && r.push(i);
  }
  return r ? t.update({ effects: r, annotations: h_.of(!0) }) : null;
}
function p_(t) {
  setTimeout(() => {
    let e = t.hasFocus;
    if (e != t.inputState.notifiedFocused) {
      let r = d_(t.state, e);
      r ? t.dispatch(r) : t.update([]);
    }
  }, 10);
}
oo.focus = (t) => {
  (t.inputState.lastFocusTime = Date.now()),
    !t.scrollDOM.scrollTop &&
      (t.inputState.lastScrollTop || t.inputState.lastScrollLeft) &&
      ((t.scrollDOM.scrollTop = t.inputState.lastScrollTop),
      (t.scrollDOM.scrollLeft = t.inputState.lastScrollLeft)),
    p_(t);
};
oo.blur = (t) => {
  t.observer.clearSelectionRange(), p_(t);
};
oo.compositionstart = oo.compositionupdate = (t) => {
  t.inputState.compositionFirstChange == null &&
    (t.inputState.compositionFirstChange = !0),
    t.inputState.composing < 0 && (t.inputState.composing = 0);
};
oo.compositionend = (t) => {
  (t.inputState.composing = -1),
    (t.inputState.compositionEndedAt = Date.now()),
    (t.inputState.compositionPendingKey = !0),
    (t.inputState.compositionPendingChange =
      t.observer.pendingRecords().length > 0),
    (t.inputState.compositionFirstChange = null),
    gt.chrome && gt.android
      ? t.observer.flushSoon()
      : t.inputState.compositionPendingChange
        ? Promise.resolve().then(() => t.observer.flush())
        : setTimeout(() => {
            t.inputState.composing < 0 &&
              t.docView.hasComposition &&
              t.update([]);
          }, 50);
};
oo.contextmenu = (t) => {
  t.inputState.lastContextMenu = Date.now();
};
Oo.beforeinput = (t, e) => {
  var r;
  let n;
  if (
    gt.chrome &&
    gt.android &&
    (n = o_.find((i) => i.inputType == e.inputType)) &&
    (t.observer.delayAndroidKey(n.key, n.keyCode),
    n.key == "Backspace" || n.key == "Delete")
  ) {
    let i =
      ((r = window.visualViewport) === null || r === void 0
        ? void 0
        : r.height) || 0;
    setTimeout(() => {
      var o;
      (((o = window.visualViewport) === null || o === void 0
        ? void 0
        : o.height) || 0) >
        i + 10 &&
        t.hasFocus &&
        (t.contentDOM.blur(), t.focus());
    }, 100);
  }
  return (
    gt.ios && e.inputType == "deleteContentForward" && t.observer.flushSoon(),
    gt.safari &&
      e.inputType == "insertText" &&
      t.inputState.composing >= 0 &&
      setTimeout(() => oo.compositionend(t, e), 20),
    !1
  );
};
const z9 = new Set();
function mV(t) {
  z9.has(t) ||
    (z9.add(t),
    t.addEventListener("copy", () => {}),
    t.addEventListener("cut", () => {}));
}
const j9 = ["pre-wrap", "normal", "pre-line", "break-spaces"];
class gV {
  constructor(e) {
    (this.lineWrapping = e),
      (this.doc = Er.empty),
      (this.heightSamples = {}),
      (this.lineHeight = 14),
      (this.charWidth = 7),
      (this.textHeight = 14),
      (this.lineLength = 30),
      (this.heightChanged = !1);
  }
  heightForGap(e, r) {
    let n = this.doc.lineAt(r).number - this.doc.lineAt(e).number + 1;
    return (
      this.lineWrapping &&
        (n += Math.max(
          0,
          Math.ceil((r - e - n * this.lineLength * 0.5) / this.lineLength)
        )),
      this.lineHeight * n
    );
  }
  heightForLine(e) {
    return this.lineWrapping
      ? (1 +
          Math.max(
            0,
            Math.ceil((e - this.lineLength) / (this.lineLength - 5))
          )) *
          this.lineHeight
      : this.lineHeight;
  }
  setDoc(e) {
    return (this.doc = e), this;
  }
  mustRefreshForWrapping(e) {
    return j9.indexOf(e) > -1 != this.lineWrapping;
  }
  mustRefreshForHeights(e) {
    let r = !1;
    for (let n = 0; n < e.length; n++) {
      let i = e[n];
      i < 0
        ? n++
        : this.heightSamples[Math.floor(i * 10)] ||
          ((r = !0), (this.heightSamples[Math.floor(i * 10)] = !0));
    }
    return r;
  }
  refresh(e, r, n, i, o, s) {
    let a = j9.indexOf(e) > -1,
      l =
        Math.round(r) != Math.round(this.lineHeight) || this.lineWrapping != a;
    if (
      ((this.lineWrapping = a),
      (this.lineHeight = r),
      (this.charWidth = n),
      (this.textHeight = i),
      (this.lineLength = o),
      l)
    ) {
      this.heightSamples = {};
      for (let u = 0; u < s.length; u++) {
        let c = s[u];
        c < 0 ? u++ : (this.heightSamples[Math.floor(c * 10)] = !0);
      }
    }
    return l;
  }
}
class vV {
  constructor(e, r) {
    (this.from = e), (this.heights = r), (this.index = 0);
  }
  get more() {
    return this.index < this.heights.length;
  }
}
class Qo {
  constructor(e, r, n, i, o) {
    (this.from = e),
      (this.length = r),
      (this.top = n),
      (this.height = i),
      (this._content = o);
  }
  get type() {
    return typeof this._content == "number"
      ? Ni.Text
      : Array.isArray(this._content)
        ? this._content
        : this._content.type;
  }
  get to() {
    return this.from + this.length;
  }
  get bottom() {
    return this.top + this.height;
  }
  get widget() {
    return this._content instanceof uu ? this._content.widget : null;
  }
  get widgetLineBreaks() {
    return typeof this._content == "number" ? this._content : 0;
  }
  join(e) {
    let r = (Array.isArray(this._content) ? this._content : [this]).concat(
      Array.isArray(e._content) ? e._content : [e]
    );
    return new Qo(
      this.from,
      this.length + e.length,
      this.top,
      this.height + e.height,
      r
    );
  }
}
var Kr = (function (t) {
  return (
    (t[(t.ByPos = 0)] = "ByPos"),
    (t[(t.ByHeight = 1)] = "ByHeight"),
    (t[(t.ByPosNoHeight = 2)] = "ByPosNoHeight"),
    t
  );
})(Kr || (Kr = {}));
const mg = 0.001;
class Li {
  constructor(e, r, n = 2) {
    (this.length = e), (this.height = r), (this.flags = n);
  }
  get outdated() {
    return (this.flags & 2) > 0;
  }
  set outdated(e) {
    this.flags = (e ? 2 : 0) | (this.flags & -3);
  }
  setHeight(e, r) {
    this.height != r &&
      (Math.abs(this.height - r) > mg && (e.heightChanged = !0),
      (this.height = r));
  }
  replace(e, r, n) {
    return Li.of(n);
  }
  decomposeLeft(e, r) {
    r.push(this);
  }
  decomposeRight(e, r) {
    r.push(this);
  }
  applyChanges(e, r, n, i) {
    let o = this,
      s = n.doc;
    for (let a = i.length - 1; a >= 0; a--) {
      let { fromA: l, toA: u, fromB: c, toB: f } = i[a],
        h = o.lineAt(l, Kr.ByPosNoHeight, n.setDoc(r), 0, 0),
        d = h.to >= u ? h : o.lineAt(u, Kr.ByPosNoHeight, n, 0, 0);
      for (f += d.to - u, u = d.to; a > 0 && h.from <= i[a - 1].toA; )
        (l = i[a - 1].fromA),
          (c = i[a - 1].fromB),
          a--,
          l < h.from && (h = o.lineAt(l, Kr.ByPosNoHeight, n, 0, 0));
      (c += h.from - l), (l = h.from);
      let p = r7.build(n.setDoc(s), e, c, f);
      o = o.replace(l, u, p);
    }
    return o.updateHeight(n, 0);
  }
  static empty() {
    return new hs(0, 0);
  }
  static of(e) {
    if (e.length == 1) return e[0];
    let r = 0,
      n = e.length,
      i = 0,
      o = 0;
    for (;;)
      if (r == n)
        if (i > o * 2) {
          let a = e[r - 1];
          a.break
            ? e.splice(--r, 1, a.left, null, a.right)
            : e.splice(--r, 1, a.left, a.right),
            (n += 1 + a.break),
            (i -= a.size);
        } else if (o > i * 2) {
          let a = e[n];
          a.break
            ? e.splice(n, 1, a.left, null, a.right)
            : e.splice(n, 1, a.left, a.right),
            (n += 2 + a.break),
            (o -= a.size);
        } else break;
      else if (i < o) {
        let a = e[r++];
        a && (i += a.size);
      } else {
        let a = e[--n];
        a && (o += a.size);
      }
    let s = 0;
    return (
      e[r - 1] == null ? ((s = 1), r--) : e[r] == null && ((s = 1), n++),
      new yV(Li.of(e.slice(0, r)), s, Li.of(e.slice(n)))
    );
  }
}
Li.prototype.size = 1;
class m_ extends Li {
  constructor(e, r, n) {
    super(e, r), (this.deco = n);
  }
  blockAt(e, r, n, i) {
    return new Qo(i, this.length, n, this.height, this.deco || 0);
  }
  lineAt(e, r, n, i, o) {
    return this.blockAt(0, n, i, o);
  }
  forEachLine(e, r, n, i, o, s) {
    e <= o + this.length && r >= o && s(this.blockAt(0, n, i, o));
  }
  updateHeight(e, r = 0, n = !1, i) {
    return (
      i && i.from <= r && i.more && this.setHeight(e, i.heights[i.index++]),
      (this.outdated = !1),
      this
    );
  }
  toString() {
    return `block(${this.length})`;
  }
}
class hs extends m_ {
  constructor(e, r) {
    super(e, r, null),
      (this.collapsed = 0),
      (this.widgetHeight = 0),
      (this.breaks = 0);
  }
  blockAt(e, r, n, i) {
    return new Qo(i, this.length, n, this.height, this.breaks);
  }
  replace(e, r, n) {
    let i = n[0];
    return n.length == 1 &&
      (i instanceof hs || (i instanceof oi && i.flags & 4)) &&
      Math.abs(this.length - i.length) < 10
      ? (i instanceof oi
          ? (i = new hs(i.length, this.height))
          : (i.height = this.height),
        this.outdated || (i.outdated = !1),
        i)
      : Li.of(n);
  }
  updateHeight(e, r = 0, n = !1, i) {
    return (
      i && i.from <= r && i.more
        ? this.setHeight(e, i.heights[i.index++])
        : (n || this.outdated) &&
          this.setHeight(
            e,
            Math.max(
              this.widgetHeight,
              e.heightForLine(this.length - this.collapsed)
            ) +
              this.breaks * e.lineHeight
          ),
      (this.outdated = !1),
      this
    );
  }
  toString() {
    return `line(${this.length}${this.collapsed ? -this.collapsed : ""}${this.widgetHeight ? ":" + this.widgetHeight : ""})`;
  }
}
class oi extends Li {
  constructor(e) {
    super(e, 0);
  }
  heightMetrics(e, r) {
    let n = e.doc.lineAt(r).number,
      i = e.doc.lineAt(r + this.length).number,
      o = i - n + 1,
      s,
      a = 0;
    if (e.lineWrapping) {
      let l = Math.min(this.height, e.lineHeight * o);
      (s = l / o),
        this.length > o + 1 && (a = (this.height - l) / (this.length - o - 1));
    } else s = this.height / o;
    return { firstLine: n, lastLine: i, perLine: s, perChar: a };
  }
  blockAt(e, r, n, i) {
    let {
      firstLine: o,
      lastLine: s,
      perLine: a,
      perChar: l,
    } = this.heightMetrics(r, i);
    if (r.lineWrapping) {
      let u =
          i +
          (e < r.lineHeight
            ? 0
            : Math.round(
                Math.max(0, Math.min(1, (e - n) / this.height)) * this.length
              )),
        c = r.doc.lineAt(u),
        f = a + c.length * l,
        h = Math.max(n, e - f / 2);
      return new Qo(c.from, c.length, h, f, 0);
    } else {
      let u = Math.max(0, Math.min(s - o, Math.floor((e - n) / a))),
        { from: c, length: f } = r.doc.line(o + u);
      return new Qo(c, f, n + a * u, a, 0);
    }
  }
  lineAt(e, r, n, i, o) {
    if (r == Kr.ByHeight) return this.blockAt(e, n, i, o);
    if (r == Kr.ByPosNoHeight) {
      let { from: d, to: p } = n.doc.lineAt(e);
      return new Qo(d, p - d, 0, 0, 0);
    }
    let { firstLine: s, perLine: a, perChar: l } = this.heightMetrics(n, o),
      u = n.doc.lineAt(e),
      c = a + u.length * l,
      f = u.number - s,
      h = i + a * f + l * (u.from - o - f);
    return new Qo(
      u.from,
      u.length,
      Math.max(i, Math.min(h, i + this.height - c)),
      c,
      0
    );
  }
  forEachLine(e, r, n, i, o, s) {
    (e = Math.max(e, o)), (r = Math.min(r, o + this.length));
    let { firstLine: a, perLine: l, perChar: u } = this.heightMetrics(n, o);
    for (let c = e, f = i; c <= r; ) {
      let h = n.doc.lineAt(c);
      if (c == e) {
        let p = h.number - a;
        f += l * p + u * (e - o - p);
      }
      let d = l + u * h.length;
      s(new Qo(h.from, h.length, f, d, 0)), (f += d), (c = h.to + 1);
    }
  }
  replace(e, r, n) {
    let i = this.length - r;
    if (i > 0) {
      let o = n[n.length - 1];
      o instanceof oi
        ? (n[n.length - 1] = new oi(o.length + i))
        : n.push(null, new oi(i - 1));
    }
    if (e > 0) {
      let o = n[0];
      o instanceof oi
        ? (n[0] = new oi(e + o.length))
        : n.unshift(new oi(e - 1), null);
    }
    return Li.of(n);
  }
  decomposeLeft(e, r) {
    r.push(new oi(e - 1), null);
  }
  decomposeRight(e, r) {
    r.push(null, new oi(this.length - e - 1));
  }
  updateHeight(e, r = 0, n = !1, i) {
    let o = r + this.length;
    if (i && i.from <= r + this.length && i.more) {
      let s = [],
        a = Math.max(r, i.from),
        l = -1;
      for (
        i.from > r && s.push(new oi(i.from - r - 1).updateHeight(e, r));
        a <= o && i.more;

      ) {
        let c = e.doc.lineAt(a).length;
        s.length && s.push(null);
        let f = i.heights[i.index++];
        l == -1 ? (l = f) : Math.abs(f - l) >= mg && (l = -2);
        let h = new hs(c, f);
        (h.outdated = !1), s.push(h), (a += c + 1);
      }
      a <= o && s.push(null, new oi(o - a).updateHeight(e, a));
      let u = Li.of(s);
      return (
        (l < 0 ||
          Math.abs(u.height - this.height) >= mg ||
          Math.abs(l - this.heightMetrics(e, r).perLine) >= mg) &&
          (e.heightChanged = !0),
        u
      );
    } else
      (n || this.outdated) &&
        (this.setHeight(e, e.heightForGap(r, r + this.length)),
        (this.outdated = !1));
    return this;
  }
  toString() {
    return `gap(${this.length})`;
  }
}
class yV extends Li {
  constructor(e, r, n) {
    super(
      e.length + r + n.length,
      e.height + n.height,
      r | (e.outdated || n.outdated ? 2 : 0)
    ),
      (this.left = e),
      (this.right = n),
      (this.size = e.size + n.size);
  }
  get break() {
    return this.flags & 1;
  }
  blockAt(e, r, n, i) {
    let o = n + this.left.height;
    return e < o
      ? this.left.blockAt(e, r, n, i)
      : this.right.blockAt(e, r, o, i + this.left.length + this.break);
  }
  lineAt(e, r, n, i, o) {
    let s = i + this.left.height,
      a = o + this.left.length + this.break,
      l = r == Kr.ByHeight ? e < s : e < a,
      u = l
        ? this.left.lineAt(e, r, n, i, o)
        : this.right.lineAt(e, r, n, s, a);
    if (this.break || (l ? u.to < a : u.from > a)) return u;
    let c = r == Kr.ByPosNoHeight ? Kr.ByPosNoHeight : Kr.ByPos;
    return l
      ? u.join(this.right.lineAt(a, c, n, s, a))
      : this.left.lineAt(a, c, n, i, o).join(u);
  }
  forEachLine(e, r, n, i, o, s) {
    let a = i + this.left.height,
      l = o + this.left.length + this.break;
    if (this.break)
      e < l && this.left.forEachLine(e, r, n, i, o, s),
        r >= l && this.right.forEachLine(e, r, n, a, l, s);
    else {
      let u = this.lineAt(l, Kr.ByPos, n, i, o);
      e < u.from && this.left.forEachLine(e, u.from - 1, n, i, o, s),
        u.to >= e && u.from <= r && s(u),
        r > u.to && this.right.forEachLine(u.to + 1, r, n, a, l, s);
    }
  }
  replace(e, r, n) {
    let i = this.left.length + this.break;
    if (r < i) return this.balanced(this.left.replace(e, r, n), this.right);
    if (e > this.left.length)
      return this.balanced(this.left, this.right.replace(e - i, r - i, n));
    let o = [];
    e > 0 && this.decomposeLeft(e, o);
    let s = o.length;
    for (let a of n) o.push(a);
    if ((e > 0 && H9(o, s - 1), r < this.length)) {
      let a = o.length;
      this.decomposeRight(r, o), H9(o, a);
    }
    return Li.of(o);
  }
  decomposeLeft(e, r) {
    let n = this.left.length;
    if (e <= n) return this.left.decomposeLeft(e, r);
    r.push(this.left),
      this.break && (n++, e >= n && r.push(null)),
      e > n && this.right.decomposeLeft(e - n, r);
  }
  decomposeRight(e, r) {
    let n = this.left.length,
      i = n + this.break;
    if (e >= i) return this.right.decomposeRight(e - i, r);
    e < n && this.left.decomposeRight(e, r),
      this.break && e < i && r.push(null),
      r.push(this.right);
  }
  balanced(e, r) {
    return e.size > 2 * r.size || r.size > 2 * e.size
      ? Li.of(this.break ? [e, null, r] : [e, r])
      : ((this.left = e),
        (this.right = r),
        (this.height = e.height + r.height),
        (this.outdated = e.outdated || r.outdated),
        (this.size = e.size + r.size),
        (this.length = e.length + this.break + r.length),
        this);
  }
  updateHeight(e, r = 0, n = !1, i) {
    let { left: o, right: s } = this,
      a = r + o.length + this.break,
      l = null;
    return (
      i && i.from <= r + o.length && i.more
        ? (l = o = o.updateHeight(e, r, n, i))
        : o.updateHeight(e, r, n),
      i && i.from <= a + s.length && i.more
        ? (l = s = s.updateHeight(e, a, n, i))
        : s.updateHeight(e, a, n),
      l
        ? this.balanced(o, s)
        : ((this.height = this.left.height + this.right.height),
          (this.outdated = !1),
          this)
    );
  }
  toString() {
    return this.left + (this.break ? " " : "-") + this.right;
  }
}
function H9(t, e) {
  let r, n;
  t[e] == null &&
    (r = t[e - 1]) instanceof oi &&
    (n = t[e + 1]) instanceof oi &&
    t.splice(e - 1, 3, new oi(r.length + 1 + n.length));
}
const bV = 5;
class r7 {
  constructor(e, r) {
    (this.pos = e),
      (this.oracle = r),
      (this.nodes = []),
      (this.lineStart = -1),
      (this.lineEnd = -1),
      (this.covering = null),
      (this.writtenTo = e);
  }
  get isCovered() {
    return this.covering && this.nodes[this.nodes.length - 1] == this.covering;
  }
  span(e, r) {
    if (this.lineStart > -1) {
      let n = Math.min(r, this.lineEnd),
        i = this.nodes[this.nodes.length - 1];
      i instanceof hs
        ? (i.length += n - this.pos)
        : (n > this.pos || !this.isCovered) &&
          this.nodes.push(new hs(n - this.pos, -1)),
        (this.writtenTo = n),
        r > n &&
          (this.nodes.push(null), this.writtenTo++, (this.lineStart = -1));
    }
    this.pos = r;
  }
  point(e, r, n) {
    if (e < r || n.heightRelevant) {
      let i = n.widget ? n.widget.estimatedHeight : 0,
        o = n.widget ? n.widget.lineBreaks : 0;
      i < 0 && (i = this.oracle.lineHeight);
      let s = r - e;
      n.block
        ? this.addBlock(new m_(s, i, n))
        : (s || o || i >= bV) && this.addLineDeco(i, o, s);
    } else r > e && this.span(e, r);
    this.lineEnd > -1 &&
      this.lineEnd < this.pos &&
      (this.lineEnd = this.oracle.doc.lineAt(this.pos).to);
  }
  enterLine() {
    if (this.lineStart > -1) return;
    let { from: e, to: r } = this.oracle.doc.lineAt(this.pos);
    (this.lineStart = e),
      (this.lineEnd = r),
      this.writtenTo < e &&
        ((this.writtenTo < e - 1 ||
          this.nodes[this.nodes.length - 1] == null) &&
          this.nodes.push(this.blankContent(this.writtenTo, e - 1)),
        this.nodes.push(null)),
      this.pos > e && this.nodes.push(new hs(this.pos - e, -1)),
      (this.writtenTo = this.pos);
  }
  blankContent(e, r) {
    let n = new oi(r - e);
    return this.oracle.doc.lineAt(e).to == r && (n.flags |= 4), n;
  }
  ensureLine() {
    this.enterLine();
    let e = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;
    if (e instanceof hs) return e;
    let r = new hs(0, -1);
    return this.nodes.push(r), r;
  }
  addBlock(e) {
    this.enterLine();
    let r = e.deco;
    r && r.startSide > 0 && !this.isCovered && this.ensureLine(),
      this.nodes.push(e),
      (this.writtenTo = this.pos = this.pos + e.length),
      r && r.endSide > 0 && (this.covering = e);
  }
  addLineDeco(e, r, n) {
    let i = this.ensureLine();
    (i.length += n),
      (i.collapsed += n),
      (i.widgetHeight = Math.max(i.widgetHeight, e)),
      (i.breaks += r),
      (this.writtenTo = this.pos = this.pos + n);
  }
  finish(e) {
    let r = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];
    this.lineStart > -1 && !(r instanceof hs) && !this.isCovered
      ? this.nodes.push(new hs(0, -1))
      : (this.writtenTo < this.pos || r == null) &&
        this.nodes.push(this.blankContent(this.writtenTo, this.pos));
    let n = e;
    for (let i of this.nodes)
      i instanceof hs && i.updateHeight(this.oracle, n),
        (n += i ? i.length : 1);
    return this.nodes;
  }
  static build(e, r, n, i) {
    let o = new r7(n, e);
    return dr.spans(r, n, i, o, 0), o.finish(n);
  }
}
function DV(t, e, r) {
  let n = new wV();
  return dr.compare(t, e, r, n, 0), n.changes;
}
class wV {
  constructor() {
    this.changes = [];
  }
  compareRange() {}
  comparePoint(e, r, n, i) {
    (e < r || (n && n.heightRelevant) || (i && i.heightRelevant)) &&
      l5(e, r, this.changes, 5);
  }
}
function xV(t, e) {
  let r = t.getBoundingClientRect(),
    n = t.ownerDocument,
    i = n.defaultView || window,
    o = Math.max(0, r.left),
    s = Math.min(i.innerWidth, r.right),
    a = Math.max(0, r.top),
    l = Math.min(i.innerHeight, r.bottom);
  for (let u = t.parentNode; u && u != n.body; )
    if (u.nodeType == 1) {
      let c = u,
        f = window.getComputedStyle(c);
      if (
        (c.scrollHeight > c.clientHeight || c.scrollWidth > c.clientWidth) &&
        f.overflow != "visible"
      ) {
        let h = c.getBoundingClientRect();
        (o = Math.max(o, h.left)),
          (s = Math.min(s, h.right)),
          (a = Math.max(a, h.top)),
          (l = u == t.parentNode ? h.bottom : Math.min(l, h.bottom));
      }
      u =
        f.position == "absolute" || f.position == "fixed"
          ? c.offsetParent
          : c.parentNode;
    } else if (u.nodeType == 11) u = u.host;
    else break;
  return {
    left: o - r.left,
    right: Math.max(o, s) - r.left,
    top: a - (r.top + e),
    bottom: Math.max(a, l) - (r.top + e),
  };
}
function kV(t, e) {
  let r = t.getBoundingClientRect();
  return {
    left: 0,
    right: r.right - r.left,
    top: e,
    bottom: r.bottom - (r.top + e),
  };
}
class O4 {
  constructor(e, r, n) {
    (this.from = e), (this.to = r), (this.size = n);
  }
  static same(e, r) {
    if (e.length != r.length) return !1;
    for (let n = 0; n < e.length; n++) {
      let i = e[n],
        o = r[n];
      if (i.from != o.from || i.to != o.to || i.size != o.size) return !1;
    }
    return !0;
  }
  draw(e, r) {
    return Pt.replace({
      widget: new SV(this.size * (r ? e.scaleY : e.scaleX), r),
    }).range(this.from, this.to);
  }
}
class SV extends ku {
  constructor(e, r) {
    super(), (this.size = e), (this.vertical = r);
  }
  eq(e) {
    return e.size == this.size && e.vertical == this.vertical;
  }
  toDOM() {
    let e = document.createElement("div");
    return (
      this.vertical
        ? (e.style.height = this.size + "px")
        : ((e.style.width = this.size + "px"),
          (e.style.height = "2px"),
          (e.style.display = "inline-block")),
      e
    );
  }
  get estimatedHeight() {
    return this.vertical ? this.size : -1;
  }
}
class V9 {
  constructor(e) {
    (this.state = e),
      (this.pixelViewport = {
        left: 0,
        right: window.innerWidth,
        top: 0,
        bottom: 0,
      }),
      (this.inView = !0),
      (this.paddingTop = 0),
      (this.paddingBottom = 0),
      (this.contentDOMWidth = 0),
      (this.contentDOMHeight = 0),
      (this.editorHeight = 0),
      (this.editorWidth = 0),
      (this.scrollTop = 0),
      (this.scrolledToBottom = !1),
      (this.scaleX = 1),
      (this.scaleY = 1),
      (this.scrollAnchorPos = 0),
      (this.scrollAnchorHeight = -1),
      (this.scaler = W9),
      (this.scrollTarget = null),
      (this.printing = !1),
      (this.mustMeasureContent = !0),
      (this.defaultTextDirection = Jr.LTR),
      (this.visibleRanges = []),
      (this.mustEnforceCursorAssoc = !1);
    let r = e
      .facet(e7)
      .some((n) => typeof n != "function" && n.class == "cm-lineWrapping");
    (this.heightOracle = new gV(r)),
      (this.stateDeco = e.facet(ud).filter((n) => typeof n != "function")),
      (this.heightMap = Li.empty().applyChanges(
        this.stateDeco,
        Er.empty,
        this.heightOracle.setDoc(e.doc),
        [new to(0, 0, 0, e.doc.length)]
      )),
      (this.viewport = this.getViewport(0, null)),
      this.updateViewportLines(),
      this.updateForViewport(),
      (this.lineGaps = this.ensureLineGaps([])),
      (this.lineGapDeco = Pt.set(this.lineGaps.map((n) => n.draw(this, !1)))),
      this.computeVisibleRanges();
  }
  updateForViewport() {
    let e = [this.viewport],
      { main: r } = this.state.selection;
    for (let n = 0; n <= 1; n++) {
      let i = n ? r.head : r.anchor;
      if (!e.some(({ from: o, to: s }) => i >= o && i <= s)) {
        let { from: o, to: s } = this.lineBlockAt(i);
        e.push(new mm(o, s));
      }
    }
    (this.viewports = e.sort((n, i) => n.from - i.from)),
      (this.scaler =
        this.heightMap.height <= 7e6
          ? W9
          : new EV(this.heightOracle, this.heightMap, this.viewports));
  }
  updateViewportLines() {
    (this.viewportLines = []),
      this.heightMap.forEachLine(
        this.viewport.from,
        this.viewport.to,
        this.heightOracle.setDoc(this.state.doc),
        0,
        0,
        (e) => {
          this.viewportLines.push(
            this.scaler.scale == 1 ? e : nh(e, this.scaler)
          );
        }
      );
  }
  update(e, r = null) {
    this.state = e.state;
    let n = this.stateDeco;
    this.stateDeco = this.state.facet(ud).filter((c) => typeof c != "function");
    let i = e.changedRanges,
      o = to.extendWithRanges(
        i,
        DV(n, this.stateDeco, e ? e.changes : zn.empty(this.state.doc.length))
      ),
      s = this.heightMap.height,
      a = this.scrolledToBottom ? null : this.scrollAnchorAt(this.scrollTop);
    (this.heightMap = this.heightMap.applyChanges(
      this.stateDeco,
      e.startState.doc,
      this.heightOracle.setDoc(this.state.doc),
      o
    )),
      this.heightMap.height != s && (e.flags |= 2),
      a
        ? ((this.scrollAnchorPos = e.changes.mapPos(a.from, -1)),
          (this.scrollAnchorHeight = a.top))
        : ((this.scrollAnchorPos = -1),
          (this.scrollAnchorHeight = this.heightMap.height));
    let l = o.length
      ? this.mapViewport(this.viewport, e.changes)
      : this.viewport;
    ((r && (r.range.head < l.from || r.range.head > l.to)) ||
      !this.viewportIsAppropriate(l)) &&
      (l = this.getViewport(0, r));
    let u =
      !e.changes.empty ||
      e.flags & 2 ||
      l.from != this.viewport.from ||
      l.to != this.viewport.to;
    (this.viewport = l),
      this.updateForViewport(),
      u && this.updateViewportLines(),
      (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) &&
        this.updateLineGaps(
          this.ensureLineGaps(this.mapLineGaps(this.lineGaps, e.changes))
        ),
      (e.flags |= this.computeVisibleRanges()),
      r && (this.scrollTarget = r),
      !this.mustEnforceCursorAssoc &&
        e.selectionSet &&
        e.view.lineWrapping &&
        e.state.selection.main.empty &&
        e.state.selection.main.assoc &&
        !e.state.facet(JM) &&
        (this.mustEnforceCursorAssoc = !0);
  }
  measure(e) {
    let r = e.contentDOM,
      n = window.getComputedStyle(r),
      i = this.heightOracle,
      o = n.whiteSpace;
    this.defaultTextDirection = n.direction == "rtl" ? Jr.RTL : Jr.LTR;
    let s = this.heightOracle.mustRefreshForWrapping(o),
      a = r.getBoundingClientRect(),
      l = s || this.mustMeasureContent || this.contentDOMHeight != a.height;
    (this.contentDOMHeight = a.height), (this.mustMeasureContent = !1);
    let u = 0,
      c = 0;
    if (a.width && a.height) {
      let { scaleX: B, scaleY: $ } = SM(r, a);
      ((B > 0.005 && Math.abs(this.scaleX - B) > 0.005) ||
        ($ > 0.005 && Math.abs(this.scaleY - $) > 0.005)) &&
        ((this.scaleX = B), (this.scaleY = $), (u |= 8), (s = l = !0));
    }
    let f = (parseInt(n.paddingTop) || 0) * this.scaleY,
      h = (parseInt(n.paddingBottom) || 0) * this.scaleY;
    (this.paddingTop != f || this.paddingBottom != h) &&
      ((this.paddingTop = f), (this.paddingBottom = h), (u |= 10)),
      this.editorWidth != e.scrollDOM.clientWidth &&
        (i.lineWrapping && (l = !0),
        (this.editorWidth = e.scrollDOM.clientWidth),
        (u |= 8));
    let d = e.scrollDOM.scrollTop * this.scaleY;
    this.scrollTop != d &&
      ((this.scrollAnchorHeight = -1), (this.scrollTop = d)),
      (this.scrolledToBottom = EM(e.scrollDOM));
    let p = (this.printing ? kV : xV)(r, this.paddingTop),
      m = p.top - this.pixelViewport.top,
      b = p.bottom - this.pixelViewport.bottom;
    this.pixelViewport = p;
    let D =
      this.pixelViewport.bottom > this.pixelViewport.top &&
      this.pixelViewport.right > this.pixelViewport.left;
    if (
      (D != this.inView && ((this.inView = D), D && (l = !0)),
      !this.inView && !this.scrollTarget)
    )
      return 0;
    let k = a.width;
    if (
      ((this.contentDOMWidth != k ||
        this.editorHeight != e.scrollDOM.clientHeight) &&
        ((this.contentDOMWidth = a.width),
        (this.editorHeight = e.scrollDOM.clientHeight),
        (u |= 8)),
      l)
    ) {
      let B = e.docView.measureVisibleLineHeights(this.viewport);
      if (
        (i.mustRefreshForHeights(B) && (s = !0),
        s ||
          (i.lineWrapping && Math.abs(k - this.contentDOMWidth) > i.charWidth))
      ) {
        let {
          lineHeight: $,
          charWidth: T,
          textHeight: P,
        } = e.docView.measureTextSize();
        (s = $ > 0 && i.refresh(o, $, T, P, k / T, B)),
          s && ((e.docView.minWidth = 0), (u |= 8));
      }
      m > 0 && b > 0
        ? (c = Math.max(m, b))
        : m < 0 && b < 0 && (c = Math.min(m, b)),
        (i.heightChanged = !1);
      for (let $ of this.viewports) {
        let T =
          $.from == this.viewport.from
            ? B
            : e.docView.measureVisibleLineHeights($);
        this.heightMap = (
          s
            ? Li.empty().applyChanges(
                this.stateDeco,
                Er.empty,
                this.heightOracle,
                [new to(0, 0, 0, e.state.doc.length)]
              )
            : this.heightMap
        ).updateHeight(i, 0, s, new vV($.from, T));
      }
      i.heightChanged && (u |= 2);
    }
    let S =
      !this.viewportIsAppropriate(this.viewport, c) ||
      (this.scrollTarget &&
        (this.scrollTarget.range.head < this.viewport.from ||
          this.scrollTarget.range.head > this.viewport.to));
    return (
      S && (this.viewport = this.getViewport(c, this.scrollTarget)),
      this.updateForViewport(),
      (u & 2 || S) && this.updateViewportLines(),
      (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) &&
        this.updateLineGaps(this.ensureLineGaps(s ? [] : this.lineGaps, e)),
      (u |= this.computeVisibleRanges()),
      this.mustEnforceCursorAssoc &&
        ((this.mustEnforceCursorAssoc = !1), e.docView.enforceCursorAssoc()),
      u
    );
  }
  get visibleTop() {
    return this.scaler.fromDOM(this.pixelViewport.top);
  }
  get visibleBottom() {
    return this.scaler.fromDOM(this.pixelViewport.bottom);
  }
  getViewport(e, r) {
    let n = 0.5 - Math.max(-0.5, Math.min(0.5, e / 1e3 / 2)),
      i = this.heightMap,
      o = this.heightOracle,
      { visibleTop: s, visibleBottom: a } = this,
      l = new mm(
        i.lineAt(s - n * 1e3, Kr.ByHeight, o, 0, 0).from,
        i.lineAt(a + (1 - n) * 1e3, Kr.ByHeight, o, 0, 0).to
      );
    if (r) {
      let { head: u } = r.range;
      if (u < l.from || u > l.to) {
        let c = Math.min(
            this.editorHeight,
            this.pixelViewport.bottom - this.pixelViewport.top
          ),
          f = i.lineAt(u, Kr.ByPos, o, 0, 0),
          h;
        r.y == "center"
          ? (h = (f.top + f.bottom) / 2 - c / 2)
          : r.y == "start" || (r.y == "nearest" && u < l.from)
            ? (h = f.top)
            : (h = f.bottom - c),
          (l = new mm(
            i.lineAt(h - 1e3 / 2, Kr.ByHeight, o, 0, 0).from,
            i.lineAt(h + c + 1e3 / 2, Kr.ByHeight, o, 0, 0).to
          ));
      }
    }
    return l;
  }
  mapViewport(e, r) {
    let n = r.mapPos(e.from, -1),
      i = r.mapPos(e.to, 1);
    return new mm(
      this.heightMap.lineAt(n, Kr.ByPos, this.heightOracle, 0, 0).from,
      this.heightMap.lineAt(i, Kr.ByPos, this.heightOracle, 0, 0).to
    );
  }
  viewportIsAppropriate({ from: e, to: r }, n = 0) {
    if (!this.inView) return !0;
    let { top: i } = this.heightMap.lineAt(
        e,
        Kr.ByPos,
        this.heightOracle,
        0,
        0
      ),
      { bottom: o } = this.heightMap.lineAt(
        r,
        Kr.ByPos,
        this.heightOracle,
        0,
        0
      ),
      { visibleTop: s, visibleBottom: a } = this;
    return (
      (e == 0 || i <= s - Math.max(10, Math.min(-n, 250))) &&
      (r == this.state.doc.length || o >= a + Math.max(10, Math.min(n, 250))) &&
      i > s - 2 * 1e3 &&
      o < a + 2 * 1e3
    );
  }
  mapLineGaps(e, r) {
    if (!e.length || r.empty) return e;
    let n = [];
    for (let i of e)
      r.touchesRange(i.from, i.to) ||
        n.push(new O4(r.mapPos(i.from), r.mapPos(i.to), i.size));
    return n;
  }
  ensureLineGaps(e, r) {
    let n = this.heightOracle.lineWrapping,
      i = n ? 1e4 : 2e3,
      o = i >> 1,
      s = i << 1;
    if (this.defaultTextDirection != Jr.LTR && !n) return [];
    let a = [],
      l = (u, c, f, h) => {
        if (c - u < o) return;
        let d = this.state.selection.main,
          p = [d.from];
        d.empty || p.push(d.to);
        for (let b of p)
          if (b > u && b < c) {
            l(u, b - 10, f, h), l(b + 10, c, f, h);
            return;
          }
        let m = AV(
          e,
          (b) =>
            b.from >= f.from &&
            b.to <= f.to &&
            Math.abs(b.from - u) < o &&
            Math.abs(b.to - c) < o &&
            !p.some((D) => b.from < D && b.to > D)
        );
        if (!m) {
          if (
            c < f.to &&
            r &&
            n &&
            r.visibleRanges.some((b) => b.from <= c && b.to >= c)
          ) {
            let b = r.moveToLineBoundary(Te.cursor(c), !1, !0).head;
            b > u && (c = b);
          }
          m = new O4(u, c, this.gapSize(f, u, c, h));
        }
        a.push(m);
      };
    for (let u of this.viewportLines) {
      if (u.length < s) continue;
      let c = CV(u.from, u.to, this.stateDeco);
      if (c.total < s) continue;
      let f = this.scrollTarget ? this.scrollTarget.range.head : null,
        h,
        d;
      if (n) {
        let p =
            (i / this.heightOracle.lineLength) * this.heightOracle.lineHeight,
          m,
          b;
        if (f != null) {
          let D = vm(c, f),
            k = ((this.visibleBottom - this.visibleTop) / 2 + p) / u.height;
          (m = D - k), (b = D + k);
        } else
          (m = (this.visibleTop - u.top - p) / u.height),
            (b = (this.visibleBottom - u.top + p) / u.height);
        (h = gm(c, m)), (d = gm(c, b));
      } else {
        let p = c.total * this.heightOracle.charWidth,
          m = i * this.heightOracle.charWidth,
          b,
          D;
        if (f != null) {
          let k = vm(c, f),
            S =
              ((this.pixelViewport.right - this.pixelViewport.left) / 2 + m) /
              p;
          (b = k - S), (D = k + S);
        } else
          (b = (this.pixelViewport.left - m) / p),
            (D = (this.pixelViewport.right + m) / p);
        (h = gm(c, b)), (d = gm(c, D));
      }
      h > u.from && l(u.from, h, u, c), d < u.to && l(d, u.to, u, c);
    }
    return a;
  }
  gapSize(e, r, n, i) {
    let o = vm(i, n) - vm(i, r);
    return this.heightOracle.lineWrapping
      ? e.height * o
      : i.total * this.heightOracle.charWidth * o;
  }
  updateLineGaps(e) {
    O4.same(e, this.lineGaps) ||
      ((this.lineGaps = e),
      (this.lineGapDeco = Pt.set(
        e.map((r) => r.draw(this, this.heightOracle.lineWrapping))
      )));
  }
  computeVisibleRanges() {
    let e = this.stateDeco;
    this.lineGaps.length && (e = e.concat(this.lineGapDeco));
    let r = [];
    dr.spans(
      e,
      this.viewport.from,
      this.viewport.to,
      {
        span(i, o) {
          r.push({ from: i, to: o });
        },
        point() {},
      },
      20
    );
    let n =
      r.length != this.visibleRanges.length ||
      this.visibleRanges.some((i, o) => i.from != r[o].from || i.to != r[o].to);
    return (this.visibleRanges = r), n ? 4 : 0;
  }
  lineBlockAt(e) {
    return (
      (e >= this.viewport.from &&
        e <= this.viewport.to &&
        this.viewportLines.find((r) => r.from <= e && r.to >= e)) ||
      nh(
        this.heightMap.lineAt(e, Kr.ByPos, this.heightOracle, 0, 0),
        this.scaler
      )
    );
  }
  lineBlockAtHeight(e) {
    return nh(
      this.heightMap.lineAt(
        this.scaler.fromDOM(e),
        Kr.ByHeight,
        this.heightOracle,
        0,
        0
      ),
      this.scaler
    );
  }
  scrollAnchorAt(e) {
    let r = this.lineBlockAtHeight(e + 8);
    return r.from >= this.viewport.from || this.viewportLines[0].top - e > 200
      ? r
      : this.viewportLines[0];
  }
  elementAtHeight(e) {
    return nh(
      this.heightMap.blockAt(this.scaler.fromDOM(e), this.heightOracle, 0, 0),
      this.scaler
    );
  }
  get docHeight() {
    return this.scaler.toDOM(this.heightMap.height);
  }
  get contentHeight() {
    return this.docHeight + this.paddingTop + this.paddingBottom;
  }
}
class mm {
  constructor(e, r) {
    (this.from = e), (this.to = r);
  }
}
function CV(t, e, r) {
  let n = [],
    i = t,
    o = 0;
  return (
    dr.spans(
      r,
      t,
      e,
      {
        span() {},
        point(s, a) {
          s > i && (n.push({ from: i, to: s }), (o += s - i)), (i = a);
        },
      },
      20
    ),
    i < e && (n.push({ from: i, to: e }), (o += e - i)),
    { total: o, ranges: n }
  );
}
function gm({ total: t, ranges: e }, r) {
  if (r <= 0) return e[0].from;
  if (r >= 1) return e[e.length - 1].to;
  let n = Math.floor(t * r);
  for (let i = 0; ; i++) {
    let { from: o, to: s } = e[i],
      a = s - o;
    if (n <= a) return o + n;
    n -= a;
  }
}
function vm(t, e) {
  let r = 0;
  for (let { from: n, to: i } of t.ranges) {
    if (e <= i) {
      r += e - n;
      break;
    }
    r += i - n;
  }
  return r / t.total;
}
function AV(t, e) {
  for (let r of t) if (e(r)) return r;
}
const W9 = {
  toDOM(t) {
    return t;
  },
  fromDOM(t) {
    return t;
  },
  scale: 1,
};
class EV {
  constructor(e, r, n) {
    let i = 0,
      o = 0,
      s = 0;
    (this.viewports = n.map(({ from: a, to: l }) => {
      let u = r.lineAt(a, Kr.ByPos, e, 0, 0).top,
        c = r.lineAt(l, Kr.ByPos, e, 0, 0).bottom;
      return (
        (i += c - u),
        { from: a, to: l, top: u, bottom: c, domTop: 0, domBottom: 0 }
      );
    })),
      (this.scale = (7e6 - i) / (r.height - i));
    for (let a of this.viewports)
      (a.domTop = s + (a.top - o) * this.scale),
        (s = a.domBottom = a.domTop + (a.bottom - a.top)),
        (o = a.bottom);
  }
  toDOM(e) {
    for (let r = 0, n = 0, i = 0; ; r++) {
      let o = r < this.viewports.length ? this.viewports[r] : null;
      if (!o || e < o.top) return i + (e - n) * this.scale;
      if (e <= o.bottom) return o.domTop + (e - o.top);
      (n = o.bottom), (i = o.domBottom);
    }
  }
  fromDOM(e) {
    for (let r = 0, n = 0, i = 0; ; r++) {
      let o = r < this.viewports.length ? this.viewports[r] : null;
      if (!o || e < o.domTop) return n + (e - i) / this.scale;
      if (e <= o.domBottom) return o.top + (e - o.domTop);
      (n = o.bottom), (i = o.domBottom);
    }
  }
}
function nh(t, e) {
  if (e.scale == 1) return t;
  let r = e.toDOM(t.top),
    n = e.toDOM(t.bottom);
  return new Qo(
    t.from,
    t.length,
    r,
    n - r,
    Array.isArray(t._content) ? t._content.map((i) => nh(i, e)) : t._content
  );
}
const ym = vt.define({ combine: (t) => t.join(" ") }),
  g5 = vt.define({ combine: (t) => t.indexOf(!0) > -1 }),
  v5 = au.newName(),
  g_ = au.newName(),
  v_ = au.newName(),
  y_ = { "&light": "." + g_, "&dark": "." + v_ };
function y5(t, e, r) {
  return new au(e, {
    finish(n) {
      return /&/.test(n)
        ? n.replace(/&\w*/, (i) => {
            if (i == "&") return t;
            if (!r || !r[i]) throw new RangeError(`Unsupported selector: ${i}`);
            return r[i];
          })
        : t + " " + n;
    },
  });
}
const FV = y5(
    "." + v5,
    {
      "&": {
        position: "relative !important",
        boxSizing: "border-box",
        "&.cm-focused": { outline: "1px dotted #212121" },
        display: "flex !important",
        flexDirection: "column",
      },
      ".cm-scroller": {
        display: "flex !important",
        alignItems: "flex-start !important",
        fontFamily: "monospace",
        lineHeight: 1.4,
        height: "100%",
        overflowX: "auto",
        position: "relative",
        zIndex: 0,
      },
      ".cm-content": {
        margin: 0,
        flexGrow: 2,
        flexShrink: 0,
        display: "block",
        whiteSpace: "pre",
        wordWrap: "normal",
        boxSizing: "border-box",
        minHeight: "100%",
        padding: "4px 0",
        outline: "none",
        "&[contenteditable=true]": {
          WebkitUserModify: "read-write-plaintext-only",
        },
      },
      ".cm-lineWrapping": {
        whiteSpace_fallback: "pre-wrap",
        whiteSpace: "break-spaces",
        wordBreak: "break-word",
        overflowWrap: "anywhere",
        flexShrink: 1,
      },
      "&light .cm-content": { caretColor: "black" },
      "&dark .cm-content": { caretColor: "white" },
      ".cm-line": { display: "block", padding: "0 2px 0 6px" },
      ".cm-layer": {
        position: "absolute",
        left: 0,
        top: 0,
        contain: "size style",
        "& > *": { position: "absolute" },
      },
      "&light .cm-selectionBackground": { background: "#d9d9d9" },
      "&dark .cm-selectionBackground": { background: "#222" },
      "&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":
        { background: "#d7d4f0" },
      "&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":
        { background: "#233" },
      ".cm-cursorLayer": { pointerEvents: "none" },
      "&.cm-focused > .cm-scroller > .cm-cursorLayer": {
        animation: "steps(1) cm-blink 1.2s infinite",
      },
      "@keyframes cm-blink": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
      "@keyframes cm-blink2": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
      ".cm-cursor, .cm-dropCursor": {
        borderLeft: "1.2px solid black",
        marginLeft: "-0.6px",
        pointerEvents: "none",
      },
      ".cm-cursor": { display: "none" },
      "&dark .cm-cursor": { borderLeftColor: "#444" },
      ".cm-dropCursor": { position: "absolute" },
      "&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor": {
        display: "block",
      },
      ".cm-iso": { unicodeBidi: "isolate" },
      ".cm-announced": { position: "fixed", top: "-10000px" },
      "@media print": { ".cm-announced": { display: "none" } },
      "&light .cm-activeLine": { backgroundColor: "#cceeff44" },
      "&dark .cm-activeLine": { backgroundColor: "#99eeff33" },
      "&light .cm-specialChar": { color: "red" },
      "&dark .cm-specialChar": { color: "#f78" },
      ".cm-gutters": {
        flexShrink: 0,
        display: "flex",
        height: "100%",
        boxSizing: "border-box",
        insetInlineStart: 0,
        zIndex: 200,
      },
      "&light .cm-gutters": {
        backgroundColor: "#f5f5f5",
        color: "#6c6c6c",
        borderRight: "1px solid #ddd",
      },
      "&dark .cm-gutters": { backgroundColor: "#333338", color: "#ccc" },
      ".cm-gutter": {
        display: "flex !important",
        flexDirection: "column",
        flexShrink: 0,
        boxSizing: "border-box",
        minHeight: "100%",
        overflow: "hidden",
      },
      ".cm-gutterElement": { boxSizing: "border-box" },
      ".cm-lineNumbers .cm-gutterElement": {
        padding: "0 3px 0 5px",
        minWidth: "20px",
        textAlign: "right",
        whiteSpace: "nowrap",
      },
      "&light .cm-activeLineGutter": { backgroundColor: "#e2f2ff" },
      "&dark .cm-activeLineGutter": { backgroundColor: "#222227" },
      ".cm-panels": {
        boxSizing: "border-box",
        position: "sticky",
        left: 0,
        right: 0,
      },
      "&light .cm-panels": { backgroundColor: "#f5f5f5", color: "black" },
      "&light .cm-panels-top": { borderBottom: "1px solid #ddd" },
      "&light .cm-panels-bottom": { borderTop: "1px solid #ddd" },
      "&dark .cm-panels": { backgroundColor: "#333338", color: "white" },
      ".cm-tab": {
        display: "inline-block",
        overflow: "hidden",
        verticalAlign: "bottom",
      },
      ".cm-widgetBuffer": {
        verticalAlign: "text-top",
        height: "1em",
        width: 0,
        display: "inline",
      },
      ".cm-placeholder": {
        color: "#888",
        display: "inline-block",
        verticalAlign: "top",
      },
      ".cm-highlightSpace:before": {
        content: "attr(data-display)",
        position: "absolute",
        pointerEvents: "none",
        color: "#888",
      },
      ".cm-highlightTab": {
        backgroundImage: `url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,
        backgroundSize: "auto 100%",
        backgroundPosition: "right 90%",
        backgroundRepeat: "no-repeat",
      },
      ".cm-trailingSpace": { backgroundColor: "#ff332255" },
      ".cm-button": {
        verticalAlign: "middle",
        color: "inherit",
        fontSize: "70%",
        padding: ".2em 1em",
        borderRadius: "1px",
      },
      "&light .cm-button": {
        backgroundImage: "linear-gradient(#eff1f5, #d9d9df)",
        border: "1px solid #888",
        "&:active": { backgroundImage: "linear-gradient(#b4b4b4, #d0d3d6)" },
      },
      "&dark .cm-button": {
        backgroundImage: "linear-gradient(#393939, #111)",
        border: "1px solid #888",
        "&:active": { backgroundImage: "linear-gradient(#111, #333)" },
      },
      ".cm-textfield": {
        verticalAlign: "middle",
        color: "inherit",
        fontSize: "70%",
        border: "1px solid silver",
        padding: ".2em .5em",
      },
      "&light .cm-textfield": { backgroundColor: "white" },
      "&dark .cm-textfield": {
        border: "1px solid #555",
        backgroundColor: "inherit",
      },
    },
    y_
  ),
  ih = "￿";
class MV {
  constructor(e, r) {
    (this.points = e),
      (this.text = ""),
      (this.lineSeparator = r.facet(sr.lineSeparator));
  }
  append(e) {
    this.text += e;
  }
  lineBreak() {
    this.text += ih;
  }
  readRange(e, r) {
    if (!e) return this;
    let n = e.parentNode;
    for (let i = e; ; ) {
      this.findPointBefore(n, i);
      let o = this.text.length;
      this.readNode(i);
      let s = i.nextSibling;
      if (s == r) break;
      let a = Ir.get(i),
        l = Ir.get(s);
      (a && l
        ? a.breakAfter
        : (a ? a.breakAfter : d1(i)) ||
          (d1(s) &&
            (i.nodeName != "BR" || i.cmIgnore) &&
            this.text.length > o)) && this.lineBreak(),
        (i = s);
    }
    return this.findPointBefore(n, r), this;
  }
  readTextNode(e) {
    let r = e.nodeValue;
    for (let n of this.points)
      n.node == e && (n.pos = this.text.length + Math.min(n.offset, r.length));
    for (let n = 0, i = this.lineSeparator ? null : /\r\n?|\n/g; ; ) {
      let o = -1,
        s = 1,
        a;
      if (
        (this.lineSeparator
          ? ((o = r.indexOf(this.lineSeparator, n)),
            (s = this.lineSeparator.length))
          : (a = i.exec(r)) && ((o = a.index), (s = a[0].length)),
        this.append(r.slice(n, o < 0 ? r.length : o)),
        o < 0)
      )
        break;
      if ((this.lineBreak(), s > 1))
        for (let l of this.points)
          l.node == e && l.pos > this.text.length && (l.pos -= s - 1);
      n = o + s;
    }
  }
  readNode(e) {
    if (e.cmIgnore) return;
    let r = Ir.get(e),
      n = r && r.overrideDOMText;
    if (n != null) {
      this.findPointInside(e, n.length);
      for (let i = n.iter(); !i.next().done; )
        i.lineBreak ? this.lineBreak() : this.append(i.value);
    } else
      e.nodeType == 3
        ? this.readTextNode(e)
        : e.nodeName == "BR"
          ? e.nextSibling && this.lineBreak()
          : e.nodeType == 1 && this.readRange(e.firstChild, null);
  }
  findPointBefore(e, r) {
    for (let n of this.points)
      n.node == e && e.childNodes[n.offset] == r && (n.pos = this.text.length);
  }
  findPointInside(e, r) {
    for (let n of this.points)
      (e.nodeType == 3 ? n.node == e : e.contains(n.node)) &&
        (n.pos = this.text.length + (_V(e, n.node, n.offset) ? r : 0));
  }
}
function _V(t, e, r) {
  for (;;) {
    if (!e || r < Ga(e)) return !1;
    if (e == t) return !0;
    (r = p0(e) + 1), (e = e.parentNode);
  }
}
class q9 {
  constructor(e, r) {
    (this.node = e), (this.offset = r), (this.pos = -1);
  }
}
class $V {
  constructor(e, r, n, i) {
    (this.typeOver = i), (this.bounds = null), (this.text = "");
    let { impreciseHead: o, impreciseAnchor: s } = e.docView;
    if (e.state.readOnly && r > -1) this.newSel = null;
    else if (r > -1 && (this.bounds = e.docView.domBoundsAround(r, n, 0))) {
      let a = o || s ? [] : TV(e),
        l = new MV(a, e.state);
      l.readRange(this.bounds.startDOM, this.bounds.endDOM),
        (this.text = l.text),
        (this.newSel = PV(a, this.bounds.from));
    } else {
      let a = e.observer.selectionRange,
        l =
          (o && o.node == a.focusNode && o.offset == a.focusOffset) ||
          !r5(e.contentDOM, a.focusNode)
            ? e.state.selection.main.head
            : e.docView.posFromDOM(a.focusNode, a.focusOffset),
        u =
          (s && s.node == a.anchorNode && s.offset == a.anchorOffset) ||
          !r5(e.contentDOM, a.anchorNode)
            ? e.state.selection.main.anchor
            : e.docView.posFromDOM(a.anchorNode, a.anchorOffset),
        c = e.viewport;
      if (
        (gt.ios || gt.chrome) &&
        e.state.selection.main.empty &&
        l != u &&
        (c.from > 0 || c.to < e.state.doc.length)
      ) {
        let f = Math.min(l, u),
          h = Math.max(l, u),
          d = c.from - f,
          p = c.to - h;
        (d == 0 || d == 1 || f == 0) &&
          (p == 0 || p == -1 || h == e.state.doc.length) &&
          ((l = 0), (u = e.state.doc.length));
      }
      this.newSel = Te.single(u, l);
    }
  }
}
function b_(t, e) {
  let r,
    { newSel: n } = e,
    i = t.state.selection.main,
    o =
      t.inputState.lastKeyTime > Date.now() - 100
        ? t.inputState.lastKeyCode
        : -1;
  if (e.bounds) {
    let { from: s, to: a } = e.bounds,
      l = i.from,
      u = null;
    (o === 8 || (gt.android && e.text.length < a - s)) &&
      ((l = i.to), (u = "end"));
    let c = BV(t.state.doc.sliceString(s, a, ih), e.text, l - s, u);
    c &&
      (gt.chrome &&
        o == 13 &&
        c.toB == c.from + 2 &&
        e.text.slice(c.from, c.toB) == ih + ih &&
        c.toB--,
      (r = {
        from: s + c.from,
        to: s + c.toA,
        insert: Er.of(e.text.slice(c.from, c.toB).split(ih)),
      }));
  } else
    n && ((!t.hasFocus && t.state.facet(Ov)) || n.main.eq(i)) && (n = null);
  if (!r && !n) return !1;
  if (
    (!r && e.typeOver && !i.empty && n && n.main.empty
      ? (r = {
          from: i.from,
          to: i.to,
          insert: t.state.doc.slice(i.from, i.to),
        })
      : r &&
          r.from >= i.from &&
          r.to <= i.to &&
          (r.from != i.from || r.to != i.to) &&
          i.to - i.from - (r.to - r.from) <= 4
        ? (r = {
            from: i.from,
            to: i.to,
            insert: t.state.doc
              .slice(i.from, r.from)
              .append(r.insert)
              .append(t.state.doc.slice(r.to, i.to)),
          })
        : (gt.mac || gt.android) &&
            r &&
            r.from == r.to &&
            r.from == i.head - 1 &&
            /^\. ?$/.test(r.insert.toString()) &&
            t.contentDOM.getAttribute("autocorrect") == "off"
          ? (n &&
              r.insert.length == 2 &&
              (n = Te.single(n.main.anchor - 1, n.main.head - 1)),
            (r = { from: i.from, to: i.to, insert: Er.of([" "]) }))
          : gt.chrome &&
            r &&
            r.from == r.to &&
            r.from == i.head &&
            r.insert.toString() ==
              `
 ` &&
            t.lineWrapping &&
            (n && (n = Te.single(n.main.anchor - 1, n.main.head - 1)),
            (r = { from: i.from, to: i.to, insert: Er.of([" "]) })),
    r)
  ) {
    if (
      (gt.ios && t.inputState.flushIOSKey(r)) ||
      (gt.android &&
        ((r.to == i.to &&
          (r.from == i.from ||
            (r.from == i.from - 1 &&
              t.state.sliceDoc(r.from, i.from) == " ")) &&
          r.insert.length == 1 &&
          r.insert.lines == 2 &&
          Bc(t.contentDOM, "Enter", 13)) ||
          (((r.from == i.from - 1 && r.to == i.to && r.insert.length == 0) ||
            (o == 8 && r.insert.length < r.to - r.from && r.to > i.head)) &&
            Bc(t.contentDOM, "Backspace", 8)) ||
          (r.from == i.from &&
            r.to == i.to + 1 &&
            r.insert.length == 0 &&
            Bc(t.contentDOM, "Delete", 46))))
    )
      return !0;
    let s = r.insert.toString();
    t.inputState.composing >= 0 && t.inputState.composing++;
    let a,
      l = () => a || (a = OV(t, r, n));
    return (
      t.state.facet(KM).some((u) => u(t, r.from, r.to, s, l)) ||
        t.dispatch(l()),
      !0
    );
  } else if (n && !n.main.eq(i)) {
    let s = !1,
      a = "select";
    return (
      t.inputState.lastSelectionTime > Date.now() - 50 &&
        (t.inputState.lastSelectionOrigin == "select" && (s = !0),
        (a = t.inputState.lastSelectionOrigin)),
      t.dispatch({ selection: n, scrollIntoView: s, userEvent: a }),
      !0
    );
  } else return !1;
}
function OV(t, e, r) {
  let n,
    i = t.state,
    o = i.selection.main;
  if (
    e.from >= o.from &&
    e.to <= o.to &&
    e.to - e.from >= (o.to - o.from) / 3 &&
    (!r || (r.main.empty && r.main.from == e.from + e.insert.length)) &&
    t.inputState.composing < 0
  ) {
    let a = o.from < e.from ? i.sliceDoc(o.from, e.from) : "",
      l = o.to > e.to ? i.sliceDoc(e.to, o.to) : "";
    n = i.replaceSelection(
      t.state.toText(a + e.insert.sliceString(0, void 0, t.state.lineBreak) + l)
    );
  } else {
    let a = i.changes(e),
      l = r && r.main.to <= a.newLength ? r.main : void 0;
    if (
      i.selection.ranges.length > 1 &&
      t.inputState.composing >= 0 &&
      e.to <= o.to &&
      e.to >= o.to - 10
    ) {
      let u = t.state.sliceDoc(e.from, e.to),
        c,
        f = r && i_(t, r.main.head);
      if (f) {
        let p = e.insert.length - (e.to - e.from);
        c = { from: f.from, to: f.to - p };
      } else c = t.state.doc.lineAt(o.head);
      let h = o.to - e.to,
        d = o.to - o.from;
      n = i.changeByRange((p) => {
        if (p.from == o.from && p.to == o.to)
          return { changes: a, range: l || p.map(a) };
        let m = p.to - h,
          b = m - u.length;
        if (
          p.to - p.from != d ||
          t.state.sliceDoc(b, m) != u ||
          (p.to >= c.from && p.from <= c.to)
        )
          return { range: p };
        let D = i.changes({ from: b, to: m, insert: e.insert }),
          k = p.to - o.to;
        return {
          changes: D,
          range: l
            ? Te.range(Math.max(0, l.anchor + k), Math.max(0, l.head + k))
            : p.map(D),
        };
      });
    } else n = { changes: a, selection: l && i.selection.replaceRange(l) };
  }
  let s = "input.type";
  return (
    (t.composing ||
      (t.inputState.compositionPendingChange &&
        t.inputState.compositionEndedAt > Date.now() - 50)) &&
      ((t.inputState.compositionPendingChange = !1),
      (s += ".compose"),
      t.inputState.compositionFirstChange &&
        ((s += ".start"), (t.inputState.compositionFirstChange = !1))),
    i.update(n, { userEvent: s, scrollIntoView: !0 })
  );
}
function BV(t, e, r, n) {
  let i = Math.min(t.length, e.length),
    o = 0;
  for (; o < i && t.charCodeAt(o) == e.charCodeAt(o); ) o++;
  if (o == i && t.length == e.length) return null;
  let s = t.length,
    a = e.length;
  for (; s > 0 && a > 0 && t.charCodeAt(s - 1) == e.charCodeAt(a - 1); )
    s--, a--;
  if (n == "end") {
    let l = Math.max(0, o - Math.min(s, a));
    r -= s + l - o;
  }
  if (s < o && t.length < e.length) {
    let l = r <= o && r >= s ? o - r : 0;
    (o -= l), (a = o + (a - s)), (s = o);
  } else if (a < o) {
    let l = r <= o && r >= a ? o - r : 0;
    (o -= l), (s = o + (s - a)), (a = o);
  }
  return { from: o, toA: s, toB: a };
}
function TV(t) {
  let e = [];
  if (t.root.activeElement != t.contentDOM) return e;
  let {
    anchorNode: r,
    anchorOffset: n,
    focusNode: i,
    focusOffset: o,
  } = t.observer.selectionRange;
  return (
    r && (e.push(new q9(r, n)), (i != r || o != n) && e.push(new q9(i, o))), e
  );
}
function PV(t, e) {
  if (t.length == 0) return null;
  let r = t[0].pos,
    n = t.length == 2 ? t[1].pos : r;
  return r > -1 && n > -1 ? Te.single(r + e, n + e) : null;
}
const RV = {
    childList: !0,
    characterData: !0,
    subtree: !0,
    attributes: !0,
    characterDataOldValue: !0,
  },
  B4 = gt.ie && gt.ie_version <= 11;
class IV {
  constructor(e) {
    (this.view = e),
      (this.active = !1),
      (this.selectionRange = new DH()),
      (this.selectionChanged = !1),
      (this.delayedFlush = -1),
      (this.resizeTimeout = -1),
      (this.queue = []),
      (this.delayedAndroidKey = null),
      (this.flushingAndroidKey = -1),
      (this.lastChange = 0),
      (this.scrollTargets = []),
      (this.intersection = null),
      (this.resizeScroll = null),
      (this.intersecting = !1),
      (this.gapIntersection = null),
      (this.gaps = []),
      (this.printQuery = null),
      (this.parentCheck = -1),
      (this.dom = e.contentDOM),
      (this.observer = new MutationObserver((r) => {
        for (let n of r) this.queue.push(n);
        ((gt.ie && gt.ie_version <= 11) || (gt.ios && e.composing)) &&
        r.some(
          (n) =>
            (n.type == "childList" && n.removedNodes.length) ||
            (n.type == "characterData" &&
              n.oldValue.length > n.target.nodeValue.length)
        )
          ? this.flushSoon()
          : this.flush();
      })),
      B4 &&
        (this.onCharData = (r) => {
          this.queue.push({
            target: r.target,
            type: "characterData",
            oldValue: r.prevValue,
          }),
            this.flushSoon();
        }),
      (this.onSelectionChange = this.onSelectionChange.bind(this)),
      (this.onResize = this.onResize.bind(this)),
      (this.onPrint = this.onPrint.bind(this)),
      (this.onScroll = this.onScroll.bind(this)),
      window.matchMedia && (this.printQuery = window.matchMedia("print")),
      typeof ResizeObserver == "function" &&
        ((this.resizeScroll = new ResizeObserver(() => {
          var r;
          ((r = this.view.docView) === null || r === void 0
            ? void 0
            : r.lastUpdate) <
            Date.now() - 75 && this.onResize();
        })),
        this.resizeScroll.observe(e.scrollDOM)),
      this.addWindowListeners((this.win = e.win)),
      this.start(),
      typeof IntersectionObserver == "function" &&
        ((this.intersection = new IntersectionObserver(
          (r) => {
            this.parentCheck < 0 &&
              (this.parentCheck = setTimeout(
                this.listenForScroll.bind(this),
                1e3
              )),
              r.length > 0 &&
                r[r.length - 1].intersectionRatio > 0 != this.intersecting &&
                ((this.intersecting = !this.intersecting),
                this.intersecting != this.view.inView &&
                  this.onScrollChanged(document.createEvent("Event")));
          },
          { threshold: [0, 0.001] }
        )),
        this.intersection.observe(this.dom),
        (this.gapIntersection = new IntersectionObserver((r) => {
          r.length > 0 &&
            r[r.length - 1].intersectionRatio > 0 &&
            this.onScrollChanged(document.createEvent("Event"));
        }, {}))),
      this.listenForScroll(),
      this.readSelectionRange();
  }
  onScrollChanged(e) {
    this.view.inputState.runHandlers("scroll", e),
      this.intersecting && this.view.measure();
  }
  onScroll(e) {
    this.intersecting && this.flush(!1), this.onScrollChanged(e);
  }
  onResize() {
    this.resizeTimeout < 0 &&
      (this.resizeTimeout = setTimeout(() => {
        (this.resizeTimeout = -1), this.view.requestMeasure();
      }, 50));
  }
  onPrint(e) {
    (e.type == "change" && !e.matches) ||
      ((this.view.viewState.printing = !0),
      this.view.measure(),
      setTimeout(() => {
        (this.view.viewState.printing = !1), this.view.requestMeasure();
      }, 500));
  }
  updateGaps(e) {
    if (
      this.gapIntersection &&
      (e.length != this.gaps.length || this.gaps.some((r, n) => r != e[n]))
    ) {
      this.gapIntersection.disconnect();
      for (let r of e) this.gapIntersection.observe(r);
      this.gaps = e;
    }
  }
  onSelectionChange(e) {
    let r = this.selectionChanged;
    if (!this.readSelectionRange() || this.delayedAndroidKey) return;
    let { view: n } = this,
      i = this.selectionRange;
    if (n.state.facet(Ov) ? n.root.activeElement != this.dom : !dg(n.dom, i))
      return;
    let o = i.anchorNode && n.docView.nearest(i.anchorNode);
    if (o && o.ignoreEvent(e)) {
      r || (this.selectionChanged = !1);
      return;
    }
    ((gt.ie && gt.ie_version <= 11) || (gt.android && gt.chrome)) &&
    !n.state.selection.main.empty &&
    i.focusNode &&
    xh(i.focusNode, i.focusOffset, i.anchorNode, i.anchorOffset)
      ? this.flushSoon()
      : this.flush(!1);
  }
  readSelectionRange() {
    let { view: e } = this,
      r = h1(e.root);
    if (!r) return !1;
    let n =
      (gt.safari &&
        e.root.nodeType == 11 &&
        gH(this.dom.ownerDocument) == this.dom &&
        NV(this.view, r)) ||
      r;
    if (!n || this.selectionRange.eq(n)) return !1;
    let i = dg(this.dom, n);
    return i &&
      !this.selectionChanged &&
      e.inputState.lastFocusTime > Date.now() - 200 &&
      e.inputState.lastTouchTime < Date.now() - 300 &&
      xH(this.dom, n)
      ? ((this.view.inputState.lastFocusTime = 0),
        e.docView.updateSelection(),
        !1)
      : (this.selectionRange.setRange(n),
        i && (this.selectionChanged = !0),
        !0);
  }
  setSelectionRange(e, r) {
    this.selectionRange.set(e.node, e.offset, r.node, r.offset),
      (this.selectionChanged = !1);
  }
  clearSelectionRange() {
    this.selectionRange.set(null, 0, null, 0);
  }
  listenForScroll() {
    this.parentCheck = -1;
    let e = 0,
      r = null;
    for (let n = this.dom; n; )
      if (n.nodeType == 1)
        !r && e < this.scrollTargets.length && this.scrollTargets[e] == n
          ? e++
          : r || (r = this.scrollTargets.slice(0, e)),
          r && r.push(n),
          (n = n.assignedSlot || n.parentNode);
      else if (n.nodeType == 11) n = n.host;
      else break;
    if (
      (e < this.scrollTargets.length &&
        !r &&
        (r = this.scrollTargets.slice(0, e)),
      r)
    ) {
      for (let n of this.scrollTargets)
        n.removeEventListener("scroll", this.onScroll);
      for (let n of (this.scrollTargets = r))
        n.addEventListener("scroll", this.onScroll);
    }
  }
  ignore(e) {
    if (!this.active) return e();
    try {
      return this.stop(), e();
    } finally {
      this.start(), this.clear();
    }
  }
  start() {
    this.active ||
      (this.observer.observe(this.dom, RV),
      B4 &&
        this.dom.addEventListener("DOMCharacterDataModified", this.onCharData),
      (this.active = !0));
  }
  stop() {
    this.active &&
      ((this.active = !1),
      this.observer.disconnect(),
      B4 &&
        this.dom.removeEventListener(
          "DOMCharacterDataModified",
          this.onCharData
        ));
  }
  clear() {
    this.processRecords(),
      (this.queue.length = 0),
      (this.selectionChanged = !1);
  }
  delayAndroidKey(e, r) {
    var n;
    if (!this.delayedAndroidKey) {
      let i = () => {
        let o = this.delayedAndroidKey;
        o &&
          (this.clearDelayedAndroidKey(),
          (this.view.inputState.lastKeyCode = o.keyCode),
          (this.view.inputState.lastKeyTime = Date.now()),
          !this.flush() && o.force && Bc(this.dom, o.key, o.keyCode));
      };
      this.flushingAndroidKey = this.view.win.requestAnimationFrame(i);
    }
    (!this.delayedAndroidKey || e == "Enter") &&
      (this.delayedAndroidKey = {
        key: e,
        keyCode: r,
        force:
          this.lastChange < Date.now() - 50 ||
          !!(
            !((n = this.delayedAndroidKey) === null || n === void 0) && n.force
          ),
      });
  }
  clearDelayedAndroidKey() {
    this.win.cancelAnimationFrame(this.flushingAndroidKey),
      (this.delayedAndroidKey = null),
      (this.flushingAndroidKey = -1);
  }
  flushSoon() {
    this.delayedFlush < 0 &&
      (this.delayedFlush = this.view.win.requestAnimationFrame(() => {
        (this.delayedFlush = -1), this.flush();
      }));
  }
  forceFlush() {
    this.delayedFlush >= 0 &&
      (this.view.win.cancelAnimationFrame(this.delayedFlush),
      (this.delayedFlush = -1)),
      this.flush();
  }
  pendingRecords() {
    for (let e of this.observer.takeRecords()) this.queue.push(e);
    return this.queue;
  }
  processRecords() {
    let e = this.pendingRecords();
    e.length && (this.queue = []);
    let r = -1,
      n = -1,
      i = !1;
    for (let o of e) {
      let s = this.readMutation(o);
      s &&
        (s.typeOver && (i = !0),
        r == -1
          ? ({ from: r, to: n } = s)
          : ((r = Math.min(s.from, r)), (n = Math.max(s.to, n))));
    }
    return { from: r, to: n, typeOver: i };
  }
  readChange() {
    let { from: e, to: r, typeOver: n } = this.processRecords(),
      i = this.selectionChanged && dg(this.dom, this.selectionRange);
    if (e < 0 && !i) return null;
    e > -1 && (this.lastChange = Date.now()),
      (this.view.inputState.lastFocusTime = 0),
      (this.selectionChanged = !1);
    let o = new $V(this.view, e, r, n);
    return (
      (this.view.docView.domChanged = {
        newSel: o.newSel ? o.newSel.main : null,
      }),
      o
    );
  }
  flush(e = !0) {
    if (this.delayedFlush >= 0 || this.delayedAndroidKey) return !1;
    e && this.readSelectionRange();
    let r = this.readChange();
    if (!r) return this.view.requestMeasure(), !1;
    let n = this.view.state,
      i = b_(this.view, r);
    return this.view.state == n && this.view.update([]), i;
  }
  readMutation(e) {
    let r = this.view.docView.nearest(e.target);
    if (!r || r.ignoreMutation(e)) return null;
    if (
      (r.markDirty(e.type == "attributes"),
      e.type == "attributes" && (r.flags |= 4),
      e.type == "childList")
    ) {
      let n = U9(r, e.previousSibling || e.target.previousSibling, -1),
        i = U9(r, e.nextSibling || e.target.nextSibling, 1);
      return {
        from: n ? r.posAfter(n) : r.posAtStart,
        to: i ? r.posBefore(i) : r.posAtEnd,
        typeOver: !1,
      };
    } else
      return e.type == "characterData"
        ? {
            from: r.posAtStart,
            to: r.posAtEnd,
            typeOver: e.target.nodeValue == e.oldValue,
          }
        : null;
  }
  setWindow(e) {
    e != this.win &&
      (this.removeWindowListeners(this.win),
      (this.win = e),
      this.addWindowListeners(this.win));
  }
  addWindowListeners(e) {
    e.addEventListener("resize", this.onResize),
      this.printQuery
        ? this.printQuery.addEventListener("change", this.onPrint)
        : e.addEventListener("beforeprint", this.onPrint),
      e.addEventListener("scroll", this.onScroll),
      e.document.addEventListener("selectionchange", this.onSelectionChange);
  }
  removeWindowListeners(e) {
    e.removeEventListener("scroll", this.onScroll),
      e.removeEventListener("resize", this.onResize),
      this.printQuery
        ? this.printQuery.removeEventListener("change", this.onPrint)
        : e.removeEventListener("beforeprint", this.onPrint),
      e.document.removeEventListener("selectionchange", this.onSelectionChange);
  }
  destroy() {
    var e, r, n;
    this.stop(),
      (e = this.intersection) === null || e === void 0 || e.disconnect(),
      (r = this.gapIntersection) === null || r === void 0 || r.disconnect(),
      (n = this.resizeScroll) === null || n === void 0 || n.disconnect();
    for (let i of this.scrollTargets)
      i.removeEventListener("scroll", this.onScroll);
    this.removeWindowListeners(this.win),
      clearTimeout(this.parentCheck),
      clearTimeout(this.resizeTimeout),
      this.win.cancelAnimationFrame(this.delayedFlush),
      this.win.cancelAnimationFrame(this.flushingAndroidKey);
  }
}
function U9(t, e, r) {
  for (; e; ) {
    let n = Ir.get(e);
    if (n && n.parent == t) return n;
    let i = e.parentNode;
    e = i != t.dom ? i : r > 0 ? e.nextSibling : e.previousSibling;
  }
  return null;
}
function G9(t, e) {
  let r = e.startContainer,
    n = e.startOffset,
    i = e.endContainer,
    o = e.endOffset,
    s = t.docView.domAtPos(t.state.selection.main.anchor);
  return (
    xh(s.node, s.offset, i, o) && ([r, n, i, o] = [i, o, r, n]),
    { anchorNode: r, anchorOffset: n, focusNode: i, focusOffset: o }
  );
}
function NV(t, e) {
  if (e.getComposedRanges) {
    let i = e.getComposedRanges(t.root)[0];
    if (i) return G9(t, i);
  }
  let r = null;
  function n(i) {
    i.preventDefault(),
      i.stopImmediatePropagation(),
      (r = i.getTargetRanges()[0]);
  }
  return (
    t.contentDOM.addEventListener("beforeinput", n, !0),
    t.dom.ownerDocument.execCommand("indent"),
    t.contentDOM.removeEventListener("beforeinput", n, !0),
    r ? G9(t, r) : null
  );
}
class ut {
  get state() {
    return this.viewState.state;
  }
  get viewport() {
    return this.viewState.viewport;
  }
  get visibleRanges() {
    return this.viewState.visibleRanges;
  }
  get inView() {
    return this.viewState.inView;
  }
  get composing() {
    return this.inputState.composing > 0;
  }
  get compositionStarted() {
    return this.inputState.composing >= 0;
  }
  get root() {
    return this._root;
  }
  get win() {
    return this.dom.ownerDocument.defaultView || window;
  }
  constructor(e = {}) {
    (this.plugins = []),
      (this.pluginMap = new Map()),
      (this.editorAttrs = {}),
      (this.contentAttrs = {}),
      (this.bidiCache = []),
      (this.destroyed = !1),
      (this.updateState = 2),
      (this.measureScheduled = -1),
      (this.measureRequests = []),
      (this.contentDOM = document.createElement("div")),
      (this.scrollDOM = document.createElement("div")),
      (this.scrollDOM.tabIndex = -1),
      (this.scrollDOM.className = "cm-scroller"),
      this.scrollDOM.appendChild(this.contentDOM),
      (this.announceDOM = document.createElement("div")),
      (this.announceDOM.className = "cm-announced"),
      this.announceDOM.setAttribute("aria-live", "polite"),
      (this.dom = document.createElement("div")),
      this.dom.appendChild(this.announceDOM),
      this.dom.appendChild(this.scrollDOM),
      e.parent && e.parent.appendChild(this.dom);
    let { dispatch: r } = e;
    (this.dispatchTransactions =
      e.dispatchTransactions ||
      (r && ((n) => n.forEach((i) => r(i, this)))) ||
      ((n) => this.update(n))),
      (this.dispatch = this.dispatch.bind(this)),
      (this._root = e.root || wH(e.parent) || document),
      (this.viewState = new V9(e.state || sr.create(e))),
      e.scrollTo &&
        e.scrollTo.is(hm) &&
        (this.viewState.scrollTarget = e.scrollTo.value.clip(
          this.viewState.state
        )),
      (this.plugins = this.state.facet(th).map((n) => new M4(n)));
    for (let n of this.plugins) n.update(this);
    (this.observer = new IV(this)),
      (this.inputState = new ZH(this)),
      this.inputState.ensureHandlers(this.plugins),
      (this.docView = new C9(this)),
      this.mountStyles(),
      this.updateAttrs(),
      (this.updateState = 0),
      this.requestMeasure();
  }
  dispatch(...e) {
    let r =
      e.length == 1 && e[0] instanceof Hn
        ? e
        : e.length == 1 && Array.isArray(e[0])
          ? e[0]
          : [this.state.update(...e)];
    this.dispatchTransactions(r, this);
  }
  update(e) {
    if (this.updateState != 0)
      throw new Error(
        "Calls to EditorView.update are not allowed while an update is in progress"
      );
    let r = !1,
      n = !1,
      i,
      o = this.state;
    for (let h of e) {
      if (h.startState != o)
        throw new RangeError(
          "Trying to update state with a transaction that doesn't start from the previous state."
        );
      o = h.state;
    }
    if (this.destroyed) {
      this.viewState.state = o;
      return;
    }
    let s = this.hasFocus,
      a = 0,
      l = null;
    e.some((h) => h.annotation(h_))
      ? ((this.inputState.notifiedFocused = s), (a = 1))
      : s != this.inputState.notifiedFocused &&
        ((this.inputState.notifiedFocused = s), (l = d_(o, s)), l || (a = 1));
    let u = this.observer.delayedAndroidKey,
      c = null;
    if (
      (u
        ? (this.observer.clearDelayedAndroidKey(),
          (c = this.observer.readChange()),
          ((c && !this.state.doc.eq(o.doc)) ||
            !this.state.selection.eq(o.selection)) &&
            (c = null))
        : this.observer.clear(),
      o.facet(sr.phrases) != this.state.facet(sr.phrases))
    )
      return this.setState(o);
    (i = p1.create(this, o, e)), (i.flags |= a);
    let f = this.viewState.scrollTarget;
    try {
      this.updateState = 2;
      for (let h of e) {
        if ((f && (f = f.map(h.changes)), h.scrollIntoView)) {
          let { main: d } = h.state.selection;
          f = new Tc(
            d.empty ? d : Te.cursor(d.head, d.head > d.anchor ? -1 : 1)
          );
        }
        for (let d of h.effects) d.is(hm) && (f = d.value.clip(this.state));
      }
      this.viewState.update(i, f),
        (this.bidiCache = m1.update(this.bidiCache, i.changes)),
        i.empty || (this.updatePlugins(i), this.inputState.update(i)),
        (r = this.docView.update(i)),
        this.state.facet(rh) != this.styleModules && this.mountStyles(),
        (n = this.updateAttrs()),
        this.showAnnouncements(e),
        this.docView.updateSelection(
          r,
          e.some((h) => h.isUserEvent("select.pointer"))
        );
    } finally {
      this.updateState = 0;
    }
    if (
      (i.startState.facet(ym) != i.state.facet(ym) &&
        (this.viewState.mustMeasureContent = !0),
      (r ||
        n ||
        f ||
        this.viewState.mustEnforceCursorAssoc ||
        this.viewState.mustMeasureContent) &&
        this.requestMeasure(),
      r && this.docViewUpdate(),
      !i.empty)
    )
      for (let h of this.state.facet(h5))
        try {
          h(i);
        } catch (d) {
          ts(this.state, d, "update listener");
        }
    (l || c) &&
      Promise.resolve().then(() => {
        l && this.state == l.startState && this.dispatch(l),
          c && !b_(this, c) && u.force && Bc(this.contentDOM, u.key, u.keyCode);
      });
  }
  setState(e) {
    if (this.updateState != 0)
      throw new Error(
        "Calls to EditorView.setState are not allowed while an update is in progress"
      );
    if (this.destroyed) {
      this.viewState.state = e;
      return;
    }
    this.updateState = 2;
    let r = this.hasFocus;
    try {
      for (let n of this.plugins) n.destroy(this);
      (this.viewState = new V9(e)),
        (this.plugins = e.facet(th).map((n) => new M4(n))),
        this.pluginMap.clear();
      for (let n of this.plugins) n.update(this);
      this.docView.destroy(),
        (this.docView = new C9(this)),
        this.inputState.ensureHandlers(this.plugins),
        this.mountStyles(),
        this.updateAttrs(),
        (this.bidiCache = []);
    } finally {
      this.updateState = 0;
    }
    r && this.focus(), this.requestMeasure();
  }
  updatePlugins(e) {
    let r = e.startState.facet(th),
      n = e.state.facet(th);
    if (r != n) {
      let i = [];
      for (let o of n) {
        let s = r.indexOf(o);
        if (s < 0) i.push(new M4(o));
        else {
          let a = this.plugins[s];
          (a.mustUpdate = e), i.push(a);
        }
      }
      for (let o of this.plugins) o.mustUpdate != e && o.destroy(this);
      (this.plugins = i), this.pluginMap.clear();
    } else for (let i of this.plugins) i.mustUpdate = e;
    for (let i = 0; i < this.plugins.length; i++) this.plugins[i].update(this);
    r != n && this.inputState.ensureHandlers(this.plugins);
  }
  docViewUpdate() {
    for (let e of this.plugins) {
      let r = e.value;
      if (r && r.docViewUpdate)
        try {
          r.docViewUpdate(this);
        } catch (n) {
          ts(this.state, n, "doc view update listener");
        }
    }
  }
  measure(e = !0) {
    if (this.destroyed) return;
    if (
      (this.measureScheduled > -1 &&
        this.win.cancelAnimationFrame(this.measureScheduled),
      this.observer.delayedAndroidKey)
    ) {
      (this.measureScheduled = -1), this.requestMeasure();
      return;
    }
    (this.measureScheduled = 0), e && this.observer.forceFlush();
    let r = null,
      n = this.scrollDOM,
      i = n.scrollTop * this.scaleY,
      { scrollAnchorPos: o, scrollAnchorHeight: s } = this.viewState;
    Math.abs(i - this.viewState.scrollTop) > 1 && (s = -1),
      (this.viewState.scrollAnchorHeight = -1);
    try {
      for (let a = 0; ; a++) {
        if (s < 0)
          if (EM(n)) (o = -1), (s = this.viewState.heightMap.height);
          else {
            let d = this.viewState.scrollAnchorAt(i);
            (o = d.from), (s = d.top);
          }
        this.updateState = 1;
        let l = this.viewState.measure(this);
        if (
          !l &&
          !this.measureRequests.length &&
          this.viewState.scrollTarget == null
        )
          break;
        if (a > 5) {
          console.warn(
            this.measureRequests.length
              ? "Measure loop restarted more than 5 times"
              : "Viewport failed to stabilize"
          );
          break;
        }
        let u = [];
        l & 4 || ([this.measureRequests, u] = [u, this.measureRequests]);
        let c = u.map((d) => {
            try {
              return d.read(this);
            } catch (p) {
              return ts(this.state, p), K9;
            }
          }),
          f = p1.create(this, this.state, []),
          h = !1;
        (f.flags |= l),
          r ? (r.flags |= l) : (r = f),
          (this.updateState = 2),
          f.empty ||
            (this.updatePlugins(f),
            this.inputState.update(f),
            this.updateAttrs(),
            (h = this.docView.update(f)),
            h && this.docViewUpdate());
        for (let d = 0; d < u.length; d++)
          if (c[d] != K9)
            try {
              let p = u[d];
              p.write && p.write(c[d], this);
            } catch (p) {
              ts(this.state, p);
            }
        if (
          (h && this.docView.updateSelection(!0),
          !f.viewportChanged && this.measureRequests.length == 0)
        ) {
          if (this.viewState.editorHeight)
            if (this.viewState.scrollTarget) {
              this.docView.scrollIntoView(this.viewState.scrollTarget),
                (this.viewState.scrollTarget = null),
                (s = -1);
              continue;
            } else {
              let p =
                (o < 0
                  ? this.viewState.heightMap.height
                  : this.viewState.lineBlockAt(o).top) - s;
              if (p > 1 || p < -1) {
                (i = i + p), (n.scrollTop = i / this.scaleY), (s = -1);
                continue;
              }
            }
          break;
        }
      }
    } finally {
      (this.updateState = 0), (this.measureScheduled = -1);
    }
    if (r && !r.empty) for (let a of this.state.facet(h5)) a(r);
  }
  get themeClasses() {
    return (
      v5 + " " + (this.state.facet(g5) ? v_ : g_) + " " + this.state.facet(ym)
    );
  }
  updateAttrs() {
    let e = Y9(this, ZM, {
        class:
          "cm-editor" +
          (this.hasFocus ? " cm-focused " : " ") +
          this.themeClasses,
      }),
      r = {
        spellcheck: "false",
        autocorrect: "off",
        autocapitalize: "off",
        translate: "no",
        contenteditable: this.state.facet(Ov) ? "true" : "false",
        class: "cm-content",
        style: `${gt.tabSize}: ${this.state.tabSize}`,
        role: "textbox",
        "aria-multiline": "true",
      };
    this.state.readOnly && (r["aria-readonly"] = "true"), Y9(this, e7, r);
    let n = this.observer.ignore(() => {
      let i = a5(this.contentDOM, this.contentAttrs, r),
        o = a5(this.dom, this.editorAttrs, e);
      return i || o;
    });
    return (this.editorAttrs = e), (this.contentAttrs = r), n;
  }
  showAnnouncements(e) {
    let r = !0;
    for (let n of e)
      for (let i of n.effects)
        if (i.is(ut.announce)) {
          r && (this.announceDOM.textContent = ""), (r = !1);
          let o = this.announceDOM.appendChild(document.createElement("div"));
          o.textContent = i.value;
        }
  }
  mountStyles() {
    this.styleModules = this.state.facet(rh);
    let e = this.state.facet(ut.cspNonce);
    au.mount(
      this.root,
      this.styleModules.concat(FV).reverse(),
      e ? { nonce: e } : void 0
    );
  }
  readMeasured() {
    if (this.updateState == 2)
      throw new Error(
        "Reading the editor layout isn't allowed during an update"
      );
    this.updateState == 0 && this.measureScheduled > -1 && this.measure(!1);
  }
  requestMeasure(e) {
    if (
      (this.measureScheduled < 0 &&
        (this.measureScheduled = this.win.requestAnimationFrame(() =>
          this.measure()
        )),
      e)
    ) {
      if (this.measureRequests.indexOf(e) > -1) return;
      if (e.key != null) {
        for (let r = 0; r < this.measureRequests.length; r++)
          if (this.measureRequests[r].key === e.key) {
            this.measureRequests[r] = e;
            return;
          }
      }
      this.measureRequests.push(e);
    }
  }
  plugin(e) {
    let r = this.pluginMap.get(e);
    return (
      (r === void 0 || (r && r.spec != e)) &&
        this.pluginMap.set(
          e,
          (r = this.plugins.find((n) => n.spec == e) || null)
        ),
      r && r.update(this).value
    );
  }
  get documentTop() {
    return (
      this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop
    );
  }
  get documentPadding() {
    return {
      top: this.viewState.paddingTop,
      bottom: this.viewState.paddingBottom,
    };
  }
  get scaleX() {
    return this.viewState.scaleX;
  }
  get scaleY() {
    return this.viewState.scaleY;
  }
  elementAtHeight(e) {
    return this.readMeasured(), this.viewState.elementAtHeight(e);
  }
  lineBlockAtHeight(e) {
    return this.readMeasured(), this.viewState.lineBlockAtHeight(e);
  }
  get viewportLineBlocks() {
    return this.viewState.viewportLines;
  }
  lineBlockAt(e) {
    return this.viewState.lineBlockAt(e);
  }
  get contentHeight() {
    return this.viewState.contentHeight;
  }
  moveByChar(e, r, n) {
    return $4(this, e, $9(this, e, r, n));
  }
  moveByGroup(e, r) {
    return $4(
      this,
      e,
      $9(this, e, r, (n) => JH(this, e.head, n))
    );
  }
  visualLineSide(e, r) {
    let n = this.bidiSpans(e),
      i = this.textDirectionAt(e.from),
      o = n[r ? n.length - 1 : 0];
    return Te.cursor(o.side(r, i) + e.from, o.forward(!r, i) ? 1 : -1);
  }
  moveToLineBoundary(e, r, n = !0) {
    return XH(this, e, r, n);
  }
  moveVertically(e, r, n) {
    return $4(this, e, QH(this, e, r, n));
  }
  domAtPos(e) {
    return this.docView.domAtPos(e);
  }
  posAtDOM(e, r = 0) {
    return this.docView.posFromDOM(e, r);
  }
  posAtCoords(e, r = !0) {
    return this.readMeasured(), s_(this, e, r);
  }
  coordsAtPos(e, r = 1) {
    this.readMeasured();
    let n = this.docView.coordsAt(e, r);
    if (!n || n.left == n.right) return n;
    let i = this.state.doc.lineAt(e),
      o = this.bidiSpans(i),
      s = o[Ll.find(o, e - i.from, -1, r)];
    return X8(n, (s.dir == Jr.LTR) == r > 0);
  }
  coordsForChar(e) {
    return this.readMeasured(), this.docView.coordsForChar(e);
  }
  get defaultCharacterWidth() {
    return this.viewState.heightOracle.charWidth;
  }
  get defaultLineHeight() {
    return this.viewState.heightOracle.lineHeight;
  }
  get textDirection() {
    return this.viewState.defaultTextDirection;
  }
  textDirectionAt(e) {
    return !this.state.facet(XM) ||
      e < this.viewport.from ||
      e > this.viewport.to
      ? this.textDirection
      : (this.readMeasured(), this.docView.textDirectionAt(e));
  }
  get lineWrapping() {
    return this.viewState.heightOracle.lineWrapping;
  }
  bidiSpans(e) {
    if (e.length > LV) return HM(e.length);
    let r = this.textDirectionAt(e.from),
      n;
    for (let o of this.bidiCache)
      if (
        o.from == e.from &&
        o.dir == r &&
        (o.fresh || jM(o.isolates, (n = S9(this, e))))
      )
        return o.order;
    n || (n = S9(this, e));
    let i = TH(e.text, r, n);
    return this.bidiCache.push(new m1(e.from, e.to, r, n, !0, i)), i;
  }
  get hasFocus() {
    var e;
    return (
      (this.dom.ownerDocument.hasFocus() ||
        (gt.safari &&
          ((e = this.inputState) === null || e === void 0
            ? void 0
            : e.lastContextMenu) >
            Date.now() - 3e4)) &&
      this.root.activeElement == this.contentDOM
    );
  }
  focus() {
    this.observer.ignore(() => {
      CM(this.contentDOM), this.docView.updateSelection();
    });
  }
  setRoot(e) {
    this._root != e &&
      ((this._root = e),
      this.observer.setWindow(
        (e.nodeType == 9 ? e : e.ownerDocument).defaultView || window
      ),
      this.mountStyles());
  }
  destroy() {
    for (let e of this.plugins) e.destroy(this);
    (this.plugins = []),
      this.inputState.destroy(),
      this.docView.destroy(),
      this.dom.remove(),
      this.observer.destroy(),
      this.measureScheduled > -1 &&
        this.win.cancelAnimationFrame(this.measureScheduled),
      (this.destroyed = !0);
  }
  static scrollIntoView(e, r = {}) {
    return hm.of(
      new Tc(
        typeof e == "number" ? Te.cursor(e) : e,
        r.y,
        r.x,
        r.yMargin,
        r.xMargin
      )
    );
  }
  scrollSnapshot() {
    let { scrollTop: e, scrollLeft: r } = this.scrollDOM,
      n = this.viewState.scrollAnchorAt(e);
    return hm.of(new Tc(Te.cursor(n.from), "start", "start", n.top - e, r, !0));
  }
  static domEventHandlers(e) {
    return Cn.define(() => ({}), { eventHandlers: e });
  }
  static domEventObservers(e) {
    return Cn.define(() => ({}), { eventObservers: e });
  }
  static theme(e, r) {
    let n = au.newName(),
      i = [ym.of(n), rh.of(y5(`.${n}`, e))];
    return r && r.dark && i.push(g5.of(!0)), i;
  }
  static baseTheme(e) {
    return E0.lowest(rh.of(y5("." + v5, e, y_)));
  }
  static findFromDOM(e) {
    var r;
    let n = e.querySelector(".cm-content"),
      i = (n && Ir.get(n)) || Ir.get(e);
    return (
      ((r = i == null ? void 0 : i.rootView) === null || r === void 0
        ? void 0
        : r.view) || null
    );
  }
}
ut.styleModule = rh;
ut.inputHandler = KM;
ut.scrollHandler = QM;
ut.focusChangeEffect = YM;
ut.perLineTextDirection = XM;
ut.exceptionSink = GM;
ut.updateListener = h5;
ut.editable = Ov;
ut.mouseSelectionStyle = UM;
ut.dragMovesSelection = qM;
ut.clickAddsSelectionRange = WM;
ut.decorations = ud;
ut.outerDecorations = e_;
ut.atomicRanges = t7;
ut.bidiIsolatedRanges = t_;
ut.scrollMargins = r_;
ut.darkTheme = g5;
ut.cspNonce = vt.define({ combine: (t) => (t.length ? t[0] : "") });
ut.contentAttributes = e7;
ut.editorAttributes = ZM;
ut.lineWrapping = ut.contentAttributes.of({ class: "cm-lineWrapping" });
ut.announce = Qt.define();
const LV = 4096,
  K9 = {};
class m1 {
  constructor(e, r, n, i, o, s) {
    (this.from = e),
      (this.to = r),
      (this.dir = n),
      (this.isolates = i),
      (this.fresh = o),
      (this.order = s);
  }
  static update(e, r) {
    if (r.empty && !e.some((o) => o.fresh)) return e;
    let n = [],
      i = e.length ? e[e.length - 1].dir : Jr.LTR;
    for (let o = Math.max(0, e.length - 10); o < e.length; o++) {
      let s = e[o];
      s.dir == i &&
        !r.touchesRange(s.from, s.to) &&
        n.push(
          new m1(
            r.mapPos(s.from, 1),
            r.mapPos(s.to, -1),
            s.dir,
            s.isolates,
            !1,
            s.order
          )
        );
    }
    return n;
  }
}
function Y9(t, e, r) {
  for (let n = t.state.facet(e), i = n.length - 1; i >= 0; i--) {
    let o = n[i],
      s = typeof o == "function" ? o(t) : o;
    s && o5(s, r);
  }
  return r;
}
const zV = gt.mac ? "mac" : gt.windows ? "win" : gt.linux ? "linux" : "key";
function jV(t, e) {
  const r = t.split(/-(?!$)/);
  let n = r[r.length - 1];
  n == "Space" && (n = " ");
  let i, o, s, a;
  for (let l = 0; l < r.length - 1; ++l) {
    const u = r[l];
    if (/^(cmd|meta|m)$/i.test(u)) a = !0;
    else if (/^a(lt)?$/i.test(u)) i = !0;
    else if (/^(c|ctrl|control)$/i.test(u)) o = !0;
    else if (/^s(hift)?$/i.test(u)) s = !0;
    else if (/^mod$/i.test(u)) e == "mac" ? (a = !0) : (o = !0);
    else throw new Error("Unrecognized modifier name: " + u);
  }
  return (
    i && (n = "Alt-" + n),
    o && (n = "Ctrl-" + n),
    a && (n = "Meta-" + n),
    s && (n = "Shift-" + n),
    n
  );
}
function bm(t, e, r) {
  return (
    e.altKey && (t = "Alt-" + t),
    e.ctrlKey && (t = "Ctrl-" + t),
    e.metaKey && (t = "Meta-" + t),
    r !== !1 && e.shiftKey && (t = "Shift-" + t),
    t
  );
}
const HV = E0.default(
    ut.domEventHandlers({
      keydown(t, e) {
        return w_(D_(e.state), t, e, "editor");
      },
    })
  ),
  n7 = vt.define({ enables: HV }),
  X9 = new WeakMap();
function D_(t) {
  let e = t.facet(n7),
    r = X9.get(e);
  return r || X9.set(e, (r = qV(e.reduce((n, i) => n.concat(i), [])))), r;
}
function VV(t, e, r) {
  return w_(D_(t.state), e, t, r);
}
let $l = null;
const WV = 4e3;
function qV(t, e = zV) {
  let r = Object.create(null),
    n = Object.create(null),
    i = (s, a) => {
      let l = n[s];
      if (l == null) n[s] = a;
      else if (l != a)
        throw new Error(
          "Key binding " +
            s +
            " is used both as a regular binding and as a multi-stroke prefix"
        );
    },
    o = (s, a, l, u, c) => {
      var f, h;
      let d = r[s] || (r[s] = Object.create(null)),
        p = a.split(/ (?!$)/).map((D) => jV(D, e));
      for (let D = 1; D < p.length; D++) {
        let k = p.slice(0, D).join(" ");
        i(k, !0),
          d[k] ||
            (d[k] = {
              preventDefault: !0,
              stopPropagation: !1,
              run: [
                (S) => {
                  let B = ($l = { view: S, prefix: k, scope: s });
                  return (
                    setTimeout(() => {
                      $l == B && ($l = null);
                    }, WV),
                    !0
                  );
                },
              ],
            });
      }
      let m = p.join(" ");
      i(m, !1);
      let b =
        d[m] ||
        (d[m] = {
          preventDefault: !1,
          stopPropagation: !1,
          run:
            ((h = (f = d._any) === null || f === void 0 ? void 0 : f.run) ===
              null || h === void 0
              ? void 0
              : h.slice()) || [],
        });
      l && b.run.push(l),
        u && (b.preventDefault = !0),
        c && (b.stopPropagation = !0);
    };
  for (let s of t) {
    let a = s.scope ? s.scope.split(" ") : ["editor"];
    if (s.any)
      for (let u of a) {
        let c = r[u] || (r[u] = Object.create(null));
        c._any ||
          (c._any = { preventDefault: !1, stopPropagation: !1, run: [] });
        for (let f in c) c[f].run.push(s.any);
      }
    let l = s[e] || s.key;
    if (l)
      for (let u of a)
        o(u, l, s.run, s.preventDefault, s.stopPropagation),
          s.shift &&
            o(u, "Shift-" + l, s.shift, s.preventDefault, s.stopPropagation);
  }
  return r;
}
function w_(t, e, r, n) {
  let i = mH(e),
    o = ci(i, 0),
    s = Us(o) == i.length && i != " ",
    a = "",
    l = !1,
    u = !1,
    c = !1;
  $l &&
    $l.view == r &&
    $l.scope == n &&
    ((a = $l.prefix + " "),
    a_.indexOf(e.keyCode) < 0 && ((u = !0), ($l = null)));
  let f = new Set(),
    h = (b) => {
      if (b) {
        for (let D of b.run)
          if (!f.has(D) && (f.add(D), D(r, e)))
            return b.stopPropagation && (c = !0), !0;
        b.preventDefault && (b.stopPropagation && (c = !0), (u = !0));
      }
      return !1;
    },
    d = t[n],
    p,
    m;
  return (
    d &&
      (h(d[a + bm(i, e, !s)])
        ? (l = !0)
        : s &&
            (e.altKey || e.metaKey || e.ctrlKey) &&
            !(gt.windows && e.ctrlKey && e.altKey) &&
            (p = lu[e.keyCode]) &&
            p != i
          ? (h(d[a + bm(p, e, !0)]) ||
              (e.shiftKey &&
                (m = ad[e.keyCode]) != i &&
                m != p &&
                h(d[a + bm(m, e, !1)]))) &&
            (l = !0)
          : s && e.shiftKey && h(d[a + bm(i, e, !0)]) && (l = !0),
      !l && h(d._any) && (l = !0)),
    u && (l = !0),
    l && c && e.stopPropagation(),
    l
  );
}
class ap {
  constructor(e, r, n, i, o) {
    (this.className = e),
      (this.left = r),
      (this.top = n),
      (this.width = i),
      (this.height = o);
  }
  draw() {
    let e = document.createElement("div");
    return (e.className = this.className), this.adjust(e), e;
  }
  update(e, r) {
    return r.className != this.className ? !1 : (this.adjust(e), !0);
  }
  adjust(e) {
    (e.style.left = this.left + "px"),
      (e.style.top = this.top + "px"),
      this.width != null && (e.style.width = this.width + "px"),
      (e.style.height = this.height + "px");
  }
  eq(e) {
    return (
      this.left == e.left &&
      this.top == e.top &&
      this.width == e.width &&
      this.height == e.height &&
      this.className == e.className
    );
  }
  static forRange(e, r, n) {
    if (n.empty) {
      let i = e.coordsAtPos(n.head, n.assoc || 1);
      if (!i) return [];
      let o = x_(e);
      return [
        new ap(r, i.left - o.left, i.top - o.top, null, i.bottom - i.top),
      ];
    } else return UV(e, r, n);
  }
}
function x_(t) {
  let e = t.scrollDOM.getBoundingClientRect();
  return {
    left:
      (t.textDirection == Jr.LTR
        ? e.left
        : e.right - t.scrollDOM.clientWidth * t.scaleX) -
      t.scrollDOM.scrollLeft * t.scaleX,
    top: e.top - t.scrollDOM.scrollTop * t.scaleY,
  };
}
function J9(t, e, r) {
  let n = Te.cursor(e);
  return {
    from: Math.max(r.from, t.moveToLineBoundary(n, !1, !0).from),
    to: Math.min(r.to, t.moveToLineBoundary(n, !0, !0).from),
    type: Ni.Text,
  };
}
function UV(t, e, r) {
  if (r.to <= t.viewport.from || r.from >= t.viewport.to) return [];
  let n = Math.max(r.from, t.viewport.from),
    i = Math.min(r.to, t.viewport.to),
    o = t.textDirection == Jr.LTR,
    s = t.contentDOM,
    a = s.getBoundingClientRect(),
    l = x_(t),
    u = s.querySelector(".cm-line"),
    c = u && window.getComputedStyle(u),
    f =
      a.left +
      (c ? parseInt(c.paddingLeft) + Math.min(0, parseInt(c.textIndent)) : 0),
    h = a.right - (c ? parseInt(c.paddingRight) : 0),
    d = p5(t, n),
    p = p5(t, i),
    m = d.type == Ni.Text ? d : null,
    b = p.type == Ni.Text ? p : null;
  if (
    (m && (t.lineWrapping || d.widgetLineBreaks) && (m = J9(t, n, m)),
    b && (t.lineWrapping || p.widgetLineBreaks) && (b = J9(t, i, b)),
    m && b && m.from == b.from)
  )
    return k(S(r.from, r.to, m));
  {
    let $ = m ? S(r.from, null, m) : B(d, !1),
      T = b ? S(null, r.to, b) : B(p, !0),
      P = [];
    return (
      (m || d).to < (b || p).from - (m && b ? 1 : 0) ||
      (d.widgetLineBreaks > 1 && $.bottom + t.defaultLineHeight / 2 < T.top)
        ? P.push(D(f, $.bottom, h, T.top))
        : $.bottom < T.top &&
          t.elementAtHeight(($.bottom + T.top) / 2).type == Ni.Text &&
          ($.bottom = T.top = ($.bottom + T.top) / 2),
      k($).concat(P).concat(k(T))
    );
  }
  function D($, T, P, te) {
    return new ap(e, $ - l.left, T - l.top - 0.01, P - $, te - T + 0.01);
  }
  function k({ top: $, bottom: T, horizontal: P }) {
    let te = [];
    for (let ee = 0; ee < P.length; ee += 2) te.push(D(P[ee], $, P[ee + 1], T));
    return te;
  }
  function S($, T, P) {
    let te = 1e9,
      ee = -1e9,
      de = [];
    function ke(ze, Ve, Ae, tt, Ee) {
      let Je = t.coordsAtPos(ze, ze == P.to ? -2 : 2),
        Re = t.coordsAtPos(Ae, Ae == P.from ? 2 : -2);
      !Je ||
        !Re ||
        ((te = Math.min(Je.top, Re.top, te)),
        (ee = Math.max(Je.bottom, Re.bottom, ee)),
        Ee == Jr.LTR
          ? de.push(o && Ve ? f : Je.left, o && tt ? h : Re.right)
          : de.push(!o && tt ? f : Re.left, !o && Ve ? h : Je.right));
    }
    let Ce = $ ?? P.from,
      he = T ?? P.to;
    for (let ze of t.visibleRanges)
      if (ze.to > Ce && ze.from < he)
        for (let Ve = Math.max(ze.from, Ce), Ae = Math.min(ze.to, he); ; ) {
          let tt = t.state.doc.lineAt(Ve);
          for (let Ee of t.bidiSpans(tt)) {
            let Je = Ee.from + tt.from,
              Re = Ee.to + tt.from;
            if (Je >= Ae) break;
            Re > Ve &&
              ke(
                Math.max(Je, Ve),
                $ == null && Je <= Ce,
                Math.min(Re, Ae),
                T == null && Re >= he,
                Ee.dir
              );
          }
          if (((Ve = tt.to + 1), Ve >= Ae)) break;
        }
    return (
      de.length == 0 && ke(Ce, $ == null, he, T == null, t.textDirection),
      { top: te, bottom: ee, horizontal: de }
    );
  }
  function B($, T) {
    let P = a.top + (T ? $.top : $.bottom);
    return { top: P, bottom: P, horizontal: [] };
  }
}
function GV(t, e) {
  return t.constructor == e.constructor && t.eq(e);
}
class KV {
  constructor(e, r) {
    (this.view = e),
      (this.layer = r),
      (this.drawn = []),
      (this.scaleX = 1),
      (this.scaleY = 1),
      (this.measureReq = {
        read: this.measure.bind(this),
        write: this.draw.bind(this),
      }),
      (this.dom = e.scrollDOM.appendChild(document.createElement("div"))),
      this.dom.classList.add("cm-layer"),
      r.above && this.dom.classList.add("cm-layer-above"),
      r.class && this.dom.classList.add(r.class),
      this.scale(),
      this.dom.setAttribute("aria-hidden", "true"),
      this.setOrder(e.state),
      e.requestMeasure(this.measureReq),
      r.mount && r.mount(this.dom, e);
  }
  update(e) {
    e.startState.facet(gg) != e.state.facet(gg) && this.setOrder(e.state),
      (this.layer.update(e, this.dom) || e.geometryChanged) &&
        (this.scale(), e.view.requestMeasure(this.measureReq));
  }
  docViewUpdate(e) {
    this.layer.updateOnDocViewUpdate !== !1 &&
      e.requestMeasure(this.measureReq);
  }
  setOrder(e) {
    let r = 0,
      n = e.facet(gg);
    for (; r < n.length && n[r] != this.layer; ) r++;
    this.dom.style.zIndex = String((this.layer.above ? 150 : -1) - r);
  }
  measure() {
    return this.layer.markers(this.view);
  }
  scale() {
    let { scaleX: e, scaleY: r } = this.view;
    (e != this.scaleX || r != this.scaleY) &&
      ((this.scaleX = e),
      (this.scaleY = r),
      (this.dom.style.transform = `scale(${1 / e}, ${1 / r})`));
  }
  draw(e) {
    if (
      e.length != this.drawn.length ||
      e.some((r, n) => !GV(r, this.drawn[n]))
    ) {
      let r = this.dom.firstChild,
        n = 0;
      for (let i of e)
        i.update &&
        r &&
        i.constructor &&
        this.drawn[n].constructor &&
        i.update(r, this.drawn[n])
          ? ((r = r.nextSibling), n++)
          : this.dom.insertBefore(i.draw(), r);
      for (; r; ) {
        let i = r.nextSibling;
        r.remove(), (r = i);
      }
      this.drawn = e;
    }
  }
  destroy() {
    this.layer.destroy && this.layer.destroy(this.dom, this.view),
      this.dom.remove();
  }
}
const gg = vt.define();
function k_(t) {
  return [Cn.define((e) => new KV(e, t)), gg.of(t)];
}
const S_ = !gt.ios,
  cd = vt.define({
    combine(t) {
      return da(
        t,
        { cursorBlinkRate: 1200, drawRangeCursor: !0 },
        {
          cursorBlinkRate: (e, r) => Math.min(e, r),
          drawRangeCursor: (e, r) => e || r,
        }
      );
    },
  });
function YV(t = {}) {
  return [cd.of(t), XV, JV, QV, JM.of(!0)];
}
function C_(t) {
  return t.startState.facet(cd) != t.state.facet(cd);
}
const XV = k_({
  above: !0,
  markers(t) {
    let { state: e } = t,
      r = e.facet(cd),
      n = [];
    for (let i of e.selection.ranges) {
      let o = i == e.selection.main;
      if (i.empty ? !o || S_ : r.drawRangeCursor) {
        let s = o
            ? "cm-cursor cm-cursor-primary"
            : "cm-cursor cm-cursor-secondary",
          a = i.empty ? i : Te.cursor(i.head, i.head > i.anchor ? -1 : 1);
        for (let l of ap.forRange(t, s, a)) n.push(l);
      }
    }
    return n;
  },
  update(t, e) {
    t.transactions.some((n) => n.selection) &&
      (e.style.animationName =
        e.style.animationName == "cm-blink" ? "cm-blink2" : "cm-blink");
    let r = C_(t);
    return r && Q9(t.state, e), t.docChanged || t.selectionSet || r;
  },
  mount(t, e) {
    Q9(e.state, t);
  },
  class: "cm-cursorLayer",
});
function Q9(t, e) {
  e.style.animationDuration = t.facet(cd).cursorBlinkRate + "ms";
}
const JV = k_({
    above: !1,
    markers(t) {
      return t.state.selection.ranges
        .map((e) =>
          e.empty ? [] : ap.forRange(t, "cm-selectionBackground", e)
        )
        .reduce((e, r) => e.concat(r));
    },
    update(t, e) {
      return t.docChanged || t.selectionSet || t.viewportChanged || C_(t);
    },
    class: "cm-selectionLayer",
  }),
  b5 = {
    ".cm-line": {
      "& ::selection": { backgroundColor: "transparent !important" },
      "&::selection": { backgroundColor: "transparent !important" },
    },
  };
S_ &&
  ((b5[".cm-line"].caretColor = "transparent !important"),
  (b5[".cm-content"] = { caretColor: "transparent !important" }));
const QV = E0.highest(ut.theme(b5)),
  A_ = Qt.define({
    map(t, e) {
      return t == null ? null : e.mapPos(t);
    },
  }),
  sh = ri.define({
    create() {
      return null;
    },
    update(t, e) {
      return (
        t != null && (t = e.changes.mapPos(t)),
        e.effects.reduce((r, n) => (n.is(A_) ? n.value : r), t)
      );
    },
  }),
  ZV = Cn.fromClass(
    class {
      constructor(t) {
        (this.view = t),
          (this.cursor = null),
          (this.measureReq = {
            read: this.readPos.bind(this),
            write: this.drawCursor.bind(this),
          });
      }
      update(t) {
        var e;
        let r = t.state.field(sh);
        r == null
          ? this.cursor != null &&
            ((e = this.cursor) === null || e === void 0 || e.remove(),
            (this.cursor = null))
          : (this.cursor ||
              ((this.cursor = this.view.scrollDOM.appendChild(
                document.createElement("div")
              )),
              (this.cursor.className = "cm-dropCursor")),
            (t.startState.field(sh) != r ||
              t.docChanged ||
              t.geometryChanged) &&
              this.view.requestMeasure(this.measureReq));
      }
      readPos() {
        let { view: t } = this,
          e = t.state.field(sh),
          r = e != null && t.coordsAtPos(e);
        if (!r) return null;
        let n = t.scrollDOM.getBoundingClientRect();
        return {
          left: r.left - n.left + t.scrollDOM.scrollLeft * t.scaleX,
          top: r.top - n.top + t.scrollDOM.scrollTop * t.scaleY,
          height: r.bottom - r.top,
        };
      }
      drawCursor(t) {
        if (this.cursor) {
          let { scaleX: e, scaleY: r } = this.view;
          t
            ? ((this.cursor.style.left = t.left / e + "px"),
              (this.cursor.style.top = t.top / r + "px"),
              (this.cursor.style.height = t.height / r + "px"))
            : (this.cursor.style.left = "-100000px");
        }
      }
      destroy() {
        this.cursor && this.cursor.remove();
      }
      setDropPos(t) {
        this.view.state.field(sh) != t &&
          this.view.dispatch({ effects: A_.of(t) });
      }
    },
    {
      eventObservers: {
        dragover(t) {
          this.setDropPos(
            this.view.posAtCoords({ x: t.clientX, y: t.clientY })
          );
        },
        dragleave(t) {
          (t.target == this.view.contentDOM ||
            !this.view.contentDOM.contains(t.relatedTarget)) &&
            this.setDropPos(null);
        },
        dragend() {
          this.setDropPos(null);
        },
        drop() {
          this.setDropPos(null);
        },
      },
    }
  );
function eW() {
  return [sh, ZV];
}
function Z9(t, e, r, n, i) {
  e.lastIndex = 0;
  for (let o = t.iterRange(r, n), s = r, a; !o.next().done; s += o.value.length)
    if (!o.lineBreak) for (; (a = e.exec(o.value)); ) i(s + a.index, a);
}
function tW(t, e) {
  let r = t.visibleRanges;
  if (r.length == 1 && r[0].from == t.viewport.from && r[0].to == t.viewport.to)
    return r;
  let n = [];
  for (let { from: i, to: o } of r)
    (i = Math.max(t.state.doc.lineAt(i).from, i - e)),
      (o = Math.min(t.state.doc.lineAt(o).to, o + e)),
      n.length && n[n.length - 1].to >= i
        ? (n[n.length - 1].to = o)
        : n.push({ from: i, to: o });
  return n;
}
class rW {
  constructor(e) {
    const {
      regexp: r,
      decoration: n,
      decorate: i,
      boundary: o,
      maxLength: s = 1e3,
    } = e;
    if (!r.global)
      throw new RangeError(
        "The regular expression given to MatchDecorator should have its 'g' flag set"
      );
    if (((this.regexp = r), i))
      this.addMatch = (a, l, u, c) => i(c, u, u + a[0].length, a, l);
    else if (typeof n == "function")
      this.addMatch = (a, l, u, c) => {
        let f = n(a, l, u);
        f && c(u, u + a[0].length, f);
      };
    else if (n) this.addMatch = (a, l, u, c) => c(u, u + a[0].length, n);
    else
      throw new RangeError(
        "Either 'decorate' or 'decoration' should be provided to MatchDecorator"
      );
    (this.boundary = o), (this.maxLength = s);
  }
  createDeco(e) {
    let r = new Ua(),
      n = r.add.bind(r);
    for (let { from: i, to: o } of tW(e, this.maxLength))
      Z9(e.state.doc, this.regexp, i, o, (s, a) => this.addMatch(a, e, s, n));
    return r.finish();
  }
  updateDeco(e, r) {
    let n = 1e9,
      i = -1;
    return (
      e.docChanged &&
        e.changes.iterChanges((o, s, a, l) => {
          l > e.view.viewport.from &&
            a < e.view.viewport.to &&
            ((n = Math.min(a, n)), (i = Math.max(l, i)));
        }),
      e.viewportChanged || i - n > 1e3
        ? this.createDeco(e.view)
        : i > -1
          ? this.updateRange(e.view, r.map(e.changes), n, i)
          : r
    );
  }
  updateRange(e, r, n, i) {
    for (let o of e.visibleRanges) {
      let s = Math.max(o.from, n),
        a = Math.min(o.to, i);
      if (a > s) {
        let l = e.state.doc.lineAt(s),
          u = l.to < a ? e.state.doc.lineAt(a) : l,
          c = Math.max(o.from, l.from),
          f = Math.min(o.to, u.to);
        if (this.boundary) {
          for (; s > l.from; s--)
            if (this.boundary.test(l.text[s - 1 - l.from])) {
              c = s;
              break;
            }
          for (; a < u.to; a++)
            if (this.boundary.test(u.text[a - u.from])) {
              f = a;
              break;
            }
        }
        let h = [],
          d,
          p = (m, b, D) => h.push(D.range(m, b));
        if (l == u)
          for (
            this.regexp.lastIndex = c - l.from;
            (d = this.regexp.exec(l.text)) && d.index < f - l.from;

          )
            this.addMatch(d, e, d.index + l.from, p);
        else
          Z9(e.state.doc, this.regexp, c, f, (m, b) =>
            this.addMatch(b, e, m, p)
          );
        r = r.update({
          filterFrom: c,
          filterTo: f,
          filter: (m, b) => m < c || b > f,
          add: h,
        });
      }
    }
    return r;
  }
}
const D5 = /x/.unicode != null ? "gu" : "g",
  nW = new RegExp(
    `[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,
    D5
  ),
  iW = {
    0: "null",
    7: "bell",
    8: "backspace",
    10: "newline",
    11: "vertical tab",
    13: "carriage return",
    27: "escape",
    8203: "zero width space",
    8204: "zero width non-joiner",
    8205: "zero width joiner",
    8206: "left-to-right mark",
    8207: "right-to-left mark",
    8232: "line separator",
    8237: "left-to-right override",
    8238: "right-to-left override",
    8294: "left-to-right isolate",
    8295: "right-to-left isolate",
    8297: "pop directional isolate",
    8233: "paragraph separator",
    65279: "zero width no-break space",
    65532: "object replacement",
  };
let T4 = null;
function sW() {
  var t;
  if (T4 == null && typeof document < "u" && document.body) {
    let e = document.body.style;
    T4 = ((t = e.tabSize) !== null && t !== void 0 ? t : e.MozTabSize) != null;
  }
  return T4 || !1;
}
const vg = vt.define({
  combine(t) {
    let e = da(t, { render: null, specialChars: nW, addSpecialChars: null });
    return (
      (e.replaceTabs = !sW()) &&
        (e.specialChars = new RegExp("	|" + e.specialChars.source, D5)),
      e.addSpecialChars &&
        (e.specialChars = new RegExp(
          e.specialChars.source + "|" + e.addSpecialChars.source,
          D5
        )),
      e
    );
  },
});
function oW(t = {}) {
  return [vg.of(t), aW()];
}
let ex = null;
function aW() {
  return (
    ex ||
    (ex = Cn.fromClass(
      class {
        constructor(t) {
          (this.view = t),
            (this.decorations = Pt.none),
            (this.decorationCache = Object.create(null)),
            (this.decorator = this.makeDecorator(t.state.facet(vg))),
            (this.decorations = this.decorator.createDeco(t));
        }
        makeDecorator(t) {
          return new rW({
            regexp: t.specialChars,
            decoration: (e, r, n) => {
              let { doc: i } = r.state,
                o = ci(e[0], 0);
              if (o == 9) {
                let s = i.lineAt(n),
                  a = r.state.tabSize,
                  l = xf(s.text, a, n - s.from);
                return Pt.replace({
                  widget: new fW(
                    ((a - (l % a)) * this.view.defaultCharacterWidth) /
                      this.view.scaleX
                  ),
                });
              }
              return (
                this.decorationCache[o] ||
                (this.decorationCache[o] = Pt.replace({ widget: new cW(t, o) }))
              );
            },
            boundary: t.replaceTabs ? void 0 : /[^]/,
          });
        }
        update(t) {
          let e = t.state.facet(vg);
          t.startState.facet(vg) != e
            ? ((this.decorator = this.makeDecorator(e)),
              (this.decorations = this.decorator.createDeco(t.view)))
            : (this.decorations = this.decorator.updateDeco(
                t,
                this.decorations
              ));
        }
      },
      { decorations: (t) => t.decorations }
    ))
  );
}
const lW = "•";
function uW(t) {
  return t >= 32 ? lW : t == 10 ? "␤" : String.fromCharCode(9216 + t);
}
class cW extends ku {
  constructor(e, r) {
    super(), (this.options = e), (this.code = r);
  }
  eq(e) {
    return e.code == this.code;
  }
  toDOM(e) {
    let r = uW(this.code),
      n =
        e.state.phrase("Control character") +
        " " +
        (iW[this.code] || "0x" + this.code.toString(16)),
      i = this.options.render && this.options.render(this.code, n, r);
    if (i) return i;
    let o = document.createElement("span");
    return (
      (o.textContent = r),
      (o.title = n),
      o.setAttribute("aria-label", n),
      (o.className = "cm-specialChar"),
      o
    );
  }
  ignoreEvent() {
    return !1;
  }
}
class fW extends ku {
  constructor(e) {
    super(), (this.width = e);
  }
  eq(e) {
    return e.width == this.width;
  }
  toDOM() {
    let e = document.createElement("span");
    return (
      (e.textContent = "	"),
      (e.className = "cm-tab"),
      (e.style.width = this.width + "px"),
      e
    );
  }
  ignoreEvent() {
    return !1;
  }
}
function hW() {
  return pW;
}
const dW = Pt.line({ class: "cm-activeLine" }),
  pW = Cn.fromClass(
    class {
      constructor(t) {
        this.decorations = this.getDeco(t);
      }
      update(t) {
        (t.docChanged || t.selectionSet) &&
          (this.decorations = this.getDeco(t.view));
      }
      getDeco(t) {
        let e = -1,
          r = [];
        for (let n of t.state.selection.ranges) {
          let i = t.lineBlockAt(n.head);
          i.from > e && (r.push(dW.range(i.from)), (e = i.from));
        }
        return Pt.set(r);
      }
    },
    { decorations: (t) => t.decorations }
  ),
  w5 = 2e3;
function mW(t, e, r) {
  let n = Math.min(e.line, r.line),
    i = Math.max(e.line, r.line),
    o = [];
  if (e.off > w5 || r.off > w5 || e.col < 0 || r.col < 0) {
    let s = Math.min(e.off, r.off),
      a = Math.max(e.off, r.off);
    for (let l = n; l <= i; l++) {
      let u = t.doc.line(l);
      u.length <= a && o.push(Te.range(u.from + s, u.to + a));
    }
  } else {
    let s = Math.min(e.col, r.col),
      a = Math.max(e.col, r.col);
    for (let l = n; l <= i; l++) {
      let u = t.doc.line(l),
        c = Z3(u.text, s, t.tabSize, !0);
      if (c < 0) o.push(Te.cursor(u.to));
      else {
        let f = Z3(u.text, a, t.tabSize);
        o.push(Te.range(u.from + c, u.from + f));
      }
    }
  }
  return o;
}
function gW(t, e) {
  let r = t.coordsAtPos(t.viewport.from);
  return r ? Math.round(Math.abs((r.left - e) / t.defaultCharacterWidth)) : -1;
}
function tx(t, e) {
  let r = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1),
    n = t.state.doc.lineAt(r),
    i = r - n.from,
    o =
      i > w5
        ? -1
        : i == n.length
          ? gW(t, e.clientX)
          : xf(n.text, t.state.tabSize, r - n.from);
  return { line: n.number, col: o, off: i };
}
function vW(t, e) {
  let r = tx(t, e),
    n = t.state.selection;
  return r
    ? {
        update(i) {
          if (i.docChanged) {
            let o = i.changes.mapPos(i.startState.doc.line(r.line).from),
              s = i.state.doc.lineAt(o);
            (r = {
              line: s.number,
              col: r.col,
              off: Math.min(r.off, s.length),
            }),
              (n = n.map(i.changes));
          }
        },
        get(i, o, s) {
          let a = tx(t, i);
          if (!a) return n;
          let l = mW(t.state, r, a);
          return l.length
            ? s
              ? Te.create(l.concat(n.ranges))
              : Te.create(l)
            : n;
        },
      }
    : null;
}
function yW(t) {
  let e =
    (t == null ? void 0 : t.eventFilter) || ((r) => r.altKey && r.button == 0);
  return ut.mouseSelectionStyle.of((r, n) => (e(n) ? vW(r, n) : null));
}
const bW = {
    Alt: [18, (t) => !!t.altKey],
    Control: [17, (t) => !!t.ctrlKey],
    Shift: [16, (t) => !!t.shiftKey],
    Meta: [91, (t) => !!t.metaKey],
  },
  DW = { style: "cursor: crosshair" };
function wW(t = {}) {
  let [e, r] = bW[t.key || "Alt"],
    n = Cn.fromClass(
      class {
        constructor(i) {
          (this.view = i), (this.isDown = !1);
        }
        set(i) {
          this.isDown != i && ((this.isDown = i), this.view.update([]));
        }
      },
      {
        eventObservers: {
          keydown(i) {
            this.set(i.keyCode == e || r(i));
          },
          keyup(i) {
            (i.keyCode == e || !r(i)) && this.set(!1);
          },
          mousemove(i) {
            this.set(r(i));
          },
        },
      }
    );
  return [
    n,
    ut.contentAttributes.of((i) => {
      var o;
      return !((o = i.plugin(n)) === null || o === void 0) && o.isDown
        ? DW
        : null;
    }),
  ];
}
const Wf = "-10000px";
class E_ {
  constructor(e, r, n, i) {
    (this.facet = r),
      (this.createTooltipView = n),
      (this.removeTooltipView = i),
      (this.input = e.state.facet(r)),
      (this.tooltips = this.input.filter((s) => s));
    let o = null;
    this.tooltipViews = this.tooltips.map((s) => (o = n(s, o)));
  }
  update(e, r) {
    var n;
    let i = e.state.facet(this.facet),
      o = i.filter((l) => l);
    if (i === this.input) {
      for (let l of this.tooltipViews) l.update && l.update(e);
      return !1;
    }
    let s = [],
      a = r ? [] : null;
    for (let l = 0; l < o.length; l++) {
      let u = o[l],
        c = -1;
      if (u) {
        for (let f = 0; f < this.tooltips.length; f++) {
          let h = this.tooltips[f];
          h && h.create == u.create && (c = f);
        }
        if (c < 0)
          (s[l] = this.createTooltipView(u, l ? s[l - 1] : null)),
            a && (a[l] = !!u.above);
        else {
          let f = (s[l] = this.tooltipViews[c]);
          a && (a[l] = r[c]), f.update && f.update(e);
        }
      }
    }
    for (let l of this.tooltipViews)
      s.indexOf(l) < 0 &&
        (this.removeTooltipView(l),
        (n = l.destroy) === null || n === void 0 || n.call(l));
    return (
      r && (a.forEach((l, u) => (r[u] = l)), (r.length = a.length)),
      (this.input = i),
      (this.tooltips = o),
      (this.tooltipViews = s),
      !0
    );
  }
}
function xW(t) {
  let { win: e } = t;
  return { top: 0, left: 0, bottom: e.innerHeight, right: e.innerWidth };
}
const P4 = vt.define({
    combine: (t) => {
      var e, r, n;
      return {
        position: gt.ios
          ? "absolute"
          : ((e = t.find((i) => i.position)) === null || e === void 0
              ? void 0
              : e.position) || "fixed",
        parent:
          ((r = t.find((i) => i.parent)) === null || r === void 0
            ? void 0
            : r.parent) || null,
        tooltipSpace:
          ((n = t.find((i) => i.tooltipSpace)) === null || n === void 0
            ? void 0
            : n.tooltipSpace) || xW,
      };
    },
  }),
  rx = new WeakMap(),
  i7 = Cn.fromClass(
    class {
      constructor(t) {
        (this.view = t),
          (this.above = []),
          (this.inView = !0),
          (this.madeAbsolute = !1),
          (this.lastTransaction = 0),
          (this.measureTimeout = -1);
        let e = t.state.facet(P4);
        (this.position = e.position),
          (this.parent = e.parent),
          (this.classes = t.themeClasses),
          this.createContainer(),
          (this.measureReq = {
            read: this.readMeasure.bind(this),
            write: this.writeMeasure.bind(this),
            key: this,
          }),
          (this.resizeObserver =
            typeof ResizeObserver == "function"
              ? new ResizeObserver(() => this.measureSoon())
              : null),
          (this.manager = new E_(
            t,
            s7,
            (r, n) => this.createTooltip(r, n),
            (r) => {
              this.resizeObserver && this.resizeObserver.unobserve(r.dom),
                r.dom.remove();
            }
          )),
          (this.above = this.manager.tooltips.map((r) => !!r.above)),
          (this.intersectionObserver =
            typeof IntersectionObserver == "function"
              ? new IntersectionObserver(
                  (r) => {
                    Date.now() > this.lastTransaction - 50 &&
                      r.length > 0 &&
                      r[r.length - 1].intersectionRatio < 1 &&
                      this.measureSoon();
                  },
                  { threshold: [1] }
                )
              : null),
          this.observeIntersection(),
          t.win.addEventListener(
            "resize",
            (this.measureSoon = this.measureSoon.bind(this))
          ),
          this.maybeMeasure();
      }
      createContainer() {
        this.parent
          ? ((this.container = document.createElement("div")),
            (this.container.style.position = "relative"),
            (this.container.className = this.view.themeClasses),
            this.parent.appendChild(this.container))
          : (this.container = this.view.dom);
      }
      observeIntersection() {
        if (this.intersectionObserver) {
          this.intersectionObserver.disconnect();
          for (let t of this.manager.tooltipViews)
            this.intersectionObserver.observe(t.dom);
        }
      }
      measureSoon() {
        this.measureTimeout < 0 &&
          (this.measureTimeout = setTimeout(() => {
            (this.measureTimeout = -1), this.maybeMeasure();
          }, 50));
      }
      update(t) {
        t.transactions.length && (this.lastTransaction = Date.now());
        let e = this.manager.update(t, this.above);
        e && this.observeIntersection();
        let r = e || t.geometryChanged,
          n = t.state.facet(P4);
        if (n.position != this.position && !this.madeAbsolute) {
          this.position = n.position;
          for (let i of this.manager.tooltipViews)
            i.dom.style.position = this.position;
          r = !0;
        }
        if (n.parent != this.parent) {
          this.parent && this.container.remove(),
            (this.parent = n.parent),
            this.createContainer();
          for (let i of this.manager.tooltipViews)
            this.container.appendChild(i.dom);
          r = !0;
        } else
          this.parent &&
            this.view.themeClasses != this.classes &&
            (this.classes = this.container.className = this.view.themeClasses);
        r && this.maybeMeasure();
      }
      createTooltip(t, e) {
        let r = t.create(this.view),
          n = e ? e.dom : null;
        if (
          (r.dom.classList.add("cm-tooltip"),
          t.arrow && !r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow"))
        ) {
          let i = document.createElement("div");
          (i.className = "cm-tooltip-arrow"), r.dom.appendChild(i);
        }
        return (
          (r.dom.style.position = this.position),
          (r.dom.style.top = Wf),
          (r.dom.style.left = "0px"),
          this.container.insertBefore(r.dom, n),
          r.mount && r.mount(this.view),
          this.resizeObserver && this.resizeObserver.observe(r.dom),
          r
        );
      }
      destroy() {
        var t, e, r;
        this.view.win.removeEventListener("resize", this.measureSoon);
        for (let n of this.manager.tooltipViews)
          n.dom.remove(), (t = n.destroy) === null || t === void 0 || t.call(n);
        this.parent && this.container.remove(),
          (e = this.resizeObserver) === null || e === void 0 || e.disconnect(),
          (r = this.intersectionObserver) === null ||
            r === void 0 ||
            r.disconnect(),
          clearTimeout(this.measureTimeout);
      }
      readMeasure() {
        let t = this.view.dom.getBoundingClientRect(),
          e = 1,
          r = 1,
          n = !1;
        if (this.position == "fixed" && this.manager.tooltipViews.length) {
          let { dom: i } = this.manager.tooltipViews[0];
          if (gt.gecko) n = i.offsetParent != this.container.ownerDocument.body;
          else if (i.style.top == Wf && i.style.left == "0px") {
            let o = i.getBoundingClientRect();
            n = Math.abs(o.top + 1e4) > 1 || Math.abs(o.left) > 1;
          }
        }
        if (n || this.position == "absolute")
          if (this.parent) {
            let i = this.parent.getBoundingClientRect();
            i.width &&
              i.height &&
              ((e = i.width / this.parent.offsetWidth),
              (r = i.height / this.parent.offsetHeight));
          } else ({ scaleX: e, scaleY: r } = this.view.viewState);
        return {
          editor: t,
          parent: this.parent ? this.container.getBoundingClientRect() : t,
          pos: this.manager.tooltips.map((i, o) => {
            let s = this.manager.tooltipViews[o];
            return s.getCoords
              ? s.getCoords(i.pos)
              : this.view.coordsAtPos(i.pos);
          }),
          size: this.manager.tooltipViews.map(({ dom: i }) =>
            i.getBoundingClientRect()
          ),
          space: this.view.state.facet(P4).tooltipSpace(this.view),
          scaleX: e,
          scaleY: r,
          makeAbsolute: n,
        };
      }
      writeMeasure(t) {
        var e;
        if (t.makeAbsolute) {
          (this.madeAbsolute = !0), (this.position = "absolute");
          for (let a of this.manager.tooltipViews)
            a.dom.style.position = "absolute";
        }
        let { editor: r, space: n, scaleX: i, scaleY: o } = t,
          s = [];
        for (let a = 0; a < this.manager.tooltips.length; a++) {
          let l = this.manager.tooltips[a],
            u = this.manager.tooltipViews[a],
            { dom: c } = u,
            f = t.pos[a],
            h = t.size[a];
          if (
            !f ||
            f.bottom <= Math.max(r.top, n.top) ||
            f.top >= Math.min(r.bottom, n.bottom) ||
            f.right < Math.max(r.left, n.left) - 0.1 ||
            f.left > Math.min(r.right, n.right) + 0.1
          ) {
            c.style.top = Wf;
            continue;
          }
          let d = l.arrow ? u.dom.querySelector(".cm-tooltip-arrow") : null,
            p = d ? 7 : 0,
            m = h.right - h.left,
            b = (e = rx.get(u)) !== null && e !== void 0 ? e : h.bottom - h.top,
            D = u.offset || SW,
            k = this.view.textDirection == Jr.LTR,
            S =
              h.width > n.right - n.left
                ? k
                  ? n.left
                  : n.right - h.width
                : k
                  ? Math.min(f.left - (d ? 14 : 0) + D.x, n.right - m)
                  : Math.max(n.left, f.left - m + (d ? 14 : 0) - D.x),
            B = this.above[a];
          !l.strictSide &&
            (B
              ? f.top - (h.bottom - h.top) - D.y < n.top
              : f.bottom + (h.bottom - h.top) + D.y > n.bottom) &&
            B == n.bottom - f.bottom > f.top - n.top &&
            (B = this.above[a] = !B);
          let $ = (B ? f.top - n.top : n.bottom - f.bottom) - p;
          if ($ < b && u.resize !== !1) {
            if ($ < this.view.defaultLineHeight) {
              c.style.top = Wf;
              continue;
            }
            rx.set(u, b), (c.style.height = (b = $) / o + "px");
          } else c.style.height && (c.style.height = "");
          let T = B ? f.top - b - p - D.y : f.bottom + p + D.y,
            P = S + m;
          if (u.overlap !== !0)
            for (let te of s)
              te.left < P &&
                te.right > S &&
                te.top < T + b &&
                te.bottom > T &&
                (T = B ? te.top - b - 2 - p : te.bottom + p + 2);
          if (
            (this.position == "absolute"
              ? ((c.style.top = (T - t.parent.top) / o + "px"),
                (c.style.left = (S - t.parent.left) / i + "px"))
              : ((c.style.top = T / o + "px"), (c.style.left = S / i + "px")),
            d)
          ) {
            let te = f.left + (k ? D.x : -D.x) - (S + 14 - 7);
            d.style.left = te / i + "px";
          }
          u.overlap !== !0 &&
            s.push({ left: S, top: T, right: P, bottom: T + b }),
            c.classList.toggle("cm-tooltip-above", B),
            c.classList.toggle("cm-tooltip-below", !B),
            u.positioned && u.positioned(t.space);
        }
      }
      maybeMeasure() {
        if (
          this.manager.tooltips.length &&
          (this.view.inView && this.view.requestMeasure(this.measureReq),
          this.inView != this.view.inView &&
            ((this.inView = this.view.inView), !this.inView))
        )
          for (let t of this.manager.tooltipViews) t.dom.style.top = Wf;
      }
    },
    {
      eventObservers: {
        scroll() {
          this.maybeMeasure();
        },
      },
    }
  ),
  kW = ut.baseTheme({
    ".cm-tooltip": { zIndex: 100, boxSizing: "border-box" },
    "&light .cm-tooltip": {
      border: "1px solid #bbb",
      backgroundColor: "#f5f5f5",
    },
    "&light .cm-tooltip-section:not(:first-child)": {
      borderTop: "1px solid #bbb",
    },
    "&dark .cm-tooltip": { backgroundColor: "#333338", color: "white" },
    ".cm-tooltip-arrow": {
      height: "7px",
      width: `${7 * 2}px`,
      position: "absolute",
      zIndex: -1,
      overflow: "hidden",
      "&:before, &:after": {
        content: "''",
        position: "absolute",
        width: 0,
        height: 0,
        borderLeft: "7px solid transparent",
        borderRight: "7px solid transparent",
      },
      ".cm-tooltip-above &": {
        bottom: "-7px",
        "&:before": { borderTop: "7px solid #bbb" },
        "&:after": { borderTop: "7px solid #f5f5f5", bottom: "1px" },
      },
      ".cm-tooltip-below &": {
        top: "-7px",
        "&:before": { borderBottom: "7px solid #bbb" },
        "&:after": { borderBottom: "7px solid #f5f5f5", top: "1px" },
      },
    },
    "&dark .cm-tooltip .cm-tooltip-arrow": {
      "&:before": { borderTopColor: "#333338", borderBottomColor: "#333338" },
      "&:after": {
        borderTopColor: "transparent",
        borderBottomColor: "transparent",
      },
    },
  }),
  SW = { x: 0, y: 0 },
  s7 = vt.define({ enables: [i7, kW] }),
  g1 = vt.define({ combine: (t) => t.reduce((e, r) => e.concat(r), []) });
class Bv {
  static create(e) {
    return new Bv(e);
  }
  constructor(e) {
    (this.view = e),
      (this.mounted = !1),
      (this.dom = document.createElement("div")),
      this.dom.classList.add("cm-tooltip-hover"),
      (this.manager = new E_(
        e,
        g1,
        (r, n) => this.createHostedView(r, n),
        (r) => r.dom.remove()
      ));
  }
  createHostedView(e, r) {
    let n = e.create(this.view);
    return (
      n.dom.classList.add("cm-tooltip-section"),
      this.dom.insertBefore(n.dom, r ? r.dom.nextSibling : this.dom.firstChild),
      this.mounted && n.mount && n.mount(this.view),
      n
    );
  }
  mount(e) {
    for (let r of this.manager.tooltipViews) r.mount && r.mount(e);
    this.mounted = !0;
  }
  positioned(e) {
    for (let r of this.manager.tooltipViews) r.positioned && r.positioned(e);
  }
  update(e) {
    this.manager.update(e);
  }
  destroy() {
    var e;
    for (let r of this.manager.tooltipViews)
      (e = r.destroy) === null || e === void 0 || e.call(r);
  }
  passProp(e) {
    let r;
    for (let n of this.manager.tooltipViews) {
      let i = n[e];
      if (i !== void 0) {
        if (r === void 0) r = i;
        else if (r !== i) return;
      }
    }
    return r;
  }
  get offset() {
    return this.passProp("offset");
  }
  get getCoords() {
    return this.passProp("getCoords");
  }
  get overlap() {
    return this.passProp("overlap");
  }
  get resize() {
    return this.passProp("resize");
  }
}
const CW = s7.compute([g1], (t) => {
  let e = t.facet(g1);
  return e.length === 0
    ? null
    : {
        pos: Math.min(...e.map((r) => r.pos)),
        end: Math.max(
          ...e.map((r) => {
            var n;
            return (n = r.end) !== null && n !== void 0 ? n : r.pos;
          })
        ),
        create: Bv.create,
        above: e[0].above,
        arrow: e.some((r) => r.arrow),
      };
});
class AW {
  constructor(e, r, n, i, o) {
    (this.view = e),
      (this.source = r),
      (this.field = n),
      (this.setHover = i),
      (this.hoverTime = o),
      (this.hoverTimeout = -1),
      (this.restartTimeout = -1),
      (this.pending = null),
      (this.lastMove = { x: 0, y: 0, target: e.dom, time: 0 }),
      (this.checkHover = this.checkHover.bind(this)),
      e.dom.addEventListener(
        "mouseleave",
        (this.mouseleave = this.mouseleave.bind(this))
      ),
      e.dom.addEventListener(
        "mousemove",
        (this.mousemove = this.mousemove.bind(this))
      );
  }
  update() {
    this.pending &&
      ((this.pending = null),
      clearTimeout(this.restartTimeout),
      (this.restartTimeout = setTimeout(() => this.startHover(), 20)));
  }
  get active() {
    return this.view.state.field(this.field);
  }
  checkHover() {
    if (((this.hoverTimeout = -1), this.active.length)) return;
    let e = Date.now() - this.lastMove.time;
    e < this.hoverTime
      ? (this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - e))
      : this.startHover();
  }
  startHover() {
    clearTimeout(this.restartTimeout);
    let { view: e, lastMove: r } = this,
      n = e.docView.nearest(r.target);
    if (!n) return;
    let i,
      o = 1;
    if (n instanceof Nl) i = n.posAtStart;
    else {
      if (((i = e.posAtCoords(r)), i == null)) return;
      let a = e.coordsAtPos(i);
      if (
        !a ||
        r.y < a.top ||
        r.y > a.bottom ||
        r.x < a.left - e.defaultCharacterWidth ||
        r.x > a.right + e.defaultCharacterWidth
      )
        return;
      let l = e
          .bidiSpans(e.state.doc.lineAt(i))
          .find((c) => c.from <= i && c.to >= i),
        u = l && l.dir == Jr.RTL ? -1 : 1;
      o = r.x < a.left ? -u : u;
    }
    let s = this.source(e, i, o);
    if (s != null && s.then) {
      let a = (this.pending = { pos: i });
      s.then(
        (l) => {
          this.pending == a &&
            ((this.pending = null),
            l &&
              !(Array.isArray(l) && !l.length) &&
              e.dispatch({
                effects: this.setHover.of(Array.isArray(l) ? l : [l]),
              }));
        },
        (l) => ts(e.state, l, "hover tooltip")
      );
    } else
      s &&
        !(Array.isArray(s) && !s.length) &&
        e.dispatch({ effects: this.setHover.of(Array.isArray(s) ? s : [s]) });
  }
  get tooltip() {
    let e = this.view.plugin(i7),
      r = e ? e.manager.tooltips.findIndex((n) => n.create == Bv.create) : -1;
    return r > -1 ? e.manager.tooltipViews[r] : null;
  }
  mousemove(e) {
    var r, n;
    (this.lastMove = {
      x: e.clientX,
      y: e.clientY,
      target: e.target,
      time: Date.now(),
    }),
      this.hoverTimeout < 0 &&
        (this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime));
    let { active: i, tooltip: o } = this;
    if ((i.length && o && !EW(o.dom, e)) || this.pending) {
      let { pos: s } = i[0] || this.pending,
        a =
          (n = (r = i[0]) === null || r === void 0 ? void 0 : r.end) !== null &&
          n !== void 0
            ? n
            : s;
      (s == a
        ? this.view.posAtCoords(this.lastMove) != s
        : !FW(this.view, s, a, e.clientX, e.clientY)) &&
        (this.view.dispatch({ effects: this.setHover.of([]) }),
        (this.pending = null));
    }
  }
  mouseleave(e) {
    clearTimeout(this.hoverTimeout), (this.hoverTimeout = -1);
    let { active: r } = this;
    if (r.length) {
      let { tooltip: n } = this;
      n && n.dom.contains(e.relatedTarget)
        ? this.watchTooltipLeave(n.dom)
        : this.view.dispatch({ effects: this.setHover.of([]) });
    }
  }
  watchTooltipLeave(e) {
    let r = (n) => {
      e.removeEventListener("mouseleave", r),
        this.active.length &&
          !this.view.dom.contains(n.relatedTarget) &&
          this.view.dispatch({ effects: this.setHover.of([]) });
    };
    e.addEventListener("mouseleave", r);
  }
  destroy() {
    clearTimeout(this.hoverTimeout),
      this.view.dom.removeEventListener("mouseleave", this.mouseleave),
      this.view.dom.removeEventListener("mousemove", this.mousemove);
  }
}
const Dm = 4;
function EW(t, e) {
  let r = t.getBoundingClientRect();
  return (
    e.clientX >= r.left - Dm &&
    e.clientX <= r.right + Dm &&
    e.clientY >= r.top - Dm &&
    e.clientY <= r.bottom + Dm
  );
}
function FW(t, e, r, n, i, o) {
  let s = t.scrollDOM.getBoundingClientRect(),
    a = t.documentTop + t.documentPadding.top + t.contentHeight;
  if (s.left > n || s.right < n || s.top > i || Math.min(s.bottom, a) < i)
    return !1;
  let l = t.posAtCoords({ x: n, y: i }, !1);
  return l >= e && l <= r;
}
function MW(t, e = {}) {
  let r = Qt.define(),
    n = ri.define({
      create() {
        return [];
      },
      update(i, o) {
        if (
          i.length &&
          (e.hideOnChange && (o.docChanged || o.selection)
            ? (i = [])
            : e.hideOn && (i = i.filter((s) => !e.hideOn(o, s))),
          o.docChanged)
        ) {
          let s = [];
          for (let a of i) {
            let l = o.changes.mapPos(a.pos, -1, Pi.TrackDel);
            if (l != null) {
              let u = Object.assign(Object.create(null), a);
              (u.pos = l),
                u.end != null && (u.end = o.changes.mapPos(u.end)),
                s.push(u);
            }
          }
          i = s;
        }
        for (let s of o.effects) s.is(r) && (i = s.value), s.is(_W) && (i = []);
        return i;
      },
      provide: (i) => g1.from(i),
    });
  return [n, Cn.define((i) => new AW(i, t, n, r, e.hoverTime || 300)), CW];
}
function F_(t, e) {
  let r = t.plugin(i7);
  if (!r) return null;
  let n = r.manager.tooltips.indexOf(e);
  return n < 0 ? null : r.manager.tooltipViews[n];
}
const _W = Qt.define(),
  nx = vt.define({
    combine(t) {
      let e, r;
      for (let n of t) (e = e || n.topContainer), (r = r || n.bottomContainer);
      return { topContainer: e, bottomContainer: r };
    },
  });
function fd(t, e) {
  let r = t.plugin(M_),
    n = r ? r.specs.indexOf(e) : -1;
  return n > -1 ? r.panels[n] : null;
}
const M_ = Cn.fromClass(
  class {
    constructor(t) {
      (this.input = t.state.facet(hd)),
        (this.specs = this.input.filter((r) => r)),
        (this.panels = this.specs.map((r) => r(t)));
      let e = t.state.facet(nx);
      (this.top = new wm(t, !0, e.topContainer)),
        (this.bottom = new wm(t, !1, e.bottomContainer)),
        this.top.sync(this.panels.filter((r) => r.top)),
        this.bottom.sync(this.panels.filter((r) => !r.top));
      for (let r of this.panels)
        r.dom.classList.add("cm-panel"), r.mount && r.mount();
    }
    update(t) {
      let e = t.state.facet(nx);
      this.top.container != e.topContainer &&
        (this.top.sync([]), (this.top = new wm(t.view, !0, e.topContainer))),
        this.bottom.container != e.bottomContainer &&
          (this.bottom.sync([]),
          (this.bottom = new wm(t.view, !1, e.bottomContainer))),
        this.top.syncClasses(),
        this.bottom.syncClasses();
      let r = t.state.facet(hd);
      if (r != this.input) {
        let n = r.filter((l) => l),
          i = [],
          o = [],
          s = [],
          a = [];
        for (let l of n) {
          let u = this.specs.indexOf(l),
            c;
          u < 0
            ? ((c = l(t.view)), a.push(c))
            : ((c = this.panels[u]), c.update && c.update(t)),
            i.push(c),
            (c.top ? o : s).push(c);
        }
        (this.specs = n),
          (this.panels = i),
          this.top.sync(o),
          this.bottom.sync(s);
        for (let l of a) l.dom.classList.add("cm-panel"), l.mount && l.mount();
      } else for (let n of this.panels) n.update && n.update(t);
    }
    destroy() {
      this.top.sync([]), this.bottom.sync([]);
    }
  },
  {
    provide: (t) =>
      ut.scrollMargins.of((e) => {
        let r = e.plugin(t);
        return (
          r && { top: r.top.scrollMargin(), bottom: r.bottom.scrollMargin() }
        );
      }),
  }
);
class wm {
  constructor(e, r, n) {
    (this.view = e),
      (this.top = r),
      (this.container = n),
      (this.dom = void 0),
      (this.classes = ""),
      (this.panels = []),
      this.syncClasses();
  }
  sync(e) {
    for (let r of this.panels) r.destroy && e.indexOf(r) < 0 && r.destroy();
    (this.panels = e), this.syncDOM();
  }
  syncDOM() {
    if (this.panels.length == 0) {
      this.dom && (this.dom.remove(), (this.dom = void 0));
      return;
    }
    if (!this.dom) {
      (this.dom = document.createElement("div")),
        (this.dom.className = this.top
          ? "cm-panels cm-panels-top"
          : "cm-panels cm-panels-bottom"),
        (this.dom.style[this.top ? "top" : "bottom"] = "0");
      let r = this.container || this.view.dom;
      r.insertBefore(this.dom, this.top ? r.firstChild : null);
    }
    let e = this.dom.firstChild;
    for (let r of this.panels)
      if (r.dom.parentNode == this.dom) {
        for (; e != r.dom; ) e = ix(e);
        e = e.nextSibling;
      } else this.dom.insertBefore(r.dom, e);
    for (; e; ) e = ix(e);
  }
  scrollMargin() {
    return !this.dom || this.container
      ? 0
      : Math.max(
          0,
          this.top
            ? this.dom.getBoundingClientRect().bottom -
                Math.max(0, this.view.scrollDOM.getBoundingClientRect().top)
            : Math.min(
                innerHeight,
                this.view.scrollDOM.getBoundingClientRect().bottom
              ) - this.dom.getBoundingClientRect().top
        );
  }
  syncClasses() {
    if (!(!this.container || this.classes == this.view.themeClasses)) {
      for (let e of this.classes.split(" "))
        e && this.container.classList.remove(e);
      for (let e of (this.classes = this.view.themeClasses).split(" "))
        e && this.container.classList.add(e);
    }
  }
}
function ix(t) {
  let e = t.nextSibling;
  return t.remove(), e;
}
const hd = vt.define({ enables: M_ });
class Ya extends d0 {
  compare(e) {
    return this == e || (this.constructor == e.constructor && this.eq(e));
  }
  eq(e) {
    return !1;
  }
  destroy(e) {}
}
Ya.prototype.elementClass = "";
Ya.prototype.toDOM = void 0;
Ya.prototype.mapMode = Pi.TrackBefore;
Ya.prototype.startSide = Ya.prototype.endSide = -1;
Ya.prototype.point = !0;
const yg = vt.define(),
  $W = {
    class: "",
    renderEmptyElements: !1,
    elementStyle: "",
    markers: () => dr.empty,
    lineMarker: () => null,
    widgetMarker: () => null,
    lineMarkerChange: null,
    initialSpacer: null,
    updateSpacer: null,
    domEventHandlers: {},
  },
  Sh = vt.define();
function OW(t) {
  return [__(), Sh.of(Object.assign(Object.assign({}, $W), t))];
}
const x5 = vt.define({ combine: (t) => t.some((e) => e) });
function __(t) {
  let e = [BW];
  return t && t.fixed === !1 && e.push(x5.of(!0)), e;
}
const BW = Cn.fromClass(
  class {
    constructor(t) {
      (this.view = t),
        (this.prevViewport = t.viewport),
        (this.dom = document.createElement("div")),
        (this.dom.className = "cm-gutters"),
        this.dom.setAttribute("aria-hidden", "true"),
        (this.dom.style.minHeight =
          this.view.contentHeight / this.view.scaleY + "px"),
        (this.gutters = t.state.facet(Sh).map((e) => new ox(t, e)));
      for (let e of this.gutters) this.dom.appendChild(e.dom);
      (this.fixed = !t.state.facet(x5)),
        this.fixed && (this.dom.style.position = "sticky"),
        this.syncGutters(!1),
        t.scrollDOM.insertBefore(this.dom, t.contentDOM);
    }
    update(t) {
      if (this.updateGutters(t)) {
        let e = this.prevViewport,
          r = t.view.viewport,
          n = Math.min(e.to, r.to) - Math.max(e.from, r.from);
        this.syncGutters(n < (r.to - r.from) * 0.8);
      }
      t.geometryChanged &&
        (this.dom.style.minHeight =
          this.view.contentHeight / this.view.scaleY + "px"),
        this.view.state.facet(x5) != !this.fixed &&
          ((this.fixed = !this.fixed),
          (this.dom.style.position = this.fixed ? "sticky" : "")),
        (this.prevViewport = t.view.viewport);
    }
    syncGutters(t) {
      let e = this.dom.nextSibling;
      t && this.dom.remove();
      let r = dr.iter(this.view.state.facet(yg), this.view.viewport.from),
        n = [],
        i = this.gutters.map(
          (o) => new TW(o, this.view.viewport, -this.view.documentPadding.top)
        );
      for (let o of this.view.viewportLineBlocks)
        if ((n.length && (n = []), Array.isArray(o.type))) {
          let s = !0;
          for (let a of o.type)
            if (a.type == Ni.Text && s) {
              k5(r, n, a.from);
              for (let l of i) l.line(this.view, a, n);
              s = !1;
            } else if (a.widget) for (let l of i) l.widget(this.view, a);
        } else if (o.type == Ni.Text) {
          k5(r, n, o.from);
          for (let s of i) s.line(this.view, o, n);
        } else if (o.widget) for (let s of i) s.widget(this.view, o);
      for (let o of i) o.finish();
      t && this.view.scrollDOM.insertBefore(this.dom, e);
    }
    updateGutters(t) {
      let e = t.startState.facet(Sh),
        r = t.state.facet(Sh),
        n =
          t.docChanged ||
          t.heightChanged ||
          t.viewportChanged ||
          !dr.eq(
            t.startState.facet(yg),
            t.state.facet(yg),
            t.view.viewport.from,
            t.view.viewport.to
          );
      if (e == r) for (let i of this.gutters) i.update(t) && (n = !0);
      else {
        n = !0;
        let i = [];
        for (let o of r) {
          let s = e.indexOf(o);
          s < 0
            ? i.push(new ox(this.view, o))
            : (this.gutters[s].update(t), i.push(this.gutters[s]));
        }
        for (let o of this.gutters)
          o.dom.remove(), i.indexOf(o) < 0 && o.destroy();
        for (let o of i) this.dom.appendChild(o.dom);
        this.gutters = i;
      }
      return n;
    }
    destroy() {
      for (let t of this.gutters) t.destroy();
      this.dom.remove();
    }
  },
  {
    provide: (t) =>
      ut.scrollMargins.of((e) => {
        let r = e.plugin(t);
        return !r || r.gutters.length == 0 || !r.fixed
          ? null
          : e.textDirection == Jr.LTR
            ? { left: r.dom.offsetWidth * e.scaleX }
            : { right: r.dom.offsetWidth * e.scaleX };
      }),
  }
);
function sx(t) {
  return Array.isArray(t) ? t : [t];
}
function k5(t, e, r) {
  for (; t.value && t.from <= r; ) t.from == r && e.push(t.value), t.next();
}
class TW {
  constructor(e, r, n) {
    (this.gutter = e),
      (this.height = n),
      (this.i = 0),
      (this.cursor = dr.iter(e.markers, r.from));
  }
  addElement(e, r, n) {
    let { gutter: i } = this,
      o = (r.top - this.height) / e.scaleY,
      s = r.height / e.scaleY;
    if (this.i == i.elements.length) {
      let a = new $_(e, s, o, n);
      i.elements.push(a), i.dom.appendChild(a.dom);
    } else i.elements[this.i].update(e, s, o, n);
    (this.height = r.bottom), this.i++;
  }
  line(e, r, n) {
    let i = [];
    k5(this.cursor, i, r.from), n.length && (i = i.concat(n));
    let o = this.gutter.config.lineMarker(e, r, i);
    o && i.unshift(o);
    let s = this.gutter;
    (i.length == 0 && !s.config.renderEmptyElements) ||
      this.addElement(e, r, i);
  }
  widget(e, r) {
    let n = this.gutter.config.widgetMarker(e, r.widget, r);
    n && this.addElement(e, r, [n]);
  }
  finish() {
    let e = this.gutter;
    for (; e.elements.length > this.i; ) {
      let r = e.elements.pop();
      e.dom.removeChild(r.dom), r.destroy();
    }
  }
}
class ox {
  constructor(e, r) {
    (this.view = e),
      (this.config = r),
      (this.elements = []),
      (this.spacer = null),
      (this.dom = document.createElement("div")),
      (this.dom.className =
        "cm-gutter" + (this.config.class ? " " + this.config.class : ""));
    for (let n in r.domEventHandlers)
      this.dom.addEventListener(n, (i) => {
        let o = i.target,
          s;
        if (o != this.dom && this.dom.contains(o)) {
          for (; o.parentNode != this.dom; ) o = o.parentNode;
          let l = o.getBoundingClientRect();
          s = (l.top + l.bottom) / 2;
        } else s = i.clientY;
        let a = e.lineBlockAtHeight(s - e.documentTop);
        r.domEventHandlers[n](e, a, i) && i.preventDefault();
      });
    (this.markers = sx(r.markers(e))),
      r.initialSpacer &&
        ((this.spacer = new $_(e, 0, 0, [r.initialSpacer(e)])),
        this.dom.appendChild(this.spacer.dom),
        (this.spacer.dom.style.cssText +=
          "visibility: hidden; pointer-events: none"));
  }
  update(e) {
    let r = this.markers;
    if (
      ((this.markers = sx(this.config.markers(e.view))),
      this.spacer && this.config.updateSpacer)
    ) {
      let i = this.config.updateSpacer(this.spacer.markers[0], e);
      i != this.spacer.markers[0] && this.spacer.update(e.view, 0, 0, [i]);
    }
    let n = e.view.viewport;
    return (
      !dr.eq(this.markers, r, n.from, n.to) ||
      (this.config.lineMarkerChange ? this.config.lineMarkerChange(e) : !1)
    );
  }
  destroy() {
    for (let e of this.elements) e.destroy();
  }
}
class $_ {
  constructor(e, r, n, i) {
    (this.height = -1),
      (this.above = 0),
      (this.markers = []),
      (this.dom = document.createElement("div")),
      (this.dom.className = "cm-gutterElement"),
      this.update(e, r, n, i);
  }
  update(e, r, n, i) {
    this.height != r && ((this.height = r), (this.dom.style.height = r + "px")),
      this.above != n &&
        (this.dom.style.marginTop = (this.above = n) ? n + "px" : ""),
      PW(this.markers, i) || this.setMarkers(e, i);
  }
  setMarkers(e, r) {
    let n = "cm-gutterElement",
      i = this.dom.firstChild;
    for (let o = 0, s = 0; ; ) {
      let a = s,
        l = o < r.length ? r[o++] : null,
        u = !1;
      if (l) {
        let c = l.elementClass;
        c && (n += " " + c);
        for (let f = s; f < this.markers.length; f++)
          if (this.markers[f].compare(l)) {
            (a = f), (u = !0);
            break;
          }
      } else a = this.markers.length;
      for (; s < a; ) {
        let c = this.markers[s++];
        if (c.toDOM) {
          c.destroy(i);
          let f = i.nextSibling;
          i.remove(), (i = f);
        }
      }
      if (!l) break;
      l.toDOM &&
        (u ? (i = i.nextSibling) : this.dom.insertBefore(l.toDOM(e), i)),
        u && s++;
    }
    (this.dom.className = n), (this.markers = r);
  }
  destroy() {
    this.setMarkers(null, []);
  }
}
function PW(t, e) {
  if (t.length != e.length) return !1;
  for (let r = 0; r < t.length; r++) if (!t[r].compare(e[r])) return !1;
  return !0;
}
const RW = vt.define(),
  vc = vt.define({
    combine(t) {
      return da(
        t,
        { formatNumber: String, domEventHandlers: {} },
        {
          domEventHandlers(e, r) {
            let n = Object.assign({}, e);
            for (let i in r) {
              let o = n[i],
                s = r[i];
              n[i] = o ? (a, l, u) => o(a, l, u) || s(a, l, u) : s;
            }
            return n;
          },
        }
      );
    },
  });
class R4 extends Ya {
  constructor(e) {
    super(), (this.number = e);
  }
  eq(e) {
    return this.number == e.number;
  }
  toDOM() {
    return document.createTextNode(this.number);
  }
}
function I4(t, e) {
  return t.state.facet(vc).formatNumber(e, t.state);
}
const IW = Sh.compute([vc], (t) => ({
  class: "cm-lineNumbers",
  renderEmptyElements: !1,
  markers(e) {
    return e.state.facet(RW);
  },
  lineMarker(e, r, n) {
    return n.some((i) => i.toDOM)
      ? null
      : new R4(I4(e, e.state.doc.lineAt(r.from).number));
  },
  widgetMarker: () => null,
  lineMarkerChange: (e) => e.startState.facet(vc) != e.state.facet(vc),
  initialSpacer(e) {
    return new R4(I4(e, ax(e.state.doc.lines)));
  },
  updateSpacer(e, r) {
    let n = I4(r.view, ax(r.view.state.doc.lines));
    return n == e.number ? e : new R4(n);
  },
  domEventHandlers: t.facet(vc).domEventHandlers,
}));
function NW(t = {}) {
  return [vc.of(t), __(), IW];
}
function ax(t) {
  let e = 9;
  for (; e < t; ) e = e * 10 + 9;
  return e;
}
const LW = new (class extends Ya {
    constructor() {
      super(...arguments), (this.elementClass = "cm-activeLineGutter");
    }
  })(),
  zW = yg.compute(["selection"], (t) => {
    let e = [],
      r = -1;
    for (let n of t.selection.ranges) {
      let i = t.doc.lineAt(n.head).from;
      i > r && ((r = i), e.push(LW.range(i)));
    }
    return dr.of(e);
  });
function jW() {
  return zW;
}
let HW = 0;
class Yo {
  constructor(e, r, n) {
    (this.set = e), (this.base = r), (this.modified = n), (this.id = HW++);
  }
  static define(e) {
    if (e != null && e.base)
      throw new Error("Can not derive from a modified tag");
    let r = new Yo([], null, []);
    if ((r.set.push(r), e)) for (let n of e.set) r.set.push(n);
    return r;
  }
  static defineModifier() {
    let e = new v1();
    return (r) =>
      r.modified.indexOf(e) > -1
        ? r
        : v1.get(
            r.base || r,
            r.modified.concat(e).sort((n, i) => n.id - i.id)
          );
  }
}
let VW = 0;
class v1 {
  constructor() {
    (this.instances = []), (this.id = VW++);
  }
  static get(e, r) {
    if (!r.length) return e;
    let n = r[0].instances.find((a) => a.base == e && WW(r, a.modified));
    if (n) return n;
    let i = [],
      o = new Yo(i, e, r);
    for (let a of r) a.instances.push(o);
    let s = qW(r);
    for (let a of e.set)
      if (!a.modified.length) for (let l of s) i.push(v1.get(a, l));
    return o;
  }
}
function WW(t, e) {
  return t.length == e.length && t.every((r, n) => r == e[n]);
}
function qW(t) {
  let e = [[]];
  for (let r = 0; r < t.length; r++)
    for (let n = 0, i = e.length; n < i; n++) e.push(e[n].concat(t[r]));
  return e.sort((r, n) => n.length - r.length);
}
function UW(t) {
  let e = Object.create(null);
  for (let r in t) {
    let n = t[r];
    Array.isArray(n) || (n = [n]);
    for (let i of r.split(" "))
      if (i) {
        let o = [],
          s = 2,
          a = i;
        for (let f = 0; ; ) {
          if (a == "..." && f > 0 && f + 3 == i.length) {
            s = 1;
            break;
          }
          let h = /^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);
          if (!h) throw new RangeError("Invalid path: " + i);
          if (
            (o.push(
              h[0] == "*" ? "" : h[0][0] == '"' ? JSON.parse(h[0]) : h[0]
            ),
            (f += h[0].length),
            f == i.length)
          )
            break;
          let d = i[f++];
          if (f == i.length && d == "!") {
            s = 0;
            break;
          }
          if (d != "/") throw new RangeError("Invalid path: " + i);
          a = i.slice(f);
        }
        let l = o.length - 1,
          u = o[l];
        if (!u) throw new RangeError("Invalid path: " + i);
        let c = new y1(n, s, l > 0 ? o.slice(0, l) : null);
        e[u] = c.sort(e[u]);
      }
  }
  return O_.add(e);
}
const O_ = new ar();
class y1 {
  constructor(e, r, n, i) {
    (this.tags = e), (this.mode = r), (this.context = n), (this.next = i);
  }
  get opaque() {
    return this.mode == 0;
  }
  get inherit() {
    return this.mode == 1;
  }
  sort(e) {
    return !e || e.depth < this.depth
      ? ((this.next = e), this)
      : ((e.next = this.sort(e.next)), e);
  }
  get depth() {
    return this.context ? this.context.length : 0;
  }
}
y1.empty = new y1([], 2, null);
function B_(t, e) {
  let r = Object.create(null);
  for (let o of t)
    if (!Array.isArray(o.tag)) r[o.tag.id] = o.class;
    else for (let s of o.tag) r[s.id] = o.class;
  let { scope: n, all: i = null } = e || {};
  return {
    style: (o) => {
      let s = i;
      for (let a of o)
        for (let l of a.set) {
          let u = r[l.id];
          if (u) {
            s = s ? s + " " + u : u;
            break;
          }
        }
      return s;
    },
    scope: n,
  };
}
function GW(t, e) {
  let r = null;
  for (let n of t) {
    let i = n.style(e);
    i && (r = r ? r + " " + i : i);
  }
  return r;
}
function KW(t, e, r, n = 0, i = t.length) {
  let o = new YW(n, Array.isArray(e) ? e : [e], r);
  o.highlightRange(t.cursor(), n, i, "", o.highlighters), o.flush(i);
}
class YW {
  constructor(e, r, n) {
    (this.at = e), (this.highlighters = r), (this.span = n), (this.class = "");
  }
  startSpan(e, r) {
    r != this.class &&
      (this.flush(e), e > this.at && (this.at = e), (this.class = r));
  }
  flush(e) {
    e > this.at && this.class && this.span(this.at, e, this.class);
  }
  highlightRange(e, r, n, i, o) {
    let { type: s, from: a, to: l } = e;
    if (a >= n || l <= r) return;
    s.isTop && (o = this.highlighters.filter((d) => !d.scope || d.scope(s)));
    let u = i,
      c = XW(e) || y1.empty,
      f = GW(o, c.tags);
    if (
      (f &&
        (u && (u += " "), (u += f), c.mode == 1 && (i += (i ? " " : "") + f)),
      this.startSpan(Math.max(r, a), u),
      c.opaque)
    )
      return;
    let h = e.tree && e.tree.prop(ar.mounted);
    if (h && h.overlay) {
      let d = e.node.enter(h.overlay[0].from + a, 1),
        p = this.highlighters.filter((b) => !b.scope || b.scope(h.tree.type)),
        m = e.firstChild();
      for (let b = 0, D = a; ; b++) {
        let k = b < h.overlay.length ? h.overlay[b] : null,
          S = k ? k.from + a : l,
          B = Math.max(r, D),
          $ = Math.min(n, S);
        if (B < $ && m)
          for (
            ;
            e.from < $ &&
            (this.highlightRange(e, B, $, i, o),
            this.startSpan(Math.min($, e.to), u),
            !(e.to >= S || !e.nextSibling()));

          );
        if (!k || S > n) break;
        (D = k.to + a),
          D > r &&
            (this.highlightRange(
              d.cursor(),
              Math.max(r, k.from + a),
              Math.min(n, D),
              "",
              p
            ),
            this.startSpan(Math.min(n, D), u));
      }
      m && e.parent();
    } else if (e.firstChild()) {
      h && (i = "");
      do
        if (!(e.to <= r)) {
          if (e.from >= n) break;
          this.highlightRange(e, r, n, i, o),
            this.startSpan(Math.min(n, e.to), u);
        }
      while (e.nextSibling());
      e.parent();
    }
  }
}
function XW(t) {
  let e = t.type.prop(O_);
  for (; e && e.context && !t.matchContext(e.context); ) e = e.next;
  return e || null;
}
const Ze = Yo.define,
  xm = Ze(),
  El = Ze(),
  lx = Ze(El),
  ux = Ze(El),
  Fl = Ze(),
  km = Ze(Fl),
  N4 = Ze(Fl),
  Ho = Ze(),
  Ru = Ze(Ho),
  zo = Ze(),
  jo = Ze(),
  S5 = Ze(),
  qf = Ze(S5),
  Sm = Ze(),
  ot = {
    comment: xm,
    lineComment: Ze(xm),
    blockComment: Ze(xm),
    docComment: Ze(xm),
    name: El,
    variableName: Ze(El),
    typeName: lx,
    tagName: Ze(lx),
    propertyName: ux,
    attributeName: Ze(ux),
    className: Ze(El),
    labelName: Ze(El),
    namespace: Ze(El),
    macroName: Ze(El),
    literal: Fl,
    string: km,
    docString: Ze(km),
    character: Ze(km),
    attributeValue: Ze(km),
    number: N4,
    integer: Ze(N4),
    float: Ze(N4),
    bool: Ze(Fl),
    regexp: Ze(Fl),
    escape: Ze(Fl),
    color: Ze(Fl),
    url: Ze(Fl),
    keyword: zo,
    self: Ze(zo),
    null: Ze(zo),
    atom: Ze(zo),
    unit: Ze(zo),
    modifier: Ze(zo),
    operatorKeyword: Ze(zo),
    controlKeyword: Ze(zo),
    definitionKeyword: Ze(zo),
    moduleKeyword: Ze(zo),
    operator: jo,
    derefOperator: Ze(jo),
    arithmeticOperator: Ze(jo),
    logicOperator: Ze(jo),
    bitwiseOperator: Ze(jo),
    compareOperator: Ze(jo),
    updateOperator: Ze(jo),
    definitionOperator: Ze(jo),
    typeOperator: Ze(jo),
    controlOperator: Ze(jo),
    punctuation: S5,
    separator: Ze(S5),
    bracket: qf,
    angleBracket: Ze(qf),
    squareBracket: Ze(qf),
    paren: Ze(qf),
    brace: Ze(qf),
    content: Ho,
    heading: Ru,
    heading1: Ze(Ru),
    heading2: Ze(Ru),
    heading3: Ze(Ru),
    heading4: Ze(Ru),
    heading5: Ze(Ru),
    heading6: Ze(Ru),
    contentSeparator: Ze(Ho),
    list: Ze(Ho),
    quote: Ze(Ho),
    emphasis: Ze(Ho),
    strong: Ze(Ho),
    link: Ze(Ho),
    monospace: Ze(Ho),
    strikethrough: Ze(Ho),
    inserted: Ze(),
    deleted: Ze(),
    changed: Ze(),
    invalid: Ze(),
    meta: Sm,
    documentMeta: Ze(Sm),
    annotation: Ze(Sm),
    processingInstruction: Ze(Sm),
    definition: Yo.defineModifier(),
    constant: Yo.defineModifier(),
    function: Yo.defineModifier(),
    standard: Yo.defineModifier(),
    local: Yo.defineModifier(),
    special: Yo.defineModifier(),
  };
B_([
  { tag: ot.link, class: "tok-link" },
  { tag: ot.heading, class: "tok-heading" },
  { tag: ot.emphasis, class: "tok-emphasis" },
  { tag: ot.strong, class: "tok-strong" },
  { tag: ot.keyword, class: "tok-keyword" },
  { tag: ot.atom, class: "tok-atom" },
  { tag: ot.bool, class: "tok-bool" },
  { tag: ot.url, class: "tok-url" },
  { tag: ot.labelName, class: "tok-labelName" },
  { tag: ot.inserted, class: "tok-inserted" },
  { tag: ot.deleted, class: "tok-deleted" },
  { tag: ot.literal, class: "tok-literal" },
  { tag: ot.string, class: "tok-string" },
  { tag: ot.number, class: "tok-number" },
  { tag: [ot.regexp, ot.escape, ot.special(ot.string)], class: "tok-string2" },
  { tag: ot.variableName, class: "tok-variableName" },
  { tag: ot.local(ot.variableName), class: "tok-variableName tok-local" },
  {
    tag: ot.definition(ot.variableName),
    class: "tok-variableName tok-definition",
  },
  { tag: ot.special(ot.variableName), class: "tok-variableName2" },
  {
    tag: ot.definition(ot.propertyName),
    class: "tok-propertyName tok-definition",
  },
  { tag: ot.typeName, class: "tok-typeName" },
  { tag: ot.namespace, class: "tok-namespace" },
  { tag: ot.className, class: "tok-className" },
  { tag: ot.macroName, class: "tok-macroName" },
  { tag: ot.propertyName, class: "tok-propertyName" },
  { tag: ot.operator, class: "tok-operator" },
  { tag: ot.comment, class: "tok-comment" },
  { tag: ot.meta, class: "tok-meta" },
  { tag: ot.invalid, class: "tok-invalid" },
  { tag: ot.punctuation, class: "tok-punctuation" },
]);
var L4;
const yc = new ar();
function JW(t) {
  return vt.define({ combine: t ? (e) => e.concat(t) : void 0 });
}
const QW = new ar();
class ko {
  constructor(e, r, n = [], i = "") {
    (this.data = e),
      (this.name = i),
      sr.prototype.hasOwnProperty("tree") ||
        Object.defineProperty(sr.prototype, "tree", {
          get() {
            return vi(this);
          },
        }),
      (this.parser = r),
      (this.extension = [
        cu.of(this),
        sr.languageData.of((o, s, a) => {
          let l = cx(o, s, a),
            u = l.type.prop(yc);
          if (!u) return [];
          let c = o.facet(u),
            f = l.type.prop(QW);
          if (f) {
            let h = l.resolve(s - l.from, a);
            for (let d of f)
              if (d.test(h, o)) {
                let p = o.facet(d.facet);
                return d.type == "replace" ? p : p.concat(c);
              }
          }
          return c;
        }),
      ].concat(n));
  }
  isActiveAt(e, r, n = -1) {
    return cx(e, r, n).type.prop(yc) == this.data;
  }
  findRegions(e) {
    let r = e.facet(cu);
    if ((r == null ? void 0 : r.data) == this.data)
      return [{ from: 0, to: e.doc.length }];
    if (!r || !r.allowsNesting) return [];
    let n = [],
      i = (o, s) => {
        if (o.prop(yc) == this.data) {
          n.push({ from: s, to: s + o.length });
          return;
        }
        let a = o.prop(ar.mounted);
        if (a) {
          if (a.tree.prop(yc) == this.data) {
            if (a.overlay)
              for (let l of a.overlay)
                n.push({ from: l.from + s, to: l.to + s });
            else n.push({ from: s, to: s + o.length });
            return;
          } else if (a.overlay) {
            let l = n.length;
            if ((i(a.tree, a.overlay[0].from + s), n.length > l)) return;
          }
        }
        for (let l = 0; l < o.children.length; l++) {
          let u = o.children[l];
          u instanceof un && i(u, o.positions[l] + s);
        }
      };
    return i(vi(e), 0), n;
  }
  get allowsNesting() {
    return !0;
  }
}
ko.setState = Qt.define();
function cx(t, e, r) {
  let n = t.facet(cu),
    i = vi(t).topNode;
  if (!n || n.allowsNesting)
    for (let o = i; o; o = o.enter(e, r, ui.ExcludeBuffers))
      o.type.isTop && (i = o);
  return i;
}
function vi(t) {
  let e = t.field(ko.state, !1);
  return e ? e.tree : un.empty;
}
class ZW {
  constructor(e) {
    (this.doc = e),
      (this.cursorPos = 0),
      (this.string = ""),
      (this.cursor = e.iter());
  }
  get length() {
    return this.doc.length;
  }
  syncTo(e) {
    return (
      (this.string = this.cursor.next(e - this.cursorPos).value),
      (this.cursorPos = e + this.string.length),
      this.cursorPos - this.string.length
    );
  }
  chunk(e) {
    return this.syncTo(e), this.string;
  }
  get lineChunks() {
    return !0;
  }
  read(e, r) {
    let n = this.cursorPos - this.string.length;
    return e < n || r >= this.cursorPos
      ? this.doc.sliceString(e, r)
      : this.string.slice(e - n, r - n);
  }
}
let Uf = null;
class sf {
  constructor(e, r, n = [], i, o, s, a, l) {
    (this.parser = e),
      (this.state = r),
      (this.fragments = n),
      (this.tree = i),
      (this.treeLen = o),
      (this.viewport = s),
      (this.skipped = a),
      (this.scheduleOn = l),
      (this.parse = null),
      (this.tempSkipped = []);
  }
  static create(e, r, n) {
    return new sf(e, r, [], un.empty, 0, n, [], null);
  }
  startParse() {
    return this.parser.startParse(new ZW(this.state.doc), this.fragments);
  }
  work(e, r) {
    return (
      r != null && r >= this.state.doc.length && (r = void 0),
      this.tree != un.empty && this.isDone(r ?? this.state.doc.length)
        ? (this.takeTree(), !0)
        : this.withContext(() => {
            var n;
            if (typeof e == "number") {
              let i = Date.now() + e;
              e = () => Date.now() > i;
            }
            for (
              this.parse || (this.parse = this.startParse()),
                r != null &&
                  (this.parse.stoppedAt == null || this.parse.stoppedAt > r) &&
                  r < this.state.doc.length &&
                  this.parse.stopAt(r);
              ;

            ) {
              let i = this.parse.advance();
              if (i)
                if (
                  ((this.fragments = this.withoutTempSkipped(
                    t0.addTree(i, this.fragments, this.parse.stoppedAt != null)
                  )),
                  (this.treeLen =
                    (n = this.parse.stoppedAt) !== null && n !== void 0
                      ? n
                      : this.state.doc.length),
                  (this.tree = i),
                  (this.parse = null),
                  this.treeLen < (r ?? this.state.doc.length))
                )
                  this.parse = this.startParse();
                else return !0;
              if (e()) return !1;
            }
          })
    );
  }
  takeTree() {
    let e, r;
    this.parse &&
      (e = this.parse.parsedPos) >= this.treeLen &&
      ((this.parse.stoppedAt == null || this.parse.stoppedAt > e) &&
        this.parse.stopAt(e),
      this.withContext(() => {
        for (; !(r = this.parse.advance()); );
      }),
      (this.treeLen = e),
      (this.tree = r),
      (this.fragments = this.withoutTempSkipped(
        t0.addTree(this.tree, this.fragments, !0)
      )),
      (this.parse = null));
  }
  withContext(e) {
    let r = Uf;
    Uf = this;
    try {
      return e();
    } finally {
      Uf = r;
    }
  }
  withoutTempSkipped(e) {
    for (let r; (r = this.tempSkipped.pop()); ) e = fx(e, r.from, r.to);
    return e;
  }
  changes(e, r) {
    let { fragments: n, tree: i, treeLen: o, viewport: s, skipped: a } = this;
    if ((this.takeTree(), !e.empty)) {
      let l = [];
      if (
        (e.iterChangedRanges((u, c, f, h) =>
          l.push({ fromA: u, toA: c, fromB: f, toB: h })
        ),
        (n = t0.applyChanges(n, l)),
        (i = un.empty),
        (o = 0),
        (s = { from: e.mapPos(s.from, -1), to: e.mapPos(s.to, 1) }),
        this.skipped.length)
      ) {
        a = [];
        for (let u of this.skipped) {
          let c = e.mapPos(u.from, 1),
            f = e.mapPos(u.to, -1);
          c < f && a.push({ from: c, to: f });
        }
      }
    }
    return new sf(this.parser, r, n, i, o, s, a, this.scheduleOn);
  }
  updateViewport(e) {
    if (this.viewport.from == e.from && this.viewport.to == e.to) return !1;
    this.viewport = e;
    let r = this.skipped.length;
    for (let n = 0; n < this.skipped.length; n++) {
      let { from: i, to: o } = this.skipped[n];
      i < e.to &&
        o > e.from &&
        ((this.fragments = fx(this.fragments, i, o)),
        this.skipped.splice(n--, 1));
    }
    return this.skipped.length >= r ? !1 : (this.reset(), !0);
  }
  reset() {
    this.parse && (this.takeTree(), (this.parse = null));
  }
  skipUntilInView(e, r) {
    this.skipped.push({ from: e, to: r });
  }
  static getSkippingParser(e) {
    return new (class extends sM {
      createParse(r, n, i) {
        let o = i[0].from,
          s = i[i.length - 1].to;
        return {
          parsedPos: o,
          advance() {
            let l = Uf;
            if (l) {
              for (let u of i) l.tempSkipped.push(u);
              e &&
                (l.scheduleOn = l.scheduleOn
                  ? Promise.all([l.scheduleOn, e])
                  : e);
            }
            return (this.parsedPos = s), new un(as.none, [], [], s - o);
          },
          stoppedAt: null,
          stopAt() {},
        };
      }
    })();
  }
  isDone(e) {
    e = Math.min(e, this.state.doc.length);
    let r = this.fragments;
    return this.treeLen >= e && r.length && r[0].from == 0 && r[0].to >= e;
  }
  static get() {
    return Uf;
  }
}
function fx(t, e, r) {
  return t0.applyChanges(t, [{ fromA: e, toA: r, fromB: e, toB: r }]);
}
class of {
  constructor(e) {
    (this.context = e), (this.tree = e.tree);
  }
  apply(e) {
    if (!e.docChanged && this.tree == this.context.tree) return this;
    let r = this.context.changes(e.changes, e.state),
      n =
        this.context.treeLen == e.startState.doc.length
          ? void 0
          : Math.max(e.changes.mapPos(this.context.treeLen), r.viewport.to);
    return r.work(20, n) || r.takeTree(), new of(r);
  }
  static init(e) {
    let r = Math.min(3e3, e.doc.length),
      n = sf.create(e.facet(cu).parser, e, { from: 0, to: r });
    return n.work(20, r) || n.takeTree(), new of(n);
  }
}
ko.state = ri.define({
  create: of.init,
  update(t, e) {
    for (let r of e.effects) if (r.is(ko.setState)) return r.value;
    return e.startState.facet(cu) != e.state.facet(cu)
      ? of.init(e.state)
      : t.apply(e);
  },
});
let T_ = (t) => {
  let e = setTimeout(() => t(), 500);
  return () => clearTimeout(e);
};
typeof requestIdleCallback < "u" &&
  (T_ = (t) => {
    let e = -1,
      r = setTimeout(() => {
        e = requestIdleCallback(t, { timeout: 400 });
      }, 100);
    return () => (e < 0 ? clearTimeout(r) : cancelIdleCallback(e));
  });
const z4 =
    typeof navigator < "u" &&
    !((L4 = navigator.scheduling) === null || L4 === void 0) &&
    L4.isInputPending
      ? () => navigator.scheduling.isInputPending()
      : null,
  eq = Cn.fromClass(
    class {
      constructor(e) {
        (this.view = e),
          (this.working = null),
          (this.workScheduled = 0),
          (this.chunkEnd = -1),
          (this.chunkBudget = -1),
          (this.work = this.work.bind(this)),
          this.scheduleWork();
      }
      update(e) {
        let r = this.view.state.field(ko.state).context;
        (r.updateViewport(e.view.viewport) ||
          this.view.viewport.to > r.treeLen) &&
          this.scheduleWork(),
          (e.docChanged || e.selectionSet) &&
            (this.view.hasFocus && (this.chunkBudget += 50),
            this.scheduleWork()),
          this.checkAsyncSchedule(r);
      }
      scheduleWork() {
        if (this.working) return;
        let { state: e } = this.view,
          r = e.field(ko.state);
        (r.tree != r.context.tree || !r.context.isDone(e.doc.length)) &&
          (this.working = T_(this.work));
      }
      work(e) {
        this.working = null;
        let r = Date.now();
        if (
          (this.chunkEnd < r &&
            (this.chunkEnd < 0 || this.view.hasFocus) &&
            ((this.chunkEnd = r + 3e4), (this.chunkBudget = 3e3)),
          this.chunkBudget <= 0)
        )
          return;
        let {
            state: n,
            viewport: { to: i },
          } = this.view,
          o = n.field(ko.state);
        if (o.tree == o.context.tree && o.context.isDone(i + 1e5)) return;
        let s =
            Date.now() +
            Math.min(
              this.chunkBudget,
              100,
              e && !z4 ? Math.max(25, e.timeRemaining() - 5) : 1e9
            ),
          a = o.context.treeLen < i && n.doc.length > i + 1e3,
          l = o.context.work(
            () => (z4 && z4()) || Date.now() > s,
            i + (a ? 0 : 1e5)
          );
        (this.chunkBudget -= Date.now() - r),
          (l || this.chunkBudget <= 0) &&
            (o.context.takeTree(),
            this.view.dispatch({ effects: ko.setState.of(new of(o.context)) })),
          this.chunkBudget > 0 && !(l && !a) && this.scheduleWork(),
          this.checkAsyncSchedule(o.context);
      }
      checkAsyncSchedule(e) {
        e.scheduleOn &&
          (this.workScheduled++,
          e.scheduleOn
            .then(() => this.scheduleWork())
            .catch((r) => ts(this.view.state, r))
            .then(() => this.workScheduled--),
          (e.scheduleOn = null));
      }
      destroy() {
        this.working && this.working();
      }
      isWorking() {
        return !!(this.working || this.workScheduled > 0);
      }
    },
    {
      eventHandlers: {
        focus() {
          this.scheduleWork();
        },
      },
    }
  ),
  cu = vt.define({
    combine(t) {
      return t.length ? t[0] : null;
    },
    enables: (t) => [
      ko.state,
      eq,
      ut.contentAttributes.compute([t], (e) => {
        let r = e.facet(t);
        return r && r.name ? { "data-language": r.name } : {};
      }),
    ],
  }),
  P_ = vt.define(),
  o7 = vt.define({
    combine: (t) => {
      if (!t.length) return "  ";
      let e = t[0];
      if (!e || /\S/.test(e) || Array.from(e).some((r) => r != e[0]))
        throw new Error("Invalid indent unit: " + JSON.stringify(t[0]));
      return e;
    },
  });
function v0(t) {
  let e = t.facet(o7);
  return e.charCodeAt(0) == 9 ? t.tabSize * e.length : e.length;
}
function dd(t, e) {
  let r = "",
    n = t.tabSize,
    i = t.facet(o7)[0];
  if (i == "	") {
    for (; e >= n; ) (r += "	"), (e -= n);
    i = " ";
  }
  for (let o = 0; o < e; o++) r += i;
  return r;
}
function a7(t, e) {
  t instanceof sr && (t = new Tv(t));
  for (let n of t.state.facet(P_)) {
    let i = n(t, e);
    if (i !== void 0) return i;
  }
  let r = vi(t.state);
  return r.length >= e ? rq(t, r, e) : null;
}
class Tv {
  constructor(e, r = {}) {
    (this.state = e), (this.options = r), (this.unit = v0(e));
  }
  lineAt(e, r = 1) {
    let n = this.state.doc.lineAt(e),
      { simulateBreak: i, simulateDoubleBreak: o } = this.options;
    return i != null && i >= n.from && i <= n.to
      ? o && i == e
        ? { text: "", from: e }
        : (r < 0 ? i < e : i <= e)
          ? { text: n.text.slice(i - n.from), from: i }
          : { text: n.text.slice(0, i - n.from), from: n.from }
      : n;
  }
  textAfterPos(e, r = 1) {
    if (this.options.simulateDoubleBreak && e == this.options.simulateBreak)
      return "";
    let { text: n, from: i } = this.lineAt(e, r);
    return n.slice(e - i, Math.min(n.length, e + 100 - i));
  }
  column(e, r = 1) {
    let { text: n, from: i } = this.lineAt(e, r),
      o = this.countColumn(n, e - i),
      s = this.options.overrideIndentation
        ? this.options.overrideIndentation(i)
        : -1;
    return s > -1 && (o += s - this.countColumn(n, n.search(/\S|$/))), o;
  }
  countColumn(e, r = e.length) {
    return xf(e, this.state.tabSize, r);
  }
  lineIndent(e, r = 1) {
    let { text: n, from: i } = this.lineAt(e, r),
      o = this.options.overrideIndentation;
    if (o) {
      let s = o(i);
      if (s > -1) return s;
    }
    return this.countColumn(n, n.search(/\S|$/));
  }
  get simulatedBreak() {
    return this.options.simulateBreak || null;
  }
}
const tq = new ar();
function rq(t, e, r) {
  let n = e.resolveStack(r),
    i = n.node.enterUnfinishedNodesBefore(r);
  if (i != n.node) {
    let o = [];
    for (let s = i; s != n.node; s = s.parent) o.push(s);
    for (let s = o.length - 1; s >= 0; s--) n = { node: o[s], next: n };
  }
  return R_(n, t, r);
}
function R_(t, e, r) {
  for (let n = t; n; n = n.next) {
    let i = iq(n.node);
    if (i) return i(l7.create(e, r, n));
  }
  return 0;
}
function nq(t) {
  return t.pos == t.options.simulateBreak && t.options.simulateDoubleBreak;
}
function iq(t) {
  let e = t.type.prop(tq);
  if (e) return e;
  let r = t.firstChild,
    n;
  if (r && (n = r.type.prop(ar.closedBy))) {
    let i = t.lastChild,
      o = i && n.indexOf(i.name) > -1;
    return (s) => lq(s, !0, 1, void 0, o && !nq(s) ? i.from : void 0);
  }
  return t.parent == null ? sq : null;
}
function sq() {
  return 0;
}
class l7 extends Tv {
  constructor(e, r, n) {
    super(e.state, e.options),
      (this.base = e),
      (this.pos = r),
      (this.context = n);
  }
  get node() {
    return this.context.node;
  }
  static create(e, r, n) {
    return new l7(e, r, n);
  }
  get textAfter() {
    return this.textAfterPos(this.pos);
  }
  get baseIndent() {
    return this.baseIndentFor(this.node);
  }
  baseIndentFor(e) {
    let r = this.state.doc.lineAt(e.from);
    for (;;) {
      let n = e.resolve(r.from);
      for (; n.parent && n.parent.from == n.from; ) n = n.parent;
      if (oq(n, e)) break;
      r = this.state.doc.lineAt(n.from);
    }
    return this.lineIndent(r.from);
  }
  continue() {
    return R_(this.context.next, this.base, this.pos);
  }
}
function oq(t, e) {
  for (let r = e; r; r = r.parent) if (t == r) return !0;
  return !1;
}
function aq(t) {
  let e = t.node,
    r = e.childAfter(e.from),
    n = e.lastChild;
  if (!r) return null;
  let i = t.options.simulateBreak,
    o = t.state.doc.lineAt(r.from),
    s = i == null || i <= o.from ? o.to : Math.min(o.to, i);
  for (let a = r.to; ; ) {
    let l = e.childAfter(a);
    if (!l || l == n) return null;
    if (!l.type.isSkipped) return l.from < s ? r : null;
    a = l.to;
  }
}
function lq(t, e, r, n, i) {
  let o = t.textAfter,
    s = o.match(/^\s*/)[0].length,
    a = (n && o.slice(s, s + n.length) == n) || i == t.pos + s,
    l = e ? aq(t) : null;
  return l
    ? a
      ? t.column(l.from)
      : t.column(l.to)
    : t.baseIndent + (a ? 0 : t.unit * r);
}
const uq = 200;
function cq() {
  return sr.transactionFilter.of((t) => {
    if (
      !t.docChanged ||
      (!t.isUserEvent("input.type") && !t.isUserEvent("input.complete"))
    )
      return t;
    let e = t.startState.languageDataAt(
      "indentOnInput",
      t.startState.selection.main.head
    );
    if (!e.length) return t;
    let r = t.newDoc,
      { head: n } = t.newSelection.main,
      i = r.lineAt(n);
    if (n > i.from + uq) return t;
    let o = r.sliceString(i.from, n);
    if (!e.some((u) => u.test(o))) return t;
    let { state: s } = t,
      a = -1,
      l = [];
    for (let { head: u } of s.selection.ranges) {
      let c = s.doc.lineAt(u);
      if (c.from == a) continue;
      a = c.from;
      let f = a7(s, c.from);
      if (f == null) continue;
      let h = /^\s*/.exec(c.text)[0],
        d = dd(s, f);
      h != d && l.push({ from: c.from, to: c.from + h.length, insert: d });
    }
    return l.length ? [t, { changes: l, sequential: !0 }] : t;
  });
}
const fq = vt.define(),
  hq = new ar();
function dq(t, e, r) {
  let n = vi(t);
  if (n.length < r) return null;
  let i = n.resolveStack(r, 1),
    o = null;
  for (let s = i; s; s = s.next) {
    let a = s.node;
    if (a.to <= r || a.from > r) continue;
    if (o && a.from < e) break;
    let l = a.type.prop(hq);
    if (l && (a.to < n.length - 50 || n.length == t.doc.length || !pq(a))) {
      let u = l(a, t);
      u && u.from <= r && u.from >= e && u.to > r && (o = u);
    }
  }
  return o;
}
function pq(t) {
  let e = t.lastChild;
  return e && e.to == t.to && e.type.isError;
}
function b1(t, e, r) {
  for (let n of t.facet(fq)) {
    let i = n(t, e, r);
    if (i) return i;
  }
  return dq(t, e, r);
}
function I_(t, e) {
  let r = e.mapPos(t.from, 1),
    n = e.mapPos(t.to, -1);
  return r >= n ? void 0 : { from: r, to: n };
}
const Pv = Qt.define({ map: I_ }),
  lp = Qt.define({ map: I_ });
function N_(t) {
  let e = [];
  for (let { head: r } of t.state.selection.ranges)
    e.some((n) => n.from <= r && n.to >= r) || e.push(t.lineBlockAt(r));
  return e;
}
const y0 = ri.define({
  create() {
    return Pt.none;
  },
  update(t, e) {
    t = t.map(e.changes);
    for (let r of e.effects)
      if (r.is(Pv) && !mq(t, r.value.from, r.value.to)) {
        let { preparePlaceholder: n } = e.state.facet(u7),
          i = n ? Pt.replace({ widget: new xq(n(e.state, r.value)) }) : hx;
        t = t.update({ add: [i.range(r.value.from, r.value.to)] });
      } else
        r.is(lp) &&
          (t = t.update({
            filter: (n, i) => r.value.from != n || r.value.to != i,
            filterFrom: r.value.from,
            filterTo: r.value.to,
          }));
    if (e.selection) {
      let r = !1,
        { head: n } = e.selection.main;
      t.between(n, n, (i, o) => {
        i < n && o > n && (r = !0);
      }),
        r &&
          (t = t.update({
            filterFrom: n,
            filterTo: n,
            filter: (i, o) => o <= n || i >= n,
          }));
    }
    return t;
  },
  provide: (t) => ut.decorations.from(t),
  toJSON(t, e) {
    let r = [];
    return (
      t.between(0, e.doc.length, (n, i) => {
        r.push(n, i);
      }),
      r
    );
  },
  fromJSON(t) {
    if (!Array.isArray(t) || t.length % 2)
      throw new RangeError("Invalid JSON for fold state");
    let e = [];
    for (let r = 0; r < t.length; ) {
      let n = t[r++],
        i = t[r++];
      if (typeof n != "number" || typeof i != "number")
        throw new RangeError("Invalid JSON for fold state");
      e.push(hx.range(n, i));
    }
    return Pt.set(e, !0);
  },
});
function D1(t, e, r) {
  var n;
  let i = null;
  return (
    (n = t.field(y0, !1)) === null ||
      n === void 0 ||
      n.between(e, r, (o, s) => {
        (!i || i.from > o) && (i = { from: o, to: s });
      }),
    i
  );
}
function mq(t, e, r) {
  let n = !1;
  return (
    t.between(e, e, (i, o) => {
      i == e && o == r && (n = !0);
    }),
    n
  );
}
function L_(t, e) {
  return t.field(y0, !1) ? e : e.concat(Qt.appendConfig.of(j_()));
}
const gq = (t) => {
    for (let e of N_(t)) {
      let r = b1(t.state, e.from, e.to);
      if (r)
        return t.dispatch({ effects: L_(t.state, [Pv.of(r), z_(t, r)]) }), !0;
    }
    return !1;
  },
  vq = (t) => {
    if (!t.state.field(y0, !1)) return !1;
    let e = [];
    for (let r of N_(t)) {
      let n = D1(t.state, r.from, r.to);
      n && e.push(lp.of(n), z_(t, n, !1));
    }
    return e.length && t.dispatch({ effects: e }), e.length > 0;
  };
function z_(t, e, r = !0) {
  let n = t.state.doc.lineAt(e.from).number,
    i = t.state.doc.lineAt(e.to).number;
  return ut.announce.of(
    `${t.state.phrase(r ? "Folded lines" : "Unfolded lines")} ${n} ${t.state.phrase("to")} ${i}.`
  );
}
const yq = (t) => {
    let { state: e } = t,
      r = [];
    for (let n = 0; n < e.doc.length; ) {
      let i = t.lineBlockAt(n),
        o = b1(e, i.from, i.to);
      o && r.push(Pv.of(o)), (n = (o ? t.lineBlockAt(o.to) : i).to + 1);
    }
    return r.length && t.dispatch({ effects: L_(t.state, r) }), !!r.length;
  },
  bq = (t) => {
    let e = t.state.field(y0, !1);
    if (!e || !e.size) return !1;
    let r = [];
    return (
      e.between(0, t.state.doc.length, (n, i) => {
        r.push(lp.of({ from: n, to: i }));
      }),
      t.dispatch({ effects: r }),
      !0
    );
  },
  Dq = [
    { key: "Ctrl-Shift-[", mac: "Cmd-Alt-[", run: gq },
    { key: "Ctrl-Shift-]", mac: "Cmd-Alt-]", run: vq },
    { key: "Ctrl-Alt-[", run: yq },
    { key: "Ctrl-Alt-]", run: bq },
  ],
  wq = { placeholderDOM: null, preparePlaceholder: null, placeholderText: "…" },
  u7 = vt.define({
    combine(t) {
      return da(t, wq);
    },
  });
function j_(t) {
  let e = [y0, Cq];
  return t && e.push(u7.of(t)), e;
}
function H_(t, e) {
  let { state: r } = t,
    n = r.facet(u7),
    i = (s) => {
      let a = t.lineBlockAt(t.posAtDOM(s.target)),
        l = D1(t.state, a.from, a.to);
      l && t.dispatch({ effects: lp.of(l) }), s.preventDefault();
    };
  if (n.placeholderDOM) return n.placeholderDOM(t, i, e);
  let o = document.createElement("span");
  return (
    (o.textContent = n.placeholderText),
    o.setAttribute("aria-label", r.phrase("folded code")),
    (o.title = r.phrase("unfold")),
    (o.className = "cm-foldPlaceholder"),
    (o.onclick = i),
    o
  );
}
const hx = Pt.replace({
  widget: new (class extends ku {
    toDOM(t) {
      return H_(t, null);
    }
  })(),
});
class xq extends ku {
  constructor(e) {
    super(), (this.value = e);
  }
  eq(e) {
    return this.value == e.value;
  }
  toDOM(e) {
    return H_(e, this.value);
  }
}
const kq = {
  openText: "⌄",
  closedText: "›",
  markerDOM: null,
  domEventHandlers: {},
  foldingChanged: () => !1,
};
class j4 extends Ya {
  constructor(e, r) {
    super(), (this.config = e), (this.open = r);
  }
  eq(e) {
    return this.config == e.config && this.open == e.open;
  }
  toDOM(e) {
    if (this.config.markerDOM) return this.config.markerDOM(this.open);
    let r = document.createElement("span");
    return (
      (r.textContent = this.open
        ? this.config.openText
        : this.config.closedText),
      (r.title = e.state.phrase(this.open ? "Fold line" : "Unfold line")),
      r
    );
  }
}
function Sq(t = {}) {
  let e = Object.assign(Object.assign({}, kq), t),
    r = new j4(e, !0),
    n = new j4(e, !1),
    i = Cn.fromClass(
      class {
        constructor(s) {
          (this.from = s.viewport.from), (this.markers = this.buildMarkers(s));
        }
        update(s) {
          (s.docChanged ||
            s.viewportChanged ||
            s.startState.facet(cu) != s.state.facet(cu) ||
            s.startState.field(y0, !1) != s.state.field(y0, !1) ||
            vi(s.startState) != vi(s.state) ||
            e.foldingChanged(s)) &&
            (this.markers = this.buildMarkers(s.view));
        }
        buildMarkers(s) {
          let a = new Ua();
          for (let l of s.viewportLineBlocks) {
            let u = D1(s.state, l.from, l.to)
              ? n
              : b1(s.state, l.from, l.to)
                ? r
                : null;
            u && a.add(l.from, l.from, u);
          }
          return a.finish();
        }
      }
    ),
    { domEventHandlers: o } = e;
  return [
    i,
    OW({
      class: "cm-foldGutter",
      markers(s) {
        var a;
        return (
          ((a = s.plugin(i)) === null || a === void 0 ? void 0 : a.markers) ||
          dr.empty
        );
      },
      initialSpacer() {
        return new j4(e, !1);
      },
      domEventHandlers: Object.assign(Object.assign({}, o), {
        click: (s, a, l) => {
          if (o.click && o.click(s, a, l)) return !0;
          let u = D1(s.state, a.from, a.to);
          if (u) return s.dispatch({ effects: lp.of(u) }), !0;
          let c = b1(s.state, a.from, a.to);
          return c ? (s.dispatch({ effects: Pv.of(c) }), !0) : !1;
        },
      }),
    }),
    j_(),
  ];
}
const Cq = ut.baseTheme({
  ".cm-foldPlaceholder": {
    backgroundColor: "#eee",
    border: "1px solid #ddd",
    color: "#888",
    borderRadius: ".2em",
    margin: "0 1px",
    padding: "0 1px",
    cursor: "pointer",
  },
  ".cm-foldGutter span": { padding: "0 1px", cursor: "pointer" },
});
class up {
  constructor(e, r) {
    this.specs = e;
    let n;
    function i(a) {
      let l = au.newName();
      return ((n || (n = Object.create(null)))["." + l] = a), l;
    }
    const o = typeof r.all == "string" ? r.all : r.all ? i(r.all) : void 0,
      s = r.scope;
    (this.scope =
      s instanceof ko
        ? (a) => a.prop(yc) == s.data
        : s
          ? (a) => a == s
          : void 0),
      (this.style = B_(
        e.map((a) => ({
          tag: a.tag,
          class: a.class || i(Object.assign({}, a, { tag: null })),
        })),
        { all: o }
      ).style),
      (this.module = n ? new au(n) : null),
      (this.themeType = r.themeType);
  }
  static define(e, r) {
    return new up(e, r || {});
  }
}
const C5 = vt.define(),
  V_ = vt.define({
    combine(t) {
      return t.length ? [t[0]] : null;
    },
  });
function H4(t) {
  let e = t.facet(C5);
  return e.length ? e : t.facet(V_);
}
function W_(t, e) {
  let r = [Eq],
    n;
  return (
    t instanceof up &&
      (t.module && r.push(ut.styleModule.of(t.module)), (n = t.themeType)),
    e != null && e.fallback
      ? r.push(V_.of(t))
      : n
        ? r.push(
            C5.computeN([ut.darkTheme], (i) =>
              i.facet(ut.darkTheme) == (n == "dark") ? [t] : []
            )
          )
        : r.push(C5.of(t)),
    r
  );
}
class Aq {
  constructor(e) {
    (this.markCache = Object.create(null)),
      (this.tree = vi(e.state)),
      (this.decorations = this.buildDeco(e, H4(e.state))),
      (this.decoratedTo = e.viewport.to);
  }
  update(e) {
    let r = vi(e.state),
      n = H4(e.state),
      i = n != H4(e.startState),
      { viewport: o } = e.view,
      s = e.changes.mapPos(this.decoratedTo, 1);
    r.length < o.to && !i && r.type == this.tree.type && s >= o.to
      ? ((this.decorations = this.decorations.map(e.changes)),
        (this.decoratedTo = s))
      : (r != this.tree || e.viewportChanged || i) &&
        ((this.tree = r),
        (this.decorations = this.buildDeco(e.view, n)),
        (this.decoratedTo = o.to));
  }
  buildDeco(e, r) {
    if (!r || !this.tree.length) return Pt.none;
    let n = new Ua();
    for (let { from: i, to: o } of e.visibleRanges)
      KW(
        this.tree,
        r,
        (s, a, l) => {
          n.add(
            s,
            a,
            this.markCache[l] || (this.markCache[l] = Pt.mark({ class: l }))
          );
        },
        i,
        o
      );
    return n.finish();
  }
}
const Eq = E0.high(Cn.fromClass(Aq, { decorations: (t) => t.decorations })),
  Fq = up.define([
    { tag: ot.meta, color: "#404740" },
    { tag: ot.link, textDecoration: "underline" },
    { tag: ot.heading, textDecoration: "underline", fontWeight: "bold" },
    { tag: ot.emphasis, fontStyle: "italic" },
    { tag: ot.strong, fontWeight: "bold" },
    { tag: ot.strikethrough, textDecoration: "line-through" },
    { tag: ot.keyword, color: "#708" },
    {
      tag: [ot.atom, ot.bool, ot.url, ot.contentSeparator, ot.labelName],
      color: "#219",
    },
    { tag: [ot.literal, ot.inserted], color: "#164" },
    { tag: [ot.string, ot.deleted], color: "#a11" },
    { tag: [ot.regexp, ot.escape, ot.special(ot.string)], color: "#e40" },
    { tag: ot.definition(ot.variableName), color: "#00f" },
    { tag: ot.local(ot.variableName), color: "#30a" },
    { tag: [ot.typeName, ot.namespace], color: "#085" },
    { tag: ot.className, color: "#167" },
    { tag: [ot.special(ot.variableName), ot.macroName], color: "#256" },
    { tag: ot.definition(ot.propertyName), color: "#00c" },
    { tag: ot.comment, color: "#940" },
    { tag: ot.invalid, color: "#f00" },
  ]),
  Mq = ut.baseTheme({
    "&.cm-focused .cm-matchingBracket": { backgroundColor: "#328c8252" },
    "&.cm-focused .cm-nonmatchingBracket": { backgroundColor: "#bb555544" },
  }),
  q_ = 1e4,
  U_ = "()[]{}",
  G_ = vt.define({
    combine(t) {
      return da(t, {
        afterCursor: !0,
        brackets: U_,
        maxScanDistance: q_,
        renderMatch: Oq,
      });
    },
  }),
  _q = Pt.mark({ class: "cm-matchingBracket" }),
  $q = Pt.mark({ class: "cm-nonmatchingBracket" });
function Oq(t) {
  let e = [],
    r = t.matched ? _q : $q;
  return (
    e.push(r.range(t.start.from, t.start.to)),
    t.end && e.push(r.range(t.end.from, t.end.to)),
    e
  );
}
const Bq = ri.define({
    create() {
      return Pt.none;
    },
    update(t, e) {
      if (!e.docChanged && !e.selection) return t;
      let r = [],
        n = e.state.facet(G_);
      for (let i of e.state.selection.ranges) {
        if (!i.empty) continue;
        let o =
          ea(e.state, i.head, -1, n) ||
          (i.head > 0 && ea(e.state, i.head - 1, 1, n)) ||
          (n.afterCursor &&
            (ea(e.state, i.head, 1, n) ||
              (i.head < e.state.doc.length && ea(e.state, i.head + 1, -1, n))));
        o && (r = r.concat(n.renderMatch(o, e.state)));
      }
      return Pt.set(r, !0);
    },
    provide: (t) => ut.decorations.from(t),
  }),
  Tq = [Bq, Mq];
function Pq(t = {}) {
  return [G_.of(t), Tq];
}
const Rq = new ar();
function A5(t, e, r) {
  let n = t.prop(e < 0 ? ar.openedBy : ar.closedBy);
  if (n) return n;
  if (t.name.length == 1) {
    let i = r.indexOf(t.name);
    if (i > -1 && i % 2 == (e < 0 ? 1 : 0)) return [r[i + e]];
  }
  return null;
}
function E5(t) {
  let e = t.type.prop(Rq);
  return e ? e(t.node) : t;
}
function ea(t, e, r, n = {}) {
  let i = n.maxScanDistance || q_,
    o = n.brackets || U_,
    s = vi(t),
    a = s.resolveInner(e, r);
  for (let l = a; l; l = l.parent) {
    let u = A5(l.type, r, o);
    if (u && l.from < l.to) {
      let c = E5(l);
      if (c && (r > 0 ? e >= c.from && e < c.to : e > c.from && e <= c.to))
        return Iq(t, e, r, l, c, u, o);
    }
  }
  return Nq(t, e, r, s, a.type, i, o);
}
function Iq(t, e, r, n, i, o, s) {
  let a = n.parent,
    l = { from: i.from, to: i.to },
    u = 0,
    c = a == null ? void 0 : a.cursor();
  if (c && (r < 0 ? c.childBefore(n.from) : c.childAfter(n.to)))
    do
      if (r < 0 ? c.to <= n.from : c.from >= n.to) {
        if (u == 0 && o.indexOf(c.type.name) > -1 && c.from < c.to) {
          let f = E5(c);
          return {
            start: l,
            end: f ? { from: f.from, to: f.to } : void 0,
            matched: !0,
          };
        } else if (A5(c.type, r, s)) u++;
        else if (A5(c.type, -r, s)) {
          if (u == 0) {
            let f = E5(c);
            return {
              start: l,
              end: f && f.from < f.to ? { from: f.from, to: f.to } : void 0,
              matched: !1,
            };
          }
          u--;
        }
      }
    while (r < 0 ? c.prevSibling() : c.nextSibling());
  return { start: l, matched: !1 };
}
function Nq(t, e, r, n, i, o, s) {
  let a = r < 0 ? t.sliceDoc(e - 1, e) : t.sliceDoc(e, e + 1),
    l = s.indexOf(a);
  if (l < 0 || (l % 2 == 0) != r > 0) return null;
  let u = { from: r < 0 ? e - 1 : e, to: r > 0 ? e + 1 : e },
    c = t.doc.iterRange(e, r > 0 ? t.doc.length : 0),
    f = 0;
  for (let h = 0; !c.next().done && h <= o; ) {
    let d = c.value;
    r < 0 && (h += d.length);
    let p = e + h * r;
    for (
      let m = r > 0 ? 0 : d.length - 1, b = r > 0 ? d.length : -1;
      m != b;
      m += r
    ) {
      let D = s.indexOf(d[m]);
      if (!(D < 0 || n.resolveInner(p + m, 1).type != i))
        if ((D % 2 == 0) == r > 0) f++;
        else {
          if (f == 1)
            return {
              start: u,
              end: { from: p + m, to: p + m + 1 },
              matched: D >> 1 == l >> 1,
            };
          f--;
        }
    }
    r > 0 && (h += d.length);
  }
  return c.done ? { start: u, matched: !1 } : null;
}
function dx(t, e, r, n = 0, i = 0) {
  e == null && ((e = t.search(/[^\s\u00a0]/)), e == -1 && (e = t.length));
  let o = i;
  for (let s = n; s < e; s++) t.charCodeAt(s) == 9 ? (o += r - (o % r)) : o++;
  return o;
}
class K_ {
  constructor(e, r, n, i) {
    (this.string = e),
      (this.tabSize = r),
      (this.indentUnit = n),
      (this.overrideIndent = i),
      (this.pos = 0),
      (this.start = 0),
      (this.lastColumnPos = 0),
      (this.lastColumnValue = 0);
  }
  eol() {
    return this.pos >= this.string.length;
  }
  sol() {
    return this.pos == 0;
  }
  peek() {
    return this.string.charAt(this.pos) || void 0;
  }
  next() {
    if (this.pos < this.string.length) return this.string.charAt(this.pos++);
  }
  eat(e) {
    let r = this.string.charAt(this.pos),
      n;
    if (
      (typeof e == "string"
        ? (n = r == e)
        : (n = r && (e instanceof RegExp ? e.test(r) : e(r))),
      n)
    )
      return ++this.pos, r;
  }
  eatWhile(e) {
    let r = this.pos;
    for (; this.eat(e); );
    return this.pos > r;
  }
  eatSpace() {
    let e = this.pos;
    for (; /[\s\u00a0]/.test(this.string.charAt(this.pos)); ) ++this.pos;
    return this.pos > e;
  }
  skipToEnd() {
    this.pos = this.string.length;
  }
  skipTo(e) {
    let r = this.string.indexOf(e, this.pos);
    if (r > -1) return (this.pos = r), !0;
  }
  backUp(e) {
    this.pos -= e;
  }
  column() {
    return (
      this.lastColumnPos < this.start &&
        ((this.lastColumnValue = dx(
          this.string,
          this.start,
          this.tabSize,
          this.lastColumnPos,
          this.lastColumnValue
        )),
        (this.lastColumnPos = this.start)),
      this.lastColumnValue
    );
  }
  indentation() {
    var e;
    return (e = this.overrideIndent) !== null && e !== void 0
      ? e
      : dx(this.string, null, this.tabSize);
  }
  match(e, r, n) {
    if (typeof e == "string") {
      let i = (s) => (n ? s.toLowerCase() : s),
        o = this.string.substr(this.pos, e.length);
      return i(o) == i(e) ? (r !== !1 && (this.pos += e.length), !0) : null;
    } else {
      let i = this.string.slice(this.pos).match(e);
      return i && i.index > 0
        ? null
        : (i && r !== !1 && (this.pos += i[0].length), i);
    }
  }
  current() {
    return this.string.slice(this.start, this.pos);
  }
}
function Lq(t) {
  return {
    name: t.name || "",
    token: t.token,
    blankLine: t.blankLine || (() => {}),
    startState: t.startState || (() => !0),
    copyState: t.copyState || zq,
    indent: t.indent || (() => null),
    languageData: t.languageData || {},
    tokenTable: t.tokenTable || f7,
  };
}
function zq(t) {
  if (typeof t != "object") return t;
  let e = {};
  for (let r in t) {
    let n = t[r];
    e[r] = n instanceof Array ? n.slice() : n;
  }
  return e;
}
const px = new WeakMap();
class Rv extends ko {
  constructor(e) {
    let r = JW(e.languageData),
      n = Lq(e),
      i,
      o = new (class extends sM {
        createParse(s, a, l) {
          return new Hq(i, s, a, l);
        }
      })();
    super(r, o, [P_.of((s, a) => this.getIndent(s, a))], e.name),
      (this.topNode = qq(r)),
      (i = this),
      (this.streamParser = n),
      (this.stateAfter = new ar({ perNode: !0 })),
      (this.tokenTable = e.tokenTable ? new Q_(n.tokenTable) : Wq);
  }
  static define(e) {
    return new Rv(e);
  }
  getIndent(e, r) {
    let n = vi(e.state),
      i = n.resolve(r);
    for (; i && i.type != this.topNode; ) i = i.parent;
    if (!i) return null;
    let o,
      { overrideIndentation: s } = e.options;
    s && ((o = px.get(e.state)), o != null && o < r - 1e4 && (o = void 0));
    let a = c7(this, n, 0, i.from, o ?? r),
      l,
      u;
    if (
      (a
        ? ((u = a.state), (l = a.pos + 1))
        : ((u = this.streamParser.startState(e.unit)), (l = 0)),
      r - l > 1e4)
    )
      return null;
    for (; l < r; ) {
      let f = e.state.doc.lineAt(l),
        h = Math.min(r, f.to);
      if (f.length) {
        let d = s ? s(f.from) : -1,
          p = new K_(f.text, e.state.tabSize, e.unit, d < 0 ? void 0 : d);
        for (; p.pos < h - f.from; ) X_(this.streamParser.token, p, u);
      } else this.streamParser.blankLine(u, e.unit);
      if (h == r) break;
      l = f.to + 1;
    }
    let c = e.lineAt(r);
    return (
      s && o == null && px.set(e.state, c.from),
      this.streamParser.indent(u, /^\s*(.*)/.exec(c.text)[1], e)
    );
  }
  get allowsNesting() {
    return !1;
  }
}
function c7(t, e, r, n, i) {
  let o = r >= n && r + e.length <= i && e.prop(t.stateAfter);
  if (o) return { state: t.streamParser.copyState(o), pos: r + e.length };
  for (let s = e.children.length - 1; s >= 0; s--) {
    let a = e.children[s],
      l = r + e.positions[s],
      u = a instanceof un && l < i && c7(t, a, l, n, i);
    if (u) return u;
  }
  return null;
}
function Y_(t, e, r, n, i) {
  if (i && r <= 0 && n >= e.length) return e;
  !i && e.type == t.topNode && (i = !0);
  for (let o = e.children.length - 1; o >= 0; o--) {
    let s = e.positions[o],
      a = e.children[o],
      l;
    if (s < n && a instanceof un) {
      if (!(l = Y_(t, a, r - s, n - s, i))) break;
      return i
        ? new un(
            e.type,
            e.children.slice(0, o).concat(l),
            e.positions.slice(0, o + 1),
            s + l.length
          )
        : l;
    }
  }
  return null;
}
function jq(t, e, r, n) {
  for (let i of e) {
    let o = i.from + (i.openStart ? 25 : 0),
      s = i.to - (i.openEnd ? 25 : 0),
      a = o <= r && s > r && c7(t, i.tree, 0 - i.offset, r, s),
      l;
    if (a && (l = Y_(t, i.tree, r + i.offset, a.pos + i.offset, !1)))
      return { state: a.state, tree: l };
  }
  return { state: t.streamParser.startState(n ? v0(n) : 4), tree: un.empty };
}
class Hq {
  constructor(e, r, n, i) {
    (this.lang = e),
      (this.input = r),
      (this.fragments = n),
      (this.ranges = i),
      (this.stoppedAt = null),
      (this.chunks = []),
      (this.chunkPos = []),
      (this.chunk = []),
      (this.chunkReused = void 0),
      (this.rangeIndex = 0),
      (this.to = i[i.length - 1].to);
    let o = sf.get(),
      s = i[0].from,
      { state: a, tree: l } = jq(e, n, s, o == null ? void 0 : o.state);
    (this.state = a), (this.parsedPos = this.chunkStart = s + l.length);
    for (let u = 0; u < l.children.length; u++)
      this.chunks.push(l.children[u]), this.chunkPos.push(l.positions[u]);
    o &&
      this.parsedPos < o.viewport.from - 1e5 &&
      ((this.state = this.lang.streamParser.startState(v0(o.state))),
      o.skipUntilInView(this.parsedPos, o.viewport.from),
      (this.parsedPos = o.viewport.from)),
      this.moveRangeIndex();
  }
  advance() {
    let e = sf.get(),
      r = this.stoppedAt == null ? this.to : Math.min(this.to, this.stoppedAt),
      n = Math.min(r, this.chunkStart + 2048);
    for (e && (n = Math.min(n, e.viewport.to)); this.parsedPos < n; )
      this.parseLine(e);
    return (
      this.chunkStart < this.parsedPos && this.finishChunk(),
      this.parsedPos >= r
        ? this.finish()
        : e && this.parsedPos >= e.viewport.to
          ? (e.skipUntilInView(this.parsedPos, r), this.finish())
          : null
    );
  }
  stopAt(e) {
    this.stoppedAt = e;
  }
  lineAfter(e) {
    let r = this.input.chunk(e);
    if (this.input.lineChunks)
      r ==
        `
` && (r = "");
    else {
      let n = r.indexOf(`
`);
      n > -1 && (r = r.slice(0, n));
    }
    return e + r.length <= this.to ? r : r.slice(0, this.to - e);
  }
  nextLine() {
    let e = this.parsedPos,
      r = this.lineAfter(e),
      n = e + r.length;
    for (let i = this.rangeIndex; ; ) {
      let o = this.ranges[i].to;
      if (
        o >= n ||
        ((r = r.slice(0, o - (n - r.length))), i++, i == this.ranges.length)
      )
        break;
      let s = this.ranges[i].from,
        a = this.lineAfter(s);
      (r += a), (n = s + a.length);
    }
    return { line: r, end: n };
  }
  skipGapsTo(e, r, n) {
    for (;;) {
      let i = this.ranges[this.rangeIndex].to,
        o = e + r;
      if (n > 0 ? i > o : i >= o) break;
      let s = this.ranges[++this.rangeIndex].from;
      r += s - i;
    }
    return r;
  }
  moveRangeIndex() {
    for (; this.ranges[this.rangeIndex].to < this.parsedPos; )
      this.rangeIndex++;
  }
  emitToken(e, r, n, i, o) {
    if (this.ranges.length > 1) {
      (o = this.skipGapsTo(r, o, 1)), (r += o);
      let s = this.chunk.length;
      (o = this.skipGapsTo(n, o, -1)), (n += o), (i += this.chunk.length - s);
    }
    return this.chunk.push(e, r, n, i), o;
  }
  parseLine(e) {
    let { line: r, end: n } = this.nextLine(),
      i = 0,
      { streamParser: o } = this.lang,
      s = new K_(r, e ? e.state.tabSize : 4, e ? v0(e.state) : 2);
    if (s.eol()) o.blankLine(this.state, s.indentUnit);
    else
      for (; !s.eol(); ) {
        let a = X_(o.token, s, this.state);
        if (
          (a &&
            (i = this.emitToken(
              this.lang.tokenTable.resolve(a),
              this.parsedPos + s.start,
              this.parsedPos + s.pos,
              4,
              i
            )),
          s.start > 1e4)
        )
          break;
      }
    (this.parsedPos = n),
      this.moveRangeIndex(),
      this.parsedPos < this.to && this.parsedPos++;
  }
  finishChunk() {
    let e = un.build({
      buffer: this.chunk,
      start: this.chunkStart,
      length: this.parsedPos - this.chunkStart,
      nodeSet: Vq,
      topID: 0,
      maxBufferLength: 2048,
      reused: this.chunkReused,
    });
    (e = new un(e.type, e.children, e.positions, e.length, [
      [this.lang.stateAfter, this.lang.streamParser.copyState(this.state)],
    ])),
      this.chunks.push(e),
      this.chunkPos.push(this.chunkStart - this.ranges[0].from),
      (this.chunk = []),
      (this.chunkReused = void 0),
      (this.chunkStart = this.parsedPos);
  }
  finish() {
    return new un(
      this.lang.topNode,
      this.chunks,
      this.chunkPos,
      this.parsedPos - this.ranges[0].from
    ).balance();
  }
}
function X_(t, e, r) {
  e.start = e.pos;
  for (let n = 0; n < 10; n++) {
    let i = t(e, r);
    if (e.pos > e.start) return i;
  }
  throw new Error("Stream parser failed to advance stream.");
}
const f7 = Object.create(null),
  pd = [as.none],
  Vq = new H8(pd),
  mx = [],
  gx = Object.create(null),
  J_ = Object.create(null);
for (let [t, e] of [
  ["variable", "variableName"],
  ["variable-2", "variableName.special"],
  ["string-2", "string.special"],
  ["def", "variableName.definition"],
  ["tag", "tagName"],
  ["attribute", "attributeName"],
  ["type", "typeName"],
  ["builtin", "variableName.standard"],
  ["qualifier", "modifier"],
  ["error", "invalid"],
  ["header", "heading"],
  ["property", "propertyName"],
])
  J_[t] = Z_(f7, e);
class Q_ {
  constructor(e) {
    (this.extra = e), (this.table = Object.assign(Object.create(null), J_));
  }
  resolve(e) {
    return e ? this.table[e] || (this.table[e] = Z_(this.extra, e)) : 0;
  }
}
const Wq = new Q_(f7);
function V4(t, e) {
  mx.indexOf(t) > -1 || (mx.push(t), console.warn(e));
}
function Z_(t, e) {
  let r = [];
  for (let a of e.split(" ")) {
    let l = [];
    for (let u of a.split(".")) {
      let c = t[u] || ot[u];
      c
        ? typeof c == "function"
          ? l.length
            ? (l = l.map(c))
            : V4(u, `Modifier ${u} used at start of tag`)
          : l.length
            ? V4(u, `Tag ${u} used as modifier`)
            : (l = Array.isArray(c) ? c : [c])
        : V4(u, `Unknown highlighting tag ${u}`);
    }
    for (let u of l) r.push(u);
  }
  if (!r.length) return 0;
  let n = e.replace(/ /g, "_"),
    i = n + " " + r.map((a) => a.id),
    o = gx[i];
  if (o) return o.id;
  let s = (gx[i] = as.define({
    id: pd.length,
    name: n,
    props: [UW({ [n]: r })],
  }));
  return pd.push(s), s.id;
}
function qq(t) {
  let e = as.define({
    id: pd.length,
    name: "Document",
    props: [yc.add(() => t)],
    top: !0,
  });
  return pd.push(e), e;
}
Jr.RTL, Jr.LTR;
function e$(t) {
  function e(f, h) {
    f.cmdState.push(h);
  }
  function r(f) {
    return f.cmdState.length > 0 ? f.cmdState[f.cmdState.length - 1] : null;
  }
  function n(f) {
    var h = f.cmdState.pop();
    h && h.closeBracket();
  }
  function i(f) {
    for (var h = f.cmdState, d = h.length - 1; d >= 0; d--) {
      var p = h[d];
      if (p.name != "DEFAULT") return p;
    }
    return {
      styleIdentifier: function () {
        return null;
      },
    };
  }
  function o(f, h, d) {
    return function () {
      (this.name = f),
        (this.bracketNo = 0),
        (this.style = h),
        (this.styles = d),
        (this.argument = null),
        (this.styleIdentifier = function () {
          return this.styles[this.bracketNo - 1] || null;
        }),
        (this.openBracket = function () {
          return this.bracketNo++, "bracket";
        }),
        (this.closeBracket = function () {});
    };
  }
  var s = {};
  (s.importmodule = o("importmodule", "tag", ["string", "builtin"])),
    (s.documentclass = o("documentclass", "tag", ["", "atom"])),
    (s.usepackage = o("usepackage", "tag", ["atom"])),
    (s.begin = o("begin", "tag", ["atom"])),
    (s.end = o("end", "tag", ["atom"])),
    (s.label = o("label", "tag", ["atom"])),
    (s.ref = o("ref", "tag", ["atom"])),
    (s.eqref = o("eqref", "tag", ["atom"])),
    (s.cite = o("cite", "tag", ["atom"])),
    (s.bibitem = o("bibitem", "tag", ["atom"])),
    (s.Bibitem = o("Bibitem", "tag", ["atom"])),
    (s.RBibitem = o("RBibitem", "tag", ["atom"])),
    (s.DEFAULT = function () {
      (this.name = "DEFAULT"),
        (this.style = "tag"),
        (this.styleIdentifier =
          this.openBracket =
          this.closeBracket =
            function () {});
    });
  function a(f, h) {
    f.f = h;
  }
  function l(f, h) {
    var d;
    if (f.match(/^\\[a-zA-Z@\xc0-\u1fff\u2060-\uffff]+/)) {
      var p = f.current().slice(1);
      return (
        (d = s.hasOwnProperty(p) ? s[p] : s.DEFAULT),
        (d = new d()),
        e(h, d),
        a(h, c),
        d.style
      );
    }
    if (f.match(/^\\[$&%#{}_]/) || f.match(/^\\[,;!\/\\]/)) return "tag";
    if (f.match("\\["))
      return (
        a(h, function (b, D) {
          return u(b, D, "\\]");
        }),
        "keyword"
      );
    if (f.match("\\("))
      return (
        a(h, function (b, D) {
          return u(b, D, "\\)");
        }),
        "keyword"
      );
    if (f.match("$$"))
      return (
        a(h, function (b, D) {
          return u(b, D, "$$");
        }),
        "keyword"
      );
    if (f.match("$"))
      return (
        a(h, function (b, D) {
          return u(b, D, "$");
        }),
        "keyword"
      );
    var m = f.next();
    if (m == "%") return f.skipToEnd(), "comment";
    if (m == "}" || m == "]") {
      if (((d = r(h)), d)) d.closeBracket(m), a(h, c);
      else return "error";
      return "bracket";
    } else
      return m == "{" || m == "["
        ? ((d = s.DEFAULT), (d = new d()), e(h, d), "bracket")
        : /\d/.test(m)
          ? (f.eatWhile(/[\w.%]/), "atom")
          : (f.eatWhile(/[\w\-_]/),
            (d = i(h)),
            d.name == "begin" && (d.argument = f.current()),
            d.styleIdentifier());
  }
  function u(f, h, d) {
    if (f.eatSpace()) return null;
    if (d && f.match(d)) return a(h, l), "keyword";
    if (f.match(/^\\[a-zA-Z@]+/)) return "tag";
    if (f.match(/^[a-zA-Z]+/)) return "variableName.special";
    if (f.match(/^\\[$&%#{}_]/) || f.match(/^\\[,;!\/]/) || f.match(/^[\^_&]/))
      return "tag";
    if (f.match(/^[+\-<>|=,\/@!*:;'"`~#?]/)) return null;
    if (f.match(/^(\d+\.\d*|\d*\.\d+|\d+)/)) return "number";
    var p = f.next();
    return p == "{" || p == "}" || p == "[" || p == "]" || p == "(" || p == ")"
      ? "bracket"
      : p == "%"
        ? (f.skipToEnd(), "comment")
        : "error";
  }
  function c(f, h) {
    var d = f.peek(),
      p;
    return d == "{" || d == "["
      ? ((p = r(h)), p.openBracket(d), f.eat(d), a(h, l), "bracket")
      : /[ \t\r]/.test(d)
        ? (f.eat(d), null)
        : (a(h, l), n(h), l(f, h));
  }
  return {
    name: "stex",
    startState: function () {
      var f = t
        ? function (h, d) {
            return u(h, d);
          }
        : l;
      return { cmdState: [], f };
    },
    copyState: function (f) {
      return { cmdState: f.cmdState.slice(), f: f.f };
    },
    token: function (f, h) {
      return h.f(f, h);
    },
    blankLine: function (f) {
      (f.f = l), (f.cmdState.length = 0);
    },
    languageData: { commentTokens: { line: "%" } },
  };
}
const t$ = e$(!1);
e$(!0);
const Uq = (t) => {
  let { state: e } = t,
    r = e.doc.lineAt(e.selection.main.from),
    n = d7(t.state, r.from);
  return n.line ? Gq(t) : n.block ? Yq(t) : !1;
};
function h7(t, e) {
  return ({ state: r, dispatch: n }) => {
    if (r.readOnly) return !1;
    let i = t(e, r);
    return i ? (n(r.update(i)), !0) : !1;
  };
}
const Gq = h7(Qq, 0),
  Kq = h7(r$, 0),
  Yq = h7((t, e) => r$(t, e, Jq(e)), 0);
function d7(t, e) {
  let r = t.languageDataAt("commentTokens", e);
  return r.length ? r[0] : {};
}
const Gf = 50;
function Xq(t, { open: e, close: r }, n, i) {
  let o = t.sliceDoc(n - Gf, n),
    s = t.sliceDoc(i, i + Gf),
    a = /\s*$/.exec(o)[0].length,
    l = /^\s*/.exec(s)[0].length,
    u = o.length - a;
  if (o.slice(u - e.length, u) == e && s.slice(l, l + r.length) == r)
    return {
      open: { pos: n - a, margin: a && 1 },
      close: { pos: i + l, margin: l && 1 },
    };
  let c, f;
  i - n <= 2 * Gf
    ? (c = f = t.sliceDoc(n, i))
    : ((c = t.sliceDoc(n, n + Gf)), (f = t.sliceDoc(i - Gf, i)));
  let h = /^\s*/.exec(c)[0].length,
    d = /\s*$/.exec(f)[0].length,
    p = f.length - d - r.length;
  return c.slice(h, h + e.length) == e && f.slice(p, p + r.length) == r
    ? {
        open: {
          pos: n + h + e.length,
          margin: /\s/.test(c.charAt(h + e.length)) ? 1 : 0,
        },
        close: {
          pos: i - d - r.length,
          margin: /\s/.test(f.charAt(p - 1)) ? 1 : 0,
        },
      }
    : null;
}
function Jq(t) {
  let e = [];
  for (let r of t.selection.ranges) {
    let n = t.doc.lineAt(r.from),
      i = r.to <= n.to ? n : t.doc.lineAt(r.to),
      o = e.length - 1;
    o >= 0 && e[o].to > n.from
      ? (e[o].to = i.to)
      : e.push({ from: n.from + /^\s*/.exec(n.text)[0].length, to: i.to });
  }
  return e;
}
function r$(t, e, r = e.selection.ranges) {
  let n = r.map((o) => d7(e, o.from).block);
  if (!n.every((o) => o)) return null;
  let i = r.map((o, s) => Xq(e, n[s], o.from, o.to));
  if (t != 2 && !i.every((o) => o))
    return {
      changes: e.changes(
        r.map((o, s) =>
          i[s]
            ? []
            : [
                { from: o.from, insert: n[s].open + " " },
                { from: o.to, insert: " " + n[s].close },
              ]
        )
      ),
    };
  if (t != 1 && i.some((o) => o)) {
    let o = [];
    for (let s = 0, a; s < i.length; s++)
      if ((a = i[s])) {
        let l = n[s],
          { open: u, close: c } = a;
        o.push(
          { from: u.pos - l.open.length, to: u.pos + u.margin },
          { from: c.pos - c.margin, to: c.pos + l.close.length }
        );
      }
    return { changes: o };
  }
  return null;
}
function Qq(t, e, r = e.selection.ranges) {
  let n = [],
    i = -1;
  for (let { from: o, to: s } of r) {
    let a = n.length,
      l = 1e9,
      u = d7(e, o).line;
    if (u) {
      for (let c = o; c <= s; ) {
        let f = e.doc.lineAt(c);
        if (f.from > i && (o == s || s > f.from)) {
          i = f.from;
          let h = /^\s*/.exec(f.text)[0].length,
            d = h == f.length,
            p = f.text.slice(h, h + u.length) == u ? h : -1;
          h < f.text.length && h < l && (l = h),
            n.push({
              line: f,
              comment: p,
              token: u,
              indent: h,
              empty: d,
              single: !1,
            });
        }
        c = f.to + 1;
      }
      if (l < 1e9)
        for (let c = a; c < n.length; c++)
          n[c].indent < n[c].line.text.length && (n[c].indent = l);
      n.length == a + 1 && (n[a].single = !0);
    }
  }
  if (t != 2 && n.some((o) => o.comment < 0 && (!o.empty || o.single))) {
    let o = [];
    for (let { line: a, token: l, indent: u, empty: c, single: f } of n)
      (f || !c) && o.push({ from: a.from + u, insert: l + " " });
    let s = e.changes(o);
    return { changes: s, selection: e.selection.map(s, 1) };
  } else if (t != 1 && n.some((o) => o.comment >= 0)) {
    let o = [];
    for (let { line: s, comment: a, token: l } of n)
      if (a >= 0) {
        let u = s.from + a,
          c = u + l.length;
        s.text[c - s.from] == " " && c++, o.push({ from: u, to: c });
      }
    return { changes: o };
  }
  return null;
}
const F5 = nl.define(),
  Zq = nl.define(),
  eU = vt.define(),
  n$ = vt.define({
    combine(t) {
      return da(
        t,
        { minDepth: 100, newGroupDelay: 500, joinToEvent: (e, r) => r },
        {
          minDepth: Math.max,
          newGroupDelay: Math.min,
          joinToEvent: (e, r) => (n, i) => e(n, i) || r(n, i),
        }
      );
    },
  }),
  i$ = ri.define({
    create() {
      return ta.empty;
    },
    update(t, e) {
      let r = e.state.facet(n$),
        n = e.annotation(F5);
      if (n) {
        let l = rs.fromTransaction(e, n.selection),
          u = n.side,
          c = u == 0 ? t.undone : t.done;
        return (
          l
            ? (c = w1(c, c.length, r.minDepth, l))
            : (c = a$(c, e.startState.selection)),
          new ta(u == 0 ? n.rest : c, u == 0 ? c : n.rest)
        );
      }
      let i = e.annotation(Zq);
      if (
        ((i == "full" || i == "before") && (t = t.isolate()),
        e.annotation(Hn.addToHistory) === !1)
      )
        return e.changes.empty ? t : t.addMapping(e.changes.desc);
      let o = rs.fromTransaction(e),
        s = e.annotation(Hn.time),
        a = e.annotation(Hn.userEvent);
      return (
        o
          ? (t = t.addChanges(o, s, a, r, e))
          : e.selection &&
            (t = t.addSelection(e.startState.selection, s, a, r.newGroupDelay)),
        (i == "full" || i == "after") && (t = t.isolate()),
        t
      );
    },
    toJSON(t) {
      return {
        done: t.done.map((e) => e.toJSON()),
        undone: t.undone.map((e) => e.toJSON()),
      };
    },
    fromJSON(t) {
      return new ta(t.done.map(rs.fromJSON), t.undone.map(rs.fromJSON));
    },
  });
function tU(t = {}) {
  return [
    i$,
    n$.of(t),
    ut.domEventHandlers({
      beforeinput(e, r) {
        let n =
          e.inputType == "historyUndo"
            ? s$
            : e.inputType == "historyRedo"
              ? M5
              : null;
        return n ? (e.preventDefault(), n(r)) : !1;
      },
    }),
  ];
}
function Iv(t, e) {
  return function ({ state: r, dispatch: n }) {
    if (!e && r.readOnly) return !1;
    let i = r.field(i$, !1);
    if (!i) return !1;
    let o = i.pop(t, r, e);
    return o ? (n(o), !0) : !1;
  };
}
const s$ = Iv(0, !1),
  M5 = Iv(1, !1),
  rU = Iv(0, !0),
  nU = Iv(1, !0);
class rs {
  constructor(e, r, n, i, o) {
    (this.changes = e),
      (this.effects = r),
      (this.mapped = n),
      (this.startSelection = i),
      (this.selectionsAfter = o);
  }
  setSelAfter(e) {
    return new rs(
      this.changes,
      this.effects,
      this.mapped,
      this.startSelection,
      e
    );
  }
  toJSON() {
    var e, r, n;
    return {
      changes:
        (e = this.changes) === null || e === void 0 ? void 0 : e.toJSON(),
      mapped: (r = this.mapped) === null || r === void 0 ? void 0 : r.toJSON(),
      startSelection:
        (n = this.startSelection) === null || n === void 0
          ? void 0
          : n.toJSON(),
      selectionsAfter: this.selectionsAfter.map((i) => i.toJSON()),
    };
  }
  static fromJSON(e) {
    return new rs(
      e.changes && zn.fromJSON(e.changes),
      [],
      e.mapped && ua.fromJSON(e.mapped),
      e.startSelection && Te.fromJSON(e.startSelection),
      e.selectionsAfter.map(Te.fromJSON)
    );
  }
  static fromTransaction(e, r) {
    let n = Js;
    for (let i of e.startState.facet(eU)) {
      let o = i(e);
      o.length && (n = n.concat(o));
    }
    return !n.length && e.changes.empty
      ? null
      : new rs(
          e.changes.invert(e.startState.doc),
          n,
          void 0,
          r || e.startState.selection,
          Js
        );
  }
  static selection(e) {
    return new rs(void 0, Js, void 0, void 0, e);
  }
}
function w1(t, e, r, n) {
  let i = e + 1 > r + 20 ? e - r - 1 : 0,
    o = t.slice(i, e);
  return o.push(n), o;
}
function iU(t, e) {
  let r = [],
    n = !1;
  return (
    t.iterChangedRanges((i, o) => r.push(i, o)),
    e.iterChangedRanges((i, o, s, a) => {
      for (let l = 0; l < r.length; ) {
        let u = r[l++],
          c = r[l++];
        a >= u && s <= c && (n = !0);
      }
    }),
    n
  );
}
function sU(t, e) {
  return (
    t.ranges.length == e.ranges.length &&
    t.ranges.filter((r, n) => r.empty != e.ranges[n].empty).length === 0
  );
}
function o$(t, e) {
  return t.length ? (e.length ? t.concat(e) : t) : e;
}
const Js = [],
  oU = 200;
function a$(t, e) {
  if (t.length) {
    let r = t[t.length - 1],
      n = r.selectionsAfter.slice(Math.max(0, r.selectionsAfter.length - oU));
    return n.length && n[n.length - 1].eq(e)
      ? t
      : (n.push(e), w1(t, t.length - 1, 1e9, r.setSelAfter(n)));
  } else return [rs.selection([e])];
}
function aU(t) {
  let e = t[t.length - 1],
    r = t.slice();
  return (
    (r[t.length - 1] = e.setSelAfter(
      e.selectionsAfter.slice(0, e.selectionsAfter.length - 1)
    )),
    r
  );
}
function W4(t, e) {
  if (!t.length) return t;
  let r = t.length,
    n = Js;
  for (; r; ) {
    let i = lU(t[r - 1], e, n);
    if ((i.changes && !i.changes.empty) || i.effects.length) {
      let o = t.slice(0, r);
      return (o[r - 1] = i), o;
    } else (e = i.mapped), r--, (n = i.selectionsAfter);
  }
  return n.length ? [rs.selection(n)] : Js;
}
function lU(t, e, r) {
  let n = o$(
    t.selectionsAfter.length ? t.selectionsAfter.map((a) => a.map(e)) : Js,
    r
  );
  if (!t.changes) return rs.selection(n);
  let i = t.changes.map(e),
    o = e.mapDesc(t.changes, !0),
    s = t.mapped ? t.mapped.composeDesc(o) : o;
  return new rs(i, Qt.mapEffects(t.effects, e), s, t.startSelection.map(o), n);
}
const uU = /^(input\.type|delete)($|\.)/;
class ta {
  constructor(e, r, n = 0, i = void 0) {
    (this.done = e),
      (this.undone = r),
      (this.prevTime = n),
      (this.prevUserEvent = i);
  }
  isolate() {
    return this.prevTime ? new ta(this.done, this.undone) : this;
  }
  addChanges(e, r, n, i, o) {
    let s = this.done,
      a = s[s.length - 1];
    return (
      a &&
      a.changes &&
      !a.changes.empty &&
      e.changes &&
      (!n || uU.test(n)) &&
      ((!a.selectionsAfter.length &&
        r - this.prevTime < i.newGroupDelay &&
        i.joinToEvent(o, iU(a.changes, e.changes))) ||
        n == "input.type.compose")
        ? (s = w1(
            s,
            s.length - 1,
            i.minDepth,
            new rs(
              e.changes.compose(a.changes),
              o$(e.effects, a.effects),
              a.mapped,
              a.startSelection,
              Js
            )
          ))
        : (s = w1(s, s.length, i.minDepth, e)),
      new ta(s, Js, r, n)
    );
  }
  addSelection(e, r, n, i) {
    let o = this.done.length
      ? this.done[this.done.length - 1].selectionsAfter
      : Js;
    return o.length > 0 &&
      r - this.prevTime < i &&
      n == this.prevUserEvent &&
      n &&
      /^select($|\.)/.test(n) &&
      sU(o[o.length - 1], e)
      ? this
      : new ta(a$(this.done, e), this.undone, r, n);
  }
  addMapping(e) {
    return new ta(
      W4(this.done, e),
      W4(this.undone, e),
      this.prevTime,
      this.prevUserEvent
    );
  }
  pop(e, r, n) {
    let i = e == 0 ? this.done : this.undone;
    if (i.length == 0) return null;
    let o = i[i.length - 1],
      s = o.selectionsAfter[0] || r.selection;
    if (n && o.selectionsAfter.length)
      return r.update({
        selection: o.selectionsAfter[o.selectionsAfter.length - 1],
        annotations: F5.of({ side: e, rest: aU(i), selection: s }),
        userEvent: e == 0 ? "select.undo" : "select.redo",
        scrollIntoView: !0,
      });
    if (o.changes) {
      let a = i.length == 1 ? Js : i.slice(0, i.length - 1);
      return (
        o.mapped && (a = W4(a, o.mapped)),
        r.update({
          changes: o.changes,
          selection: o.startSelection,
          effects: o.effects,
          annotations: F5.of({ side: e, rest: a, selection: s }),
          filter: !1,
          userEvent: e == 0 ? "undo" : "redo",
          scrollIntoView: !0,
        })
      );
    } else return null;
  }
}
ta.empty = new ta(Js, Js);
const cU = [
  { key: "Mod-z", run: s$, preventDefault: !0 },
  { key: "Mod-y", mac: "Mod-Shift-z", run: M5, preventDefault: !0 },
  { linux: "Ctrl-Shift-z", run: M5, preventDefault: !0 },
  { key: "Mod-u", run: rU, preventDefault: !0 },
  { key: "Alt-u", mac: "Mod-Shift-u", run: nU, preventDefault: !0 },
];
function kf(t, e) {
  return Te.create(t.ranges.map(e), t.mainIndex);
}
function pa(t, e) {
  return t.update({ selection: e, scrollIntoView: !0, userEvent: "select" });
}
function Po({ state: t, dispatch: e }, r) {
  let n = kf(t.selection, r);
  return n.eq(t.selection, !0) ? !1 : (e(pa(t, n)), !0);
}
function Nv(t, e) {
  return Te.cursor(e ? t.to : t.from);
}
function l$(t, e) {
  return Po(t, (r) => (r.empty ? t.moveByChar(r, e) : Nv(r, e)));
}
function Mi(t) {
  return t.textDirectionAt(t.state.selection.main.head) == Jr.LTR;
}
const u$ = (t) => l$(t, !Mi(t)),
  c$ = (t) => l$(t, Mi(t));
function f$(t, e) {
  return Po(t, (r) => (r.empty ? t.moveByGroup(r, e) : Nv(r, e)));
}
const fU = (t) => f$(t, !Mi(t)),
  hU = (t) => f$(t, Mi(t));
function dU(t, e, r) {
  if (e.type.prop(r)) return !0;
  let n = e.to - e.from;
  return (
    (n && (n > 2 || /[^\s,.;:]/.test(t.sliceDoc(e.from, e.to)))) || e.firstChild
  );
}
function Lv(t, e, r) {
  let n = vi(t).resolveInner(e.head),
    i = r ? ar.closedBy : ar.openedBy;
  for (let l = e.head; ; ) {
    let u = r ? n.childAfter(l) : n.childBefore(l);
    if (!u) break;
    dU(t, u, i) ? (n = u) : (l = r ? u.to : u.from);
  }
  let o = n.type.prop(i),
    s,
    a;
  return (
    o && (s = r ? ea(t, n.from, 1) : ea(t, n.to, -1)) && s.matched
      ? (a = r ? s.end.to : s.end.from)
      : (a = r ? n.to : n.from),
    Te.cursor(a, r ? -1 : 1)
  );
}
const pU = (t) => Po(t, (e) => Lv(t.state, e, !Mi(t))),
  mU = (t) => Po(t, (e) => Lv(t.state, e, Mi(t)));
function h$(t, e) {
  return Po(t, (r) => {
    if (!r.empty) return Nv(r, e);
    let n = t.moveVertically(r, e);
    return n.head != r.head ? n : t.moveToLineBoundary(r, e);
  });
}
const d$ = (t) => h$(t, !1),
  p$ = (t) => h$(t, !0);
function m$(t) {
  let e = t.scrollDOM.clientHeight < t.scrollDOM.scrollHeight - 2,
    r = 0,
    n = 0,
    i;
  if (e) {
    for (let o of t.state.facet(ut.scrollMargins)) {
      let s = o(t);
      s != null && s.top && (r = Math.max(s == null ? void 0 : s.top, r)),
        s != null &&
          s.bottom &&
          (n = Math.max(s == null ? void 0 : s.bottom, n));
    }
    i = t.scrollDOM.clientHeight - r - n;
  } else i = (t.dom.ownerDocument.defaultView || window).innerHeight;
  return {
    marginTop: r,
    marginBottom: n,
    selfScroll: e,
    height: Math.max(t.defaultLineHeight, i - 5),
  };
}
function g$(t, e) {
  let r = m$(t),
    { state: n } = t,
    i = kf(n.selection, (s) =>
      s.empty ? t.moveVertically(s, e, r.height) : Nv(s, e)
    );
  if (i.eq(n.selection)) return !1;
  let o;
  if (r.selfScroll) {
    let s = t.coordsAtPos(n.selection.main.head),
      a = t.scrollDOM.getBoundingClientRect(),
      l = a.top + r.marginTop,
      u = a.bottom - r.marginBottom;
    s &&
      s.top > l &&
      s.bottom < u &&
      (o = ut.scrollIntoView(i.main.head, { y: "start", yMargin: s.top - l }));
  }
  return t.dispatch(pa(n, i), { effects: o }), !0;
}
const vx = (t) => g$(t, !1),
  _5 = (t) => g$(t, !0);
function Su(t, e, r) {
  let n = t.lineBlockAt(e.head),
    i = t.moveToLineBoundary(e, r);
  if (
    (i.head == e.head &&
      i.head != (r ? n.to : n.from) &&
      (i = t.moveToLineBoundary(e, r, !1)),
    !r && i.head == n.from && n.length)
  ) {
    let o = /^\s*/.exec(
      t.state.sliceDoc(n.from, Math.min(n.from + 100, n.to))
    )[0].length;
    o && e.head != n.from + o && (i = Te.cursor(n.from + o));
  }
  return i;
}
const gU = (t) => Po(t, (e) => Su(t, e, !0)),
  vU = (t) => Po(t, (e) => Su(t, e, !1)),
  yU = (t) => Po(t, (e) => Su(t, e, !Mi(t))),
  bU = (t) => Po(t, (e) => Su(t, e, Mi(t))),
  DU = (t) => Po(t, (e) => Te.cursor(t.lineBlockAt(e.head).from, 1)),
  wU = (t) => Po(t, (e) => Te.cursor(t.lineBlockAt(e.head).to, -1));
function xU(t, e, r) {
  let n = !1,
    i = kf(t.selection, (o) => {
      let s =
        ea(t, o.head, -1) ||
        ea(t, o.head, 1) ||
        (o.head > 0 && ea(t, o.head - 1, 1)) ||
        (o.head < t.doc.length && ea(t, o.head + 1, -1));
      if (!s || !s.end) return o;
      n = !0;
      let a = s.start.from == o.head ? s.end.to : s.end.from;
      return r ? Te.range(o.anchor, a) : Te.cursor(a);
    });
  return n ? (e(pa(t, i)), !0) : !1;
}
const kU = ({ state: t, dispatch: e }) => xU(t, e, !1);
function po(t, e) {
  let r = kf(t.state.selection, (n) => {
    let i = e(n);
    return Te.range(n.anchor, i.head, i.goalColumn, i.bidiLevel || void 0);
  });
  return r.eq(t.state.selection) ? !1 : (t.dispatch(pa(t.state, r)), !0);
}
function v$(t, e) {
  return po(t, (r) => t.moveByChar(r, e));
}
const y$ = (t) => v$(t, !Mi(t)),
  b$ = (t) => v$(t, Mi(t));
function D$(t, e) {
  return po(t, (r) => t.moveByGroup(r, e));
}
const SU = (t) => D$(t, !Mi(t)),
  CU = (t) => D$(t, Mi(t)),
  AU = (t) => po(t, (e) => Lv(t.state, e, !Mi(t))),
  EU = (t) => po(t, (e) => Lv(t.state, e, Mi(t)));
function w$(t, e) {
  return po(t, (r) => t.moveVertically(r, e));
}
const x$ = (t) => w$(t, !1),
  k$ = (t) => w$(t, !0);
function S$(t, e) {
  return po(t, (r) => t.moveVertically(r, e, m$(t).height));
}
const yx = (t) => S$(t, !1),
  bx = (t) => S$(t, !0),
  FU = (t) => po(t, (e) => Su(t, e, !0)),
  MU = (t) => po(t, (e) => Su(t, e, !1)),
  _U = (t) => po(t, (e) => Su(t, e, !Mi(t))),
  $U = (t) => po(t, (e) => Su(t, e, Mi(t))),
  OU = (t) => po(t, (e) => Te.cursor(t.lineBlockAt(e.head).from)),
  BU = (t) => po(t, (e) => Te.cursor(t.lineBlockAt(e.head).to)),
  Dx = ({ state: t, dispatch: e }) => (e(pa(t, { anchor: 0 })), !0),
  wx = ({ state: t, dispatch: e }) => (e(pa(t, { anchor: t.doc.length })), !0),
  xx = ({ state: t, dispatch: e }) => (
    e(pa(t, { anchor: t.selection.main.anchor, head: 0 })), !0
  ),
  kx = ({ state: t, dispatch: e }) => (
    e(pa(t, { anchor: t.selection.main.anchor, head: t.doc.length })), !0
  ),
  TU = ({ state: t, dispatch: e }) => (
    e(
      t.update({
        selection: { anchor: 0, head: t.doc.length },
        userEvent: "select",
      })
    ),
    !0
  ),
  PU = ({ state: t, dispatch: e }) => {
    let r = zv(t).map(({ from: n, to: i }) =>
      Te.range(n, Math.min(i + 1, t.doc.length))
    );
    return e(t.update({ selection: Te.create(r), userEvent: "select" })), !0;
  },
  RU = ({ state: t, dispatch: e }) => {
    let r = kf(t.selection, (n) => {
      var i;
      let o = vi(t).resolveStack(n.from, 1);
      for (let s = o; s; s = s.next) {
        let { node: a } = s;
        if (
          ((a.from < n.from && a.to >= n.to) ||
            (a.to > n.to && a.from <= n.from)) &&
          !((i = a.parent) === null || i === void 0) &&
          i.parent
        )
          return Te.range(a.to, a.from);
      }
      return n;
    });
    return e(pa(t, r)), !0;
  },
  IU = ({ state: t, dispatch: e }) => {
    let r = t.selection,
      n = null;
    return (
      r.ranges.length > 1
        ? (n = Te.create([r.main]))
        : r.main.empty || (n = Te.create([Te.cursor(r.main.head)])),
      n ? (e(pa(t, n)), !0) : !1
    );
  };
function cp(t, e) {
  if (t.state.readOnly) return !1;
  let r = "delete.selection",
    { state: n } = t,
    i = n.changeByRange((o) => {
      let { from: s, to: a } = o;
      if (s == a) {
        let l = e(o);
        l < s
          ? ((r = "delete.backward"), (l = Cm(t, l, !1)))
          : l > s && ((r = "delete.forward"), (l = Cm(t, l, !0))),
          (s = Math.min(s, l)),
          (a = Math.max(a, l));
      } else (s = Cm(t, s, !1)), (a = Cm(t, a, !0));
      return s == a
        ? { range: o }
        : {
            changes: { from: s, to: a },
            range: Te.cursor(s, s < o.head ? -1 : 1),
          };
    });
  return i.changes.empty
    ? !1
    : (t.dispatch(
        n.update(i, {
          scrollIntoView: !0,
          userEvent: r,
          effects:
            r == "delete.selection"
              ? ut.announce.of(n.phrase("Selection deleted"))
              : void 0,
        })
      ),
      !0);
}
function Cm(t, e, r) {
  if (t instanceof ut)
    for (let n of t.state.facet(ut.atomicRanges).map((i) => i(t)))
      n.between(e, e, (i, o) => {
        i < e && o > e && (e = r ? o : i);
      });
  return e;
}
const C$ = (t, e, r) =>
    cp(t, (n) => {
      let i = n.from,
        { state: o } = t,
        s = o.doc.lineAt(i),
        a,
        l;
      if (
        r &&
        !e &&
        i > s.from &&
        i < s.from + 200 &&
        !/[^ \t]/.test((a = s.text.slice(0, i - s.from)))
      ) {
        if (a[a.length - 1] == "	") return i - 1;
        let u = xf(a, o.tabSize),
          c = u % v0(o) || v0(o);
        for (let f = 0; f < c && a[a.length - 1 - f] == " "; f++) i--;
        l = i;
      } else
        (l = di(s.text, i - s.from, e, e) + s.from),
          l == i && s.number != (e ? o.doc.lines : 1)
            ? (l += e ? 1 : -1)
            : !e &&
              /[\ufe00-\ufe0f]/.test(s.text.slice(l - s.from, i - s.from)) &&
              (l = di(s.text, l - s.from, !1, !1) + s.from);
      return l;
    }),
  $5 = (t) => C$(t, !1, !0),
  A$ = (t) => C$(t, !0, !1),
  E$ = (t, e) =>
    cp(t, (r) => {
      let n = r.head,
        { state: i } = t,
        o = i.doc.lineAt(n),
        s = i.charCategorizer(n);
      for (let a = null; ; ) {
        if (n == (e ? o.to : o.from)) {
          n == r.head && o.number != (e ? i.doc.lines : 1) && (n += e ? 1 : -1);
          break;
        }
        let l = di(o.text, n - o.from, e) + o.from,
          u = o.text.slice(Math.min(n, l) - o.from, Math.max(n, l) - o.from),
          c = s(u);
        if (a != null && c != a) break;
        (u != " " || n != r.head) && (a = c), (n = l);
      }
      return n;
    }),
  F$ = (t) => E$(t, !1),
  NU = (t) => E$(t, !0),
  LU = (t) =>
    cp(t, (e) => {
      let r = t.lineBlockAt(e.head).to;
      return e.head < r ? r : Math.min(t.state.doc.length, e.head + 1);
    }),
  zU = (t) =>
    cp(t, (e) => {
      let r = t.moveToLineBoundary(e, !1).head;
      return e.head > r ? r : Math.max(0, e.head - 1);
    }),
  jU = (t) =>
    cp(t, (e) => {
      let r = t.moveToLineBoundary(e, !0).head;
      return e.head < r ? r : Math.min(t.state.doc.length, e.head + 1);
    }),
  HU = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let r = t.changeByRange((n) => ({
      changes: { from: n.from, to: n.to, insert: Er.of(["", ""]) },
      range: Te.cursor(n.from),
    }));
    return e(t.update(r, { scrollIntoView: !0, userEvent: "input" })), !0;
  },
  VU = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let r = t.changeByRange((n) => {
      if (!n.empty || n.from == 0 || n.from == t.doc.length)
        return { range: n };
      let i = n.from,
        o = t.doc.lineAt(i),
        s = i == o.from ? i - 1 : di(o.text, i - o.from, !1) + o.from,
        a = i == o.to ? i + 1 : di(o.text, i - o.from, !0) + o.from;
      return {
        changes: {
          from: s,
          to: a,
          insert: t.doc.slice(i, a).append(t.doc.slice(s, i)),
        },
        range: Te.cursor(a),
      };
    });
    return r.changes.empty
      ? !1
      : (e(t.update(r, { scrollIntoView: !0, userEvent: "move.character" })),
        !0);
  };
function zv(t) {
  let e = [],
    r = -1;
  for (let n of t.selection.ranges) {
    let i = t.doc.lineAt(n.from),
      o = t.doc.lineAt(n.to);
    if (
      (!n.empty && n.to == o.from && (o = t.doc.lineAt(n.to - 1)),
      r >= i.number)
    ) {
      let s = e[e.length - 1];
      (s.to = o.to), s.ranges.push(n);
    } else e.push({ from: i.from, to: o.to, ranges: [n] });
    r = o.number + 1;
  }
  return e;
}
function M$(t, e, r) {
  if (t.readOnly) return !1;
  let n = [],
    i = [];
  for (let o of zv(t)) {
    if (r ? o.to == t.doc.length : o.from == 0) continue;
    let s = t.doc.lineAt(r ? o.to + 1 : o.from - 1),
      a = s.length + 1;
    if (r) {
      n.push(
        { from: o.to, to: s.to },
        { from: o.from, insert: s.text + t.lineBreak }
      );
      for (let l of o.ranges)
        i.push(
          Te.range(
            Math.min(t.doc.length, l.anchor + a),
            Math.min(t.doc.length, l.head + a)
          )
        );
    } else {
      n.push(
        { from: s.from, to: o.from },
        { from: o.to, insert: t.lineBreak + s.text }
      );
      for (let l of o.ranges) i.push(Te.range(l.anchor - a, l.head - a));
    }
  }
  return n.length
    ? (e(
        t.update({
          changes: n,
          scrollIntoView: !0,
          selection: Te.create(i, t.selection.mainIndex),
          userEvent: "move.line",
        })
      ),
      !0)
    : !1;
}
const WU = ({ state: t, dispatch: e }) => M$(t, e, !1),
  qU = ({ state: t, dispatch: e }) => M$(t, e, !0);
function _$(t, e, r) {
  if (t.readOnly) return !1;
  let n = [];
  for (let i of zv(t))
    r
      ? n.push({
          from: i.from,
          insert: t.doc.slice(i.from, i.to) + t.lineBreak,
        })
      : n.push({ from: i.to, insert: t.lineBreak + t.doc.slice(i.from, i.to) });
  return (
    e(
      t.update({ changes: n, scrollIntoView: !0, userEvent: "input.copyline" })
    ),
    !0
  );
}
const UU = ({ state: t, dispatch: e }) => _$(t, e, !1),
  GU = ({ state: t, dispatch: e }) => _$(t, e, !0),
  KU = (t) => {
    if (t.state.readOnly) return !1;
    let { state: e } = t,
      r = e.changes(
        zv(e).map(
          ({ from: i, to: o }) => (
            i > 0 ? i-- : o < e.doc.length && o++, { from: i, to: o }
          )
        )
      ),
      n = kf(e.selection, (i) => {
        let o;
        if (t.lineWrapping) {
          let s = t.lineBlockAt(i.head),
            a = t.coordsAtPos(i.head, i.assoc || 1);
          a &&
            (o = s.bottom + t.documentTop - a.bottom + t.defaultLineHeight / 2);
        }
        return t.moveVertically(i, !0, o);
      }).map(r);
    return (
      t.dispatch({
        changes: r,
        selection: n,
        scrollIntoView: !0,
        userEvent: "delete.line",
      }),
      !0
    );
  };
function YU(t, e) {
  if (/\(\)|\[\]|\{\}/.test(t.sliceDoc(e - 1, e + 1)))
    return { from: e, to: e };
  let r = vi(t).resolveInner(e),
    n = r.childBefore(e),
    i = r.childAfter(e),
    o;
  return n &&
    i &&
    n.to <= e &&
    i.from >= e &&
    (o = n.type.prop(ar.closedBy)) &&
    o.indexOf(i.name) > -1 &&
    t.doc.lineAt(n.to).from == t.doc.lineAt(i.from).from &&
    !/\S/.test(t.sliceDoc(n.to, i.from))
    ? { from: n.to, to: i.from }
    : null;
}
const XU = $$(!1),
  JU = $$(!0);
function $$(t) {
  return ({ state: e, dispatch: r }) => {
    if (e.readOnly) return !1;
    let n = e.changeByRange((i) => {
      let { from: o, to: s } = i,
        a = e.doc.lineAt(o),
        l = !t && o == s && YU(e, o);
      t && (o = s = (s <= a.to ? a : e.doc.lineAt(s)).to);
      let u = new Tv(e, { simulateBreak: o, simulateDoubleBreak: !!l }),
        c = a7(u, o);
      for (
        c == null && (c = xf(/^\s*/.exec(e.doc.lineAt(o).text)[0], e.tabSize));
        s < a.to && /\s/.test(a.text[s - a.from]);

      )
        s++;
      l
        ? ({ from: o, to: s } = l)
        : o > a.from &&
          o < a.from + 100 &&
          !/\S/.test(a.text.slice(0, o)) &&
          (o = a.from);
      let f = ["", dd(e, c)];
      return (
        l && f.push(dd(e, u.lineIndent(a.from, -1))),
        {
          changes: { from: o, to: s, insert: Er.of(f) },
          range: Te.cursor(o + 1 + f[1].length),
        }
      );
    });
    return r(e.update(n, { scrollIntoView: !0, userEvent: "input" })), !0;
  };
}
function p7(t, e) {
  let r = -1;
  return t.changeByRange((n) => {
    let i = [];
    for (let s = n.from; s <= n.to; ) {
      let a = t.doc.lineAt(s);
      a.number > r &&
        (n.empty || n.to > a.from) &&
        (e(a, i, n), (r = a.number)),
        (s = a.to + 1);
    }
    let o = t.changes(i);
    return {
      changes: i,
      range: Te.range(o.mapPos(n.anchor, 1), o.mapPos(n.head, 1)),
    };
  });
}
const QU = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let r = Object.create(null),
      n = new Tv(t, {
        overrideIndentation: (o) => {
          let s = r[o];
          return s ?? -1;
        },
      }),
      i = p7(t, (o, s, a) => {
        let l = a7(n, o.from);
        if (l == null) return;
        /\S/.test(o.text) || (l = 0);
        let u = /^\s*/.exec(o.text)[0],
          c = dd(t, l);
        (u != c || a.from < o.from + u.length) &&
          ((r[o.from] = l),
          s.push({ from: o.from, to: o.from + u.length, insert: c }));
      });
    return i.changes.empty || e(t.update(i, { userEvent: "indent" })), !0;
  },
  ZU = ({ state: t, dispatch: e }) =>
    t.readOnly
      ? !1
      : (e(
          t.update(
            p7(t, (r, n) => {
              n.push({ from: r.from, insert: t.facet(o7) });
            }),
            { userEvent: "input.indent" }
          )
        ),
        !0),
  eG = ({ state: t, dispatch: e }) =>
    t.readOnly
      ? !1
      : (e(
          t.update(
            p7(t, (r, n) => {
              let i = /^\s*/.exec(r.text)[0];
              if (!i) return;
              let o = xf(i, t.tabSize),
                s = 0,
                a = dd(t, Math.max(0, o - v0(t)));
              for (
                ;
                s < i.length &&
                s < a.length &&
                i.charCodeAt(s) == a.charCodeAt(s);

              )
                s++;
              n.push({
                from: r.from + s,
                to: r.from + i.length,
                insert: a.slice(s),
              });
            }),
            { userEvent: "delete.dedent" }
          )
        ),
        !0),
  tG = [
    { key: "Ctrl-b", run: u$, shift: y$, preventDefault: !0 },
    { key: "Ctrl-f", run: c$, shift: b$ },
    { key: "Ctrl-p", run: d$, shift: x$ },
    { key: "Ctrl-n", run: p$, shift: k$ },
    { key: "Ctrl-a", run: DU, shift: OU },
    { key: "Ctrl-e", run: wU, shift: BU },
    { key: "Ctrl-d", run: A$ },
    { key: "Ctrl-h", run: $5 },
    { key: "Ctrl-k", run: LU },
    { key: "Ctrl-Alt-h", run: F$ },
    { key: "Ctrl-o", run: HU },
    { key: "Ctrl-t", run: VU },
    { key: "Ctrl-v", run: _5 },
  ],
  rG = [
    { key: "ArrowLeft", run: u$, shift: y$, preventDefault: !0 },
    {
      key: "Mod-ArrowLeft",
      mac: "Alt-ArrowLeft",
      run: fU,
      shift: SU,
      preventDefault: !0,
    },
    { mac: "Cmd-ArrowLeft", run: yU, shift: _U, preventDefault: !0 },
    { key: "ArrowRight", run: c$, shift: b$, preventDefault: !0 },
    {
      key: "Mod-ArrowRight",
      mac: "Alt-ArrowRight",
      run: hU,
      shift: CU,
      preventDefault: !0,
    },
    { mac: "Cmd-ArrowRight", run: bU, shift: $U, preventDefault: !0 },
    { key: "ArrowUp", run: d$, shift: x$, preventDefault: !0 },
    { mac: "Cmd-ArrowUp", run: Dx, shift: xx },
    { mac: "Ctrl-ArrowUp", run: vx, shift: yx },
    { key: "ArrowDown", run: p$, shift: k$, preventDefault: !0 },
    { mac: "Cmd-ArrowDown", run: wx, shift: kx },
    { mac: "Ctrl-ArrowDown", run: _5, shift: bx },
    { key: "PageUp", run: vx, shift: yx },
    { key: "PageDown", run: _5, shift: bx },
    { key: "Home", run: vU, shift: MU, preventDefault: !0 },
    { key: "Mod-Home", run: Dx, shift: xx },
    { key: "End", run: gU, shift: FU, preventDefault: !0 },
    { key: "Mod-End", run: wx, shift: kx },
    { key: "Enter", run: XU },
    { key: "Mod-a", run: TU },
    { key: "Backspace", run: $5, shift: $5 },
    { key: "Delete", run: A$ },
    { key: "Mod-Backspace", mac: "Alt-Backspace", run: F$ },
    { key: "Mod-Delete", mac: "Alt-Delete", run: NU },
    { mac: "Mod-Backspace", run: zU },
    { mac: "Mod-Delete", run: jU },
  ].concat(tG.map((t) => ({ mac: t.key, run: t.run, shift: t.shift }))),
  nG = [
    { key: "Alt-ArrowLeft", mac: "Ctrl-ArrowLeft", run: pU, shift: AU },
    { key: "Alt-ArrowRight", mac: "Ctrl-ArrowRight", run: mU, shift: EU },
    { key: "Alt-ArrowUp", run: WU },
    { key: "Shift-Alt-ArrowUp", run: UU },
    { key: "Alt-ArrowDown", run: qU },
    { key: "Shift-Alt-ArrowDown", run: GU },
    { key: "Escape", run: IU },
    { key: "Mod-Enter", run: JU },
    { key: "Alt-l", mac: "Ctrl-l", run: PU },
    { key: "Mod-i", run: RU, preventDefault: !0 },
    { key: "Mod-[", run: eG },
    { key: "Mod-]", run: ZU },
    { key: "Mod-Alt-\\", run: QU },
    { key: "Shift-Mod-k", run: KU },
    { key: "Shift-Mod-\\", run: kU },
    { key: "Mod-/", run: Uq },
    { key: "Alt-A", run: Kq },
  ].concat(rG);
function Hr() {
  var t = arguments[0];
  typeof t == "string" && (t = document.createElement(t));
  var e = 1,
    r = arguments[1];
  if (r && typeof r == "object" && r.nodeType == null && !Array.isArray(r)) {
    for (var n in r)
      if (Object.prototype.hasOwnProperty.call(r, n)) {
        var i = r[n];
        typeof i == "string" ? t.setAttribute(n, i) : i != null && (t[n] = i);
      }
    e++;
  }
  for (; e < arguments.length; e++) O$(t, arguments[e]);
  return t;
}
function O$(t, e) {
  if (typeof e == "string") t.appendChild(document.createTextNode(e));
  else if (e != null)
    if (e.nodeType != null) t.appendChild(e);
    else if (Array.isArray(e)) for (var r = 0; r < e.length; r++) O$(t, e[r]);
    else throw new RangeError("Unsupported child node: " + e);
}
const Sx =
  typeof String.prototype.normalize == "function"
    ? (t) => t.normalize("NFKD")
    : (t) => t;
class af {
  constructor(e, r, n = 0, i = e.length, o, s) {
    (this.test = s),
      (this.value = { from: 0, to: 0 }),
      (this.done = !1),
      (this.matches = []),
      (this.buffer = ""),
      (this.bufferPos = 0),
      (this.iter = e.iterRange(n, i)),
      (this.bufferStart = n),
      (this.normalize = o ? (a) => o(Sx(a)) : Sx),
      (this.query = this.normalize(r));
  }
  peek() {
    if (this.bufferPos == this.buffer.length) {
      if (
        ((this.bufferStart += this.buffer.length),
        this.iter.next(),
        this.iter.done)
      )
        return -1;
      (this.bufferPos = 0), (this.buffer = this.iter.value);
    }
    return ci(this.buffer, this.bufferPos);
  }
  next() {
    for (; this.matches.length; ) this.matches.pop();
    return this.nextOverlapping();
  }
  nextOverlapping() {
    for (;;) {
      let e = this.peek();
      if (e < 0) return (this.done = !0), this;
      let r = U8(e),
        n = this.bufferStart + this.bufferPos;
      this.bufferPos += Us(e);
      let i = this.normalize(r);
      for (let o = 0, s = n; ; o++) {
        let a = i.charCodeAt(o),
          l = this.match(a, s, this.bufferPos + this.bufferStart);
        if (o == i.length - 1) {
          if (l) return (this.value = l), this;
          break;
        }
        s == n && o < r.length && r.charCodeAt(o) == a && s++;
      }
    }
  }
  match(e, r, n) {
    let i = null;
    for (let o = 0; o < this.matches.length; o += 2) {
      let s = this.matches[o],
        a = !1;
      this.query.charCodeAt(s) == e &&
        (s == this.query.length - 1
          ? (i = { from: this.matches[o + 1], to: n })
          : (this.matches[o]++, (a = !0))),
        a || (this.matches.splice(o, 2), (o -= 2));
    }
    return (
      this.query.charCodeAt(0) == e &&
        (this.query.length == 1
          ? (i = { from: r, to: n })
          : this.matches.push(1, r)),
      i &&
        this.test &&
        !this.test(i.from, i.to, this.buffer, this.bufferStart) &&
        (i = null),
      i
    );
  }
}
typeof Symbol < "u" &&
  (af.prototype[Symbol.iterator] = function () {
    return this;
  });
const B$ = { from: -1, to: -1, match: /.*/.exec("") },
  m7 = "gm" + (/x/.unicode == null ? "" : "u");
class T$ {
  constructor(e, r, n, i = 0, o = e.length) {
    if (
      ((this.text = e),
      (this.to = o),
      (this.curLine = ""),
      (this.done = !1),
      (this.value = B$),
      /\\[sWDnr]|\n|\r|\[\^/.test(r))
    )
      return new P$(e, r, n, i, o);
    (this.re = new RegExp(r, m7 + (n != null && n.ignoreCase ? "i" : ""))),
      (this.test = n == null ? void 0 : n.test),
      (this.iter = e.iter());
    let s = e.lineAt(i);
    (this.curLineStart = s.from),
      (this.matchPos = x1(e, i)),
      this.getLine(this.curLineStart);
  }
  getLine(e) {
    this.iter.next(e),
      this.iter.lineBreak
        ? (this.curLine = "")
        : ((this.curLine = this.iter.value),
          this.curLineStart + this.curLine.length > this.to &&
            (this.curLine = this.curLine.slice(0, this.to - this.curLineStart)),
          this.iter.next());
  }
  nextLine() {
    (this.curLineStart = this.curLineStart + this.curLine.length + 1),
      this.curLineStart > this.to ? (this.curLine = "") : this.getLine(0);
  }
  next() {
    for (let e = this.matchPos - this.curLineStart; ; ) {
      this.re.lastIndex = e;
      let r = this.matchPos <= this.to && this.re.exec(this.curLine);
      if (r) {
        let n = this.curLineStart + r.index,
          i = n + r[0].length;
        if (
          ((this.matchPos = x1(this.text, i + (n == i ? 1 : 0))),
          n == this.curLineStart + this.curLine.length && this.nextLine(),
          (n < i || n > this.value.to) && (!this.test || this.test(n, i, r)))
        )
          return (this.value = { from: n, to: i, match: r }), this;
        e = this.matchPos - this.curLineStart;
      } else if (this.curLineStart + this.curLine.length < this.to)
        this.nextLine(), (e = 0);
      else return (this.done = !0), this;
    }
  }
}
const q4 = new WeakMap();
class Pc {
  constructor(e, r) {
    (this.from = e), (this.text = r);
  }
  get to() {
    return this.from + this.text.length;
  }
  static get(e, r, n) {
    let i = q4.get(e);
    if (!i || i.from >= n || i.to <= r) {
      let a = new Pc(r, e.sliceString(r, n));
      return q4.set(e, a), a;
    }
    if (i.from == r && i.to == n) return i;
    let { text: o, from: s } = i;
    return (
      s > r && ((o = e.sliceString(r, s) + o), (s = r)),
      i.to < n && (o += e.sliceString(i.to, n)),
      q4.set(e, new Pc(s, o)),
      new Pc(r, o.slice(r - s, n - s))
    );
  }
}
class P$ {
  constructor(e, r, n, i, o) {
    (this.text = e),
      (this.to = o),
      (this.done = !1),
      (this.value = B$),
      (this.matchPos = x1(e, i)),
      (this.re = new RegExp(r, m7 + (n != null && n.ignoreCase ? "i" : ""))),
      (this.test = n == null ? void 0 : n.test),
      (this.flat = Pc.get(e, i, this.chunkEnd(i + 5e3)));
  }
  chunkEnd(e) {
    return e >= this.to ? this.to : this.text.lineAt(e).to;
  }
  next() {
    for (;;) {
      let e = (this.re.lastIndex = this.matchPos - this.flat.from),
        r = this.re.exec(this.flat.text);
      if (
        (r &&
          !r[0] &&
          r.index == e &&
          ((this.re.lastIndex = e + 1), (r = this.re.exec(this.flat.text))),
        r)
      ) {
        let n = this.flat.from + r.index,
          i = n + r[0].length;
        if (
          (this.flat.to >= this.to ||
            r.index + r[0].length <= this.flat.text.length - 10) &&
          (!this.test || this.test(n, i, r))
        )
          return (
            (this.value = { from: n, to: i, match: r }),
            (this.matchPos = x1(this.text, i + (n == i ? 1 : 0))),
            this
          );
      }
      if (this.flat.to == this.to) return (this.done = !0), this;
      this.flat = Pc.get(
        this.text,
        this.flat.from,
        this.chunkEnd(this.flat.from + this.flat.text.length * 2)
      );
    }
  }
}
typeof Symbol < "u" &&
  (T$.prototype[Symbol.iterator] = P$.prototype[Symbol.iterator] =
    function () {
      return this;
    });
function iG(t) {
  try {
    return new RegExp(t, m7), !0;
  } catch {
    return !1;
  }
}
function x1(t, e) {
  if (e >= t.length) return e;
  let r = t.lineAt(e),
    n;
  for (
    ;
    e < r.to && (n = r.text.charCodeAt(e - r.from)) >= 56320 && n < 57344;

  )
    e++;
  return e;
}
function O5(t) {
  let e = String(t.state.doc.lineAt(t.state.selection.main.head).number),
    r = Hr("input", { class: "cm-textfield", name: "line", value: e }),
    n = Hr(
      "form",
      {
        class: "cm-gotoLine",
        onkeydown: (o) => {
          o.keyCode == 27
            ? (o.preventDefault(),
              t.dispatch({ effects: k1.of(!1) }),
              t.focus())
            : o.keyCode == 13 && (o.preventDefault(), i());
        },
        onsubmit: (o) => {
          o.preventDefault(), i();
        },
      },
      Hr("label", t.state.phrase("Go to line"), ": ", r),
      " ",
      Hr("button", { class: "cm-button", type: "submit" }, t.state.phrase("go"))
    );
  function i() {
    let o = /^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);
    if (!o) return;
    let { state: s } = t,
      a = s.doc.lineAt(s.selection.main.head),
      [, l, u, c, f] = o,
      h = c ? +c.slice(1) : 0,
      d = u ? +u : a.number;
    if (u && f) {
      let b = d / 100;
      l && (b = b * (l == "-" ? -1 : 1) + a.number / s.doc.lines),
        (d = Math.round(s.doc.lines * b));
    } else u && l && (d = d * (l == "-" ? -1 : 1) + a.number);
    let p = s.doc.line(Math.max(1, Math.min(s.doc.lines, d))),
      m = Te.cursor(p.from + Math.max(0, Math.min(h, p.length)));
    t.dispatch({
      effects: [k1.of(!1), ut.scrollIntoView(m.from, { y: "center" })],
      selection: m,
    }),
      t.focus();
  }
  return { dom: n };
}
const k1 = Qt.define(),
  Cx = ri.define({
    create() {
      return !0;
    },
    update(t, e) {
      for (let r of e.effects) r.is(k1) && (t = r.value);
      return t;
    },
    provide: (t) => hd.from(t, (e) => (e ? O5 : null)),
  }),
  sG = (t) => {
    let e = fd(t, O5);
    if (!e) {
      let r = [k1.of(!0)];
      t.state.field(Cx, !1) == null && r.push(Qt.appendConfig.of([Cx, oG])),
        t.dispatch({ effects: r }),
        (e = fd(t, O5));
    }
    return e && e.dom.querySelector("input").select(), !0;
  },
  oG = ut.baseTheme({
    ".cm-panel.cm-gotoLine": {
      padding: "2px 6px 4px",
      "& label": { fontSize: "80%" },
    },
  }),
  aG = {
    highlightWordAroundCursor: !1,
    minSelectionLength: 1,
    maxMatches: 100,
    wholeWords: !1,
  },
  R$ = vt.define({
    combine(t) {
      return da(t, aG, {
        highlightWordAroundCursor: (e, r) => e || r,
        minSelectionLength: Math.min,
        maxMatches: Math.min,
      });
    },
  });
function lG(t) {
  let e = [dG, hG];
  return t && e.push(R$.of(t)), e;
}
const uG = Pt.mark({ class: "cm-selectionMatch" }),
  cG = Pt.mark({ class: "cm-selectionMatch cm-selectionMatch-main" });
function Ax(t, e, r, n) {
  return (
    (r == 0 || t(e.sliceDoc(r - 1, r)) != tn.Word) &&
    (n == e.doc.length || t(e.sliceDoc(n, n + 1)) != tn.Word)
  );
}
function fG(t, e, r, n) {
  return (
    t(e.sliceDoc(r, r + 1)) == tn.Word && t(e.sliceDoc(n - 1, n)) == tn.Word
  );
}
const hG = Cn.fromClass(
    class {
      constructor(t) {
        this.decorations = this.getDeco(t);
      }
      update(t) {
        (t.selectionSet || t.docChanged || t.viewportChanged) &&
          (this.decorations = this.getDeco(t.view));
      }
      getDeco(t) {
        let e = t.state.facet(R$),
          { state: r } = t,
          n = r.selection;
        if (n.ranges.length > 1) return Pt.none;
        let i = n.main,
          o,
          s = null;
        if (i.empty) {
          if (!e.highlightWordAroundCursor) return Pt.none;
          let l = r.wordAt(i.head);
          if (!l) return Pt.none;
          (s = r.charCategorizer(i.head)), (o = r.sliceDoc(l.from, l.to));
        } else {
          let l = i.to - i.from;
          if (l < e.minSelectionLength || l > 200) return Pt.none;
          if (e.wholeWords) {
            if (
              ((o = r.sliceDoc(i.from, i.to)),
              (s = r.charCategorizer(i.head)),
              !(Ax(s, r, i.from, i.to) && fG(s, r, i.from, i.to)))
            )
              return Pt.none;
          } else if (((o = r.sliceDoc(i.from, i.to)), !o)) return Pt.none;
        }
        let a = [];
        for (let l of t.visibleRanges) {
          let u = new af(r.doc, o, l.from, l.to);
          for (; !u.next().done; ) {
            let { from: c, to: f } = u.value;
            if (
              (!s || Ax(s, r, c, f)) &&
              (i.empty && c <= i.from && f >= i.to
                ? a.push(cG.range(c, f))
                : (c >= i.to || f <= i.from) && a.push(uG.range(c, f)),
              a.length > e.maxMatches)
            )
              return Pt.none;
          }
        }
        return Pt.set(a);
      }
    },
    { decorations: (t) => t.decorations }
  ),
  dG = ut.baseTheme({
    ".cm-selectionMatch": { backgroundColor: "#99ff7780" },
    ".cm-searchMatch .cm-selectionMatch": { backgroundColor: "transparent" },
  }),
  pG = ({ state: t, dispatch: e }) => {
    let { selection: r } = t,
      n = Te.create(
        r.ranges.map((i) => t.wordAt(i.head) || Te.cursor(i.head)),
        r.mainIndex
      );
    return n.eq(r) ? !1 : (e(t.update({ selection: n })), !0);
  };
function mG(t, e) {
  let { main: r, ranges: n } = t.selection,
    i = t.wordAt(r.head),
    o = i && i.from == r.from && i.to == r.to;
  for (let s = !1, a = new af(t.doc, e, n[n.length - 1].to); ; )
    if ((a.next(), a.done)) {
      if (s) return null;
      (a = new af(t.doc, e, 0, Math.max(0, n[n.length - 1].from - 1))),
        (s = !0);
    } else {
      if (s && n.some((l) => l.from == a.value.from)) continue;
      if (o) {
        let l = t.wordAt(a.value.from);
        if (!l || l.from != a.value.from || l.to != a.value.to) continue;
      }
      return a.value;
    }
}
const gG = ({ state: t, dispatch: e }) => {
    let { ranges: r } = t.selection;
    if (r.some((o) => o.from === o.to)) return pG({ state: t, dispatch: e });
    let n = t.sliceDoc(r[0].from, r[0].to);
    if (t.selection.ranges.some((o) => t.sliceDoc(o.from, o.to) != n))
      return !1;
    let i = mG(t, n);
    return i
      ? (e(
          t.update({
            selection: t.selection.addRange(Te.range(i.from, i.to), !1),
            effects: ut.scrollIntoView(i.to),
          })
        ),
        !0)
      : !1;
  },
  Sf = vt.define({
    combine(t) {
      return da(t, {
        top: !1,
        caseSensitive: !1,
        literal: !1,
        regexp: !1,
        wholeWord: !1,
        createPanel: (e) => new FG(e),
        scrollToMatch: (e) => ut.scrollIntoView(e),
      });
    },
  });
class I$ {
  constructor(e) {
    (this.search = e.search),
      (this.caseSensitive = !!e.caseSensitive),
      (this.literal = !!e.literal),
      (this.regexp = !!e.regexp),
      (this.replace = e.replace || ""),
      (this.valid = !!this.search && (!this.regexp || iG(this.search))),
      (this.unquoted = this.unquote(this.search)),
      (this.wholeWord = !!e.wholeWord);
  }
  unquote(e) {
    return this.literal
      ? e
      : e.replace(/\\([nrt\\])/g, (r, n) =>
          n == "n"
            ? `
`
            : n == "r"
              ? "\r"
              : n == "t"
                ? "	"
                : "\\"
        );
  }
  eq(e) {
    return (
      this.search == e.search &&
      this.replace == e.replace &&
      this.caseSensitive == e.caseSensitive &&
      this.regexp == e.regexp &&
      this.wholeWord == e.wholeWord
    );
  }
  create() {
    return this.regexp ? new DG(this) : new yG(this);
  }
  getCursor(e, r = 0, n) {
    let i = e.doc ? e : sr.create({ doc: e });
    return (
      n == null && (n = i.doc.length),
      this.regexp ? Q0(this, i, r, n) : J0(this, i, r, n)
    );
  }
}
class N$ {
  constructor(e) {
    this.spec = e;
  }
}
function J0(t, e, r, n) {
  return new af(
    e.doc,
    t.unquoted,
    r,
    n,
    t.caseSensitive ? void 0 : (i) => i.toLowerCase(),
    t.wholeWord ? vG(e.doc, e.charCategorizer(e.selection.main.head)) : void 0
  );
}
function vG(t, e) {
  return (r, n, i, o) => (
    (o > r || o + i.length < n) &&
      ((o = Math.max(0, r - 2)),
      (i = t.sliceString(o, Math.min(t.length, n + 2)))),
    (e(S1(i, r - o)) != tn.Word || e(C1(i, r - o)) != tn.Word) &&
      (e(C1(i, n - o)) != tn.Word || e(S1(i, n - o)) != tn.Word)
  );
}
class yG extends N$ {
  constructor(e) {
    super(e);
  }
  nextMatch(e, r, n) {
    let i = J0(this.spec, e, n, e.doc.length).nextOverlapping();
    return (
      i.done && (i = J0(this.spec, e, 0, r).nextOverlapping()),
      i.done ? null : i.value
    );
  }
  prevMatchInRange(e, r, n) {
    for (let i = n; ; ) {
      let o = Math.max(r, i - 1e4 - this.spec.unquoted.length),
        s = J0(this.spec, e, o, i),
        a = null;
      for (; !s.nextOverlapping().done; ) a = s.value;
      if (a) return a;
      if (o == r) return null;
      i -= 1e4;
    }
  }
  prevMatch(e, r, n) {
    return (
      this.prevMatchInRange(e, 0, r) ||
      this.prevMatchInRange(e, n, e.doc.length)
    );
  }
  getReplacement(e) {
    return this.spec.unquote(this.spec.replace);
  }
  matchAll(e, r) {
    let n = J0(this.spec, e, 0, e.doc.length),
      i = [];
    for (; !n.next().done; ) {
      if (i.length >= r) return null;
      i.push(n.value);
    }
    return i;
  }
  highlight(e, r, n, i) {
    let o = J0(
      this.spec,
      e,
      Math.max(0, r - this.spec.unquoted.length),
      Math.min(n + this.spec.unquoted.length, e.doc.length)
    );
    for (; !o.next().done; ) i(o.value.from, o.value.to);
  }
}
function Q0(t, e, r, n) {
  return new T$(
    e.doc,
    t.search,
    {
      ignoreCase: !t.caseSensitive,
      test: t.wholeWord ? bG(e.charCategorizer(e.selection.main.head)) : void 0,
    },
    r,
    n
  );
}
function S1(t, e) {
  return t.slice(di(t, e, !1), e);
}
function C1(t, e) {
  return t.slice(e, di(t, e));
}
function bG(t) {
  return (e, r, n) =>
    !n[0].length ||
    ((t(S1(n.input, n.index)) != tn.Word ||
      t(C1(n.input, n.index)) != tn.Word) &&
      (t(C1(n.input, n.index + n[0].length)) != tn.Word ||
        t(S1(n.input, n.index + n[0].length)) != tn.Word));
}
class DG extends N$ {
  nextMatch(e, r, n) {
    let i = Q0(this.spec, e, n, e.doc.length).next();
    return (
      i.done && (i = Q0(this.spec, e, 0, r).next()), i.done ? null : i.value
    );
  }
  prevMatchInRange(e, r, n) {
    for (let i = 1; ; i++) {
      let o = Math.max(r, n - i * 1e4),
        s = Q0(this.spec, e, o, n),
        a = null;
      for (; !s.next().done; ) a = s.value;
      if (a && (o == r || a.from > o + 10)) return a;
      if (o == r) return null;
    }
  }
  prevMatch(e, r, n) {
    return (
      this.prevMatchInRange(e, 0, r) ||
      this.prevMatchInRange(e, n, e.doc.length)
    );
  }
  getReplacement(e) {
    return this.spec
      .unquote(this.spec.replace)
      .replace(/\$([$&\d+])/g, (r, n) =>
        n == "$"
          ? "$"
          : n == "&"
            ? e.match[0]
            : n != "0" && +n < e.match.length
              ? e.match[n]
              : r
      );
  }
  matchAll(e, r) {
    let n = Q0(this.spec, e, 0, e.doc.length),
      i = [];
    for (; !n.next().done; ) {
      if (i.length >= r) return null;
      i.push(n.value);
    }
    return i;
  }
  highlight(e, r, n, i) {
    let o = Q0(
      this.spec,
      e,
      Math.max(0, r - 250),
      Math.min(n + 250, e.doc.length)
    );
    for (; !o.next().done; ) i(o.value.from, o.value.to);
  }
}
const md = Qt.define(),
  g7 = Qt.define(),
  Jl = ri.define({
    create(t) {
      return new U4(B5(t).create(), null);
    },
    update(t, e) {
      for (let r of e.effects)
        r.is(md)
          ? (t = new U4(r.value.create(), t.panel))
          : r.is(g7) && (t = new U4(t.query, r.value ? v7 : null));
      return t;
    },
    provide: (t) => hd.from(t, (e) => e.panel),
  });
class U4 {
  constructor(e, r) {
    (this.query = e), (this.panel = r);
  }
}
const wG = Pt.mark({ class: "cm-searchMatch" }),
  xG = Pt.mark({ class: "cm-searchMatch cm-searchMatch-selected" }),
  kG = Cn.fromClass(
    class {
      constructor(t) {
        (this.view = t), (this.decorations = this.highlight(t.state.field(Jl)));
      }
      update(t) {
        let e = t.state.field(Jl);
        (e != t.startState.field(Jl) ||
          t.docChanged ||
          t.selectionSet ||
          t.viewportChanged) &&
          (this.decorations = this.highlight(e));
      }
      highlight({ query: t, panel: e }) {
        if (!e || !t.spec.valid) return Pt.none;
        let { view: r } = this,
          n = new Ua();
        for (let i = 0, o = r.visibleRanges, s = o.length; i < s; i++) {
          let { from: a, to: l } = o[i];
          for (; i < s - 1 && l > o[i + 1].from - 2 * 250; ) l = o[++i].to;
          t.highlight(r.state, a, l, (u, c) => {
            let f = r.state.selection.ranges.some(
              (h) => h.from == u && h.to == c
            );
            n.add(u, c, f ? xG : wG);
          });
        }
        return n.finish();
      }
    },
    { decorations: (t) => t.decorations }
  );
function fp(t) {
  return (e) => {
    let r = e.state.field(Jl, !1);
    return r && r.query.spec.valid ? t(e, r) : j$(e);
  };
}
const A1 = fp((t, { query: e }) => {
    let { to: r } = t.state.selection.main,
      n = e.nextMatch(t.state, r, r);
    if (!n) return !1;
    let i = Te.single(n.from, n.to),
      o = t.state.facet(Sf);
    return (
      t.dispatch({
        selection: i,
        effects: [y7(t, n), o.scrollToMatch(i.main, t)],
        userEvent: "select.search",
      }),
      z$(t),
      !0
    );
  }),
  E1 = fp((t, { query: e }) => {
    let { state: r } = t,
      { from: n } = r.selection.main,
      i = e.prevMatch(r, n, n);
    if (!i) return !1;
    let o = Te.single(i.from, i.to),
      s = t.state.facet(Sf);
    return (
      t.dispatch({
        selection: o,
        effects: [y7(t, i), s.scrollToMatch(o.main, t)],
        userEvent: "select.search",
      }),
      z$(t),
      !0
    );
  }),
  SG = fp((t, { query: e }) => {
    let r = e.matchAll(t.state, 1e3);
    return !r || !r.length
      ? !1
      : (t.dispatch({
          selection: Te.create(r.map((n) => Te.range(n.from, n.to))),
          userEvent: "select.search.matches",
        }),
        !0);
  }),
  CG = ({ state: t, dispatch: e }) => {
    let r = t.selection;
    if (r.ranges.length > 1 || r.main.empty) return !1;
    let { from: n, to: i } = r.main,
      o = [],
      s = 0;
    for (let a = new af(t.doc, t.sliceDoc(n, i)); !a.next().done; ) {
      if (o.length > 1e3) return !1;
      a.value.from == n && (s = o.length),
        o.push(Te.range(a.value.from, a.value.to));
    }
    return (
      e(
        t.update({
          selection: Te.create(o, s),
          userEvent: "select.search.matches",
        })
      ),
      !0
    );
  },
  Ex = fp((t, { query: e }) => {
    let { state: r } = t,
      { from: n, to: i } = r.selection.main;
    if (r.readOnly) return !1;
    let o = e.nextMatch(r, n, n);
    if (!o) return !1;
    let s = [],
      a,
      l,
      u = [];
    if (
      (o.from == n &&
        o.to == i &&
        ((l = r.toText(e.getReplacement(o))),
        s.push({ from: o.from, to: o.to, insert: l }),
        (o = e.nextMatch(r, o.from, o.to)),
        u.push(
          ut.announce.of(
            r.phrase("replaced match on line $", r.doc.lineAt(n).number) + "."
          )
        )),
      o)
    ) {
      let c = s.length == 0 || s[0].from >= o.to ? 0 : o.to - o.from - l.length;
      (a = Te.single(o.from - c, o.to - c)),
        u.push(y7(t, o)),
        u.push(r.facet(Sf).scrollToMatch(a.main, t));
    }
    return (
      t.dispatch({
        changes: s,
        selection: a,
        effects: u,
        userEvent: "input.replace",
      }),
      !0
    );
  }),
  AG = fp((t, { query: e }) => {
    if (t.state.readOnly) return !1;
    let r = e.matchAll(t.state, 1e9).map((i) => {
      let { from: o, to: s } = i;
      return { from: o, to: s, insert: e.getReplacement(i) };
    });
    if (!r.length) return !1;
    let n = t.state.phrase("replaced $ matches", r.length) + ".";
    return (
      t.dispatch({
        changes: r,
        effects: ut.announce.of(n),
        userEvent: "input.replace.all",
      }),
      !0
    );
  });
function v7(t) {
  return t.state.facet(Sf).createPanel(t);
}
function B5(t, e) {
  var r, n, i, o, s;
  let a = t.selection.main,
    l = a.empty || a.to > a.from + 100 ? "" : t.sliceDoc(a.from, a.to);
  if (e && !l) return e;
  let u = t.facet(Sf);
  return new I$({
    search: (
      (r = e == null ? void 0 : e.literal) !== null && r !== void 0
        ? r
        : u.literal
    )
      ? l
      : l.replace(/\n/g, "\\n"),
    caseSensitive:
      (n = e == null ? void 0 : e.caseSensitive) !== null && n !== void 0
        ? n
        : u.caseSensitive,
    literal:
      (i = e == null ? void 0 : e.literal) !== null && i !== void 0
        ? i
        : u.literal,
    regexp:
      (o = e == null ? void 0 : e.regexp) !== null && o !== void 0
        ? o
        : u.regexp,
    wholeWord:
      (s = e == null ? void 0 : e.wholeWord) !== null && s !== void 0
        ? s
        : u.wholeWord,
  });
}
function L$(t) {
  let e = fd(t, v7);
  return e && e.dom.querySelector("[main-field]");
}
function z$(t) {
  let e = L$(t);
  e && e == t.root.activeElement && e.select();
}
const j$ = (t) => {
    let e = t.state.field(Jl, !1);
    if (e && e.panel) {
      let r = L$(t);
      if (r && r != t.root.activeElement) {
        let n = B5(t.state, e.query.spec);
        n.valid && t.dispatch({ effects: md.of(n) }), r.focus(), r.select();
      }
    } else
      t.dispatch({
        effects: [
          g7.of(!0),
          e ? md.of(B5(t.state, e.query.spec)) : Qt.appendConfig.of(_G),
        ],
      });
    return !0;
  },
  H$ = (t) => {
    let e = t.state.field(Jl, !1);
    if (!e || !e.panel) return !1;
    let r = fd(t, v7);
    return (
      r && r.dom.contains(t.root.activeElement) && t.focus(),
      t.dispatch({ effects: g7.of(!1) }),
      !0
    );
  },
  EG = [
    { key: "Mod-f", run: j$, scope: "editor search-panel" },
    {
      key: "F3",
      run: A1,
      shift: E1,
      scope: "editor search-panel",
      preventDefault: !0,
    },
    {
      key: "Mod-g",
      run: A1,
      shift: E1,
      scope: "editor search-panel",
      preventDefault: !0,
    },
    { key: "Escape", run: H$, scope: "editor search-panel" },
    { key: "Mod-Shift-l", run: CG },
    { key: "Mod-Alt-g", run: sG },
    { key: "Mod-d", run: gG, preventDefault: !0 },
  ];
class FG {
  constructor(e) {
    this.view = e;
    let r = (this.query = e.state.field(Jl).query.spec);
    (this.commit = this.commit.bind(this)),
      (this.searchField = Hr("input", {
        value: r.search,
        placeholder: cs(e, "Find"),
        "aria-label": cs(e, "Find"),
        class: "cm-textfield",
        name: "search",
        form: "",
        "main-field": "true",
        onchange: this.commit,
        onkeyup: this.commit,
      })),
      (this.replaceField = Hr("input", {
        value: r.replace,
        placeholder: cs(e, "Replace"),
        "aria-label": cs(e, "Replace"),
        class: "cm-textfield",
        name: "replace",
        form: "",
        onchange: this.commit,
        onkeyup: this.commit,
      })),
      (this.caseField = Hr("input", {
        type: "checkbox",
        name: "case",
        form: "",
        checked: r.caseSensitive,
        onchange: this.commit,
      })),
      (this.reField = Hr("input", {
        type: "checkbox",
        name: "re",
        form: "",
        checked: r.regexp,
        onchange: this.commit,
      })),
      (this.wordField = Hr("input", {
        type: "checkbox",
        name: "word",
        form: "",
        checked: r.wholeWord,
        onchange: this.commit,
      }));
    function n(i, o, s) {
      return Hr(
        "button",
        { class: "cm-button", name: i, onclick: o, type: "button" },
        s
      );
    }
    this.dom = Hr(
      "div",
      { onkeydown: (i) => this.keydown(i), class: "cm-search" },
      [
        this.searchField,
        n("next", () => A1(e), [cs(e, "next")]),
        n("prev", () => E1(e), [cs(e, "previous")]),
        n("select", () => SG(e), [cs(e, "all")]),
        Hr("label", null, [this.caseField, cs(e, "match case")]),
        Hr("label", null, [this.reField, cs(e, "regexp")]),
        Hr("label", null, [this.wordField, cs(e, "by word")]),
        ...(e.state.readOnly
          ? []
          : [
              Hr("br"),
              this.replaceField,
              n("replace", () => Ex(e), [cs(e, "replace")]),
              n("replaceAll", () => AG(e), [cs(e, "replace all")]),
            ]),
        Hr(
          "button",
          {
            name: "close",
            onclick: () => H$(e),
            "aria-label": cs(e, "close"),
            type: "button",
          },
          ["×"]
        ),
      ]
    );
  }
  commit() {
    let e = new I$({
      search: this.searchField.value,
      caseSensitive: this.caseField.checked,
      regexp: this.reField.checked,
      wholeWord: this.wordField.checked,
      replace: this.replaceField.value,
    });
    e.eq(this.query) ||
      ((this.query = e), this.view.dispatch({ effects: md.of(e) }));
  }
  keydown(e) {
    VV(this.view, e, "search-panel")
      ? e.preventDefault()
      : e.keyCode == 13 && e.target == this.searchField
        ? (e.preventDefault(), (e.shiftKey ? E1 : A1)(this.view))
        : e.keyCode == 13 &&
          e.target == this.replaceField &&
          (e.preventDefault(), Ex(this.view));
  }
  update(e) {
    for (let r of e.transactions)
      for (let n of r.effects)
        n.is(md) && !n.value.eq(this.query) && this.setQuery(n.value);
  }
  setQuery(e) {
    (this.query = e),
      (this.searchField.value = e.search),
      (this.replaceField.value = e.replace),
      (this.caseField.checked = e.caseSensitive),
      (this.reField.checked = e.regexp),
      (this.wordField.checked = e.wholeWord);
  }
  mount() {
    this.searchField.select();
  }
  get pos() {
    return 80;
  }
  get top() {
    return this.view.state.facet(Sf).top;
  }
}
function cs(t, e) {
  return t.state.phrase(e);
}
const Am = 30,
  Em = /[\s\.,:;?!]/;
function y7(t, { from: e, to: r }) {
  let n = t.state.doc.lineAt(e),
    i = t.state.doc.lineAt(r).to,
    o = Math.max(n.from, e - Am),
    s = Math.min(i, r + Am),
    a = t.state.sliceDoc(o, s);
  if (o != n.from) {
    for (let l = 0; l < Am; l++)
      if (!Em.test(a[l + 1]) && Em.test(a[l])) {
        a = a.slice(l);
        break;
      }
  }
  if (s != i) {
    for (let l = a.length - 1; l > a.length - Am; l--)
      if (!Em.test(a[l - 1]) && Em.test(a[l])) {
        a = a.slice(0, l);
        break;
      }
  }
  return ut.announce.of(
    `${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${n.number}.`
  );
}
const MG = ut.baseTheme({
    ".cm-panel.cm-search": {
      padding: "2px 6px 4px",
      position: "relative",
      "& [name=close]": {
        position: "absolute",
        top: "0",
        right: "4px",
        backgroundColor: "inherit",
        border: "none",
        font: "inherit",
        padding: 0,
        margin: 0,
      },
      "& input, & button, & label": { margin: ".2em .6em .2em 0" },
      "& input[type=checkbox]": { marginRight: ".2em" },
      "& label": { fontSize: "80%", whiteSpace: "pre" },
    },
    "&light .cm-searchMatch": { backgroundColor: "#ffff0054" },
    "&dark .cm-searchMatch": { backgroundColor: "#00ffff8a" },
    "&light .cm-searchMatch-selected": { backgroundColor: "#ff6a0054" },
    "&dark .cm-searchMatch-selected": { backgroundColor: "#ff00ff8a" },
  }),
  _G = [Jl, E0.low(kG), MG];
class V$ {
  constructor(e, r, n) {
    (this.state = e),
      (this.pos = r),
      (this.explicit = n),
      (this.abortListeners = []);
  }
  tokenBefore(e) {
    let r = vi(this.state).resolveInner(this.pos, -1);
    for (; r && e.indexOf(r.name) < 0; ) r = r.parent;
    return r
      ? {
          from: r.from,
          to: this.pos,
          text: this.state.sliceDoc(r.from, this.pos),
          type: r.type,
        }
      : null;
  }
  matchBefore(e) {
    let r = this.state.doc.lineAt(this.pos),
      n = Math.max(r.from, this.pos - 250),
      i = r.text.slice(n - r.from, this.pos - r.from),
      o = i.search(W$(e, !1));
    return o < 0 ? null : { from: n + o, to: this.pos, text: i.slice(o) };
  }
  get aborted() {
    return this.abortListeners == null;
  }
  addEventListener(e, r) {
    e == "abort" && this.abortListeners && this.abortListeners.push(r);
  }
}
function Fx(t) {
  let e = Object.keys(t).join(""),
    r = /\w/.test(e);
  return (
    r && (e = e.replace(/\w/g, "")),
    `[${r ? "\\w" : ""}${e.replace(/[^\w\s]/g, "\\$&")}]`
  );
}
function $G(t) {
  let e = Object.create(null),
    r = Object.create(null);
  for (let { label: i } of t) {
    e[i[0]] = !0;
    for (let o = 1; o < i.length; o++) r[i[o]] = !0;
  }
  let n = Fx(e) + Fx(r) + "*$";
  return [new RegExp("^" + n), new RegExp(n)];
}
function OG(t) {
  let e = t.map((i) => (typeof i == "string" ? { label: i } : i)),
    [r, n] = e.every((i) => /^\w+$/.test(i.label)) ? [/\w*$/, /\w+$/] : $G(e);
  return (i) => {
    let o = i.matchBefore(n);
    return o || i.explicit
      ? { from: o ? o.from : i.pos, options: e, validFor: r }
      : null;
  };
}
class Mx {
  constructor(e, r, n, i) {
    (this.completion = e),
      (this.source = r),
      (this.match = n),
      (this.score = i);
  }
}
function Ql(t) {
  return t.selection.main.from;
}
function W$(t, e) {
  var r;
  let { source: n } = t,
    i = e && n[0] != "^",
    o = n[n.length - 1] != "$";
  return !i && !o
    ? t
    : new RegExp(
        `${i ? "^" : ""}(?:${n})${o ? "$" : ""}`,
        (r = t.flags) !== null && r !== void 0 ? r : t.ignoreCase ? "i" : ""
      );
}
const q$ = nl.define();
function BG(t, e, r, n) {
  let { main: i } = t.selection,
    o = r - i.from,
    s = n - i.from;
  return Object.assign(
    Object.assign(
      {},
      t.changeByRange((a) =>
        a != i &&
        r != n &&
        t.sliceDoc(a.from + o, a.from + s) != t.sliceDoc(r, n)
          ? { range: a }
          : {
              changes: {
                from: a.from + o,
                to: n == i.from ? a.to : a.from + s,
                insert: e,
              },
              range: Te.cursor(a.from + o + e.length),
            }
      )
    ),
    { scrollIntoView: !0, userEvent: "input.complete" }
  );
}
const _x = new WeakMap();
function TG(t) {
  if (!Array.isArray(t)) return t;
  let e = _x.get(t);
  return e || _x.set(t, (e = OG(t))), e;
}
const F1 = Qt.define(),
  gd = Qt.define();
class PG {
  constructor(e) {
    (this.pattern = e),
      (this.chars = []),
      (this.folded = []),
      (this.any = []),
      (this.precise = []),
      (this.byWord = []),
      (this.score = 0),
      (this.matched = []);
    for (let r = 0; r < e.length; ) {
      let n = ci(e, r),
        i = Us(n);
      this.chars.push(n);
      let o = e.slice(r, r + i),
        s = o.toUpperCase();
      this.folded.push(ci(s == o ? o.toLowerCase() : s, 0)), (r += i);
    }
    this.astral = e.length != this.chars.length;
  }
  ret(e, r) {
    return (this.score = e), (this.matched = r), this;
  }
  match(e) {
    if (this.pattern.length == 0) return this.ret(-100, []);
    if (e.length < this.pattern.length) return null;
    let { chars: r, folded: n, any: i, precise: o, byWord: s } = this;
    if (r.length == 1) {
      let k = ci(e, 0),
        S = Us(k),
        B = S == e.length ? 0 : -100;
      if (k != r[0])
        if (k == n[0]) B += -200;
        else return null;
      return this.ret(B, [0, S]);
    }
    let a = e.indexOf(this.pattern);
    if (a == 0)
      return this.ret(e.length == this.pattern.length ? 0 : -100, [
        0,
        this.pattern.length,
      ]);
    let l = r.length,
      u = 0;
    if (a < 0) {
      for (let k = 0, S = Math.min(e.length, 200); k < S && u < l; ) {
        let B = ci(e, k);
        (B == r[u] || B == n[u]) && (i[u++] = k), (k += Us(B));
      }
      if (u < l) return null;
    }
    let c = 0,
      f = 0,
      h = !1,
      d = 0,
      p = -1,
      m = -1,
      b = /[a-z]/.test(e),
      D = !0;
    for (let k = 0, S = Math.min(e.length, 200), B = 0; k < S && f < l; ) {
      let $ = ci(e, k);
      a < 0 &&
        (c < l && $ == r[c] && (o[c++] = k),
        d < l &&
          ($ == r[d] || $ == n[d]
            ? (d == 0 && (p = k), (m = k + 1), d++)
            : (d = 0)));
      let T,
        P =
          $ < 255
            ? ($ >= 48 && $ <= 57) || ($ >= 97 && $ <= 122)
              ? 2
              : $ >= 65 && $ <= 90
                ? 1
                : 0
            : (T = U8($)) != T.toLowerCase()
              ? 1
              : T != T.toUpperCase()
                ? 2
                : 0;
      (!k || (P == 1 && b) || (B == 0 && P != 0)) &&
        (r[f] == $ || (n[f] == $ && (h = !0))
          ? (s[f++] = k)
          : s.length && (D = !1)),
        (B = P),
        (k += Us($));
    }
    return f == l && s[0] == 0 && D
      ? this.result(-100 + (h ? -200 : 0), s, e)
      : d == l && p == 0
        ? this.ret(-200 - e.length + (m == e.length ? 0 : -100), [0, m])
        : a > -1
          ? this.ret(-700 - e.length, [a, a + this.pattern.length])
          : d == l
            ? this.ret(-900 - e.length, [p, m])
            : f == l
              ? this.result(
                  -100 + (h ? -200 : 0) + -700 + (D ? 0 : -1100),
                  s,
                  e
                )
              : r.length == 2
                ? null
                : this.result((i[0] ? -700 : 0) + -200 + -1100, i, e);
  }
  result(e, r, n) {
    let i = [],
      o = 0;
    for (let s of r) {
      let a = s + (this.astral ? Us(ci(n, s)) : 1);
      o && i[o - 1] == s ? (i[o - 1] = a) : ((i[o++] = s), (i[o++] = a));
    }
    return this.ret(e - n.length, i);
  }
}
class RG {
  constructor(e) {
    (this.pattern = e),
      (this.matched = []),
      (this.score = 0),
      (this.folded = e.toLowerCase());
  }
  match(e) {
    if (e.length < this.pattern.length) return null;
    let r = e.slice(0, this.pattern.length),
      n = r == this.pattern ? 0 : r.toLowerCase() == this.folded ? -200 : null;
    return n == null
      ? null
      : ((this.matched = [0, r.length]),
        (this.score = n + (e.length == this.pattern.length ? 0 : -100)),
        this);
  }
}
const hi = vt.define({
  combine(t) {
    return da(
      t,
      {
        activateOnTyping: !0,
        activateOnCompletion: () => !1,
        activateOnTypingDelay: 100,
        selectOnOpen: !0,
        override: null,
        closeOnBlur: !0,
        maxRenderedOptions: 100,
        defaultKeymap: !0,
        tooltipClass: () => "",
        optionClass: () => "",
        aboveCursor: !1,
        icons: !0,
        addToOptions: [],
        positionInfo: IG,
        filterStrict: !1,
        compareCompletions: (e, r) => e.label.localeCompare(r.label),
        interactionDelay: 75,
        updateSyncTime: 100,
      },
      {
        defaultKeymap: (e, r) => e && r,
        closeOnBlur: (e, r) => e && r,
        icons: (e, r) => e && r,
        tooltipClass: (e, r) => (n) => $x(e(n), r(n)),
        optionClass: (e, r) => (n) => $x(e(n), r(n)),
        addToOptions: (e, r) => e.concat(r),
        filterStrict: (e, r) => e || r,
      }
    );
  },
});
function $x(t, e) {
  return t ? (e ? t + " " + e : t) : e;
}
function IG(t, e, r, n, i, o) {
  let s = t.textDirection == Jr.RTL,
    a = s,
    l = !1,
    u = "top",
    c,
    f,
    h = e.left - i.left,
    d = i.right - e.right,
    p = n.right - n.left,
    m = n.bottom - n.top;
  if (
    (a && h < Math.min(p, d) ? (a = !1) : !a && d < Math.min(p, h) && (a = !0),
    p <= (a ? h : d))
  )
    (c = Math.max(i.top, Math.min(r.top, i.bottom - m)) - e.top),
      (f = Math.min(400, a ? h : d));
  else {
    (l = !0), (f = Math.min(400, (s ? e.right : i.right - e.left) - 30));
    let k = i.bottom - e.bottom;
    k >= m || k > e.top
      ? (c = r.bottom - e.top)
      : ((u = "bottom"), (c = e.bottom - r.top));
  }
  let b = (e.bottom - e.top) / o.offsetHeight,
    D = (e.right - e.left) / o.offsetWidth;
  return {
    style: `${u}: ${c / b}px; max-width: ${f / D}px`,
    class:
      "cm-completionInfo-" +
      (l ? (s ? "left-narrow" : "right-narrow") : a ? "left" : "right"),
  };
}
function NG(t) {
  let e = t.addToOptions.slice();
  return (
    t.icons &&
      e.push({
        render(r) {
          let n = document.createElement("div");
          return (
            n.classList.add("cm-completionIcon"),
            r.type &&
              n.classList.add(
                ...r.type.split(/\s+/g).map((i) => "cm-completionIcon-" + i)
              ),
            n.setAttribute("aria-hidden", "true"),
            n
          );
        },
        position: 20,
      }),
    e.push(
      {
        render(r, n, i, o) {
          let s = document.createElement("span");
          s.className = "cm-completionLabel";
          let a = r.displayLabel || r.label,
            l = 0;
          for (let u = 0; u < o.length; ) {
            let c = o[u++],
              f = o[u++];
            c > l && s.appendChild(document.createTextNode(a.slice(l, c)));
            let h = s.appendChild(document.createElement("span"));
            h.appendChild(document.createTextNode(a.slice(c, f))),
              (h.className = "cm-completionMatchedText"),
              (l = f);
          }
          return (
            l < a.length && s.appendChild(document.createTextNode(a.slice(l))),
            s
          );
        },
        position: 50,
      },
      {
        render(r) {
          if (!r.detail) return null;
          let n = document.createElement("span");
          return (
            (n.className = "cm-completionDetail"), (n.textContent = r.detail), n
          );
        },
        position: 80,
      }
    ),
    e.sort((r, n) => r.position - n.position).map((r) => r.render)
  );
}
function G4(t, e, r) {
  if (t <= r) return { from: 0, to: t };
  if ((e < 0 && (e = 0), e <= t >> 1)) {
    let i = Math.floor(e / r);
    return { from: i * r, to: (i + 1) * r };
  }
  let n = Math.floor((t - e) / r);
  return { from: t - (n + 1) * r, to: t - n * r };
}
class LG {
  constructor(e, r, n) {
    (this.view = e),
      (this.stateField = r),
      (this.applyCompletion = n),
      (this.info = null),
      (this.infoDestroy = null),
      (this.placeInfoReq = {
        read: () => this.measureInfo(),
        write: (l) => this.placeInfo(l),
        key: this,
      }),
      (this.space = null),
      (this.currentClass = "");
    let i = e.state.field(r),
      { options: o, selected: s } = i.open,
      a = e.state.facet(hi);
    (this.optionContent = NG(a)),
      (this.optionClass = a.optionClass),
      (this.tooltipClass = a.tooltipClass),
      (this.range = G4(o.length, s, a.maxRenderedOptions)),
      (this.dom = document.createElement("div")),
      (this.dom.className = "cm-tooltip-autocomplete"),
      this.updateTooltipClass(e.state),
      this.dom.addEventListener("mousedown", (l) => {
        let { options: u } = e.state.field(r).open;
        for (let c = l.target, f; c && c != this.dom; c = c.parentNode)
          if (
            c.nodeName == "LI" &&
            (f = /-(\d+)$/.exec(c.id)) &&
            +f[1] < u.length
          ) {
            this.applyCompletion(e, u[+f[1]]), l.preventDefault();
            return;
          }
      }),
      this.dom.addEventListener("focusout", (l) => {
        let u = e.state.field(this.stateField, !1);
        u &&
          u.tooltip &&
          e.state.facet(hi).closeOnBlur &&
          l.relatedTarget != e.contentDOM &&
          e.dispatch({ effects: gd.of(null) });
      }),
      this.showOptions(o, i.id);
  }
  mount() {
    this.updateSel();
  }
  showOptions(e, r) {
    this.list && this.list.remove(),
      (this.list = this.dom.appendChild(this.createListBox(e, r, this.range))),
      this.list.addEventListener("scroll", () => {
        this.info && this.view.requestMeasure(this.placeInfoReq);
      });
  }
  update(e) {
    var r;
    let n = e.state.field(this.stateField),
      i = e.startState.field(this.stateField);
    if ((this.updateTooltipClass(e.state), n != i)) {
      let { options: o, selected: s, disabled: a } = n.open;
      (!i.open || i.open.options != o) &&
        ((this.range = G4(o.length, s, e.state.facet(hi).maxRenderedOptions)),
        this.showOptions(o, n.id)),
        this.updateSel(),
        a != ((r = i.open) === null || r === void 0 ? void 0 : r.disabled) &&
          this.dom.classList.toggle("cm-tooltip-autocomplete-disabled", !!a);
    }
  }
  updateTooltipClass(e) {
    let r = this.tooltipClass(e);
    if (r != this.currentClass) {
      for (let n of this.currentClass.split(" "))
        n && this.dom.classList.remove(n);
      for (let n of r.split(" ")) n && this.dom.classList.add(n);
      this.currentClass = r;
    }
  }
  positioned(e) {
    (this.space = e), this.info && this.view.requestMeasure(this.placeInfoReq);
  }
  updateSel() {
    let e = this.view.state.field(this.stateField),
      r = e.open;
    if (
      (((r.selected > -1 && r.selected < this.range.from) ||
        r.selected >= this.range.to) &&
        ((this.range = G4(
          r.options.length,
          r.selected,
          this.view.state.facet(hi).maxRenderedOptions
        )),
        this.showOptions(r.options, e.id)),
      this.updateSelectedOption(r.selected))
    ) {
      this.destroyInfo();
      let { completion: n } = r.options[r.selected],
        { info: i } = n;
      if (!i) return;
      let o = typeof i == "string" ? document.createTextNode(i) : i(n);
      if (!o) return;
      "then" in o
        ? o
            .then((s) => {
              s &&
                this.view.state.field(this.stateField, !1) == e &&
                this.addInfoPane(s, n);
            })
            .catch((s) => ts(this.view.state, s, "completion info"))
        : this.addInfoPane(o, n);
    }
  }
  addInfoPane(e, r) {
    this.destroyInfo();
    let n = (this.info = document.createElement("div"));
    if (((n.className = "cm-tooltip cm-completionInfo"), e.nodeType != null))
      n.appendChild(e), (this.infoDestroy = null);
    else {
      let { dom: i, destroy: o } = e;
      n.appendChild(i), (this.infoDestroy = o || null);
    }
    this.dom.appendChild(n), this.view.requestMeasure(this.placeInfoReq);
  }
  updateSelectedOption(e) {
    let r = null;
    for (
      let n = this.list.firstChild, i = this.range.from;
      n;
      n = n.nextSibling, i++
    )
      n.nodeName != "LI" || !n.id
        ? i--
        : i == e
          ? n.hasAttribute("aria-selected") ||
            (n.setAttribute("aria-selected", "true"), (r = n))
          : n.hasAttribute("aria-selected") &&
            n.removeAttribute("aria-selected");
    return r && jG(this.list, r), r;
  }
  measureInfo() {
    let e = this.dom.querySelector("[aria-selected]");
    if (!e || !this.info) return null;
    let r = this.dom.getBoundingClientRect(),
      n = this.info.getBoundingClientRect(),
      i = e.getBoundingClientRect(),
      o = this.space;
    if (!o) {
      let s = this.dom.ownerDocument.defaultView || window;
      o = { left: 0, top: 0, right: s.innerWidth, bottom: s.innerHeight };
    }
    return i.top > Math.min(o.bottom, r.bottom) - 10 ||
      i.bottom < Math.max(o.top, r.top) + 10
      ? null
      : this.view.state.facet(hi).positionInfo(this.view, r, i, n, o, this.dom);
  }
  placeInfo(e) {
    this.info &&
      (e
        ? (e.style && (this.info.style.cssText = e.style),
          (this.info.className =
            "cm-tooltip cm-completionInfo " + (e.class || "")))
        : (this.info.style.cssText = "top: -1e6px"));
  }
  createListBox(e, r, n) {
    const i = document.createElement("ul");
    (i.id = r),
      i.setAttribute("role", "listbox"),
      i.setAttribute("aria-expanded", "true"),
      i.setAttribute("aria-label", this.view.state.phrase("Completions"));
    let o = null;
    for (let s = n.from; s < n.to; s++) {
      let { completion: a, match: l } = e[s],
        { section: u } = a;
      if (u) {
        let h = typeof u == "string" ? u : u.name;
        if (h != o && (s > n.from || n.from == 0))
          if (((o = h), typeof u != "string" && u.header))
            i.appendChild(u.header(u));
          else {
            let d = i.appendChild(document.createElement("completion-section"));
            d.textContent = h;
          }
      }
      const c = i.appendChild(document.createElement("li"));
      (c.id = r + "-" + s), c.setAttribute("role", "option");
      let f = this.optionClass(a);
      f && (c.className = f);
      for (let h of this.optionContent) {
        let d = h(a, this.view.state, this.view, l);
        d && c.appendChild(d);
      }
    }
    return (
      n.from && i.classList.add("cm-completionListIncompleteTop"),
      n.to < e.length && i.classList.add("cm-completionListIncompleteBottom"),
      i
    );
  }
  destroyInfo() {
    this.info &&
      (this.infoDestroy && this.infoDestroy(),
      this.info.remove(),
      (this.info = null));
  }
  destroy() {
    this.destroyInfo();
  }
}
function zG(t, e) {
  return (r) => new LG(r, t, e);
}
function jG(t, e) {
  let r = t.getBoundingClientRect(),
    n = e.getBoundingClientRect(),
    i = r.height / t.offsetHeight;
  n.top < r.top
    ? (t.scrollTop -= (r.top - n.top) / i)
    : n.bottom > r.bottom && (t.scrollTop += (n.bottom - r.bottom) / i);
}
function Ox(t) {
  return (
    (t.boost || 0) * 100 +
    (t.apply ? 10 : 0) +
    (t.info ? 5 : 0) +
    (t.type ? 1 : 0)
  );
}
function HG(t, e) {
  let r = [],
    n = null,
    i = (u) => {
      r.push(u);
      let { section: c } = u.completion;
      if (c) {
        n || (n = []);
        let f = typeof c == "string" ? c : c.name;
        n.some((h) => h.name == f) ||
          n.push(typeof c == "string" ? { name: f } : c);
      }
    },
    o = e.facet(hi);
  for (let u of t)
    if (u.hasResult()) {
      let c = u.result.getMatch;
      if (u.result.filter === !1)
        for (let f of u.result.options)
          i(new Mx(f, u.source, c ? c(f) : [], 1e9 - r.length));
      else {
        let f = e.sliceDoc(u.from, u.to),
          h,
          d = o.filterStrict ? new RG(f) : new PG(f);
        for (let p of u.result.options)
          if ((h = d.match(p.label))) {
            let m = p.displayLabel ? (c ? c(p, h.matched) : []) : h.matched;
            i(new Mx(p, u.source, m, h.score + (p.boost || 0)));
          }
      }
    }
  if (n) {
    let u = Object.create(null),
      c = 0,
      f = (h, d) => {
        var p, m;
        return (
          ((p = h.rank) !== null && p !== void 0 ? p : 1e9) -
            ((m = d.rank) !== null && m !== void 0 ? m : 1e9) ||
          (h.name < d.name ? -1 : 1)
        );
      };
    for (let h of n.sort(f)) (c -= 1e5), (u[h.name] = c);
    for (let h of r) {
      let { section: d } = h.completion;
      d && (h.score += u[typeof d == "string" ? d : d.name]);
    }
  }
  let s = [],
    a = null,
    l = o.compareCompletions;
  for (let u of r.sort(
    (c, f) => f.score - c.score || l(c.completion, f.completion)
  )) {
    let c = u.completion;
    !a ||
    a.label != c.label ||
    a.detail != c.detail ||
    (a.type != null && c.type != null && a.type != c.type) ||
    a.apply != c.apply ||
    a.boost != c.boost
      ? s.push(u)
      : Ox(u.completion) > Ox(a) && (s[s.length - 1] = u),
      (a = u.completion);
  }
  return s;
}
class bc {
  constructor(e, r, n, i, o, s) {
    (this.options = e),
      (this.attrs = r),
      (this.tooltip = n),
      (this.timestamp = i),
      (this.selected = o),
      (this.disabled = s);
  }
  setSelected(e, r) {
    return e == this.selected || e >= this.options.length
      ? this
      : new bc(
          this.options,
          Bx(r, e),
          this.tooltip,
          this.timestamp,
          e,
          this.disabled
        );
  }
  static build(e, r, n, i, o) {
    let s = HG(e, r);
    if (!s.length)
      return i && e.some((l) => l.state == 1)
        ? new bc(i.options, i.attrs, i.tooltip, i.timestamp, i.selected, !0)
        : null;
    let a = r.facet(hi).selectOnOpen ? 0 : -1;
    if (i && i.selected != a && i.selected != -1) {
      let l = i.options[i.selected].completion;
      for (let u = 0; u < s.length; u++)
        if (s[u].completion == l) {
          a = u;
          break;
        }
    }
    return new bc(
      s,
      Bx(n, a),
      {
        pos: e.reduce((l, u) => (u.hasResult() ? Math.min(l, u.from) : l), 1e8),
        create: GG,
        above: o.aboveCursor,
      },
      i ? i.timestamp : Date.now(),
      a,
      !1
    );
  }
  map(e) {
    return new bc(
      this.options,
      this.attrs,
      Object.assign(Object.assign({}, this.tooltip), {
        pos: e.mapPos(this.tooltip.pos),
      }),
      this.timestamp,
      this.selected,
      this.disabled
    );
  }
}
class M1 {
  constructor(e, r, n) {
    (this.active = e), (this.id = r), (this.open = n);
  }
  static start() {
    return new M1(
      qG,
      "cm-ac-" + Math.floor(Math.random() * 2e6).toString(36),
      null
    );
  }
  update(e) {
    let { state: r } = e,
      n = r.facet(hi),
      o = (n.override || r.languageDataAt("autocomplete", Ql(r)).map(TG)).map(
        (a) =>
          (
            this.active.find((u) => u.source == a) ||
            new Ti(a, this.active.some((u) => u.state != 0) ? 1 : 0)
          ).update(e, n)
      );
    o.length == this.active.length &&
      o.every((a, l) => a == this.active[l]) &&
      (o = this.active);
    let s = this.open;
    s && e.docChanged && (s = s.map(e.changes)),
      e.selection ||
      o.some((a) => a.hasResult() && e.changes.touchesRange(a.from, a.to)) ||
      !VG(o, this.active)
        ? (s = bc.build(o, r, this.id, s, n))
        : s && s.disabled && !o.some((a) => a.state == 1) && (s = null),
      !s &&
        o.every((a) => a.state != 1) &&
        o.some((a) => a.hasResult()) &&
        (o = o.map((a) => (a.hasResult() ? new Ti(a.source, 0) : a)));
    for (let a of e.effects)
      a.is(G$) && (s = s && s.setSelected(a.value, this.id));
    return o == this.active && s == this.open ? this : new M1(o, this.id, s);
  }
  get tooltip() {
    return this.open ? this.open.tooltip : null;
  }
  get attrs() {
    return this.open ? this.open.attrs : WG;
  }
}
function VG(t, e) {
  if (t == e) return !0;
  for (let r = 0, n = 0; ; ) {
    for (; r < t.length && !t[r].hasResult; ) r++;
    for (; n < e.length && !e[n].hasResult; ) n++;
    let i = r == t.length,
      o = n == e.length;
    if (i || o) return i == o;
    if (t[r++].result != e[n++].result) return !1;
  }
}
const WG = { "aria-autocomplete": "list" };
function Bx(t, e) {
  let r = {
    "aria-autocomplete": "list",
    "aria-haspopup": "listbox",
    "aria-controls": t,
  };
  return e > -1 && (r["aria-activedescendant"] = t + "-" + e), r;
}
const qG = [];
function T5(t, e) {
  if (t.isUserEvent("input.complete")) {
    let r = t.annotation(q$);
    if (r && e.activateOnCompletion(r)) return "input";
  }
  return t.isUserEvent("input.type")
    ? "input"
    : t.isUserEvent("delete.backward")
      ? "delete"
      : null;
}
class Ti {
  constructor(e, r, n = -1) {
    (this.source = e), (this.state = r), (this.explicitPos = n);
  }
  hasResult() {
    return !1;
  }
  update(e, r) {
    let n = T5(e, r),
      i = this;
    n
      ? (i = i.handleUserEvent(e, n, r))
      : e.docChanged
        ? (i = i.handleChange(e))
        : e.selection && i.state != 0 && (i = new Ti(i.source, 0));
    for (let o of e.effects)
      if (o.is(F1)) i = new Ti(i.source, 1, o.value ? Ql(e.state) : -1);
      else if (o.is(gd)) i = new Ti(i.source, 0);
      else if (o.is(U$)) for (let s of o.value) s.source == i.source && (i = s);
    return i;
  }
  handleUserEvent(e, r, n) {
    return r == "delete" || !n.activateOnTyping
      ? this.map(e.changes)
      : new Ti(this.source, 1);
  }
  handleChange(e) {
    return e.changes.touchesRange(Ql(e.startState))
      ? new Ti(this.source, 0)
      : this.map(e.changes);
  }
  map(e) {
    return e.empty || this.explicitPos < 0
      ? this
      : new Ti(this.source, this.state, e.mapPos(this.explicitPos));
  }
}
class Rc extends Ti {
  constructor(e, r, n, i, o) {
    super(e, 2, r), (this.result = n), (this.from = i), (this.to = o);
  }
  hasResult() {
    return !0;
  }
  handleUserEvent(e, r, n) {
    var i;
    let o = this.result;
    o.map && !e.changes.empty && (o = o.map(o, e.changes));
    let s = e.changes.mapPos(this.from),
      a = e.changes.mapPos(this.to, 1),
      l = Ql(e.state);
    if (
      (this.explicitPos < 0 ? l <= s : l < this.from) ||
      l > a ||
      !o ||
      (r == "delete" && Ql(e.startState) == this.from)
    )
      return new Ti(this.source, r == "input" && n.activateOnTyping ? 1 : 0);
    let u = this.explicitPos < 0 ? -1 : e.changes.mapPos(this.explicitPos);
    return UG(o.validFor, e.state, s, a)
      ? new Rc(this.source, u, o, s, a)
      : o.update && (o = o.update(o, s, a, new V$(e.state, l, u >= 0)))
        ? new Rc(
            this.source,
            u,
            o,
            o.from,
            (i = o.to) !== null && i !== void 0 ? i : Ql(e.state)
          )
        : new Ti(this.source, 1, u);
  }
  handleChange(e) {
    return e.changes.touchesRange(this.from, this.to)
      ? new Ti(this.source, 0)
      : this.map(e.changes);
  }
  map(e) {
    return e.empty
      ? this
      : (this.result.map ? this.result.map(this.result, e) : this.result)
        ? new Rc(
            this.source,
            this.explicitPos < 0 ? -1 : e.mapPos(this.explicitPos),
            this.result,
            e.mapPos(this.from),
            e.mapPos(this.to, 1)
          )
        : new Ti(this.source, 0);
  }
}
function UG(t, e, r, n) {
  if (!t) return !1;
  let i = e.sliceDoc(r, n);
  return typeof t == "function" ? t(i, r, n, e) : W$(t, !0).test(i);
}
const U$ = Qt.define({
    map(t, e) {
      return t.map((r) => r.map(e));
    },
  }),
  G$ = Qt.define(),
  Zi = ri.define({
    create() {
      return M1.start();
    },
    update(t, e) {
      return t.update(e);
    },
    provide: (t) => [
      s7.from(t, (e) => e.tooltip),
      ut.contentAttributes.from(t, (e) => e.attrs),
    ],
  });
function b7(t, e) {
  const r = e.completion.apply || e.completion.label;
  let n = t.state.field(Zi).active.find((i) => i.source == e.source);
  return n instanceof Rc
    ? (typeof r == "string"
        ? t.dispatch(
            Object.assign(Object.assign({}, BG(t.state, r, n.from, n.to)), {
              annotations: q$.of(e.completion),
            })
          )
        : r(t, e.completion, n.from, n.to),
      !0)
    : !1;
}
const GG = zG(Zi, b7);
function Fm(t, e = "option") {
  return (r) => {
    let n = r.state.field(Zi, !1);
    if (
      !n ||
      !n.open ||
      n.open.disabled ||
      Date.now() - n.open.timestamp < r.state.facet(hi).interactionDelay
    )
      return !1;
    let i = 1,
      o;
    e == "page" &&
      (o = F_(r, n.open.tooltip)) &&
      (i = Math.max(
        2,
        Math.floor(
          o.dom.offsetHeight / o.dom.querySelector("li").offsetHeight
        ) - 1
      ));
    let { length: s } = n.open.options,
      a =
        n.open.selected > -1
          ? n.open.selected + i * (t ? 1 : -1)
          : t
            ? 0
            : s - 1;
    return (
      a < 0
        ? (a = e == "page" ? 0 : s - 1)
        : a >= s && (a = e == "page" ? s - 1 : 0),
      r.dispatch({ effects: G$.of(a) }),
      !0
    );
  };
}
const KG = (t) => {
    let e = t.state.field(Zi, !1);
    return t.state.readOnly ||
      !e ||
      !e.open ||
      e.open.selected < 0 ||
      e.open.disabled ||
      Date.now() - e.open.timestamp < t.state.facet(hi).interactionDelay
      ? !1
      : b7(t, e.open.options[e.open.selected]);
  },
  YG = (t) =>
    t.state.field(Zi, !1) ? (t.dispatch({ effects: F1.of(!0) }), !0) : !1,
  XG = (t) => {
    let e = t.state.field(Zi, !1);
    return !e || !e.active.some((r) => r.state != 0)
      ? !1
      : (t.dispatch({ effects: gd.of(null) }), !0);
  };
class JG {
  constructor(e, r) {
    (this.active = e),
      (this.context = r),
      (this.time = Date.now()),
      (this.updates = []),
      (this.done = void 0);
  }
}
const QG = 50,
  ZG = 1e3,
  eK = Cn.fromClass(
    class {
      constructor(t) {
        (this.view = t),
          (this.debounceUpdate = -1),
          (this.running = []),
          (this.debounceAccept = -1),
          (this.pendingStart = !1),
          (this.composing = 0);
        for (let e of t.state.field(Zi).active)
          e.state == 1 && this.startQuery(e);
      }
      update(t) {
        let e = t.state.field(Zi),
          r = t.state.facet(hi);
        if (!t.selectionSet && !t.docChanged && t.startState.field(Zi) == e)
          return;
        let n = t.transactions.some(
          (o) => (o.selection || o.docChanged) && !T5(o, r)
        );
        for (let o = 0; o < this.running.length; o++) {
          let s = this.running[o];
          if (
            n ||
            (s.updates.length + t.transactions.length > QG &&
              Date.now() - s.time > ZG)
          ) {
            for (let a of s.context.abortListeners)
              try {
                a();
              } catch (l) {
                ts(this.view.state, l);
              }
            (s.context.abortListeners = null), this.running.splice(o--, 1);
          } else s.updates.push(...t.transactions);
        }
        this.debounceUpdate > -1 && clearTimeout(this.debounceUpdate),
          t.transactions.some((o) => o.effects.some((s) => s.is(F1))) &&
            (this.pendingStart = !0);
        let i = this.pendingStart ? 50 : r.activateOnTypingDelay;
        if (
          ((this.debounceUpdate = e.active.some(
            (o) =>
              o.state == 1 &&
              !this.running.some((s) => s.active.source == o.source)
          )
            ? setTimeout(() => this.startUpdate(), i)
            : -1),
          this.composing != 0)
        )
          for (let o of t.transactions)
            T5(o, r) == "input"
              ? (this.composing = 2)
              : this.composing == 2 && o.selection && (this.composing = 3);
      }
      startUpdate() {
        (this.debounceUpdate = -1), (this.pendingStart = !1);
        let { state: t } = this.view,
          e = t.field(Zi);
        for (let r of e.active)
          r.state == 1 &&
            !this.running.some((n) => n.active.source == r.source) &&
            this.startQuery(r);
      }
      startQuery(t) {
        let { state: e } = this.view,
          r = Ql(e),
          n = new V$(e, r, t.explicitPos == r),
          i = new JG(t, n);
        this.running.push(i),
          Promise.resolve(t.source(n)).then(
            (o) => {
              i.context.aborted ||
                ((i.done = o || null), this.scheduleAccept());
            },
            (o) => {
              this.view.dispatch({ effects: gd.of(null) }),
                ts(this.view.state, o);
            }
          );
      }
      scheduleAccept() {
        this.running.every((t) => t.done !== void 0)
          ? this.accept()
          : this.debounceAccept < 0 &&
            (this.debounceAccept = setTimeout(
              () => this.accept(),
              this.view.state.facet(hi).updateSyncTime
            ));
      }
      accept() {
        var t;
        this.debounceAccept > -1 && clearTimeout(this.debounceAccept),
          (this.debounceAccept = -1);
        let e = [],
          r = this.view.state.facet(hi);
        for (let n = 0; n < this.running.length; n++) {
          let i = this.running[n];
          if (i.done === void 0) continue;
          if ((this.running.splice(n--, 1), i.done)) {
            let s = new Rc(
              i.active.source,
              i.active.explicitPos,
              i.done,
              i.done.from,
              (t = i.done.to) !== null && t !== void 0
                ? t
                : Ql(
                    i.updates.length ? i.updates[0].startState : this.view.state
                  )
            );
            for (let a of i.updates) s = s.update(a, r);
            if (s.hasResult()) {
              e.push(s);
              continue;
            }
          }
          let o = this.view.state
            .field(Zi)
            .active.find((s) => s.source == i.active.source);
          if (o && o.state == 1)
            if (i.done == null) {
              let s = new Ti(i.active.source, 0);
              for (let a of i.updates) s = s.update(a, r);
              s.state != 1 && e.push(s);
            } else this.startQuery(o);
        }
        e.length && this.view.dispatch({ effects: U$.of(e) });
      }
    },
    {
      eventHandlers: {
        blur(t) {
          let e = this.view.state.field(Zi, !1);
          if (e && e.tooltip && this.view.state.facet(hi).closeOnBlur) {
            let r = e.open && F_(this.view, e.open.tooltip);
            (!r || !r.dom.contains(t.relatedTarget)) &&
              setTimeout(
                () => this.view.dispatch({ effects: gd.of(null) }),
                10
              );
          }
        },
        compositionstart() {
          this.composing = 1;
        },
        compositionend() {
          this.composing == 3 &&
            setTimeout(() => this.view.dispatch({ effects: F1.of(!1) }), 20),
            (this.composing = 0);
        },
      },
    }
  ),
  tK = typeof navigator == "object" && /Win/.test(navigator.platform),
  rK = E0.highest(
    ut.domEventHandlers({
      keydown(t, e) {
        let r = e.state.field(Zi, !1);
        if (
          !r ||
          !r.open ||
          r.open.disabled ||
          r.open.selected < 0 ||
          t.key.length > 1 ||
          (t.ctrlKey && !(tK && t.altKey)) ||
          t.metaKey
        )
          return !1;
        let n = r.open.options[r.open.selected],
          i = r.active.find((s) => s.source == n.source),
          o = n.completion.commitCharacters || i.result.commitCharacters;
        return o && o.indexOf(t.key) > -1 && b7(e, n), !1;
      },
    })
  ),
  nK = ut.baseTheme({
    ".cm-tooltip.cm-tooltip-autocomplete": {
      "& > ul": {
        fontFamily: "monospace",
        whiteSpace: "nowrap",
        overflow: "hidden auto",
        maxWidth_fallback: "700px",
        maxWidth: "min(700px, 95vw)",
        minWidth: "250px",
        maxHeight: "10em",
        height: "100%",
        listStyle: "none",
        margin: 0,
        padding: 0,
        "& > li, & > completion-section": {
          padding: "1px 3px",
          lineHeight: 1.2,
        },
        "& > li": {
          overflowX: "hidden",
          textOverflow: "ellipsis",
          cursor: "pointer",
        },
        "& > completion-section": {
          display: "list-item",
          borderBottom: "1px solid silver",
          paddingLeft: "0.5em",
          opacity: 0.7,
        },
      },
    },
    "&light .cm-tooltip-autocomplete ul li[aria-selected]": {
      background: "#17c",
      color: "white",
    },
    "&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
      background: "#777",
    },
    "&dark .cm-tooltip-autocomplete ul li[aria-selected]": {
      background: "#347",
      color: "white",
    },
    "&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
      background: "#444",
    },
    ".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":
      { content: '"···"', opacity: 0.5, display: "block", textAlign: "center" },
    ".cm-tooltip.cm-completionInfo": {
      position: "absolute",
      padding: "3px 9px",
      width: "max-content",
      maxWidth: "400px",
      boxSizing: "border-box",
    },
    ".cm-completionInfo.cm-completionInfo-left": { right: "100%" },
    ".cm-completionInfo.cm-completionInfo-right": { left: "100%" },
    ".cm-completionInfo.cm-completionInfo-left-narrow": { right: "30px" },
    ".cm-completionInfo.cm-completionInfo-right-narrow": { left: "30px" },
    "&light .cm-snippetField": { backgroundColor: "#00000022" },
    "&dark .cm-snippetField": { backgroundColor: "#ffffff22" },
    ".cm-snippetFieldPosition": {
      verticalAlign: "text-top",
      width: 0,
      height: "1.15em",
      display: "inline-block",
      margin: "0 -0.7px -.7em",
      borderLeft: "1.4px dotted #888",
    },
    ".cm-completionMatchedText": { textDecoration: "underline" },
    ".cm-completionDetail": { marginLeft: "0.5em", fontStyle: "italic" },
    ".cm-completionIcon": {
      fontSize: "90%",
      width: ".8em",
      display: "inline-block",
      textAlign: "center",
      paddingRight: ".6em",
      opacity: "0.6",
      boxSizing: "content-box",
    },
    ".cm-completionIcon-function, .cm-completionIcon-method": {
      "&:after": { content: "'ƒ'" },
    },
    ".cm-completionIcon-class": { "&:after": { content: "'○'" } },
    ".cm-completionIcon-interface": { "&:after": { content: "'◌'" } },
    ".cm-completionIcon-variable": { "&:after": { content: "'𝑥'" } },
    ".cm-completionIcon-constant": { "&:after": { content: "'𝐶'" } },
    ".cm-completionIcon-type": { "&:after": { content: "'𝑡'" } },
    ".cm-completionIcon-enum": { "&:after": { content: "'∪'" } },
    ".cm-completionIcon-property": { "&:after": { content: "'□'" } },
    ".cm-completionIcon-keyword": { "&:after": { content: "'🔑︎'" } },
    ".cm-completionIcon-namespace": { "&:after": { content: "'▢'" } },
    ".cm-completionIcon-text": {
      "&:after": { content: "'abc'", fontSize: "50%", verticalAlign: "middle" },
    },
  }),
  vd = {
    brackets: ["(", "[", "{", "'", '"'],
    before: ")]}:;>",
    stringPrefixes: [],
  },
  Xu = Qt.define({
    map(t, e) {
      let r = e.mapPos(t, -1, Pi.TrackAfter);
      return r ?? void 0;
    },
  }),
  D7 = new (class extends d0 {})();
D7.startSide = 1;
D7.endSide = -1;
const K$ = ri.define({
  create() {
    return dr.empty;
  },
  update(t, e) {
    if (((t = t.map(e.changes)), e.selection)) {
      let r = e.state.doc.lineAt(e.selection.main.head);
      t = t.update({ filter: (n) => n >= r.from && n <= r.to });
    }
    for (let r of e.effects)
      r.is(Xu) && (t = t.update({ add: [D7.range(r.value, r.value + 1)] }));
    return t;
  },
});
function iK() {
  return [oK, K$];
}
const K4 = "()[]{}<>";
function Y$(t) {
  for (let e = 0; e < K4.length; e += 2)
    if (K4.charCodeAt(e) == t) return K4.charAt(e + 1);
  return U8(t < 128 ? t : t + 1);
}
function X$(t, e) {
  return t.languageDataAt("closeBrackets", e)[0] || vd;
}
const sK =
    typeof navigator == "object" && /Android\b/.test(navigator.userAgent),
  oK = ut.inputHandler.of((t, e, r, n) => {
    if ((sK ? t.composing : t.compositionStarted) || t.state.readOnly)
      return !1;
    let i = t.state.selection.main;
    if (
      n.length > 2 ||
      (n.length == 2 && Us(ci(n, 0)) == 1) ||
      e != i.from ||
      r != i.to
    )
      return !1;
    let o = uK(t.state, n);
    return o ? (t.dispatch(o), !0) : !1;
  }),
  aK = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let n = X$(t, t.selection.main.head).brackets || vd.brackets,
      i = null,
      o = t.changeByRange((s) => {
        if (s.empty) {
          let a = cK(t.doc, s.head);
          for (let l of n)
            if (l == a && jv(t.doc, s.head) == Y$(ci(l, 0)))
              return {
                changes: { from: s.head - l.length, to: s.head + l.length },
                range: Te.cursor(s.head - l.length),
              };
        }
        return { range: (i = s) };
      });
    return (
      i || e(t.update(o, { scrollIntoView: !0, userEvent: "delete.backward" })),
      !i
    );
  },
  lK = [{ key: "Backspace", run: aK }];
function uK(t, e) {
  let r = X$(t, t.selection.main.head),
    n = r.brackets || vd.brackets;
  for (let i of n) {
    let o = Y$(ci(i, 0));
    if (e == i)
      return o == i
        ? dK(t, i, n.indexOf(i + i + i) > -1, r)
        : fK(t, i, o, r.before || vd.before);
    if (e == o && J$(t, t.selection.main.from)) return hK(t, i, o);
  }
  return null;
}
function J$(t, e) {
  let r = !1;
  return (
    t.field(K$).between(0, t.doc.length, (n) => {
      n == e && (r = !0);
    }),
    r
  );
}
function jv(t, e) {
  let r = t.sliceString(e, e + 2);
  return r.slice(0, Us(ci(r, 0)));
}
function cK(t, e) {
  let r = t.sliceString(e - 2, e);
  return Us(ci(r, 0)) == r.length ? r : r.slice(1);
}
function fK(t, e, r, n) {
  let i = null,
    o = t.changeByRange((s) => {
      if (!s.empty)
        return {
          changes: [
            { insert: e, from: s.from },
            { insert: r, from: s.to },
          ],
          effects: Xu.of(s.to + e.length),
          range: Te.range(s.anchor + e.length, s.head + e.length),
        };
      let a = jv(t.doc, s.head);
      return !a || /\s/.test(a) || n.indexOf(a) > -1
        ? {
            changes: { insert: e + r, from: s.head },
            effects: Xu.of(s.head + e.length),
            range: Te.cursor(s.head + e.length),
          }
        : { range: (i = s) };
    });
  return i
    ? null
    : t.update(o, { scrollIntoView: !0, userEvent: "input.type" });
}
function hK(t, e, r) {
  let n = null,
    i = t.changeByRange((o) =>
      o.empty && jv(t.doc, o.head) == r
        ? {
            changes: { from: o.head, to: o.head + r.length, insert: r },
            range: Te.cursor(o.head + r.length),
          }
        : (n = { range: o })
    );
  return n
    ? null
    : t.update(i, { scrollIntoView: !0, userEvent: "input.type" });
}
function dK(t, e, r, n) {
  let i = n.stringPrefixes || vd.stringPrefixes,
    o = null,
    s = t.changeByRange((a) => {
      if (!a.empty)
        return {
          changes: [
            { insert: e, from: a.from },
            { insert: e, from: a.to },
          ],
          effects: Xu.of(a.to + e.length),
          range: Te.range(a.anchor + e.length, a.head + e.length),
        };
      let l = a.head,
        u = jv(t.doc, l),
        c;
      if (u == e) {
        if (Tx(t, l))
          return {
            changes: { insert: e + e, from: l },
            effects: Xu.of(l + e.length),
            range: Te.cursor(l + e.length),
          };
        if (J$(t, l)) {
          let h =
            r && t.sliceDoc(l, l + e.length * 3) == e + e + e ? e + e + e : e;
          return {
            changes: { from: l, to: l + h.length, insert: h },
            range: Te.cursor(l + h.length),
          };
        }
      } else {
        if (
          r &&
          t.sliceDoc(l - 2 * e.length, l) == e + e &&
          (c = Px(t, l - 2 * e.length, i)) > -1 &&
          Tx(t, c)
        )
          return {
            changes: { insert: e + e + e + e, from: l },
            effects: Xu.of(l + e.length),
            range: Te.cursor(l + e.length),
          };
        if (
          t.charCategorizer(l)(u) != tn.Word &&
          Px(t, l, i) > -1 &&
          !pK(t, l, e, i)
        )
          return {
            changes: { insert: e + e, from: l },
            effects: Xu.of(l + e.length),
            range: Te.cursor(l + e.length),
          };
      }
      return { range: (o = a) };
    });
  return o
    ? null
    : t.update(s, { scrollIntoView: !0, userEvent: "input.type" });
}
function Tx(t, e) {
  let r = vi(t).resolveInner(e + 1);
  return r.parent && r.from == e;
}
function pK(t, e, r, n) {
  let i = vi(t).resolveInner(e, -1),
    o = n.reduce((s, a) => Math.max(s, a.length), 0);
  for (let s = 0; s < 5; s++) {
    let a = t.sliceDoc(i.from, Math.min(i.to, i.from + r.length + o)),
      l = a.indexOf(r);
    if (!l || (l > -1 && n.indexOf(a.slice(0, l)) > -1)) {
      let c = i.firstChild;
      for (; c && c.from == i.from && c.to - c.from > r.length + l; ) {
        if (t.sliceDoc(c.to - r.length, c.to) == r) return !1;
        c = c.firstChild;
      }
      return !0;
    }
    let u = i.to == e && i.parent;
    if (!u) break;
    i = u;
  }
  return !1;
}
function Px(t, e, r) {
  let n = t.charCategorizer(e);
  if (n(t.sliceDoc(e - 1, e)) != tn.Word) return e;
  for (let i of r) {
    let o = e - i.length;
    if (t.sliceDoc(o, e) == i && n(t.sliceDoc(o - 1, o)) != tn.Word) return o;
  }
  return -1;
}
function mK(t = {}) {
  return [rK, Zi, hi.of(t), eK, gK, nK];
}
const Q$ = [
    { key: "Ctrl-Space", run: YG },
    { key: "Escape", run: XG },
    { key: "ArrowDown", run: Fm(!0) },
    { key: "ArrowUp", run: Fm(!1) },
    { key: "PageDown", run: Fm(!0, "page") },
    { key: "PageUp", run: Fm(!1, "page") },
    { key: "Enter", run: KG },
  ],
  gK = E0.highest(
    n7.computeN([hi], (t) => (t.facet(hi).defaultKeymap ? [Q$] : []))
  );
class vK {
  constructor(e, r, n) {
    (this.from = e), (this.to = r), (this.diagnostic = n);
  }
}
class Vu {
  constructor(e, r, n) {
    (this.diagnostics = e), (this.panel = r), (this.selected = n);
  }
  static init(e, r, n) {
    let i = e,
      o = n.facet(x7).markerFilter;
    o && (i = o(i, n));
    let s = Pt.set(
      i.map((a) =>
        a.from == a.to ||
        (a.from == a.to - 1 && n.doc.lineAt(a.from).to == a.from)
          ? Pt.widget({ widget: new AK(a), diagnostic: a }).range(a.from)
          : Pt.mark({
              attributes: {
                class:
                  "cm-lintRange cm-lintRange-" +
                  a.severity +
                  (a.markClass ? " " + a.markClass : ""),
              },
              diagnostic: a,
              inclusive: !0,
            }).range(a.from, a.to)
      ),
      !0
    );
    return new Vu(s, r, lf(s));
  }
}
function lf(t, e = null, r = 0) {
  let n = null;
  return (
    t.between(r, 1e9, (i, o, { spec: s }) => {
      if (!(e && s.diagnostic != e))
        return (n = new vK(i, o, s.diagnostic)), !1;
    }),
    n
  );
}
function yK(t, e) {
  let r = e.pos,
    n = e.end || r,
    i = t.state.facet(x7).hideOn(t, r, n);
  if (i != null) return i;
  let o = t.startState.doc.lineAt(e.pos);
  return !!(
    t.effects.some((s) => s.is(Z$)) ||
    t.changes.touchesRange(o.from, Math.max(o.to, n))
  );
}
function bK(t, e) {
  return t.field(ys, !1) ? e : e.concat(Qt.appendConfig.of(MK));
}
const Z$ = Qt.define(),
  w7 = Qt.define(),
  eO = Qt.define(),
  ys = ri.define({
    create() {
      return new Vu(Pt.none, null, null);
    },
    update(t, e) {
      if (e.docChanged) {
        let r = t.diagnostics.map(e.changes),
          n = null;
        if (t.selected) {
          let i = e.changes.mapPos(t.selected.from, 1);
          n = lf(r, t.selected.diagnostic, i) || lf(r, null, i);
        }
        t = new Vu(r, t.panel, n);
      }
      for (let r of e.effects)
        r.is(Z$)
          ? (t = Vu.init(r.value, t.panel, e.state))
          : r.is(w7)
            ? (t = new Vu(t.diagnostics, r.value ? Hv.open : null, t.selected))
            : r.is(eO) && (t = new Vu(t.diagnostics, t.panel, r.value));
      return t;
    },
    provide: (t) => [
      hd.from(t, (e) => e.panel),
      ut.decorations.from(t, (e) => e.diagnostics),
    ],
  }),
  DK = Pt.mark({ class: "cm-lintRange cm-lintRange-active", inclusive: !0 });
function wK(t, e, r) {
  let { diagnostics: n } = t.state.field(ys),
    i = [],
    o = 2e8,
    s = 0;
  n.between(e - (r < 0 ? 1 : 0), e + (r > 0 ? 1 : 0), (l, u, { spec: c }) => {
    e >= l &&
      e <= u &&
      (l == u || ((e > l || r > 0) && (e < u || r < 0))) &&
      (i.push(c.diagnostic), (o = Math.min(l, o)), (s = Math.max(u, s)));
  });
  let a = t.state.facet(x7).tooltipFilter;
  return (
    a && (i = a(i, t.state)),
    i.length
      ? {
          pos: o,
          end: s,
          above: t.state.doc.lineAt(o).to < s,
          create() {
            return { dom: xK(t, i) };
          },
        }
      : null
  );
}
function xK(t, e) {
  return Hr(
    "ul",
    { class: "cm-tooltip-lint" },
    e.map((r) => rO(t, r, !1))
  );
}
const kK = (t) => {
    let e = t.state.field(ys, !1);
    (!e || !e.panel) && t.dispatch({ effects: bK(t.state, [w7.of(!0)]) });
    let r = fd(t, Hv.open);
    return r && r.dom.querySelector(".cm-panel-lint ul").focus(), !0;
  },
  Rx = (t) => {
    let e = t.state.field(ys, !1);
    return !e || !e.panel ? !1 : (t.dispatch({ effects: w7.of(!1) }), !0);
  },
  SK = (t) => {
    let e = t.state.field(ys, !1);
    if (!e) return !1;
    let r = t.state.selection.main,
      n = e.diagnostics.iter(r.to + 1);
    return !n.value &&
      ((n = e.diagnostics.iter(0)),
      !n.value || (n.from == r.from && n.to == r.to))
      ? !1
      : (t.dispatch({
          selection: { anchor: n.from, head: n.to },
          scrollIntoView: !0,
        }),
        !0);
  },
  CK = [
    { key: "Mod-Shift-m", run: kK, preventDefault: !0 },
    { key: "F8", run: SK },
  ],
  x7 = vt.define({
    combine(t) {
      return Object.assign(
        { sources: t.map((e) => e.source).filter((e) => e != null) },
        da(
          t.map((e) => e.config),
          {
            delay: 750,
            markerFilter: null,
            tooltipFilter: null,
            needsRefresh: null,
            hideOn: () => null,
          },
          { needsRefresh: (e, r) => (e ? (r ? (n) => e(n) || r(n) : e) : r) }
        )
      );
    },
  });
function tO(t) {
  let e = [];
  if (t)
    e: for (let { name: r } of t) {
      for (let n = 0; n < r.length; n++) {
        let i = r[n];
        if (
          /[a-zA-Z]/.test(i) &&
          !e.some((o) => o.toLowerCase() == i.toLowerCase())
        ) {
          e.push(i);
          continue e;
        }
      }
      e.push("");
    }
  return e;
}
function rO(t, e, r) {
  var n;
  let i = r ? tO(e.actions) : [];
  return Hr(
    "li",
    { class: "cm-diagnostic cm-diagnostic-" + e.severity },
    Hr(
      "span",
      { class: "cm-diagnosticText" },
      e.renderMessage ? e.renderMessage(t) : e.message
    ),
    (n = e.actions) === null || n === void 0
      ? void 0
      : n.map((o, s) => {
          let a = !1,
            l = (h) => {
              if ((h.preventDefault(), a)) return;
              a = !0;
              let d = lf(t.state.field(ys).diagnostics, e);
              d && o.apply(t, d.from, d.to);
            },
            { name: u } = o,
            c = i[s] ? u.indexOf(i[s]) : -1,
            f =
              c < 0
                ? u
                : [u.slice(0, c), Hr("u", u.slice(c, c + 1)), u.slice(c + 1)];
          return Hr(
            "button",
            {
              type: "button",
              class: "cm-diagnosticAction",
              onclick: l,
              onmousedown: l,
              "aria-label": ` Action: ${u}${c < 0 ? "" : ` (access key "${i[s]})"`}.`,
            },
            f
          );
        }),
    e.source && Hr("div", { class: "cm-diagnosticSource" }, e.source)
  );
}
class AK extends ku {
  constructor(e) {
    super(), (this.diagnostic = e);
  }
  eq(e) {
    return e.diagnostic == this.diagnostic;
  }
  toDOM() {
    return Hr("span", {
      class: "cm-lintPoint cm-lintPoint-" + this.diagnostic.severity,
    });
  }
}
class Ix {
  constructor(e, r) {
    (this.diagnostic = r),
      (this.id = "item_" + Math.floor(Math.random() * 4294967295).toString(16)),
      (this.dom = rO(e, r, !0)),
      (this.dom.id = this.id),
      this.dom.setAttribute("role", "option");
  }
}
class Hv {
  constructor(e) {
    (this.view = e), (this.items = []);
    let r = (i) => {
        if (i.keyCode == 27) Rx(this.view), this.view.focus();
        else if (i.keyCode == 38 || i.keyCode == 33)
          this.moveSelection(
            (this.selectedIndex - 1 + this.items.length) % this.items.length
          );
        else if (i.keyCode == 40 || i.keyCode == 34)
          this.moveSelection((this.selectedIndex + 1) % this.items.length);
        else if (i.keyCode == 36) this.moveSelection(0);
        else if (i.keyCode == 35) this.moveSelection(this.items.length - 1);
        else if (i.keyCode == 13) this.view.focus();
        else if (
          i.keyCode >= 65 &&
          i.keyCode <= 90 &&
          this.selectedIndex >= 0
        ) {
          let { diagnostic: o } = this.items[this.selectedIndex],
            s = tO(o.actions);
          for (let a = 0; a < s.length; a++)
            if (s[a].toUpperCase().charCodeAt(0) == i.keyCode) {
              let l = lf(this.view.state.field(ys).diagnostics, o);
              l && o.actions[a].apply(e, l.from, l.to);
            }
        } else return;
        i.preventDefault();
      },
      n = (i) => {
        for (let o = 0; o < this.items.length; o++)
          this.items[o].dom.contains(i.target) && this.moveSelection(o);
      };
    (this.list = Hr("ul", {
      tabIndex: 0,
      role: "listbox",
      "aria-label": this.view.state.phrase("Diagnostics"),
      onkeydown: r,
      onclick: n,
    })),
      (this.dom = Hr(
        "div",
        { class: "cm-panel-lint" },
        this.list,
        Hr(
          "button",
          {
            type: "button",
            name: "close",
            "aria-label": this.view.state.phrase("close"),
            onclick: () => Rx(this.view),
          },
          "×"
        )
      )),
      this.update();
  }
  get selectedIndex() {
    let e = this.view.state.field(ys).selected;
    if (!e) return -1;
    for (let r = 0; r < this.items.length; r++)
      if (this.items[r].diagnostic == e.diagnostic) return r;
    return -1;
  }
  update() {
    let { diagnostics: e, selected: r } = this.view.state.field(ys),
      n = 0,
      i = !1,
      o = null;
    for (
      e.between(0, this.view.state.doc.length, (s, a, { spec: l }) => {
        let u = -1,
          c;
        for (let f = n; f < this.items.length; f++)
          if (this.items[f].diagnostic == l.diagnostic) {
            u = f;
            break;
          }
        u < 0
          ? ((c = new Ix(this.view, l.diagnostic)),
            this.items.splice(n, 0, c),
            (i = !0))
          : ((c = this.items[u]),
            u > n && (this.items.splice(n, u - n), (i = !0))),
          r && c.diagnostic == r.diagnostic
            ? c.dom.hasAttribute("aria-selected") ||
              (c.dom.setAttribute("aria-selected", "true"), (o = c))
            : c.dom.hasAttribute("aria-selected") &&
              c.dom.removeAttribute("aria-selected"),
          n++;
      });
      n < this.items.length &&
      !(this.items.length == 1 && this.items[0].diagnostic.from < 0);

    )
      (i = !0), this.items.pop();
    this.items.length == 0 &&
      (this.items.push(
        new Ix(this.view, {
          from: -1,
          to: -1,
          severity: "info",
          message: this.view.state.phrase("No diagnostics"),
        })
      ),
      (i = !0)),
      o
        ? (this.list.setAttribute("aria-activedescendant", o.id),
          this.view.requestMeasure({
            key: this,
            read: () => ({
              sel: o.dom.getBoundingClientRect(),
              panel: this.list.getBoundingClientRect(),
            }),
            write: ({ sel: s, panel: a }) => {
              let l = a.height / this.list.offsetHeight;
              s.top < a.top
                ? (this.list.scrollTop -= (a.top - s.top) / l)
                : s.bottom > a.bottom &&
                  (this.list.scrollTop += (s.bottom - a.bottom) / l);
            },
          }))
        : this.selectedIndex < 0 &&
          this.list.removeAttribute("aria-activedescendant"),
      i && this.sync();
  }
  sync() {
    let e = this.list.firstChild;
    function r() {
      let n = e;
      (e = n.nextSibling), n.remove();
    }
    for (let n of this.items)
      if (n.dom.parentNode == this.list) {
        for (; e != n.dom; ) r();
        e = n.dom.nextSibling;
      } else this.list.insertBefore(n.dom, e);
    for (; e; ) r();
  }
  moveSelection(e) {
    if (this.selectedIndex < 0) return;
    let r = this.view.state.field(ys),
      n = lf(r.diagnostics, this.items[e].diagnostic);
    n &&
      this.view.dispatch({
        selection: { anchor: n.from, head: n.to },
        scrollIntoView: !0,
        effects: eO.of(n),
      });
  }
  static open(e) {
    return new Hv(e);
  }
}
function EK(t, e = 'viewBox="0 0 40 40"') {
  return `url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`;
}
function Mm(t) {
  return EK(
    `<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,
    'width="6" height="3"'
  );
}
const FK = ut.baseTheme({
    ".cm-diagnostic": {
      padding: "3px 6px 3px 8px",
      marginLeft: "-1px",
      display: "block",
      whiteSpace: "pre-wrap",
    },
    ".cm-diagnostic-error": { borderLeft: "5px solid #d11" },
    ".cm-diagnostic-warning": { borderLeft: "5px solid orange" },
    ".cm-diagnostic-info": { borderLeft: "5px solid #999" },
    ".cm-diagnostic-hint": { borderLeft: "5px solid #66d" },
    ".cm-diagnosticAction": {
      font: "inherit",
      border: "none",
      padding: "2px 4px",
      backgroundColor: "#444",
      color: "white",
      borderRadius: "3px",
      marginLeft: "8px",
      cursor: "pointer",
    },
    ".cm-diagnosticSource": { fontSize: "70%", opacity: 0.7 },
    ".cm-lintRange": {
      backgroundPosition: "left bottom",
      backgroundRepeat: "repeat-x",
      paddingBottom: "0.7px",
    },
    ".cm-lintRange-error": { backgroundImage: Mm("#d11") },
    ".cm-lintRange-warning": { backgroundImage: Mm("orange") },
    ".cm-lintRange-info": { backgroundImage: Mm("#999") },
    ".cm-lintRange-hint": { backgroundImage: Mm("#66d") },
    ".cm-lintRange-active": { backgroundColor: "#ffdd9980" },
    ".cm-tooltip-lint": { padding: 0, margin: 0 },
    ".cm-lintPoint": {
      position: "relative",
      "&:after": {
        content: '""',
        position: "absolute",
        bottom: 0,
        left: "-2px",
        borderLeft: "3px solid transparent",
        borderRight: "3px solid transparent",
        borderBottom: "4px solid #d11",
      },
    },
    ".cm-lintPoint-warning": { "&:after": { borderBottomColor: "orange" } },
    ".cm-lintPoint-info": { "&:after": { borderBottomColor: "#999" } },
    ".cm-lintPoint-hint": { "&:after": { borderBottomColor: "#66d" } },
    ".cm-panel.cm-panel-lint": {
      position: "relative",
      "& ul": {
        maxHeight: "100px",
        overflowY: "auto",
        "& [aria-selected]": {
          backgroundColor: "#ddd",
          "& u": { textDecoration: "underline" },
        },
        "&:focus [aria-selected]": {
          background_fallback: "#bdf",
          backgroundColor: "Highlight",
          color_fallback: "white",
          color: "HighlightText",
        },
        "& u": { textDecoration: "none" },
        padding: 0,
        margin: 0,
      },
      "& [name=close]": {
        position: "absolute",
        top: "0",
        right: "2px",
        background: "inherit",
        border: "none",
        font: "inherit",
        padding: 0,
        margin: 0,
      },
    },
  }),
  MK = [
    ys,
    ut.decorations.compute([ys], (t) => {
      let { selected: e, panel: r } = t.field(ys);
      return !e || !r || e.from == e.to
        ? Pt.none
        : Pt.set([DK.range(e.from, e.to)]);
    }),
    MW(wK, { hideOn: yK }),
    FK,
  ],
  nO = [
    NW(),
    jW(),
    oW(),
    tU(),
    Sq(),
    YV(),
    eW(),
    sr.allowMultipleSelections.of(!0),
    cq(),
    W_(Fq, { fallback: !0 }),
    Pq(),
    iK(),
    mK(),
    yW(),
    wW(),
    hW(),
    lG(),
    n7.of([...lK, ...nG, ...EG, ...cU, ...Dq, ...Q$, ...CK]),
  ];
var _K = Object.defineProperty,
  $K = (t, e, r) =>
    e in t
      ? _K(t, e, { enumerable: !0, configurable: !0, writable: !0, value: r })
      : (t[e] = r),
  OK = (t, e, r) => ($K(t, typeof e != "symbol" ? e + "" : e, r), r),
  Ju = Symbol("linebreak"),
  j0 = "\\";
function $i(t) {
  if (typeof t == "string") return [t];
  if (Array.isArray(t)) return [].concat(...t.map((l) => $i(l)));
  let e, r;
  switch (t.type) {
    case "root":
      return $i(t.content);
    case "argument":
      return [t.openMark, ...$i(t.content), t.closeMark];
    case "comment":
      var n = t.suffixParbreak ? "" : Ju,
        i = "";
      return (
        t.sameline && t.leadingWhitespace && (i = " "),
        t.sameline
          ? [i, "%", ...$i(t.content), n]
          : [Ju, "%", ...$i(t.content), n]
      );
    case "environment":
    case "mathenv":
    case "verbatim":
      var o = $i(t.env),
        s = [j0 + "begin{", ...o, "}"],
        a = [j0 + "end{", ...o, "}"];
      return (
        (e = t.args == null ? [] : $i(t.args)),
        [...s, ...e, ...$i(t.content), ...a]
      );
    case "displaymath":
      return [j0 + "[", ...$i(t.content), j0 + "]"];
    case "group":
      return ["{", ...$i(t.content), "}"];
    case "inlinemath":
      return ["$", ...$i(t.content), "$"];
    case "macro":
      return (
        (e = t.args == null ? [] : $i(t.args)),
        (r = t.escapeToken == null ? j0 : t.escapeToken),
        [r, ...$i(t.content), ...e]
      );
    case "parbreak":
      return [Ju, Ju];
    case "string":
      return [t.content];
    case "verb":
      return [j0, t.env, t.escape, ...$i(t.content), t.escape];
    case "whitespace":
      return [" "];
    default:
      return (
        console.warn(
          "Cannot find render for node ",
          t,
          `(of type ${typeof t})`
        ),
        ["" + t]
      );
  }
}
function Vr(t, e) {
  const r = e != null ? e.asArray : !1,
    n = $i(t);
  return r
    ? n
    : n
        .map((i) =>
          i === Ju
            ? `
`
            : i
        )
        .join("");
}
function BK(t) {
  const e = Array.isArray(t)
    ? t.length > 0
      ? typeof t[0] == "string"
        ? Object.fromEntries(
            t.map((r) => {
              if (typeof r != "string")
                throw new Error("Wrong branch of map function");
              return [r, {}];
            })
          )
        : Object.fromEntries(
            t.map((r) => {
              if (typeof r == "string")
                throw new Error("Wrong branch of map function");
              return r.escapeToken != null
                ? [r.content, { escapeToken: r.escapeToken }]
                : [r.content, {}];
            })
          )
      : {}
    : t;
  return function (n) {
    if (n == null || n.type !== "macro") return !1;
    const i = e[n.content];
    return i
      ? typeof i == "object" && "escapeToken" in i
        ? i.escapeToken == null || i.escapeToken === n.escapeToken
        : !0
      : !1;
  };
}
function TK(t) {
  const e = Array.isArray(t) ? Object.fromEntries(t.map((r) => [r, {}])) : t;
  return function (n) {
    if (!Ne.anyEnvironment(n)) return !1;
    const i = Vr(n.env);
    return !!e[i];
  };
}
var Ne = {
  macro(t, e) {
    return t == null
      ? !1
      : t.type === "macro" && (e == null || t.content === e);
  },
  anyMacro(t) {
    return Ne.macro(t);
  },
  environment(t, e) {
    return t == null
      ? !1
      : (t.type === "environment" || t.type === "mathenv") &&
          (e == null || Vr(t.env) === e);
  },
  anyEnvironment(t) {
    return Ne.environment(t);
  },
  comment(t) {
    return t == null ? !1 : t.type === "comment";
  },
  parbreak(t) {
    return t == null ? !1 : t.type === "parbreak";
  },
  whitespace(t) {
    return t == null ? !1 : t.type === "whitespace";
  },
  whitespaceLike(t) {
    return t == null
      ? !1
      : t.type === "whitespace" ||
          (t.type === "whitespace" && t.leadingWhitespace === !0);
  },
  string(t, e) {
    return t == null
      ? !1
      : t.type === "string" && (e == null || t.content === e);
  },
  anyString(t) {
    return Ne.string(t);
  },
  group(t) {
    return t == null ? !1 : t.type === "group";
  },
  argument(t) {
    return t == null ? !1 : t.type === "argument";
  },
  blankArgument(t) {
    return Ne.argument(t)
      ? t.openMark === "" && t.closeMark === "" && t.content.length === 0
      : !1;
  },
  math(t) {
    return t == null ? !1 : t.type === "displaymath" || t.type === "inlinemath";
  },
  createMacroMatcher: BK,
  createEnvironmentMatcher: TK,
};
function PK(t) {
  const e = { enter: [], leave: [] };
  if (Array.isArray(t)) return e;
  if (Ne.math(t)) return { enter: ["content"], leave: [] };
  const r = t._renderInfo || {};
  if (r.inMathMode == null) return e;
  if (Ne.macro(t)) {
    if (r.inMathMode === !0) return { enter: ["args"], leave: [] };
    if (r.inMathMode === !1) return { enter: [], leave: ["args"] };
  }
  return Ne.environment(t)
    ? r.inMathMode === !0
      ? { enter: ["content"], leave: [] }
      : { enter: [], leave: ["content"] }
    : e;
}
var P5 = Symbol("continue"),
  iO = Symbol("skip"),
  bg = Symbol("exit"),
  RK = { inMathMode: !1, hasMathModeAncestor: !1 };
function fu(t, e, r) {
  const {
    startingContext: n = RK,
    test: i = () => !0,
    includeArrays: o = !1,
  } = r || {};
  let s, a;
  typeof e == "function"
    ? (s = e)
    : e && typeof e == "object" && ((s = e.enter), (a = e.leave)),
    l(t, {
      key: void 0,
      index: void 0,
      parents: [],
      containingArray: void 0,
      context: { ...n },
    });
  function l(
    u,
    { key: c, index: f, parents: h, context: d, containingArray: p }
  ) {
    const m = o
        ? i(u, { key: c, index: f, parents: h, context: d, containingArray: p })
        : !Array.isArray(u) &&
          i(u, {
            key: c,
            index: f,
            parents: h,
            context: d,
            containingArray: p,
          }),
      b =
        s && m
          ? Y4(
              s(u, {
                key: c,
                index: f,
                parents: h,
                context: d,
                containingArray: p,
              })
            )
          : [P5];
    if (b[0] === bg) return b;
    if (b[0] === iO)
      return a && m
        ? Y4(
            a(u, {
              key: c,
              index: f,
              parents: h,
              context: d,
              containingArray: p,
            })
          )
        : b;
    if (Array.isArray(u))
      for (let D = 0; D > -1 && D < u.length; D++) {
        const k = u[D],
          S = l(k, {
            key: c,
            index: D,
            parents: h,
            context: d,
            containingArray: u,
          });
        if (S[0] === bg) return S;
        typeof S[1] == "number" && (D = S[1] - 1);
      }
    else {
      let D = ["content", "args"];
      switch (u.type) {
        case "macro":
          D = ["args"];
          break;
        case "comment":
        case "string":
        case "verb":
        case "verbatim":
          D = [];
          break;
      }
      const k = PK(u);
      for (const S of D) {
        const B = u[S],
          $ = [u].concat(h);
        if (B == null) continue;
        const T = { ...d };
        k.enter.includes(S)
          ? ((T.inMathMode = !0), (T.hasMathModeAncestor = !0))
          : k.leave.includes(S) && (T.inMathMode = !1);
        const P = l(B, {
          key: S,
          index: void 0,
          parents: $,
          context: T,
          containingArray: void 0,
        });
        if (P[0] === bg) return P;
      }
    }
    return a && m
      ? Y4(
          a(u, { key: c, index: f, parents: h, context: d, containingArray: p })
        )
      : b;
  }
}
function Y4(t) {
  return t == null
    ? [P5]
    : Array.isArray(t)
      ? t
      : typeof t == "number"
        ? [P5, t]
        : [t];
}
function Bo(t) {
  if (!Array.isArray(t))
    return console.warn("Trying to trim a non-array ast", t), t;
  const { trimmedStart: e } = sO(t),
    { trimmedEnd: r } = k7(t);
  return { trimmedStart: e, trimmedEnd: r };
}
function sO(t) {
  const { start: e } = oO(t);
  t.splice(0, e);
  for (const r of t) {
    if (!Ne.comment(r)) break;
    (r.leadingWhitespace || r.sameline) &&
      ((r.leadingWhitespace = !1), delete r.position),
      e > 0 && r.sameline && ((r.sameline = !1), delete r.position);
  }
  return { trimmedStart: e };
}
function k7(t) {
  const { end: e } = oO(t);
  t.splice(t.length - e, e);
  for (let r = t.length - 1; r >= 0; r--) {
    const n = t[r];
    if (!Ne.comment(n)) break;
    delete n.suffixParbreak,
      Ne.comment(n) &&
        n.leadingWhitespace &&
        !n.sameline &&
        ((n.leadingWhitespace = !1), delete n.position);
  }
  return { trimmedEnd: e };
}
function oO(t) {
  let e = 0,
    r = 0;
  for (const n of t)
    if (Ne.whitespace(n) || Ne.parbreak(n)) e++;
    else break;
  if (e === t.length) return { start: e, end: 0 };
  for (let n = t.length - 1; n >= 0; n--) {
    const i = t[n];
    if (Ne.whitespace(i) || Ne.parbreak(i)) r++;
    else break;
  }
  return { start: e, end: r };
}
var IK = function () {
    return (e) => {
      fu(e, (r) => {
        if (!(Ne.math(r) || Ne.anyEnvironment(r))) return;
        let n = r.content[0];
        if (Ne.comment(n) && n.sameline) {
          (n.suffixParbreak = !1), k7(r.content);
          const { trimmedStart: i } = sO(r.content.slice(1));
          r.content.splice(1, i);
        } else Bo(r.content);
      });
    };
  },
  NK = function () {
    return (e) => {
      Bo(e.content);
    };
  };
function S7(t) {
  return (
    (t.charAt = function (e) {
      return this[e];
    }),
    (t.charCodeAt = () => 0),
    (t.substring = function (e, r) {
      return this.slice(e, r);
    }),
    (t.replace = function (e, r) {
      return JSON.stringify(this).replace(e, r);
    }),
    t
  );
}
var LK = (function () {
    function t(i, o) {
      function s() {
        this.constructor = i;
      }
      (s.prototype = o.prototype), (i.prototype = new s());
    }
    function e(i, o, s, a) {
      var l = Error.call(this, i);
      return (
        Object.setPrototypeOf && Object.setPrototypeOf(l, e.prototype),
        (l.expected = o),
        (l.found = s),
        (l.location = a),
        (l.name = "SyntaxError"),
        l
      );
    }
    t(e, Error);
    function r(i, o, s) {
      return (
        (s = s || " "),
        i.length > o
          ? i
          : ((o -= i.length), (s += s.repeat(o)), i + s.slice(0, o))
      );
    }
    (e.prototype.format = function (i) {
      var o = "Error: " + this.message;
      if (this.location) {
        var s = null,
          a;
        for (a = 0; a < i.length; a++)
          if (i[a].source === this.location.source) {
            s = i[a].text.split(/\r\n|\n|\r/g);
            break;
          }
        var l = this.location.start,
          u = this.location.source + ":" + l.line + ":" + l.column;
        if (s) {
          var c = this.location.end,
            f = r("", l.line.toString().length, " "),
            h = s[l.line - 1],
            d = l.line === c.line ? c.column : h.length + 1,
            p = d - l.column || 1;
          o +=
            `
 --> ` +
            u +
            `
` +
            f +
            ` |
` +
            l.line +
            " | " +
            h +
            `
` +
            f +
            " | " +
            r("", l.column - 1, " ") +
            r("", p, "^");
        } else
          o +=
            `
 at ` + u;
      }
      return o;
    }),
      (e.buildMessage = function (i, o) {
        var s = {
          literal: function (d) {
            return '"' + l(d.text) + '"';
          },
          class: function (d) {
            var p = d.parts.map(function (m) {
              return Array.isArray(m) ? u(m[0]) + "-" + u(m[1]) : u(m);
            });
            return "[" + (d.inverted ? "^" : "") + p.join("") + "]";
          },
          any: function () {
            return "any character";
          },
          end: function () {
            return "end of input";
          },
          other: function (d) {
            return d.description;
          },
        };
        function a(d) {
          return d.charCodeAt(0).toString(16).toUpperCase();
        }
        function l(d) {
          return d
            .replace(/\\/g, "\\\\")
            .replace(/"/g, '\\"')
            .replace(/\0/g, "\\0")
            .replace(/\t/g, "\\t")
            .replace(/\n/g, "\\n")
            .replace(/\r/g, "\\r")
            .replace(/[\x00-\x0F]/g, function (p) {
              return "\\x0" + a(p);
            })
            .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
              return "\\x" + a(p);
            });
        }
        function u(d) {
          return d
            .replace(/\\/g, "\\\\")
            .replace(/\]/g, "\\]")
            .replace(/\^/g, "\\^")
            .replace(/-/g, "\\-")
            .replace(/\0/g, "\\0")
            .replace(/\t/g, "\\t")
            .replace(/\n/g, "\\n")
            .replace(/\r/g, "\\r")
            .replace(/[\x00-\x0F]/g, function (p) {
              return "\\x0" + a(p);
            })
            .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
              return "\\x" + a(p);
            });
        }
        function c(d) {
          return s[d.type](d);
        }
        function f(d) {
          var p = d.map(c),
            m,
            b;
          if ((p.sort(), p.length > 0)) {
            for (m = 1, b = 1; m < p.length; m++)
              p[m - 1] !== p[m] && ((p[b] = p[m]), b++);
            p.length = b;
          }
          switch (p.length) {
            case 1:
              return p[0];
            case 2:
              return p[0] + " or " + p[1];
            default:
              return p.slice(0, -1).join(", ") + ", or " + p[p.length - 1];
          }
        }
        function h(d) {
          return d ? '"' + l(d) + '"' : "end of input";
        }
        return "Expected " + f(i) + " but " + h(o) + " found.";
      });
    function n(i, o) {
      o = o !== void 0 ? o : {};
      var s = {},
        a = o.grammarSource,
        l = { document: sD, math: RP },
        u = sD,
        c = "%",
        f = ".",
        h = "verb*",
        d = "verb",
        p = "[",
        m = "]",
        b = "lstinline",
        D = "mintinline",
        k = "mint",
        S = "verbatim*",
        B = "verbatim",
        $ = "filecontents*",
        T = "filecontents",
        P = "comment",
        te = "lstlisting",
        ee = "(",
        de = ")",
        ke = "begin",
        Ce = "end",
        he = "equation*",
        ze = "equation",
        Ve = "align*",
        Ae = "align",
        tt = "alignat*",
        Ee = "alignat",
        Je = "gather*",
        Re = "gather",
        ve = "multline*",
        Fe = "multline",
        q = "flalign*",
        Ot = "flalign",
        Mt = "split",
        yt = "math",
        wt = "displaymath",
        Zt = "\\",
        Ut = "{",
        br = "}",
        Or = "$",
        Br = "&",
        Wt = "\r",
        gr = `
`,
        Vt = `\r
`,
        ce = "#",
        Me = "^",
        _e = "_",
        mt = "\0",
        rr = /^[^ \t\n\r]/,
        xe = /^[ \t]/,
        Dn = /^[a-zA-Z]/,
        Tr = /^[0-9]/,
        le = /^[.,;:\-*\/()!?=+<>[\]`'"~]/,
        ne = sn("document"),
        J = sn("math"),
        er = sn("token"),
        ue = BP(),
        Xt = sn("parbreak"),
        Lt = sn("math token"),
        bt = sn("nonchar token"),
        $e = zt("%", !1),
        hn = sn("whitespace"),
        nr = sn("number"),
        Fn = zt(".", !1),
        hr = sn("special macro"),
        H = zt("verb*", !1),
        z = zt("verb", !1),
        X = zt("[", !1),
        fe = zt("]", !1),
        I = $f(
          [
            " ",
            "	",
            `
`,
            "\r",
          ],
          !0,
          !1
        ),
        ht = sn("verbatim listings"),
        Bt = zt("lstinline", !1),
        Et = sn("verbatim minted"),
        Ye = zt("mintinline", !1),
        jt = zt("mint", !1),
        Ct = sn("verbatim environment"),
        Rt = zt("verbatim*", !1),
        ir = zt("verbatim", !1),
        bi = zt("filecontents*", !1),
        De = zt("filecontents", !1),
        rt = zt("comment", !1),
        Xe = zt("lstlisting", !1),
        qt = sn("macro"),
        Dr = sn("group"),
        Pr = sn("environment"),
        R = sn("math environment"),
        ae = zt("(", !1),
        ie = zt(")", !1),
        Dt = zt("begin", !1),
        Tt = zt("end", !1),
        Gt = zt("equation*", !1),
        Lr = zt("equation", !1),
        N = zt("align*", !1),
        x = zt("align", !1),
        re = zt("alignat*", !1),
        xt = zt("alignat", !1),
        ur = zt("gather*", !1),
        we = zt("gather", !1),
        zr = zt("multline*", !1),
        nn = zt("multline", !1),
        qi = zt("flalign*", !1),
        dl = zt("flalign", !1),
        Mn = zt("split", !1),
        Q = zt("math", !1),
        be = zt("displaymath", !1),
        Be = sn("escape"),
        Se = zt("\\", !1),
        Kt = zt("{", !1),
        Sr = zt("}", !1),
        jr = zt("$", !1),
        _n = zt("&", !1),
        E = sn("newline"),
        G = zt("\r", !1),
        Z = zt(
          `
`,
          !1
        ),
        Le = zt(
          `\r
`,
          !1
        ),
        Ue = zt("#", !1),
        Ge = zt("^", !1),
        nt = zt("_", !1),
        tr = zt("\0", !1),
        Ui = $f([" ", "	"], !1, !1),
        qn = sn("letter"),
        Da = $f(
          [
            ["a", "z"],
            ["A", "Z"],
          ],
          !1,
          !1
        ),
        R0 = sn("digit"),
        I0 = $f([["0", "9"]], !1, !1),
        Mp = sn("punctuation"),
        _p = $f(
          [
            ".",
            ",",
            ";",
            ":",
            "-",
            "*",
            "/",
            "(",
            ")",
            "!",
            "?",
            "=",
            "+",
            "<",
            ">",
            "[",
            "]",
            "`",
            "'",
            '"',
            "~",
          ],
          !1,
          !1
        ),
        _2 = sn("full comment"),
        $2 = sn("comment"),
        pl = function (g) {
          return Jt("root", { content: g.flatMap((C) => C) });
        },
        $p = function (g) {
          return g;
        },
        O2 = function (g) {
          return Jt("inlinemath", { content: g.flatMap((C) => C) });
        },
        Op = function (g) {
          return Jt("string", { content: g });
        },
        Bp = function (g) {
          return Jt("string", { content: g });
        },
        Tp = function () {
          return Jt("parbreak");
        },
        ml = function (g) {
          return g;
        },
        B2 = function (g) {
          return g;
        },
        gl = function () {
          return Jt("macro", { content: "^", escapeToken: "" });
        },
        Pp = function () {
          return Jt("macro", { content: "_", escapeToken: "" });
        },
        Rp = function (g) {
          return Jt("string", { content: g });
        },
        vl = function () {
          return Jt("whitespace");
        },
        Pu = function (g, C) {
          return g.join("") + "." + C.join("");
        },
        M = function (g) {
          return "." + g.join("");
        },
        j = function (g) {
          return g.join("") + ".";
        },
        oe = function (g) {
          return Jt("string", { content: g });
        },
        pe = function (g, C, L) {
          return L == C;
        },
        Ke = function (g, C, L) {
          return L;
        },
        lt = function (g, C, L, _) {
          return _ == C;
        },
        Cr = function (g, C, L) {
          return Jt("verb", { env: g, escape: C, content: L.join("") });
        },
        Di = function (g) {
          return g;
        },
        yl = function (g) {
          return Jt("displaymath", { content: g.flatMap((C) => C) });
        },
        wa = function (g) {
          return g;
        },
        eP = function (g) {
          return Jt("inlinemath", { content: g.flatMap((C) => C) });
        },
        Hb = function (g) {
          return g;
        },
        tP = function (g) {
          return Jt("displaymath", { content: g.flatMap((C) => C) });
        },
        Vb = function (g) {
          return g.type === "string" && g.content === "]";
        },
        Wb = function (g) {
          return g;
        },
        rP = function (g) {
          return [
            Jt("string", { content: "[" }),
            ...g,
            Jt("string", { content: "]" }),
          ];
        },
        qb = function (g) {
          return g;
        },
        nP = function (g) {
          return Jt("group", {
            content: Jt("string", { content: g.join("") }),
          });
        },
        Ub = function (g, C) {
          return C == g;
        },
        Gb = function (g, C) {
          return C;
        },
        iP = function (g, C, L) {
          return L == g;
        },
        sP = function (g, C) {
          return [
            Jt("string", { content: g }),
            Jt("string", { content: C.join("") }),
            Jt("string", { content: g }),
          ];
        },
        oP = function (g, C, L) {
          return [Jt("macro", { content: g }), ...(C || []), ...[].concat(L)];
        },
        aP = function (g, C, L, _) {
          return [
            Jt("macro", { content: g }),
            ...(C || []),
            L,
            ...[].concat(_),
          ];
        },
        Kb = function (g, C) {
          return V2({ content: [g] }, C);
        },
        Yb = function (g, C) {
          return C;
        },
        lP = function (g, C) {
          return Jt("verbatim", { env: g, content: C.join("") });
        },
        uP = function (g) {
          return g.join("");
        },
        cP = function (g) {
          return g;
        },
        fP = function (g) {
          return Jt("macro", { content: g });
        },
        Xb = function (g) {
          return g;
        },
        hP = function (g) {
          return Jt("group", { content: g.flatMap((C) => C) });
        },
        dP = function (g) {
          return OP().slice(1, -1);
        },
        Jb = function (g, C, L) {
          return V2(g, L);
        },
        Qb = function (g, C, L) {
          return L;
        },
        pP = function (g, C, L) {
          return (
            (L = L.flatMap((_) => _)),
            Jt("environment", { env: g, content: C ? [C, ...L] : L })
          );
        },
        Zb = function (g, C, L) {
          return V2({ content: [g] }, L);
        },
        eD = function (g, C, L) {
          return L;
        },
        mP = function (g, C, L) {
          return (
            (L = L.flatMap((_) => _)),
            Jt("mathenv", { env: g, content: C ? [C, ...L] : L })
          );
        },
        gP = function (g) {
          return Jt("string", { content: g });
        },
        vP = function () {
          return Jt("string", { content: "\\" });
        },
        yP = function (g) {
          return Jt("string", { content: g });
        },
        bP = function (g) {
          return Jt("string", { content: g });
        },
        DP = function (g) {
          return Jt("string", { content: g });
        },
        wP = function (g) {
          return Jt("string", { content: g });
        },
        xP = function (g) {
          return Jt("string", { content: g });
        },
        kP = function (g) {
          return Jt("string", { content: g });
        },
        SP = function (g) {
          return Jt("string", { content: g });
        },
        CP = function () {
          return " ";
        },
        AP = function (g) {
          return Jt("string", { content: g });
        },
        EP = function (g, C) {
          return Jt("comment", {
            ...C,
            sameline: !1,
            leadingWhitespace: g.length > 0,
          });
        },
        FP = function (g, C) {
          return Jt("comment", {
            ...C,
            sameline: !0,
            leadingWhitespace: g.length > 0,
          });
        },
        tD = function (g) {
          return g;
        },
        MP = function (g) {
          return { content: g.join(""), suffixParbreak: !0 };
        },
        rD = function (g) {
          return g;
        },
        _P = function (g) {
          return { content: g.join("") };
        },
        $P = function () {
          var g = nD();
          return g.start.column === 1;
        },
        y = 0,
        We = 0,
        Ip = [{ line: 1, column: 1 }],
        Ro = 0,
        T2 = [],
        K = 0,
        Np;
      if ("startRule" in o) {
        if (!(o.startRule in l))
          throw new Error(
            `Can't start parsing from rule "` + o.startRule + '".'
          );
        u = l[o.startRule];
      }
      function OP() {
        return i.substring(We, y);
      }
      function nD() {
        return P2(We, y);
      }
      function zt(g, C) {
        return { type: "literal", text: g, ignoreCase: C };
      }
      function $f(g, C, L) {
        return { type: "class", parts: g, inverted: C, ignoreCase: L };
      }
      function BP() {
        return { type: "any" };
      }
      function TP() {
        return { type: "end" };
      }
      function sn(g) {
        return { type: "other", description: g };
      }
      function iD(g) {
        var C = Ip[g],
          L;
        if (C) return C;
        for (L = g - 1; !Ip[L]; ) L--;
        for (C = Ip[L], C = { line: C.line, column: C.column }; L < g; )
          i.charCodeAt(L) === 10 ? (C.line++, (C.column = 1)) : C.column++, L++;
        return (Ip[g] = C), C;
      }
      function P2(g, C) {
        var L = iD(g),
          _ = iD(C);
        return {
          source: a,
          start: { offset: g, line: L.line, column: L.column },
          end: { offset: C, line: _.line, column: _.column },
        };
      }
      function Pe(g) {
        y < Ro || (y > Ro && ((Ro = y), (T2 = [])), T2.push(g));
      }
      function PP(g, C, L) {
        return new e(e.buildMessage(g, C), g, C, L);
      }
      function sD() {
        var g, C, L;
        for (K++, g = y, C = [], L = Io(); L !== s; ) C.push(L), (L = Io());
        return (
          (We = g), (C = pl(C)), (g = C), K--, (C = s), K === 0 && Pe(ne), g
        );
      }
      function RP() {
        var g, C;
        for (K++, g = [], C = _s(); C !== s; ) g.push(C), (C = _s());
        return K--, (C = s), K === 0 && Pe(J), g;
      }
      function Io() {
        var g, C, L, _, Y, V;
        if (
          (K++,
          (g = lD()),
          g === s &&
            ((g = dD()),
            g === s && ((g = vD()), g === s && ((g = bl()), g === s))))
        ) {
          if (((g = y), (C = Gi()), C !== s)) {
            if (
              ((L = []),
              (_ = y),
              (Y = y),
              K++,
              (V = Gi()),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? ((V = _s()),
                  V !== s ? ((We = _), (_ = $p(V))) : ((y = _), (_ = s)))
                : ((y = _), (_ = s)),
              _ !== s)
            )
              for (; _ !== s; )
                L.push(_),
                  (_ = y),
                  (Y = y),
                  K++,
                  (V = Gi()),
                  K--,
                  V === s ? (Y = void 0) : ((y = Y), (Y = s)),
                  Y !== s
                    ? ((V = _s()),
                      V !== s ? ((We = _), (_ = $p(V))) : ((y = _), (_ = s)))
                    : ((y = _), (_ = s));
            else L = s;
            L !== s
              ? ((_ = Gi()),
                _ !== s ? ((We = g), (g = O2(L))) : ((y = g), (g = s)))
              : ((y = g), (g = s));
          } else (y = g), (g = s);
          if (
            g === s &&
            ((g = L2()),
            g === s &&
              ((g = oD()),
              g === s &&
                ((g = z2()),
                g === s &&
                  ((g = j2()),
                  g === s &&
                    ((g = IP()),
                    g === s &&
                      ((g = Un()), g === s && ((g = gD()), g === s)))))))
          ) {
            if (
              ((g = y),
              (C = y),
              (L = []),
              (_ = y),
              (Y = y),
              K++,
              (V = aD()),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? (i.length > y
                    ? ((V = i.charAt(y)), y++)
                    : ((V = s), K === 0 && Pe(ue)),
                  V !== s ? ((Y = [Y, V]), (_ = Y)) : ((y = _), (_ = s)))
                : ((y = _), (_ = s)),
              _ !== s)
            )
              for (; _ !== s; )
                L.push(_),
                  (_ = y),
                  (Y = y),
                  K++,
                  (V = aD()),
                  K--,
                  V === s ? (Y = void 0) : ((y = Y), (Y = s)),
                  Y !== s
                    ? (i.length > y
                        ? ((V = i.charAt(y)), y++)
                        : ((V = s), K === 0 && Pe(ue)),
                      V !== s ? ((Y = [Y, V]), (_ = Y)) : ((y = _), (_ = s)))
                    : ((y = _), (_ = s));
            else L = s;
            L !== s ? (C = i.substring(C, y)) : (C = L),
              C !== s && ((We = g), (C = Op(C))),
              (g = C),
              g === s &&
                ((g = Dl()),
                g === s &&
                  ((g = Os()),
                  g === s &&
                    ((g = Gi()),
                    g === s &&
                      ((g = y),
                      i.length > y
                        ? ((C = i.charAt(y)), y++)
                        : ((C = s), K === 0 && Pe(ue)),
                      C !== s && ((We = g), (C = Bp(C))),
                      (g = C)))));
          }
        }
        return K--, g === s && ((C = s), K === 0 && Pe(er)), g;
      }
      function oD() {
        var g, C, L, _, Y, V, ye, ge;
        for (K++, g = y, C = y, L = [], _ = wr(); _ !== s; )
          L.push(_), (_ = wr());
        if (((_ = ni()), _ !== s)) {
          for (Y = [], V = y, ye = [], ge = wr(); ge !== s; )
            ye.push(ge), (ge = wr());
          if (
            ((ge = ni()),
            ge !== s ? ((ye = [ye, ge]), (V = ye)) : ((y = V), (V = s)),
            V !== s)
          )
            for (; V !== s; ) {
              for (Y.push(V), V = y, ye = [], ge = wr(); ge !== s; )
                ye.push(ge), (ge = wr());
              (ge = ni()),
                ge !== s ? ((ye = [ye, ge]), (V = ye)) : ((y = V), (V = s));
            }
          else Y = s;
          if (Y !== s) {
            for (V = [], ye = wr(); ye !== s; ) V.push(ye), (ye = wr());
            (ye = y),
              K++,
              (ge = Of()),
              K--,
              ge === s ? (ye = void 0) : ((y = ye), (ye = s)),
              ye !== s ? ((L = [L, _, Y, V, ye]), (C = L)) : ((y = C), (C = s));
          } else (y = C), (C = s);
        } else (y = C), (C = s);
        if (C === s) {
          for (C = y, L = [], _ = wr(); _ !== s; ) L.push(_), (_ = wr());
          if (((_ = ni()), _ !== s)) {
            for (Y = [], V = y, ye = [], ge = wr(); ge !== s; )
              ye.push(ge), (ge = wr());
            if (
              ((ge = ni()),
              ge !== s ? ((ye = [ye, ge]), (V = ye)) : ((y = V), (V = s)),
              V !== s)
            )
              for (; V !== s; ) {
                for (Y.push(V), V = y, ye = [], ge = wr(); ge !== s; )
                  ye.push(ge), (ge = wr());
                (ge = ni()),
                  ge !== s ? ((ye = [ye, ge]), (V = ye)) : ((y = V), (V = s));
              }
            else Y = s;
            Y !== s ? ((L = [L, _, Y]), (C = L)) : ((y = C), (C = s));
          } else (y = C), (C = s);
        }
        return (
          C !== s && ((We = g), (C = Tp())),
          (g = C),
          K--,
          g === s && ((C = s), K === 0 && Pe(Xt)),
          g
        );
      }
      function _s() {
        var g, C, L, _, Y;
        if (
          (K++,
          (g = lD()),
          g === s && ((g = dD()), g === s && ((g = vD()), g === s)))
        ) {
          for (g = y, C = [], L = Un(); L !== s; ) C.push(L), (L = Un());
          if (((L = bl()), L !== s)) {
            for (_ = [], Y = Un(); Y !== s; ) _.push(Y), (Y = Un());
            (We = g), (g = ml(L));
          } else (y = g), (g = s);
          if (g === s) {
            for (g = y, C = [], L = Un(); L !== s; ) C.push(L), (L = Un());
            if (((L = L2()), L !== s)) {
              for (_ = [], Y = Un(); Y !== s; ) _.push(Y), (Y = Un());
              (We = g), (g = B2(L));
            } else (y = g), (g = s);
            if (g === s && ((g = z2()), g === s)) {
              for (g = y, C = [], L = Un(); L !== s; ) C.push(L), (L = Un());
              if (((L = qP()), L !== s)) {
                for (_ = [], Y = Un(); Y !== s; ) _.push(Y), (Y = Un());
                (We = g), (g = gl());
              } else (y = g), (g = s);
              if (g === s) {
                for (g = y, C = [], L = Un(); L !== s; ) C.push(L), (L = Un());
                if (((L = UP()), L !== s)) {
                  for (_ = [], Y = Un(); Y !== s; ) _.push(Y), (Y = Un());
                  (We = g), (g = Pp());
                } else (y = g), (g = s);
                g === s &&
                  ((g = j2()),
                  g === s &&
                    ((g = Un()),
                    g === s &&
                      ((g = y),
                      i.length > y
                        ? ((C = i.charAt(y)), y++)
                        : ((C = s), K === 0 && Pe(ue)),
                      C !== s && ((We = g), (C = Rp(C))),
                      (g = C))));
              }
            }
          }
        }
        return K--, g === s && ((C = s), K === 0 && Pe(Lt)), g;
      }
      function aD() {
        var g;
        return (
          K++,
          (g = $s()),
          g === s &&
            (i.charCodeAt(y) === 37
              ? ((g = c), y++)
              : ((g = s), K === 0 && Pe($e)),
            g === s &&
              ((g = Dl()),
              g === s &&
                ((g = Os()),
                g === s &&
                  ((g = Gi()),
                  g === s &&
                    ((g = L2()),
                    g === s &&
                      ((g = ni()),
                      g === s &&
                        ((g = z2()),
                        g === s &&
                          ((g = j2()),
                          g === s &&
                            ((g = wr()),
                            g === s &&
                              ((g = gD()), g === s && (g = bD()))))))))))),
          K--,
          g === s && K === 0 && Pe(bt),
          g
        );
      }
      function Un() {
        var g, C, L, _, Y, V, ye, ge;
        if ((K++, (g = y), (C = y), (L = ni()), L !== s)) {
          for (_ = [], Y = wr(); Y !== s; ) _.push(Y), (Y = wr());
          (L = [L, _]), (C = L);
        } else (y = C), (C = s);
        if (C === s) {
          if (((C = y), (L = []), (_ = wr()), _ !== s))
            for (; _ !== s; ) L.push(_), (_ = wr());
          else L = s;
          if (L !== s)
            if (((_ = ni()), _ !== s))
              if (
                ((Y = y),
                K++,
                (V = Of()),
                K--,
                V === s ? (Y = void 0) : ((y = Y), (Y = s)),
                Y !== s)
              ) {
                for (V = [], ye = wr(); ye !== s; ) V.push(ye), (ye = wr());
                (ye = y),
                  K++,
                  (ge = ni()),
                  K--,
                  ge === s ? (ye = void 0) : ((y = ye), (ye = s)),
                  ye !== s
                    ? ((L = [L, _, Y, V, ye]), (C = L))
                    : ((y = C), (C = s));
              } else (y = C), (C = s);
            else (y = C), (C = s);
          else (y = C), (C = s);
          if (C === s)
            if (((C = []), (L = wr()), L !== s))
              for (; L !== s; ) C.push(L), (L = wr());
            else C = s;
        }
        return (
          C !== s && ((We = g), (C = vl())),
          (g = C),
          K--,
          g === s && ((C = s), K === 0 && Pe(hn)),
          g
        );
      }
      function IP() {
        var g, C, L, _, Y, V;
        if ((K++, (g = y), (C = y), (L = []), (_ = wl()), _ !== s))
          for (; _ !== s; ) L.push(_), (_ = wl());
        else L = s;
        if (L !== s)
          if (
            (i.charCodeAt(y) === 46
              ? ((_ = f), y++)
              : ((_ = s), K === 0 && Pe(Fn)),
            _ !== s)
          ) {
            if (((Y = []), (V = wl()), V !== s))
              for (; V !== s; ) Y.push(V), (V = wl());
            else Y = s;
            Y !== s ? ((We = C), (C = Pu(L, Y))) : ((y = C), (C = s));
          } else (y = C), (C = s);
        else (y = C), (C = s);
        if (C === s) {
          if (
            ((C = y),
            i.charCodeAt(y) === 46
              ? ((L = f), y++)
              : ((L = s), K === 0 && Pe(Fn)),
            L !== s)
          ) {
            if (((_ = []), (Y = wl()), Y !== s))
              for (; Y !== s; ) _.push(Y), (Y = wl());
            else _ = s;
            _ !== s ? ((We = C), (C = M(_))) : ((y = C), (C = s));
          } else (y = C), (C = s);
          if (C === s) {
            if (((C = y), (L = []), (_ = wl()), _ !== s))
              for (; _ !== s; ) L.push(_), (_ = wl());
            else L = s;
            L !== s
              ? (i.charCodeAt(y) === 46
                  ? ((_ = f), y++)
                  : ((_ = s), K === 0 && Pe(Fn)),
                _ !== s ? ((We = C), (C = j(L))) : ((y = C), (C = s)))
              : ((y = C), (C = s));
          }
        }
        return (
          C !== s && ((We = g), (C = oe(C))),
          (g = C),
          K--,
          g === s && ((C = s), K === 0 && Pe(nr)),
          g
        );
      }
      function lD() {
        var g, C, L, _, Y, V, ye, ge, it, kt;
        if ((K++, (g = y), (C = $s()), C !== s))
          if (
            (i.substr(y, 5) === h
              ? ((L = h), (y += 5))
              : ((L = s), K === 0 && Pe(H)),
            L === s &&
              (i.substr(y, 4) === d
                ? ((L = d), (y += 4))
                : ((L = s), K === 0 && Pe(z))),
            L !== s)
          )
            if (
              (i.length > y
                ? ((_ = i.charAt(y)), y++)
                : ((_ = s), K === 0 && Pe(ue)),
              _ !== s)
            ) {
              for (
                Y = [],
                  V = y,
                  ye = y,
                  K++,
                  ge = y,
                  i.length > y
                    ? ((it = i.charAt(y)), y++)
                    : ((it = s), K === 0 && Pe(ue)),
                  it !== s
                    ? ((We = y),
                      (kt = pe(L, _, it)),
                      kt ? (kt = void 0) : (kt = s),
                      kt !== s
                        ? ((it = [it, kt]), (ge = it))
                        : ((y = ge), (ge = s)))
                    : ((y = ge), (ge = s)),
                  K--,
                  ge === s ? (ye = void 0) : ((y = ye), (ye = s)),
                  ye !== s
                    ? (i.length > y
                        ? ((ge = i.charAt(y)), y++)
                        : ((ge = s), K === 0 && Pe(ue)),
                      ge !== s
                        ? ((We = V), (V = Ke(L, _, ge)))
                        : ((y = V), (V = s)))
                    : ((y = V), (V = s));
                V !== s;

              )
                Y.push(V),
                  (V = y),
                  (ye = y),
                  K++,
                  (ge = y),
                  i.length > y
                    ? ((it = i.charAt(y)), y++)
                    : ((it = s), K === 0 && Pe(ue)),
                  it !== s
                    ? ((We = y),
                      (kt = pe(L, _, it)),
                      kt ? (kt = void 0) : (kt = s),
                      kt !== s
                        ? ((it = [it, kt]), (ge = it))
                        : ((y = ge), (ge = s)))
                    : ((y = ge), (ge = s)),
                  K--,
                  ge === s ? (ye = void 0) : ((y = ye), (ye = s)),
                  ye !== s
                    ? (i.length > y
                        ? ((ge = i.charAt(y)), y++)
                        : ((ge = s), K === 0 && Pe(ue)),
                      ge !== s
                        ? ((We = V), (V = Ke(L, _, ge)))
                        : ((y = V), (V = s)))
                    : ((y = V), (V = s));
              (V = y),
                i.length > y
                  ? ((ye = i.charAt(y)), y++)
                  : ((ye = s), K === 0 && Pe(ue)),
                ye !== s
                  ? ((We = y),
                    (ge = lt(L, _, Y, ye)),
                    ge ? (ge = void 0) : (ge = s),
                    ge !== s ? ((ye = [ye, ge]), (V = ye)) : ((y = V), (V = s)))
                  : ((y = V), (V = s)),
                V !== s ? ((We = g), (g = Cr(L, _, Y))) : ((y = g), (g = s));
            } else (y = g), (g = s);
          else (y = g), (g = s);
        else (y = g), (g = s);
        if (
          g === s &&
          ((g = NP()),
          g === s && ((g = LP()), g === s && ((g = zP()), g === s)))
        ) {
          if (((g = y), (C = VP()), C !== s)) {
            for (
              L = [],
                _ = y,
                Y = y,
                K++,
                V = R2(),
                K--,
                V === s ? (Y = void 0) : ((y = Y), (Y = s)),
                Y !== s
                  ? ((V = _s()),
                    V !== s ? ((We = _), (_ = Di(V))) : ((y = _), (_ = s)))
                  : ((y = _), (_ = s));
              _ !== s;

            )
              L.push(_),
                (_ = y),
                (Y = y),
                K++,
                (V = R2()),
                K--,
                V === s ? (Y = void 0) : ((y = Y), (Y = s)),
                Y !== s
                  ? ((V = _s()),
                    V !== s ? ((We = _), (_ = Di(V))) : ((y = _), (_ = s)))
                  : ((y = _), (_ = s));
            (_ = R2()), _ !== s ? ((We = g), (g = yl(L))) : ((y = g), (g = s));
          } else (y = g), (g = s);
          if (g === s) {
            if (((g = y), (C = WP()), C !== s)) {
              for (
                L = [],
                  _ = y,
                  Y = y,
                  K++,
                  V = I2(),
                  K--,
                  V === s ? (Y = void 0) : ((y = Y), (Y = s)),
                  Y !== s
                    ? ((V = _s()),
                      V !== s ? ((We = _), (_ = wa(V))) : ((y = _), (_ = s)))
                    : ((y = _), (_ = s));
                _ !== s;

              )
                L.push(_),
                  (_ = y),
                  (Y = y),
                  K++,
                  (V = I2()),
                  K--,
                  V === s ? (Y = void 0) : ((y = Y), (Y = s)),
                  Y !== s
                    ? ((V = _s()),
                      V !== s ? ((We = _), (_ = wa(V))) : ((y = _), (_ = s)))
                    : ((y = _), (_ = s));
              (_ = I2()),
                _ !== s ? ((We = g), (g = eP(L))) : ((y = g), (g = s));
            } else (y = g), (g = s);
            if (g === s) {
              if (((g = y), (C = Gi()), C !== s))
                if (((L = Gi()), L !== s)) {
                  for (
                    _ = [],
                      Y = y,
                      V = y,
                      K++,
                      ye = y,
                      ge = Gi(),
                      ge !== s
                        ? ((it = Gi()),
                          it !== s
                            ? ((ge = [ge, it]), (ye = ge))
                            : ((y = ye), (ye = s)))
                        : ((y = ye), (ye = s)),
                      K--,
                      ye === s ? (V = void 0) : ((y = V), (V = s)),
                      V !== s
                        ? ((ye = _s()),
                          ye !== s
                            ? ((We = Y), (Y = Hb(ye)))
                            : ((y = Y), (Y = s)))
                        : ((y = Y), (Y = s));
                    Y !== s;

                  )
                    _.push(Y),
                      (Y = y),
                      (V = y),
                      K++,
                      (ye = y),
                      (ge = Gi()),
                      ge !== s
                        ? ((it = Gi()),
                          it !== s
                            ? ((ge = [ge, it]), (ye = ge))
                            : ((y = ye), (ye = s)))
                        : ((y = ye), (ye = s)),
                      K--,
                      ye === s ? (V = void 0) : ((y = V), (V = s)),
                      V !== s
                        ? ((ye = _s()),
                          ye !== s
                            ? ((We = Y), (Y = Hb(ye)))
                            : ((y = Y), (Y = s)))
                        : ((y = Y), (Y = s));
                  (Y = Gi()),
                    Y !== s
                      ? ((V = Gi()),
                        V !== s ? ((We = g), (g = tP(_))) : ((y = g), (g = s)))
                      : ((y = g), (g = s));
                } else (y = g), (g = s);
              else (y = g), (g = s);
              g === s && ((g = HP()), g === s && (g = jP()));
            }
          }
        }
        return K--, g === s && ((C = s), K === 0 && Pe(hr)), g;
      }
      function uD() {
        var g, C, L, _, Y, V, ye, ge;
        if (
          ((g = y),
          i.charCodeAt(y) === 91 ? ((C = p), y++) : ((C = s), K === 0 && Pe(X)),
          C !== s)
        ) {
          for (
            L = [],
              _ = y,
              Y = y,
              K++,
              V = y,
              ye = Io(),
              ye !== s
                ? ((We = y),
                  (ge = Vb(ye)),
                  ge ? (ge = void 0) : (ge = s),
                  ge !== s ? ((ye = [ye, ge]), (V = ye)) : ((y = V), (V = s)))
                : ((y = V), (V = s)),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? ((V = Io()),
                  V !== s ? ((We = _), (_ = Wb(V))) : ((y = _), (_ = s)))
                : ((y = _), (_ = s));
            _ !== s;

          )
            L.push(_),
              (_ = y),
              (Y = y),
              K++,
              (V = y),
              (ye = Io()),
              ye !== s
                ? ((We = y),
                  (ge = Vb(ye)),
                  ge ? (ge = void 0) : (ge = s),
                  ge !== s ? ((ye = [ye, ge]), (V = ye)) : ((y = V), (V = s)))
                : ((y = V), (V = s)),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? ((V = Io()),
                  V !== s ? ((We = _), (_ = Wb(V))) : ((y = _), (_ = s)))
                : ((y = _), (_ = s));
          i.charCodeAt(y) === 93
            ? ((_ = m), y++)
            : ((_ = s), K === 0 && Pe(fe)),
            _ !== s ? ((We = g), (g = rP(L))) : ((y = g), (g = s));
        } else (y = g), (g = s);
        return g;
      }
      function cD() {
        var g, C, L, _, Y, V;
        if (((g = y), (C = Dl()), C !== s)) {
          for (
            L = [],
              _ = y,
              Y = y,
              K++,
              V = Os(),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? (i.length > y
                    ? ((V = i.charAt(y)), y++)
                    : ((V = s), K === 0 && Pe(ue)),
                  V !== s ? ((We = _), (_ = qb(V))) : ((y = _), (_ = s)))
                : ((y = _), (_ = s));
            _ !== s;

          )
            L.push(_),
              (_ = y),
              (Y = y),
              K++,
              (V = Os()),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? (i.length > y
                    ? ((V = i.charAt(y)), y++)
                    : ((V = s), K === 0 && Pe(ue)),
                  V !== s ? ((We = _), (_ = qb(V))) : ((y = _), (_ = s)))
                : ((y = _), (_ = s));
          (_ = Os()), _ !== s ? ((We = g), (g = nP(L))) : ((y = g), (g = s));
        } else (y = g), (g = s);
        return g;
      }
      function fD() {
        var g, C, L, _, Y, V, ye, ge;
        if (
          ((g = y),
          rr.test(i.charAt(y))
            ? ((C = i.charAt(y)), y++)
            : ((C = s), K === 0 && Pe(I)),
          C !== s)
        ) {
          for (
            L = [],
              _ = y,
              Y = y,
              K++,
              V = y,
              i.length > y
                ? ((ye = i.charAt(y)), y++)
                : ((ye = s), K === 0 && Pe(ue)),
              ye !== s
                ? ((We = y),
                  (ge = Ub(C, ye)),
                  ge ? (ge = void 0) : (ge = s),
                  ge !== s ? ((ye = [ye, ge]), (V = ye)) : ((y = V), (V = s)))
                : ((y = V), (V = s)),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? (i.length > y
                    ? ((V = i.charAt(y)), y++)
                    : ((V = s), K === 0 && Pe(ue)),
                  V !== s ? ((We = _), (_ = Gb(C, V))) : ((y = _), (_ = s)))
                : ((y = _), (_ = s));
            _ !== s;

          )
            L.push(_),
              (_ = y),
              (Y = y),
              K++,
              (V = y),
              i.length > y
                ? ((ye = i.charAt(y)), y++)
                : ((ye = s), K === 0 && Pe(ue)),
              ye !== s
                ? ((We = y),
                  (ge = Ub(C, ye)),
                  ge ? (ge = void 0) : (ge = s),
                  ge !== s ? ((ye = [ye, ge]), (V = ye)) : ((y = V), (V = s)))
                : ((y = V), (V = s)),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? (i.length > y
                    ? ((V = i.charAt(y)), y++)
                    : ((V = s), K === 0 && Pe(ue)),
                  V !== s ? ((We = _), (_ = Gb(C, V))) : ((y = _), (_ = s)))
                : ((y = _), (_ = s));
          (_ = y),
            i.length > y
              ? ((Y = i.charAt(y)), y++)
              : ((Y = s), K === 0 && Pe(ue)),
            Y !== s
              ? ((We = y),
                (V = iP(C, L, Y)),
                V ? (V = void 0) : (V = s),
                V !== s ? ((Y = [Y, V]), (_ = Y)) : ((y = _), (_ = s)))
              : ((y = _), (_ = s)),
            _ !== s ? ((We = g), (g = sP(C, L))) : ((y = g), (g = s));
        } else (y = g), (g = s);
        return g;
      }
      function NP() {
        var g, C, L, _, Y;
        return (
          K++,
          (g = y),
          (C = $s()),
          C !== s
            ? (i.substr(y, 9) === b
                ? ((L = b), (y += 9))
                : ((L = s), K === 0 && Pe(Bt)),
              L !== s
                ? ((_ = uD()),
                  _ === s && (_ = null),
                  (Y = cD()),
                  Y === s && (Y = fD()),
                  Y !== s ? ((We = g), (g = oP(L, _, Y))) : ((y = g), (g = s)))
                : ((y = g), (g = s)))
            : ((y = g), (g = s)),
          K--,
          g === s && ((C = s), K === 0 && Pe(ht)),
          g
        );
      }
      function LP() {
        var g, C, L, _, Y, V;
        return (
          K++,
          (g = y),
          (C = $s()),
          C !== s
            ? (i.substr(y, 10) === D
                ? ((L = D), (y += 10))
                : ((L = s), K === 0 && Pe(Ye)),
              L === s &&
                (i.substr(y, 4) === k
                  ? ((L = k), (y += 4))
                  : ((L = s), K === 0 && Pe(jt))),
              L !== s
                ? ((_ = uD()),
                  _ === s && (_ = null),
                  (Y = bl()),
                  Y !== s
                    ? ((V = cD()),
                      V === s && (V = fD()),
                      V !== s
                        ? ((We = g), (g = aP(L, _, Y, V)))
                        : ((y = g), (g = s)))
                    : ((y = g), (g = s)))
                : ((y = g), (g = s)))
            : ((y = g), (g = s)),
          K--,
          g === s && ((C = s), K === 0 && Pe(Et)),
          g
        );
      }
      function zP() {
        var g, C, L, _, Y, V, ye, ge, it, kt, cr, wn;
        if ((K++, (g = y), (C = N2()), C !== s))
          if (((L = Dl()), L !== s))
            if (((_ = hD()), _ !== s))
              if (((Y = Os()), Y !== s)) {
                for (
                  V = [],
                    ye = y,
                    ge = y,
                    K++,
                    it = y,
                    kt = xa(),
                    kt !== s
                      ? ((cr = bl()),
                        cr !== s
                          ? ((We = y),
                            (wn = Kb(_, cr)),
                            wn ? (wn = void 0) : (wn = s),
                            wn !== s
                              ? ((kt = [kt, cr, wn]), (it = kt))
                              : ((y = it), (it = s)))
                          : ((y = it), (it = s)))
                      : ((y = it), (it = s)),
                    K--,
                    it === s ? (ge = void 0) : ((y = ge), (ge = s)),
                    ge !== s
                      ? (i.length > y
                          ? ((it = i.charAt(y)), y++)
                          : ((it = s), K === 0 && Pe(ue)),
                        it !== s
                          ? ((We = ye), (ye = Yb(_, it)))
                          : ((y = ye), (ye = s)))
                      : ((y = ye), (ye = s));
                  ye !== s;

                )
                  V.push(ye),
                    (ye = y),
                    (ge = y),
                    K++,
                    (it = y),
                    (kt = xa()),
                    kt !== s
                      ? ((cr = bl()),
                        cr !== s
                          ? ((We = y),
                            (wn = Kb(_, cr)),
                            wn ? (wn = void 0) : (wn = s),
                            wn !== s
                              ? ((kt = [kt, cr, wn]), (it = kt))
                              : ((y = it), (it = s)))
                          : ((y = it), (it = s)))
                      : ((y = it), (it = s)),
                    K--,
                    it === s ? (ge = void 0) : ((y = ge), (ge = s)),
                    ge !== s
                      ? (i.length > y
                          ? ((it = i.charAt(y)), y++)
                          : ((it = s), K === 0 && Pe(ue)),
                        it !== s
                          ? ((We = ye), (ye = Yb(_, it)))
                          : ((y = ye), (ye = s)))
                      : ((y = ye), (ye = s));
                (ye = xa()),
                  ye !== s
                    ? ((ge = Dl()),
                      ge !== s
                        ? ((it = hD()),
                          it !== s
                            ? ((kt = Os()),
                              kt !== s
                                ? ((We = g), (g = lP(_, V)))
                                : ((y = g), (g = s)))
                            : ((y = g), (g = s)))
                        : ((y = g), (g = s)))
                    : ((y = g), (g = s));
              } else (y = g), (g = s);
            else (y = g), (g = s);
          else (y = g), (g = s);
        else (y = g), (g = s);
        return K--, g === s && ((C = s), K === 0 && Pe(Ct)), g;
      }
      function hD() {
        var g;
        return (
          i.substr(y, 9) === S
            ? ((g = S), (y += 9))
            : ((g = s), K === 0 && Pe(Rt)),
          g === s &&
            (i.substr(y, 8) === B
              ? ((g = B), (y += 8))
              : ((g = s), K === 0 && Pe(ir)),
            g === s &&
              (i.substr(y, 13) === $
                ? ((g = $), (y += 13))
                : ((g = s), K === 0 && Pe(bi)),
              g === s &&
                (i.substr(y, 12) === T
                  ? ((g = T), (y += 12))
                  : ((g = s), K === 0 && Pe(De)),
                g === s &&
                  (i.substr(y, 7) === P
                    ? ((g = P), (y += 7))
                    : ((g = s), K === 0 && Pe(rt)),
                  g === s &&
                    (i.substr(y, 10) === te
                      ? ((g = te), (y += 10))
                      : ((g = s), K === 0 && Pe(Xe))))))),
          g
        );
      }
      function dD() {
        var g, C, L, _, Y;
        if ((K++, (g = y), (C = y), (L = $s()), L !== s)) {
          if (((_ = []), (Y = mD()), Y !== s))
            for (; Y !== s; ) _.push(Y), (Y = mD());
          else _ = s;
          _ !== s ? ((We = C), (C = uP(_))) : ((y = C), (C = s));
        } else (y = C), (C = s);
        return (
          C === s &&
            ((C = y),
            (L = $s()),
            L !== s
              ? (i.length > y
                  ? ((_ = i.charAt(y)), y++)
                  : ((_ = s), K === 0 && Pe(ue)),
                _ !== s ? ((We = C), (C = cP(_))) : ((y = C), (C = s)))
              : ((y = C), (C = s))),
          C !== s && ((We = g), (C = fP(C))),
          (g = C),
          K--,
          g === s && ((C = s), K === 0 && Pe(qt)),
          g
        );
      }
      function bl() {
        var g, C, L, _, Y, V;
        if ((K++, (g = y), (C = Dl()), C !== s)) {
          for (
            L = [],
              _ = y,
              Y = y,
              K++,
              V = Os(),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? ((V = Io()),
                  V !== s ? ((We = _), (_ = Xb(V))) : ((y = _), (_ = s)))
                : ((y = _), (_ = s));
            _ !== s;

          )
            L.push(_),
              (_ = y),
              (Y = y),
              K++,
              (V = Os()),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? ((V = Io()),
                  V !== s ? ((We = _), (_ = Xb(V))) : ((y = _), (_ = s)))
                : ((y = _), (_ = s));
          (_ = Os()), _ !== s ? ((We = g), (g = hP(L))) : ((y = g), (g = s));
        } else (y = g), (g = s);
        return K--, g === s && ((C = s), K === 0 && Pe(Dr)), g;
      }
      function Lp() {
        var g, C;
        return (
          (g = y), (C = bl()), C !== s && ((We = g), (C = dP())), (g = C), g
        );
      }
      function jP() {
        var g, C, L, _, Y, V, ye, ge, it, kt, cr;
        if ((K++, (g = y), (C = N2()), C !== s))
          if (((L = Lp()), L !== s)) {
            for (
              _ = H2(),
                _ === s && (_ = null),
                Y = [],
                V = y,
                ye = y,
                K++,
                ge = y,
                it = xa(),
                it !== s
                  ? ((kt = Lp()),
                    kt !== s
                      ? ((We = y),
                        (cr = Jb(L, _, kt)),
                        cr ? (cr = void 0) : (cr = s),
                        cr !== s
                          ? ((it = [it, kt, cr]), (ge = it))
                          : ((y = ge), (ge = s)))
                      : ((y = ge), (ge = s)))
                  : ((y = ge), (ge = s)),
                K--,
                ge === s ? (ye = void 0) : ((y = ye), (ye = s)),
                ye !== s
                  ? ((ge = Io()),
                    ge !== s
                      ? ((We = V), (V = Qb(L, _, ge)))
                      : ((y = V), (V = s)))
                  : ((y = V), (V = s));
              V !== s;

            )
              Y.push(V),
                (V = y),
                (ye = y),
                K++,
                (ge = y),
                (it = xa()),
                it !== s
                  ? ((kt = Lp()),
                    kt !== s
                      ? ((We = y),
                        (cr = Jb(L, _, kt)),
                        cr ? (cr = void 0) : (cr = s),
                        cr !== s
                          ? ((it = [it, kt, cr]), (ge = it))
                          : ((y = ge), (ge = s)))
                      : ((y = ge), (ge = s)))
                  : ((y = ge), (ge = s)),
                K--,
                ge === s ? (ye = void 0) : ((y = ye), (ye = s)),
                ye !== s
                  ? ((ge = Io()),
                    ge !== s
                      ? ((We = V), (V = Qb(L, _, ge)))
                      : ((y = V), (V = s)))
                  : ((y = V), (V = s));
            (V = xa()),
              V !== s
                ? ((ye = Lp()),
                  ye !== s ? ((We = g), (g = pP(L, _, Y))) : ((y = g), (g = s)))
                : ((y = g), (g = s));
          } else (y = g), (g = s);
        else (y = g), (g = s);
        return K--, g === s && ((C = s), K === 0 && Pe(Pr)), g;
      }
      function HP() {
        var g, C, L, _, Y, V, ye, ge, it, kt, cr, wn, Bs;
        if ((K++, (g = y), (C = N2()), C !== s))
          if (((L = Dl()), L !== s))
            if (((_ = pD()), _ !== s))
              if (((Y = Os()), Y !== s)) {
                for (
                  V = H2(),
                    V === s && (V = null),
                    ye = [],
                    ge = y,
                    it = y,
                    K++,
                    kt = y,
                    cr = xa(),
                    cr !== s
                      ? ((wn = bl()),
                        wn !== s
                          ? ((We = y),
                            (Bs = Zb(_, V, wn)),
                            Bs ? (Bs = void 0) : (Bs = s),
                            Bs !== s
                              ? ((cr = [cr, wn, Bs]), (kt = cr))
                              : ((y = kt), (kt = s)))
                          : ((y = kt), (kt = s)))
                      : ((y = kt), (kt = s)),
                    K--,
                    kt === s ? (it = void 0) : ((y = it), (it = s)),
                    it !== s
                      ? ((kt = _s()),
                        kt !== s
                          ? ((We = ge), (ge = eD(_, V, kt)))
                          : ((y = ge), (ge = s)))
                      : ((y = ge), (ge = s));
                  ge !== s;

                )
                  ye.push(ge),
                    (ge = y),
                    (it = y),
                    K++,
                    (kt = y),
                    (cr = xa()),
                    cr !== s
                      ? ((wn = bl()),
                        wn !== s
                          ? ((We = y),
                            (Bs = Zb(_, V, wn)),
                            Bs ? (Bs = void 0) : (Bs = s),
                            Bs !== s
                              ? ((cr = [cr, wn, Bs]), (kt = cr))
                              : ((y = kt), (kt = s)))
                          : ((y = kt), (kt = s)))
                      : ((y = kt), (kt = s)),
                    K--,
                    kt === s ? (it = void 0) : ((y = it), (it = s)),
                    it !== s
                      ? ((kt = _s()),
                        kt !== s
                          ? ((We = ge), (ge = eD(_, V, kt)))
                          : ((y = ge), (ge = s)))
                      : ((y = ge), (ge = s));
                (ge = xa()),
                  ge !== s
                    ? ((it = Dl()),
                      it !== s
                        ? ((kt = pD()),
                          kt !== s
                            ? ((cr = Os()),
                              cr !== s
                                ? ((We = g), (g = mP(_, V, ye)))
                                : ((y = g), (g = s)))
                            : ((y = g), (g = s)))
                        : ((y = g), (g = s)))
                    : ((y = g), (g = s));
              } else (y = g), (g = s);
            else (y = g), (g = s);
          else (y = g), (g = s);
        else (y = g), (g = s);
        return K--, g === s && ((C = s), K === 0 && Pe(R)), g;
      }
      function VP() {
        var g, C, L;
        return (
          (g = y),
          (C = $s()),
          C !== s
            ? (i.charCodeAt(y) === 91
                ? ((L = p), y++)
                : ((L = s), K === 0 && Pe(X)),
              L !== s ? ((C = [C, L]), (g = C)) : ((y = g), (g = s)))
            : ((y = g), (g = s)),
          g
        );
      }
      function R2() {
        var g, C, L;
        return (
          (g = y),
          (C = $s()),
          C !== s
            ? (i.charCodeAt(y) === 93
                ? ((L = m), y++)
                : ((L = s), K === 0 && Pe(fe)),
              L !== s ? ((C = [C, L]), (g = C)) : ((y = g), (g = s)))
            : ((y = g), (g = s)),
          g
        );
      }
      function WP() {
        var g, C, L;
        return (
          (g = y),
          (C = $s()),
          C !== s
            ? (i.charCodeAt(y) === 40
                ? ((L = ee), y++)
                : ((L = s), K === 0 && Pe(ae)),
              L !== s ? ((C = [C, L]), (g = C)) : ((y = g), (g = s)))
            : ((y = g), (g = s)),
          g
        );
      }
      function I2() {
        var g, C, L;
        return (
          (g = y),
          (C = $s()),
          C !== s
            ? (i.charCodeAt(y) === 41
                ? ((L = de), y++)
                : ((L = s), K === 0 && Pe(ie)),
              L !== s ? ((C = [C, L]), (g = C)) : ((y = g), (g = s)))
            : ((y = g), (g = s)),
          g
        );
      }
      function N2() {
        var g, C, L;
        return (
          (g = y),
          (C = $s()),
          C !== s
            ? (i.substr(y, 5) === ke
                ? ((L = ke), (y += 5))
                : ((L = s), K === 0 && Pe(Dt)),
              L !== s ? ((C = [C, L]), (g = C)) : ((y = g), (g = s)))
            : ((y = g), (g = s)),
          g
        );
      }
      function xa() {
        var g, C, L;
        return (
          (g = y),
          (C = $s()),
          C !== s
            ? (i.substr(y, 3) === Ce
                ? ((L = Ce), (y += 3))
                : ((L = s), K === 0 && Pe(Tt)),
              L !== s ? ((C = [C, L]), (g = C)) : ((y = g), (g = s)))
            : ((y = g), (g = s)),
          g
        );
      }
      function pD() {
        var g, C;
        return (
          (g = y),
          i.substr(y, 9) === he
            ? ((C = he), (y += 9))
            : ((C = s), K === 0 && Pe(Gt)),
          C === s &&
            (i.substr(y, 8) === ze
              ? ((C = ze), (y += 8))
              : ((C = s), K === 0 && Pe(Lr)),
            C === s &&
              (i.substr(y, 6) === Ve
                ? ((C = Ve), (y += 6))
                : ((C = s), K === 0 && Pe(N)),
              C === s &&
                (i.substr(y, 5) === Ae
                  ? ((C = Ae), (y += 5))
                  : ((C = s), K === 0 && Pe(x)),
                C === s &&
                  (i.substr(y, 8) === tt
                    ? ((C = tt), (y += 8))
                    : ((C = s), K === 0 && Pe(re)),
                  C === s &&
                    (i.substr(y, 7) === Ee
                      ? ((C = Ee), (y += 7))
                      : ((C = s), K === 0 && Pe(xt)),
                    C === s &&
                      (i.substr(y, 7) === Je
                        ? ((C = Je), (y += 7))
                        : ((C = s), K === 0 && Pe(ur)),
                      C === s &&
                        (i.substr(y, 6) === Re
                          ? ((C = Re), (y += 6))
                          : ((C = s), K === 0 && Pe(we)),
                        C === s &&
                          (i.substr(y, 9) === ve
                            ? ((C = ve), (y += 9))
                            : ((C = s), K === 0 && Pe(zr)),
                          C === s &&
                            (i.substr(y, 8) === Fe
                              ? ((C = Fe), (y += 8))
                              : ((C = s), K === 0 && Pe(nn)),
                            C === s &&
                              (i.substr(y, 8) === q
                                ? ((C = q), (y += 8))
                                : ((C = s), K === 0 && Pe(qi)),
                              C === s &&
                                (i.substr(y, 7) === Ot
                                  ? ((C = Ot), (y += 7))
                                  : ((C = s), K === 0 && Pe(dl)),
                                C === s &&
                                  (i.substr(y, 5) === Mt
                                    ? ((C = Mt), (y += 5))
                                    : ((C = s), K === 0 && Pe(Mn)),
                                  C === s &&
                                    (i.substr(y, 4) === yt
                                      ? ((C = yt), (y += 4))
                                      : ((C = s), K === 0 && Pe(Q)),
                                    C === s &&
                                      (i.substr(y, 11) === wt
                                        ? ((C = wt), (y += 11))
                                        : ((C = s),
                                          K === 0 && Pe(be)))))))))))))))),
          C !== s && ((We = g), (C = gP(C))),
          (g = C),
          g
        );
      }
      function $s() {
        var g, C;
        return (
          K++,
          (g = y),
          i.charCodeAt(y) === 92
            ? ((C = Zt), y++)
            : ((C = s), K === 0 && Pe(Se)),
          C !== s && ((We = g), (C = vP())),
          (g = C),
          K--,
          g === s && ((C = s), K === 0 && Pe(Be)),
          g
        );
      }
      function Dl() {
        var g, C;
        return (
          (g = y),
          i.charCodeAt(y) === 123
            ? ((C = Ut), y++)
            : ((C = s), K === 0 && Pe(Kt)),
          C !== s && ((We = g), (C = yP(C))),
          (g = C),
          g
        );
      }
      function Os() {
        var g, C;
        return (
          (g = y),
          i.charCodeAt(y) === 125
            ? ((C = br), y++)
            : ((C = s), K === 0 && Pe(Sr)),
          C !== s && ((We = g), (C = bP(C))),
          (g = C),
          g
        );
      }
      function Gi() {
        var g, C;
        return (
          (g = y),
          i.charCodeAt(y) === 36
            ? ((C = Or), y++)
            : ((C = s), K === 0 && Pe(jr)),
          C !== s && ((We = g), (C = DP(C))),
          (g = C),
          g
        );
      }
      function L2() {
        var g, C;
        return (
          (g = y),
          i.charCodeAt(y) === 38
            ? ((C = Br), y++)
            : ((C = s), K === 0 && Pe(_n)),
          C !== s && ((We = g), (C = wP(C))),
          (g = C),
          g
        );
      }
      function ni() {
        var g, C, L;
        return (
          K++,
          (g = y),
          (C = y),
          K++,
          i.charCodeAt(y) === 13
            ? ((L = Wt), y++)
            : ((L = s), K === 0 && Pe(G)),
          K--,
          L === s ? (C = void 0) : ((y = C), (C = s)),
          C !== s
            ? (i.charCodeAt(y) === 10
                ? ((L = gr), y++)
                : ((L = s), K === 0 && Pe(Z)),
              L !== s ? ((C = [C, L]), (g = C)) : ((y = g), (g = s)))
            : ((y = g), (g = s)),
          g === s &&
            (i.charCodeAt(y) === 13
              ? ((g = Wt), y++)
              : ((g = s), K === 0 && Pe(G)),
            g === s &&
              (i.substr(y, 2) === Vt
                ? ((g = Vt), (y += 2))
                : ((g = s), K === 0 && Pe(Le)))),
          K--,
          g === s && ((C = s), K === 0 && Pe(E)),
          g
        );
      }
      function z2() {
        var g, C;
        return (
          (g = y),
          i.charCodeAt(y) === 35
            ? ((C = ce), y++)
            : ((C = s), K === 0 && Pe(Ue)),
          C !== s && ((We = g), (C = xP(C))),
          (g = C),
          g
        );
      }
      function qP() {
        var g, C;
        return (
          (g = y),
          i.charCodeAt(y) === 94
            ? ((C = Me), y++)
            : ((C = s), K === 0 && Pe(Ge)),
          C !== s && ((We = g), (C = kP(C))),
          (g = C),
          g
        );
      }
      function UP() {
        var g, C;
        return (
          (g = y),
          i.charCodeAt(y) === 95
            ? ((C = _e), y++)
            : ((C = s), K === 0 && Pe(nt)),
          C !== s && ((We = g), (C = SP(C))),
          (g = C),
          g
        );
      }
      function j2() {
        var g;
        return (
          i.charCodeAt(y) === 0
            ? ((g = mt), y++)
            : ((g = s), K === 0 && Pe(tr)),
          g
        );
      }
      function wr() {
        var g, C, L;
        if (
          (K++,
          (g = y),
          (C = []),
          xe.test(i.charAt(y))
            ? ((L = i.charAt(y)), y++)
            : ((L = s), K === 0 && Pe(Ui)),
          L !== s)
        )
          for (; L !== s; )
            C.push(L),
              xe.test(i.charAt(y))
                ? ((L = i.charAt(y)), y++)
                : ((L = s), K === 0 && Pe(Ui));
        else C = s;
        return (
          C !== s && ((We = g), (C = CP())),
          (g = C),
          K--,
          g === s && ((C = s), K === 0 && Pe(hn)),
          g
        );
      }
      function mD() {
        var g;
        return (
          K++,
          Dn.test(i.charAt(y))
            ? ((g = i.charAt(y)), y++)
            : ((g = s), K === 0 && Pe(Da)),
          K--,
          g === s && K === 0 && Pe(qn),
          g
        );
      }
      function wl() {
        var g;
        return (
          K++,
          Tr.test(i.charAt(y))
            ? ((g = i.charAt(y)), y++)
            : ((g = s), K === 0 && Pe(I0)),
          K--,
          g === s && K === 0 && Pe(R0),
          g
        );
      }
      function gD() {
        var g, C;
        return (
          K++,
          (g = y),
          le.test(i.charAt(y))
            ? ((C = i.charAt(y)), y++)
            : ((C = s), K === 0 && Pe(_p)),
          C !== s && ((We = g), (C = AP(C))),
          (g = C),
          K--,
          g === s && ((C = s), K === 0 && Pe(Mp)),
          g
        );
      }
      function Of() {
        var g;
        return (
          i.charCodeAt(y) === 37
            ? ((g = c), y++)
            : ((g = s), K === 0 && Pe($e)),
          g
        );
      }
      function vD() {
        var g;
        return (
          K++,
          (g = GP()),
          g === s && (g = H2()),
          K--,
          g === s && K === 0 && Pe(_2),
          g
        );
      }
      function GP() {
        var g, C, L, _;
        for (g = y, C = y, L = [], _ = wr(); _ !== s; ) L.push(_), (_ = wr());
        return (
          (_ = ni()),
          _ !== s ? ((L = [L, _]), (C = L)) : ((y = C), (C = s)),
          C === s && (C = null),
          (L = KP()),
          L !== s
            ? ((_ = yD()),
              _ !== s ? ((We = g), (g = EP(L, _))) : ((y = g), (g = s)))
            : ((y = g), (g = s)),
          g
        );
      }
      function H2() {
        var g, C, L;
        for (g = y, C = [], L = wr(); L !== s; ) C.push(L), (L = wr());
        return (
          (L = yD()),
          L !== s ? ((We = g), (g = FP(C, L))) : ((y = g), (g = s)),
          g
        );
      }
      function yD() {
        var g, C, L, _, Y, V, ye, ge;
        if ((K++, (g = y), (C = Of()), C !== s)) {
          for (
            L = [],
              _ = y,
              Y = y,
              K++,
              V = ni(),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? (i.length > y
                    ? ((V = i.charAt(y)), y++)
                    : ((V = s), K === 0 && Pe(ue)),
                  V !== s ? ((We = _), (_ = tD(V))) : ((y = _), (_ = s)))
                : ((y = _), (_ = s));
            _ !== s;

          )
            L.push(_),
              (_ = y),
              (Y = y),
              K++,
              (V = ni()),
              K--,
              V === s ? (Y = void 0) : ((y = Y), (Y = s)),
              Y !== s
                ? (i.length > y
                    ? ((V = i.charAt(y)), y++)
                    : ((V = s), K === 0 && Pe(ue)),
                  V !== s ? ((We = _), (_ = tD(V))) : ((y = _), (_ = s)))
                : ((y = _), (_ = s));
          (_ = y),
            K++,
            (Y = oD()),
            K--,
            Y !== s ? ((y = _), (_ = void 0)) : (_ = s),
            _ !== s ? ((We = g), (g = MP(L))) : ((y = g), (g = s));
        } else (y = g), (g = s);
        if (g === s)
          if (((g = y), (C = Of()), C !== s)) {
            for (
              L = [],
                _ = y,
                Y = y,
                K++,
                V = ni(),
                K--,
                V === s ? (Y = void 0) : ((y = Y), (Y = s)),
                Y !== s
                  ? (i.length > y
                      ? ((V = i.charAt(y)), y++)
                      : ((V = s), K === 0 && Pe(ue)),
                    V !== s ? ((We = _), (_ = rD(V))) : ((y = _), (_ = s)))
                  : ((y = _), (_ = s));
              _ !== s;

            )
              L.push(_),
                (_ = y),
                (Y = y),
                K++,
                (V = ni()),
                K--,
                V === s ? (Y = void 0) : ((y = Y), (Y = s)),
                Y !== s
                  ? (i.length > y
                      ? ((V = i.charAt(y)), y++)
                      : ((V = s), K === 0 && Pe(ue)),
                    V !== s ? ((We = _), (_ = rD(V))) : ((y = _), (_ = s)))
                  : ((y = _), (_ = s));
            if (((_ = y), (Y = ni()), Y !== s)) {
              for (V = [], ye = wr(); ye !== s; ) V.push(ye), (ye = wr());
              (ye = y),
                K++,
                (ge = Of()),
                K--,
                ge === s ? (ye = void 0) : ((y = ye), (ye = s)),
                ye !== s ? ((Y = [Y, V, ye]), (_ = Y)) : ((y = _), (_ = s));
            } else (y = _), (_ = s);
            _ === s && ((_ = ni()), _ === s && (_ = bD())),
              _ !== s ? ((We = g), (g = _P(L))) : ((y = g), (g = s));
          } else (y = g), (g = s);
        return K--, g === s && ((C = s), K === 0 && Pe($2)), g;
      }
      function KP() {
        var g, C, L, _, Y;
        if (((g = y), (C = y), (L = YP()), L !== s)) {
          for (_ = [], Y = wr(); Y !== s; ) _.push(Y), (Y = wr());
          (L = [L, _]), (C = L);
        } else (y = C), (C = s);
        return C !== s ? (g = i.substring(g, y)) : (g = C), g;
      }
      function YP() {
        var g;
        return (We = y), (g = $P()), g ? (g = void 0) : (g = s), g;
      }
      function bD() {
        var g, C;
        return (
          (g = y),
          K++,
          i.length > y
            ? ((C = i.charAt(y)), y++)
            : ((C = s), K === 0 && Pe(ue)),
          K--,
          C === s ? (g = void 0) : ((y = g), (g = s)),
          g
        );
      }
      function DD(g) {
        return typeof g == "string"
          ? g
          : typeof g.content == "string"
            ? g.content
            : g && g.type === "whitespace"
              ? " "
              : g;
      }
      function V2(g, C) {
        const L = typeof g == "string" ? g : g.content.map(DD).join(""),
          _ = typeof C == "string" ? C : C.content.map(DD).join("");
        return L === _;
      }
      function Jt(g, C = {}) {
        return { type: g, ...C, position: nD() };
      }
      if (((Np = u()), Np !== s && y === i.length)) return Np;
      throw (
        (Np !== s && y < i.length && Pe(TP()),
        PP(
          T2,
          Ro < i.length ? i.charAt(Ro) : null,
          Ro < i.length ? P2(Ro, Ro + 1) : P2(Ro, Ro)
        ))
      );
    }
    return { SyntaxError: e, parse: n };
  })(),
  zK = (function () {
    function t(i, o) {
      function s() {
        this.constructor = i;
      }
      (s.prototype = o.prototype), (i.prototype = new s());
    }
    function e(i, o, s, a) {
      var l = Error.call(this, i);
      return (
        Object.setPrototypeOf && Object.setPrototypeOf(l, e.prototype),
        (l.expected = o),
        (l.found = s),
        (l.location = a),
        (l.name = "SyntaxError"),
        l
      );
    }
    t(e, Error);
    function r(i, o, s) {
      return (
        (s = s || " "),
        i.length > o
          ? i
          : ((o -= i.length), (s += s.repeat(o)), i + s.slice(0, o))
      );
    }
    (e.prototype.format = function (i) {
      var o = "Error: " + this.message;
      if (this.location) {
        var s = null,
          a;
        for (a = 0; a < i.length; a++)
          if (i[a].source === this.location.source) {
            s = i[a].text.split(/\r\n|\n|\r/g);
            break;
          }
        var l = this.location.start,
          u = this.location.source + ":" + l.line + ":" + l.column;
        if (s) {
          var c = this.location.end,
            f = r("", l.line.toString().length, " "),
            h = s[l.line - 1],
            d = l.line === c.line ? c.column : h.length + 1,
            p = d - l.column || 1;
          o +=
            `
 --> ` +
            u +
            `
` +
            f +
            ` |
` +
            l.line +
            " | " +
            h +
            `
` +
            f +
            " | " +
            r("", l.column - 1, " ") +
            r("", p, "^");
        } else
          o +=
            `
 at ` + u;
      }
      return o;
    }),
      (e.buildMessage = function (i, o) {
        var s = {
          literal: function (d) {
            return '"' + l(d.text) + '"';
          },
          class: function (d) {
            var p = d.parts.map(function (m) {
              return Array.isArray(m) ? u(m[0]) + "-" + u(m[1]) : u(m);
            });
            return "[" + (d.inverted ? "^" : "") + p.join("") + "]";
          },
          any: function () {
            return "any character";
          },
          end: function () {
            return "end of input";
          },
          other: function (d) {
            return d.description;
          },
        };
        function a(d) {
          return d.charCodeAt(0).toString(16).toUpperCase();
        }
        function l(d) {
          return d
            .replace(/\\/g, "\\\\")
            .replace(/"/g, '\\"')
            .replace(/\0/g, "\\0")
            .replace(/\t/g, "\\t")
            .replace(/\n/g, "\\n")
            .replace(/\r/g, "\\r")
            .replace(/[\x00-\x0F]/g, function (p) {
              return "\\x0" + a(p);
            })
            .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
              return "\\x" + a(p);
            });
        }
        function u(d) {
          return d
            .replace(/\\/g, "\\\\")
            .replace(/\]/g, "\\]")
            .replace(/\^/g, "\\^")
            .replace(/-/g, "\\-")
            .replace(/\0/g, "\\0")
            .replace(/\t/g, "\\t")
            .replace(/\n/g, "\\n")
            .replace(/\r/g, "\\r")
            .replace(/[\x00-\x0F]/g, function (p) {
              return "\\x0" + a(p);
            })
            .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
              return "\\x" + a(p);
            });
        }
        function c(d) {
          return s[d.type](d);
        }
        function f(d) {
          var p = d.map(c),
            m,
            b;
          if ((p.sort(), p.length > 0)) {
            for (m = 1, b = 1; m < p.length; m++)
              p[m - 1] !== p[m] && ((p[b] = p[m]), b++);
            p.length = b;
          }
          switch (p.length) {
            case 1:
              return p[0];
            case 2:
              return p[0] + " or " + p[1];
            default:
              return p.slice(0, -1).join(", ") + ", or " + p[p.length - 1];
          }
        }
        function h(d) {
          return d ? '"' + l(d) + '"' : "end of input";
        }
        return "Expected " + f(i) + " but " + h(o) + " found.";
      });
    function n(i, o) {
      o = o !== void 0 ? o : {};
      var s = {},
        a = o.grammarSource,
        l = { body: Zt },
        u = Zt,
        c = Fe(),
        f = function () {
          return [];
        },
        h = function (le) {
          return { cells: [], colSeps: [], ...le };
        },
        d = function (le, ne, J) {
          return { ...le, rowSep: ne, trailingComment: J };
        },
        p = function (le, ne) {
          return { ...le, rowSep: null, trailingComment: ne };
        },
        m = function (le) {
          return le;
        },
        b = function (le) {
          return { cells: [], colSeps: [], rowSep: null, trailingComment: le };
        },
        D = function (le) {
          return le;
        },
        k = function (le, ne) {
          return { colSep: le, cell: ne };
        },
        S = function (le) {
          return { colSep: le };
        },
        B = function (le, ne) {
          return Tr(le, ne);
        },
        $ = function (le) {
          return Tr(null, le);
        },
        T = function (le) {
          return o.isSameLineComment(le);
        },
        P = function (le) {
          return le;
        },
        te = function (le) {
          return o.isOwnLineComment(le);
        },
        ee = function (le) {
          return le;
        },
        de = function (le) {
          return o.isWhitespace(le);
        },
        ke = function (le) {
          return le;
        },
        Ce = function (le) {
          return o.isRowSep(le);
        },
        he = function (le) {
          return le;
        },
        ze = function (le) {
          return o.isColSep(le);
        },
        Ve = function (le) {
          return le;
        },
        Ae = 0,
        tt = [{ line: 1, column: 1 }],
        Ee = 0,
        Je = [],
        Re = 0,
        ve;
      if ("startRule" in o) {
        if (!(o.startRule in l))
          throw new Error(
            `Can't start parsing from rule "` + o.startRule + '".'
          );
        u = l[o.startRule];
      }
      function Fe() {
        return { type: "any" };
      }
      function q() {
        return { type: "end" };
      }
      function Ot(le) {
        var ne = tt[le],
          J;
        if (ne) return ne;
        for (J = le - 1; !tt[J]; ) J--;
        for (ne = tt[J], ne = { line: ne.line, column: ne.column }; J < le; )
          i.charCodeAt(J) === 10 ? (ne.line++, (ne.column = 1)) : ne.column++,
            J++;
        return (tt[le] = ne), ne;
      }
      function Mt(le, ne) {
        var J = Ot(le),
          er = Ot(ne);
        return {
          source: a,
          start: { offset: le, line: J.line, column: J.column },
          end: { offset: ne, line: er.line, column: er.column },
        };
      }
      function yt(le) {
        Ae < Ee || (Ae > Ee && ((Ee = Ae), (Je = [])), Je.push(le));
      }
      function wt(le, ne, J) {
        return new e(e.buildMessage(le, ne), le, ne, J);
      }
      function Zt() {
        var le, ne;
        if (
          ((le = []),
          (ne = Br()),
          ne === s && ((ne = Ut()), ne === s && (ne = br())),
          ne !== s)
        )
          for (; ne !== s; )
            le.push(ne),
              (ne = Br()),
              ne === s && ((ne = Ut()), ne === s && (ne = br()));
        else le = s;
        return (
          le === s &&
            ((le = Ae), (ne = Dn()), ne !== s && (ne = f()), (le = ne)),
          le
        );
      }
      function Ut() {
        var le, ne, J, er;
        return (
          (le = Ae),
          (ne = Ae),
          (J = ce()),
          J === s && (J = null),
          (J = h(J)),
          (ne = J),
          (J = rr()),
          J !== s
            ? ((er = Or()), er === s && (er = null), (le = d(ne, J, er)))
            : ((Ae = le), (le = s)),
          le
        );
      }
      function br() {
        var le, ne, J;
        return (
          (le = Ae),
          (ne = ce()),
          ne !== s
            ? ((J = Or()), J === s && (J = null), (le = p(ne, J)))
            : ((Ae = le), (le = s)),
          le
        );
      }
      function Or() {
        var le, ne, J;
        for (le = Ae, ne = [], J = mt(); J !== s; ) ne.push(J), (J = mt());
        return (J = Me()), J !== s ? (le = m(J)) : ((Ae = le), (le = s)), le;
      }
      function Br() {
        var le, ne, J;
        for (le = Ae, ne = [], J = mt(); J !== s; ) ne.push(J), (J = mt());
        return (J = _e()), J !== s ? (le = b(J)) : ((Ae = le), (le = s)), le;
      }
      function Wt() {
        var le, ne, J;
        return (
          (le = Ae),
          (ne = Ae),
          Re++,
          (J = rr()),
          J === s &&
            ((J = xe()), J === s && ((J = Or()), J === s && (J = _e()))),
          Re--,
          J === s ? (ne = void 0) : ((Ae = ne), (ne = s)),
          ne !== s
            ? (i.length > Ae
                ? ((J = i.charAt(Ae)), Ae++)
                : ((J = s), Re === 0 && yt(c)),
              J !== s ? (le = D(J)) : ((Ae = le), (le = s)))
            : ((Ae = le), (le = s)),
          le
        );
      }
      function gr() {
        var le, ne, J;
        if (((le = Ae), (ne = []), (J = Wt()), J !== s))
          for (; J !== s; ) ne.push(J), (J = Wt());
        else ne = s;
        return ne !== s ? (le = i.substring(le, Ae)) : (le = ne), le;
      }
      function Vt() {
        var le, ne, J;
        return (
          (le = Ae),
          (ne = xe()),
          ne !== s
            ? ((J = gr()), J !== s ? (le = k(ne, J)) : ((Ae = le), (le = s)))
            : ((Ae = le), (le = s)),
          le === s &&
            ((le = Ae), (ne = xe()), ne !== s && (ne = S(ne)), (le = ne)),
          le
        );
      }
      function ce() {
        var le, ne, J, er;
        if (((le = Ae), (ne = gr()), ne !== s)) {
          for (J = [], er = Vt(); er !== s; ) J.push(er), (er = Vt());
          le = B(ne, J);
        } else (Ae = le), (le = s);
        if (le === s) {
          if (((le = Ae), (ne = []), (J = Vt()), J !== s))
            for (; J !== s; ) ne.push(J), (J = Vt());
          else ne = s;
          ne !== s && (ne = $(ne)), (le = ne);
        }
        return le;
      }
      function Me() {
        var le, ne, J;
        return (
          (le = Ae),
          i.length > Ae
            ? ((ne = i.charAt(Ae)), Ae++)
            : ((ne = s), Re === 0 && yt(c)),
          ne !== s
            ? ((J = T(ne)),
              J ? (J = void 0) : (J = s),
              J !== s ? (le = P(ne)) : ((Ae = le), (le = s)))
            : ((Ae = le), (le = s)),
          le
        );
      }
      function _e() {
        var le, ne, J;
        return (
          (le = Ae),
          i.length > Ae
            ? ((ne = i.charAt(Ae)), Ae++)
            : ((ne = s), Re === 0 && yt(c)),
          ne !== s
            ? ((J = te(ne)),
              J ? (J = void 0) : (J = s),
              J !== s ? (le = ee(ne)) : ((Ae = le), (le = s)))
            : ((Ae = le), (le = s)),
          le
        );
      }
      function mt() {
        var le, ne, J;
        return (
          (le = Ae),
          i.length > Ae
            ? ((ne = i.charAt(Ae)), Ae++)
            : ((ne = s), Re === 0 && yt(c)),
          ne !== s
            ? ((J = de(ne)),
              J ? (J = void 0) : (J = s),
              J !== s ? (le = ke(ne)) : ((Ae = le), (le = s)))
            : ((Ae = le), (le = s)),
          le
        );
      }
      function rr() {
        var le, ne, J;
        return (
          (le = Ae),
          i.length > Ae
            ? ((ne = i.charAt(Ae)), Ae++)
            : ((ne = s), Re === 0 && yt(c)),
          ne !== s
            ? ((J = Ce(ne)),
              J ? (J = void 0) : (J = s),
              J !== s ? (le = he(ne)) : ((Ae = le), (le = s)))
            : ((Ae = le), (le = s)),
          le
        );
      }
      function xe() {
        var le, ne, J;
        return (
          (le = Ae),
          i.length > Ae
            ? ((ne = i.charAt(Ae)), Ae++)
            : ((ne = s), Re === 0 && yt(c)),
          ne !== s
            ? ((J = ze(ne)),
              J ? (J = void 0) : (J = s),
              J !== s ? (le = Ve(ne)) : ((Ae = le), (le = s)))
            : ((Ae = le), (le = s)),
          le
        );
      }
      function Dn() {
        var le, ne;
        return (
          (le = Ae),
          Re++,
          i.length > Ae
            ? ((ne = i.charAt(Ae)), Ae++)
            : ((ne = s), Re === 0 && yt(c)),
          Re--,
          ne === s ? (le = void 0) : ((Ae = le), (le = s)),
          le
        );
      }
      function Tr(le, ne) {
        const J = [le || []],
          er = [];
        for (const ue of ne) J.push(ue.cell || []), er.push(ue.colSep);
        return { cells: J, colSeps: er };
      }
      if (!o.isWhitespace)
        try {
          Object.assign(o, createMatchers(["\\", "hline", "cr"], ["&"]));
        } catch (le) {
          console.warn("Error when initializing parser", le);
        }
      if (((ve = u()), ve !== s && Ae === i.length)) return ve;
      throw (
        (ve !== s && Ae < i.length && yt(q()),
        wt(
          Je,
          Ee < i.length ? i.charAt(Ee) : null,
          Ee < i.length ? Mt(Ee, Ee + 1) : Mt(Ee, Ee)
        ))
      );
    }
    return { SyntaxError: e, parse: n };
  })(),
  jK = (function () {
    function t(i, o) {
      function s() {
        this.constructor = i;
      }
      (s.prototype = o.prototype), (i.prototype = new s());
    }
    function e(i, o, s, a) {
      var l = Error.call(this, i);
      return (
        Object.setPrototypeOf && Object.setPrototypeOf(l, e.prototype),
        (l.expected = o),
        (l.found = s),
        (l.location = a),
        (l.name = "SyntaxError"),
        l
      );
    }
    t(e, Error);
    function r(i, o, s) {
      return (
        (s = s || " "),
        i.length > o
          ? i
          : ((o -= i.length), (s += s.repeat(o)), i + s.slice(0, o))
      );
    }
    (e.prototype.format = function (i) {
      var o = "Error: " + this.message;
      if (this.location) {
        var s = null,
          a;
        for (a = 0; a < i.length; a++)
          if (i[a].source === this.location.source) {
            s = i[a].text.split(/\r\n|\n|\r/g);
            break;
          }
        var l = this.location.start,
          u = this.location.source + ":" + l.line + ":" + l.column;
        if (s) {
          var c = this.location.end,
            f = r("", l.line.toString().length, " "),
            h = s[l.line - 1],
            d = l.line === c.line ? c.column : h.length + 1,
            p = d - l.column || 1;
          o +=
            `
 --> ` +
            u +
            `
` +
            f +
            ` |
` +
            l.line +
            " | " +
            h +
            `
` +
            f +
            " | " +
            r("", l.column - 1, " ") +
            r("", p, "^");
        } else
          o +=
            `
 at ` + u;
      }
      return o;
    }),
      (e.buildMessage = function (i, o) {
        var s = {
          literal: function (d) {
            return '"' + l(d.text) + '"';
          },
          class: function (d) {
            var p = d.parts.map(function (m) {
              return Array.isArray(m) ? u(m[0]) + "-" + u(m[1]) : u(m);
            });
            return "[" + (d.inverted ? "^" : "") + p.join("") + "]";
          },
          any: function () {
            return "any character";
          },
          end: function () {
            return "end of input";
          },
          other: function (d) {
            return d.description;
          },
        };
        function a(d) {
          return d.charCodeAt(0).toString(16).toUpperCase();
        }
        function l(d) {
          return d
            .replace(/\\/g, "\\\\")
            .replace(/"/g, '\\"')
            .replace(/\0/g, "\\0")
            .replace(/\t/g, "\\t")
            .replace(/\n/g, "\\n")
            .replace(/\r/g, "\\r")
            .replace(/[\x00-\x0F]/g, function (p) {
              return "\\x0" + a(p);
            })
            .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
              return "\\x" + a(p);
            });
        }
        function u(d) {
          return d
            .replace(/\\/g, "\\\\")
            .replace(/\]/g, "\\]")
            .replace(/\^/g, "\\^")
            .replace(/-/g, "\\-")
            .replace(/\0/g, "\\0")
            .replace(/\t/g, "\\t")
            .replace(/\n/g, "\\n")
            .replace(/\r/g, "\\r")
            .replace(/[\x00-\x0F]/g, function (p) {
              return "\\x0" + a(p);
            })
            .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
              return "\\x" + a(p);
            });
        }
        function c(d) {
          return s[d.type](d);
        }
        function f(d) {
          var p = d.map(c),
            m,
            b;
          if ((p.sort(), p.length > 0)) {
            for (m = 1, b = 1; m < p.length; m++)
              p[m - 1] !== p[m] && ((p[b] = p[m]), b++);
            p.length = b;
          }
          switch (p.length) {
            case 1:
              return p[0];
            case 2:
              return p[0] + " or " + p[1];
            default:
              return p.slice(0, -1).join(", ") + ", or " + p[p.length - 1];
          }
        }
        function h(d) {
          return d ? '"' + l(d) + '"' : "end of input";
        }
        return "Expected " + f(i) + " but " + h(o) + " found.";
      });
    function n(i, o) {
      o = o !== void 0 ? o : {};
      var s = {},
        a = o.grammarSource,
        l = { args_spec_list: Dr },
        u = Dr,
        c = "v",
        f = "b",
        h = "!",
        d = "D",
        p = "d",
        m = "s",
        b = "O",
        D = "o",
        k = "e",
        S = "E",
        B = "t",
        $ = "R",
        T = "r",
        P = "u",
        te = "m",
        ee = "{",
        de = "}",
        ke = " ",
        Ce = `
`,
        he = "\r",
        ze = /^[{ ]/,
        Ve = Ct("+", !1),
        Ae = Ct("v", !1),
        tt = ir(),
        Ee = Ct("b", !1),
        Je = Ct("!", !1),
        Re = Ct("D", !1),
        ve = Ct("d", !1),
        Fe = Ct("s", !1),
        q = Ct("O", !1),
        Ot = Ct("o", !1),
        Mt = Ct("e", !1),
        yt = Ct("E", !1),
        wt = Ct("t", !1),
        Zt = Ct("R", !1),
        Ut = Ct("r", !1),
        br = Ct("u", !1),
        Or = Rt(["{", " "], !1, !1),
        Br = Ct("m", !1),
        Wt = Ct("{", !1),
        gr = Ct("}", !1),
        Vt = Ct(" ", !1),
        ce = Ct(
          `
`,
          !1
        ),
        Me = Ct("\r", !1),
        _e = function (Q) {
          return Q;
        },
        mt = function (Q) {
          return Q;
        },
        rr = function (Q) {
          return Q;
        },
        xe = function (Q) {
          return Mn("verbatim", { openBrace: Q, closeBrace: Q });
        },
        Dn = function () {
          return Mn("body");
        },
        Tr = function (Q, be) {
          return Q ? { ...be, noLeadingWhitespace: !0 } : be;
        },
        le = function (Q, be) {
          return Mn("optional", { ...Q, defaultArg: be });
        },
        ne = function (Q) {
          return Mn("optional", Q);
        },
        J = function () {
          return Mn("optionalStar");
        },
        er = function (Q) {
          return Mn("optional", { defaultArg: Q });
        },
        ue = function () {
          return Mn("optional");
        },
        Xt = function (Q) {
          return Mn("embellishment", { embellishmentTokens: Q.content });
        },
        Lt = function (Q, be) {
          return Mn("embellishment", {
            embellishmentTokens: Q.content,
            defaultArg: be,
          });
        },
        bt = function (Q) {
          return Mn("optionalToken", { token: Q });
        },
        $e = function (Q, be) {
          return Mn("mandatory", { ...Q, defaultArg: be });
        },
        hn = function (Q) {
          return Mn("mandatory", Q);
        },
        nr = function (Q) {
          return Mn("until", { stopTokens: Q });
        },
        Fn = function (Q) {
          return [Q];
        },
        hr = function (Q) {
          return Q.content;
        },
        H = function () {
          return Mn("mandatory");
        },
        z = function (Q, be) {
          return { openBrace: Q, closeBrace: be };
        },
        X = function (Q) {
          return { type: "group", content: Q };
        },
        fe = function () {
          return "";
        },
        I = 0,
        ht = [{ line: 1, column: 1 }],
        Bt = 0,
        Et = [],
        Ye = 0,
        jt;
      if ("startRule" in o) {
        if (!(o.startRule in l))
          throw new Error(
            `Can't start parsing from rule "` + o.startRule + '".'
          );
        u = l[o.startRule];
      }
      function Ct(Q, be) {
        return { type: "literal", text: Q, ignoreCase: be };
      }
      function Rt(Q, be, Be) {
        return { type: "class", parts: Q, inverted: be, ignoreCase: Be };
      }
      function ir() {
        return { type: "any" };
      }
      function bi() {
        return { type: "end" };
      }
      function De(Q) {
        var be = ht[Q],
          Be;
        if (be) return be;
        for (Be = Q - 1; !ht[Be]; ) Be--;
        for (be = ht[Be], be = { line: be.line, column: be.column }; Be < Q; )
          i.charCodeAt(Be) === 10 ? (be.line++, (be.column = 1)) : be.column++,
            Be++;
        return (ht[Q] = be), be;
      }
      function rt(Q, be) {
        var Be = De(Q),
          Se = De(be);
        return {
          source: a,
          start: { offset: Q, line: Be.line, column: Be.column },
          end: { offset: be, line: Se.line, column: Se.column },
        };
      }
      function Xe(Q) {
        I < Bt || (I > Bt && ((Bt = I), (Et = [])), Et.push(Q));
      }
      function qt(Q, be, Be) {
        return new e(e.buildMessage(Q, be), Q, be, Be);
      }
      function Dr() {
        var Q, be, Be, Se;
        for (
          Q = I,
            be = [],
            Be = I,
            nn(),
            Se = Pr(),
            Se !== s ? (Be = _e(Se)) : ((I = Be), (Be = s));
          Be !== s;

        )
          be.push(Be),
            (Be = I),
            nn(),
            (Se = Pr()),
            Se !== s ? (Be = _e(Se)) : ((I = Be), (Be = s));
        return (Be = nn()), (Q = mt(be)), Q;
      }
      function Pr() {
        var Q, be;
        return (
          (Q = I),
          i.charCodeAt(I) === 43 ? I++ : Ye === 0 && Xe(Ve),
          (be = ie()),
          be === s &&
            ((be = ur()),
            be === s &&
              ((be = R()),
              be === s &&
                ((be = x()),
                be === s && ((be = ae()), be === s && (be = re()))))),
          be !== s ? (Q = rr(be)) : ((I = Q), (Q = s)),
          Q
        );
      }
      function R() {
        var Q, be, Be;
        return (
          (Q = I),
          i.charCodeAt(I) === 118
            ? ((be = c), I++)
            : ((be = s), Ye === 0 && Xe(Ae)),
          be !== s
            ? (i.length > I
                ? ((Be = i.charAt(I)), I++)
                : ((Be = s), Ye === 0 && Xe(tt)),
              Be !== s ? (Q = xe(Be)) : ((I = Q), (Q = s)))
            : ((I = Q), (Q = s)),
          Q
        );
      }
      function ae() {
        var Q, be;
        return (
          (Q = I),
          i.charCodeAt(I) === 98
            ? ((be = f), I++)
            : ((be = s), Ye === 0 && Xe(Ee)),
          be !== s && (be = Dn()),
          (Q = be),
          Q
        );
      }
      function ie() {
        var Q, be, Be;
        return (
          (Q = I),
          i.charCodeAt(I) === 33
            ? ((be = h), I++)
            : ((be = s), Ye === 0 && Xe(Je)),
          be === s && (be = null),
          (Be = Tt()),
          Be === s &&
            ((Be = Gt()),
            Be === s &&
              ((Be = Dt()), Be === s && ((Be = Lr()), Be === s && (Be = N())))),
          Be !== s ? (Q = Tr(be, Be)) : ((I = Q), (Q = s)),
          Q
        );
      }
      function Dt() {
        var Q, be, Be, Se;
        return (
          (Q = I),
          i.charCodeAt(I) === 68
            ? ((be = d), I++)
            : ((be = s), Ye === 0 && Xe(Re)),
          be !== s
            ? ((Be = we()),
              (Se = zr()),
              Se !== s ? (Q = le(Be, Se)) : ((I = Q), (Q = s)))
            : ((I = Q), (Q = s)),
          Q === s &&
            ((Q = I),
            i.charCodeAt(I) === 100
              ? ((be = p), I++)
              : ((be = s), Ye === 0 && Xe(ve)),
            be !== s ? ((Be = we()), (Q = ne(Be))) : ((I = Q), (Q = s))),
          Q
        );
      }
      function Tt() {
        var Q, be;
        return (
          (Q = I),
          i.charCodeAt(I) === 115
            ? ((be = m), I++)
            : ((be = s), Ye === 0 && Xe(Fe)),
          be !== s && (be = J()),
          (Q = be),
          Q
        );
      }
      function Gt() {
        var Q, be, Be;
        return (
          (Q = I),
          i.charCodeAt(I) === 79
            ? ((be = b), I++)
            : ((be = s), Ye === 0 && Xe(q)),
          be !== s
            ? ((Be = zr()), Be !== s ? (Q = er(Be)) : ((I = Q), (Q = s)))
            : ((I = Q), (Q = s)),
          Q === s &&
            ((Q = I),
            i.charCodeAt(I) === 111
              ? ((be = D), I++)
              : ((be = s), Ye === 0 && Xe(Ot)),
            be !== s && (be = ue()),
            (Q = be)),
          Q
        );
      }
      function Lr() {
        var Q, be, Be, Se;
        return (
          (Q = I),
          i.charCodeAt(I) === 101
            ? ((be = k), I++)
            : ((be = s), Ye === 0 && Xe(Mt)),
          be !== s
            ? ((Be = zr()), Be !== s ? (Q = Xt(Be)) : ((I = Q), (Q = s)))
            : ((I = Q), (Q = s)),
          Q === s &&
            ((Q = I),
            i.charCodeAt(I) === 69
              ? ((be = S), I++)
              : ((be = s), Ye === 0 && Xe(yt)),
            be !== s
              ? ((Be = zr()),
                Be !== s
                  ? ((Se = zr()),
                    Se !== s ? (Q = Lt(Be, Se)) : ((I = Q), (Q = s)))
                  : ((I = Q), (Q = s)))
              : ((I = Q), (Q = s))),
          Q
        );
      }
      function N() {
        var Q, be, Be;
        return (
          (Q = I),
          i.charCodeAt(I) === 116
            ? ((be = B), I++)
            : ((be = s), Ye === 0 && Xe(wt)),
          be !== s
            ? (i.length > I
                ? ((Be = i.charAt(I)), I++)
                : ((Be = s), Ye === 0 && Xe(tt)),
              Be !== s ? (Q = bt(Be)) : ((I = Q), (Q = s)))
            : ((I = Q), (Q = s)),
          Q
        );
      }
      function x() {
        var Q, be, Be, Se;
        return (
          (Q = I),
          i.charCodeAt(I) === 82
            ? ((be = $), I++)
            : ((be = s), Ye === 0 && Xe(Zt)),
          be !== s
            ? ((Be = we()),
              (Se = zr()),
              Se !== s ? (Q = $e(Be, Se)) : ((I = Q), (Q = s)))
            : ((I = Q), (Q = s)),
          Q === s &&
            ((Q = I),
            i.charCodeAt(I) === 114
              ? ((be = T), I++)
              : ((be = s), Ye === 0 && Xe(Ut)),
            be !== s ? ((Be = we()), (Q = hn(Be))) : ((I = Q), (Q = s))),
          Q
        );
      }
      function re() {
        var Q, be, Be;
        return (
          (Q = I),
          i.charCodeAt(I) === 117
            ? ((be = P), I++)
            : ((be = s), Ye === 0 && Xe(br)),
          be !== s
            ? ((Be = xt()), Be !== s ? (Q = nr(Be)) : ((I = Q), (Q = s)))
            : ((I = Q), (Q = s)),
          Q
        );
      }
      function xt() {
        var Q, be, Be;
        return (
          (Q = I),
          (be = I),
          Ye++,
          ze.test(i.charAt(I))
            ? ((Be = i.charAt(I)), I++)
            : ((Be = s), Ye === 0 && Xe(Or)),
          Ye--,
          Be === s ? (be = void 0) : ((I = be), (be = s)),
          be !== s
            ? (i.length > I
                ? ((Be = i.charAt(I)), I++)
                : ((Be = s), Ye === 0 && Xe(tt)),
              Be !== s ? (Q = Fn(Be)) : ((I = Q), (Q = s)))
            : ((I = Q), (Q = s)),
          Q === s &&
            ((Q = I), (be = zr()), be !== s && (be = hr(be)), (Q = be)),
          Q
        );
      }
      function ur() {
        var Q, be;
        return (
          (Q = I),
          i.charCodeAt(I) === 109
            ? ((be = te), I++)
            : ((be = s), Ye === 0 && Xe(Br)),
          be !== s && (be = H()),
          (Q = be),
          Q
        );
      }
      function we() {
        var Q, be, Be, Se, Kt, Sr;
        return (
          (Q = I),
          (be = I),
          (Be = I),
          (Se = I),
          Ye++,
          (Kt = qi()),
          Ye--,
          Kt === s ? (Se = void 0) : ((I = Se), (Se = s)),
          Se !== s
            ? (i.length > I
                ? ((Kt = i.charAt(I)), I++)
                : ((Kt = s), Ye === 0 && Xe(tt)),
              Kt !== s ? ((Se = [Se, Kt]), (Be = Se)) : ((I = Be), (Be = s)))
            : ((I = Be), (Be = s)),
          Be === s && (Be = null),
          (be = i.substring(be, I)),
          (Be = I),
          (Se = I),
          (Kt = I),
          Ye++,
          (Sr = qi()),
          Ye--,
          Sr === s ? (Kt = void 0) : ((I = Kt), (Kt = s)),
          Kt !== s
            ? (i.length > I
                ? ((Sr = i.charAt(I)), I++)
                : ((Sr = s), Ye === 0 && Xe(tt)),
              Sr !== s ? ((Kt = [Kt, Sr]), (Se = Kt)) : ((I = Se), (Se = s)))
            : ((I = Se), (Se = s)),
          Se === s && (Se = null),
          (Be = i.substring(Be, I)),
          (Q = z(be, Be)),
          Q
        );
      }
      function zr() {
        var Q, be, Be, Se, Kt, Sr, jr, _n;
        if (
          ((Q = I),
          i.charCodeAt(I) === 123
            ? ((be = ee), I++)
            : ((be = s), Ye === 0 && Xe(Wt)),
          be !== s)
        ) {
          for (
            Be = [],
              Se = I,
              Kt = I,
              Sr = I,
              Ye++,
              i.charCodeAt(I) === 125
                ? ((jr = de), I++)
                : ((jr = s), Ye === 0 && Xe(gr)),
              Ye--,
              jr === s ? (Sr = void 0) : ((I = Sr), (Sr = s)),
              Sr !== s
                ? ((jr = I),
                  Ye++,
                  (_n = zr()),
                  Ye--,
                  _n === s ? (jr = void 0) : ((I = jr), (jr = s)),
                  jr !== s
                    ? (i.length > I
                        ? ((_n = i.charAt(I)), I++)
                        : ((_n = s), Ye === 0 && Xe(tt)),
                      _n !== s
                        ? ((Sr = [Sr, jr, _n]), (Kt = Sr))
                        : ((I = Kt), (Kt = s)))
                    : ((I = Kt), (Kt = s)))
                : ((I = Kt), (Kt = s)),
              Kt !== s ? (Se = i.substring(Se, I)) : (Se = Kt),
              Se === s && (Se = zr());
            Se !== s;

          )
            Be.push(Se),
              (Se = I),
              (Kt = I),
              (Sr = I),
              Ye++,
              i.charCodeAt(I) === 125
                ? ((jr = de), I++)
                : ((jr = s), Ye === 0 && Xe(gr)),
              Ye--,
              jr === s ? (Sr = void 0) : ((I = Sr), (Sr = s)),
              Sr !== s
                ? ((jr = I),
                  Ye++,
                  (_n = zr()),
                  Ye--,
                  _n === s ? (jr = void 0) : ((I = jr), (jr = s)),
                  jr !== s
                    ? (i.length > I
                        ? ((_n = i.charAt(I)), I++)
                        : ((_n = s), Ye === 0 && Xe(tt)),
                      _n !== s
                        ? ((Sr = [Sr, jr, _n]), (Kt = Sr))
                        : ((I = Kt), (Kt = s)))
                    : ((I = Kt), (Kt = s)))
                : ((I = Kt), (Kt = s)),
              Kt !== s ? (Se = i.substring(Se, I)) : (Se = Kt),
              Se === s && (Se = zr());
          i.charCodeAt(I) === 125
            ? ((Se = de), I++)
            : ((Se = s), Ye === 0 && Xe(gr)),
            Se !== s ? (Q = X(Be)) : ((I = Q), (Q = s));
        } else (I = Q), (Q = s);
        return Q;
      }
      function nn() {
        var Q, be, Be;
        for (Q = I, be = [], Be = qi(); Be !== s; ) be.push(Be), (Be = qi());
        return (be = fe()), (Q = be), Q;
      }
      function qi() {
        var Q;
        return (
          i.charCodeAt(I) === 32
            ? ((Q = ke), I++)
            : ((Q = s), Ye === 0 && Xe(Vt)),
          Q === s &&
            (i.charCodeAt(I) === 10
              ? ((Q = Ce), I++)
              : ((Q = s), Ye === 0 && Xe(ce)),
            Q === s &&
              (i.charCodeAt(I) === 13
                ? ((Q = he), I++)
                : ((Q = s), Ye === 0 && Xe(Me)))),
          Q
        );
      }
      const dl = {
        optional: { openBrace: "[", closeBrace: "]" },
        mandatory: { openBrace: "{", closeBrace: "}" },
      };
      function Mn(Q, be) {
        const Be = dl[Q] || {};
        return { type: Q, ...Be, ...be };
      }
      if (((jt = u()), jt !== s && I === i.length)) return jt;
      throw (
        (jt !== s && I < i.length && Xe(bi()),
        qt(
          Et,
          Bt < i.length ? i.charAt(Bt) : null,
          Bt < i.length ? rt(Bt, Bt + 1) : rt(Bt, Bt)
        ))
      );
    }
    return { SyntaxError: e, parse: n };
  })(),
  HK = (function () {
    function t(i, o) {
      function s() {
        this.constructor = i;
      }
      (s.prototype = o.prototype), (i.prototype = new s());
    }
    function e(i, o, s, a) {
      var l = Error.call(this, i);
      return (
        Object.setPrototypeOf && Object.setPrototypeOf(l, e.prototype),
        (l.expected = o),
        (l.found = s),
        (l.location = a),
        (l.name = "SyntaxError"),
        l
      );
    }
    t(e, Error);
    function r(i, o, s) {
      return (
        (s = s || " "),
        i.length > o
          ? i
          : ((o -= i.length), (s += s.repeat(o)), i + s.slice(0, o))
      );
    }
    (e.prototype.format = function (i) {
      var o = "Error: " + this.message;
      if (this.location) {
        var s = null,
          a;
        for (a = 0; a < i.length; a++)
          if (i[a].source === this.location.source) {
            s = i[a].text.split(/\r\n|\n|\r/g);
            break;
          }
        var l = this.location.start,
          u = this.location.source + ":" + l.line + ":" + l.column;
        if (s) {
          var c = this.location.end,
            f = r("", l.line.toString().length, " "),
            h = s[l.line - 1],
            d = l.line === c.line ? c.column : h.length + 1,
            p = d - l.column || 1;
          o +=
            `
 --> ` +
            u +
            `
` +
            f +
            ` |
` +
            l.line +
            " | " +
            h +
            `
` +
            f +
            " | " +
            r("", l.column - 1, " ") +
            r("", p, "^");
        } else
          o +=
            `
 at ` + u;
      }
      return o;
    }),
      (e.buildMessage = function (i, o) {
        var s = {
          literal: function (d) {
            return '"' + l(d.text) + '"';
          },
          class: function (d) {
            var p = d.parts.map(function (m) {
              return Array.isArray(m) ? u(m[0]) + "-" + u(m[1]) : u(m);
            });
            return "[" + (d.inverted ? "^" : "") + p.join("") + "]";
          },
          any: function () {
            return "any character";
          },
          end: function () {
            return "end of input";
          },
          other: function (d) {
            return d.description;
          },
        };
        function a(d) {
          return d.charCodeAt(0).toString(16).toUpperCase();
        }
        function l(d) {
          return d
            .replace(/\\/g, "\\\\")
            .replace(/"/g, '\\"')
            .replace(/\0/g, "\\0")
            .replace(/\t/g, "\\t")
            .replace(/\n/g, "\\n")
            .replace(/\r/g, "\\r")
            .replace(/[\x00-\x0F]/g, function (p) {
              return "\\x0" + a(p);
            })
            .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
              return "\\x" + a(p);
            });
        }
        function u(d) {
          return d
            .replace(/\\/g, "\\\\")
            .replace(/\]/g, "\\]")
            .replace(/\^/g, "\\^")
            .replace(/-/g, "\\-")
            .replace(/\0/g, "\\0")
            .replace(/\t/g, "\\t")
            .replace(/\n/g, "\\n")
            .replace(/\r/g, "\\r")
            .replace(/[\x00-\x0F]/g, function (p) {
              return "\\x0" + a(p);
            })
            .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
              return "\\x" + a(p);
            });
        }
        function c(d) {
          return s[d.type](d);
        }
        function f(d) {
          var p = d.map(c),
            m,
            b;
          if ((p.sort(), p.length > 0)) {
            for (m = 1, b = 1; m < p.length; m++)
              p[m - 1] !== p[m] && ((p[b] = p[m]), b++);
            p.length = b;
          }
          switch (p.length) {
            case 1:
              return p[0];
            case 2:
              return p[0] + " or " + p[1];
            default:
              return p.slice(0, -1).join(", ") + ", or " + p[p.length - 1];
          }
        }
        function h(d) {
          return d ? '"' + l(d) + '"' : "end of input";
        }
        return "Expected " + f(i) + " but " + h(o) + " found.";
      });
    function n(i, o) {
      o = o !== void 0 ? o : {};
      var s = {},
        a = o.grammarSource,
        l = { body: Vt },
        u = Vt,
        c = Ut(),
        f = function () {
          return [];
        },
        h = function (z, X) {
          return { itemParts: [], ...z, trailingComment: X, trailingComma: !0 };
        },
        d = function (z, X) {
          return { ...z, trailingComment: X };
        },
        p = function (z, X) {
          return H(z, X);
        },
        m = function (z) {
          return H(null, z);
        },
        b = function (z) {
          return { cell: z };
        },
        D = function () {
          return {};
        },
        k = function (z) {
          return z;
        },
        S = function (z) {
          return z;
        },
        B = function (z, X) {
          return { trailingComment: X, leadingParbreak: z.parbreak > 0 };
        },
        $ = function (z) {
          return {
            whitespace: z.filter((X) => o.isWhitespace(X)).length,
            parbreak: z.filter((X) => o.isParbreak(X)).length,
          };
        },
        T = function () {
          return !o.allowParenGroups;
        },
        P = function (z) {
          return o.isSameLineComment(z);
        },
        te = function (z) {
          return z;
        },
        ee = function (z) {
          return o.isOwnLineComment(z);
        },
        de = function (z) {
          return z;
        },
        ke = function (z) {
          return o.isWhitespace(z);
        },
        Ce = function (z) {
          return z;
        },
        he = function (z) {
          return o.isParbreak(z);
        },
        ze = function (z) {
          return z;
        },
        Ve = function (z) {
          return o.isComma(z);
        },
        Ae = function (z) {
          return z;
        },
        tt = function (z) {
          return o.isEquals(z);
        },
        Ee = function (z) {
          return z;
        },
        Je = function (z) {
          return o.isChar(z, "(");
        },
        Re = function (z) {
          return z;
        },
        ve = function (z) {
          return o.isChar(z, ")");
        },
        Fe = function (z) {
          return z;
        },
        q = 0,
        Ot = [{ line: 1, column: 1 }],
        Mt = 0,
        yt = [],
        wt = 0,
        Zt;
      if ("startRule" in o) {
        if (!(o.startRule in l))
          throw new Error(
            `Can't start parsing from rule "` + o.startRule + '".'
          );
        u = l[o.startRule];
      }
      function Ut() {
        return { type: "any" };
      }
      function br() {
        return { type: "end" };
      }
      function Or(z) {
        var X = Ot[z],
          fe;
        if (X) return X;
        for (fe = z - 1; !Ot[fe]; ) fe--;
        for (X = Ot[fe], X = { line: X.line, column: X.column }; fe < z; )
          i.charCodeAt(fe) === 10 ? (X.line++, (X.column = 1)) : X.column++,
            fe++;
        return (Ot[z] = X), X;
      }
      function Br(z, X) {
        var fe = Or(z),
          I = Or(X);
        return {
          source: a,
          start: { offset: z, line: fe.line, column: fe.column },
          end: { offset: X, line: I.line, column: I.column },
        };
      }
      function Wt(z) {
        q < Mt || (q > Mt && ((Mt = q), (yt = [])), yt.push(z));
      }
      function gr(z, X, fe) {
        return new e(e.buildMessage(z, X), z, X, fe);
      }
      function Vt() {
        var z, X, fe;
        if (
          ((z = []),
          (X = Dn()),
          X === s && ((X = ce()), X === s && (X = Me())),
          X !== s)
        )
          for (; X !== s; )
            z.push(X),
              (X = Dn()),
              X === s && ((X = ce()), X === s && (X = Me()));
        else z = s;
        if (z === s) {
          for (z = q, X = [], fe = Lt(); fe !== s; ) X.push(fe), (fe = Lt());
          (fe = hr()), fe !== s ? (z = f()) : ((q = z), (z = s));
        }
        return z;
      }
      function ce() {
        var z, X, fe, I, ht, Bt, Et;
        if (
          ((z = q),
          J(),
          (X = _e()),
          X === s && (X = null),
          J(),
          (fe = $e()),
          fe !== s)
        ) {
          for (I = [], ht = Lt(); ht !== s; ) I.push(ht), (ht = Lt());
          for (
            ht = xe(), ht === s && (ht = null), Bt = [], Et = Lt();
            Et !== s;

          )
            Bt.push(Et), (Et = Lt());
          z = h(X, ht);
        } else (q = z), (z = s);
        return z;
      }
      function Me() {
        var z, X, fe;
        return (
          (z = q),
          J(),
          (X = _e()),
          X !== s
            ? ((fe = xe()), fe === s && (fe = null), (z = d(X, fe)))
            : ((q = z), (z = s)),
          z
        );
      }
      function _e() {
        var z, X, fe, I;
        if (((z = q), (X = rr()), X !== s)) {
          for (fe = [], I = mt(); I !== s; ) fe.push(I), (I = mt());
          z = p(X, fe);
        } else (q = z), (z = s);
        if (z === s) {
          if (((z = q), (X = []), (fe = mt()), fe !== s))
            for (; fe !== s; ) X.push(fe), (fe = mt());
          else X = s;
          X !== s && (X = m(X)), (z = X);
        }
        return z;
      }
      function mt() {
        var z, X, fe, I, ht;
        for (z = q, X = [], fe = bt(); fe !== s; ) X.push(fe), (fe = bt());
        if (((fe = hn()), fe !== s)) {
          for (I = [], ht = bt(); ht !== s; ) I.push(ht), (ht = bt());
          (ht = rr()), ht !== s ? (z = b(ht)) : ((q = z), (z = s));
        } else (q = z), (z = s);
        if (z === s) {
          for (z = q, X = [], fe = bt(); fe !== s; ) X.push(fe), (fe = bt());
          (fe = hn()), fe !== s ? (z = D()) : ((q = z), (z = s));
        }
        return z;
      }
      function rr() {
        var z, X, fe, I, ht, Bt, Et, Ye, jt, Ct;
        for (z = q, X = [], fe = Lt(); fe !== s; ) X.push(fe), (fe = Lt());
        if (((fe = q), (I = []), (ht = le()), ht === s))
          if (((ht = q), (Bt = Lt()), Bt === s && (Bt = bt()), Bt !== s)) {
            for (
              Et = q, wt++, Ye = q, jt = [], Ct = Lt(), Ct === s && (Ct = bt());
              Ct !== s;

            )
              jt.push(Ct), (Ct = Lt()), Ct === s && (Ct = bt());
            (Ct = le()),
              Ct !== s ? ((jt = [jt, Ct]), (Ye = jt)) : ((q = Ye), (Ye = s)),
              wt--,
              Ye !== s ? ((q = Et), (Et = void 0)) : (Et = s),
              Et !== s ? ((Bt = [Bt, Et]), (ht = Bt)) : ((q = ht), (ht = s));
          } else (q = ht), (ht = s);
        if (ht !== s) {
          for (; ht !== s; )
            if ((I.push(ht), (ht = le()), ht === s))
              if (((ht = q), (Bt = Lt()), Bt === s && (Bt = bt()), Bt !== s)) {
                for (
                  Et = q,
                    wt++,
                    Ye = q,
                    jt = [],
                    Ct = Lt(),
                    Ct === s && (Ct = bt());
                  Ct !== s;

                )
                  jt.push(Ct), (Ct = Lt()), Ct === s && (Ct = bt());
                (Ct = le()),
                  Ct !== s
                    ? ((jt = [jt, Ct]), (Ye = jt))
                    : ((q = Ye), (Ye = s)),
                  wt--,
                  Ye !== s ? ((q = Et), (Et = void 0)) : (Et = s),
                  Et !== s
                    ? ((Bt = [Bt, Et]), (ht = Bt))
                    : ((q = ht), (ht = s));
              } else (q = ht), (ht = s);
        } else I = s;
        if ((I !== s ? (fe = i.substring(fe, q)) : (fe = I), fe !== s)) {
          for (I = [], ht = Lt(); ht !== s; ) I.push(ht), (ht = Lt());
          z = k(fe);
        } else (q = z), (z = s);
        return z;
      }
      function xe() {
        var z, X, fe;
        for (z = q, X = [], fe = Lt(); fe !== s; ) X.push(fe), (fe = Lt());
        return (fe = ue()), fe !== s ? (z = S(fe)) : ((q = z), (z = s)), z;
      }
      function Dn() {
        var z, X, fe;
        return (
          (z = q),
          (X = J()),
          (fe = Xt()),
          fe !== s ? (z = B(X, fe)) : ((q = z), (z = s)),
          z
        );
      }
      function Tr() {
        var z, X, fe, I;
        return (
          (z = q),
          (X = q),
          (fe = q),
          wt++,
          (I = ne()),
          wt--,
          I === s ? (fe = void 0) : ((q = fe), (fe = s)),
          fe !== s
            ? (i.length > q
                ? ((I = i.charAt(q)), q++)
                : ((I = s), wt === 0 && Wt(c)),
              I !== s ? ((fe = [fe, I]), (X = fe)) : ((q = X), (X = s)))
            : ((q = X), (X = s)),
          X !== s ? (z = i.substring(z, q)) : (z = X),
          z
        );
      }
      function le() {
        var z, X, fe, I;
        return (
          (z = q),
          (X = q),
          (fe = q),
          wt++,
          (I = Lt()),
          I === s && (I = bt()),
          wt--,
          I === s ? (fe = void 0) : ((q = fe), (fe = s)),
          fe !== s
            ? ((I = er()),
              I === s && (I = Tr()),
              I !== s ? ((fe = [fe, I]), (X = fe)) : ((q = X), (X = s)))
            : ((q = X), (X = s)),
          X !== s ? (z = i.substring(z, q)) : (z = X),
          z
        );
      }
      function ne() {
        var z;
        return (
          (z = $e()),
          z === s &&
            ((z = hn()), z === s && ((z = xe()), z === s && (z = Xt()))),
          z
        );
      }
      function J() {
        var z, X, fe;
        for (z = q, X = [], fe = Lt(), fe === s && (fe = bt()); fe !== s; )
          X.push(fe), (fe = Lt()), fe === s && (fe = bt());
        return (X = $(X)), (z = X), z;
      }
      function er() {
        var z, X, fe, I, ht, Bt, Et, Ye, jt;
        if (((z = q), (X = T()), X ? (X = s) : (X = void 0), X !== s)) {
          if (((fe = q), (I = q), (ht = nr()), ht !== s)) {
            for (
              Bt = [],
                Et = q,
                Ye = q,
                wt++,
                jt = Fn(),
                wt--,
                jt === s ? (Ye = void 0) : ((q = Ye), (Ye = s)),
                Ye !== s
                  ? (i.length > q
                      ? ((jt = i.charAt(q)), q++)
                      : ((jt = s), wt === 0 && Wt(c)),
                    jt !== s
                      ? ((Ye = [Ye, jt]), (Et = Ye))
                      : ((q = Et), (Et = s)))
                  : ((q = Et), (Et = s));
              Et !== s;

            )
              Bt.push(Et),
                (Et = q),
                (Ye = q),
                wt++,
                (jt = Fn()),
                wt--,
                jt === s ? (Ye = void 0) : ((q = Ye), (Ye = s)),
                Ye !== s
                  ? (i.length > q
                      ? ((jt = i.charAt(q)), q++)
                      : ((jt = s), wt === 0 && Wt(c)),
                    jt !== s
                      ? ((Ye = [Ye, jt]), (Et = Ye))
                      : ((q = Et), (Et = s)))
                  : ((q = Et), (Et = s));
            (Et = Fn()),
              Et !== s ? ((ht = [ht, Bt, Et]), (I = ht)) : ((q = I), (I = s));
          } else (q = I), (I = s);
          I !== s ? (fe = i.substring(fe, q)) : (fe = I),
            fe !== s ? ((X = [X, fe]), (z = X)) : ((q = z), (z = s));
        } else (q = z), (z = s);
        return z;
      }
      function ue() {
        var z, X, fe;
        return (
          (z = q),
          i.length > q
            ? ((X = i.charAt(q)), q++)
            : ((X = s), wt === 0 && Wt(c)),
          X !== s
            ? ((fe = P(X)),
              fe ? (fe = void 0) : (fe = s),
              fe !== s ? (z = te(X)) : ((q = z), (z = s)))
            : ((q = z), (z = s)),
          z
        );
      }
      function Xt() {
        var z, X, fe;
        return (
          (z = q),
          i.length > q
            ? ((X = i.charAt(q)), q++)
            : ((X = s), wt === 0 && Wt(c)),
          X !== s
            ? ((fe = ee(X)),
              fe ? (fe = void 0) : (fe = s),
              fe !== s ? (z = de(X)) : ((q = z), (z = s)))
            : ((q = z), (z = s)),
          z
        );
      }
      function Lt() {
        var z, X, fe;
        return (
          (z = q),
          i.length > q
            ? ((X = i.charAt(q)), q++)
            : ((X = s), wt === 0 && Wt(c)),
          X !== s
            ? ((fe = ke(X)),
              fe ? (fe = void 0) : (fe = s),
              fe !== s ? (z = Ce(X)) : ((q = z), (z = s)))
            : ((q = z), (z = s)),
          z
        );
      }
      function bt() {
        var z, X, fe;
        return (
          (z = q),
          i.length > q
            ? ((X = i.charAt(q)), q++)
            : ((X = s), wt === 0 && Wt(c)),
          X !== s
            ? ((fe = he(X)),
              fe ? (fe = void 0) : (fe = s),
              fe !== s ? (z = ze(X)) : ((q = z), (z = s)))
            : ((q = z), (z = s)),
          z
        );
      }
      function $e() {
        var z, X, fe;
        return (
          (z = q),
          i.length > q
            ? ((X = i.charAt(q)), q++)
            : ((X = s), wt === 0 && Wt(c)),
          X !== s
            ? ((fe = Ve(X)),
              fe ? (fe = void 0) : (fe = s),
              fe !== s ? (z = Ae(X)) : ((q = z), (z = s)))
            : ((q = z), (z = s)),
          z
        );
      }
      function hn() {
        var z, X, fe;
        return (
          (z = q),
          i.length > q
            ? ((X = i.charAt(q)), q++)
            : ((X = s), wt === 0 && Wt(c)),
          X !== s
            ? ((fe = tt(X)),
              fe ? (fe = void 0) : (fe = s),
              fe !== s ? (z = Ee(X)) : ((q = z), (z = s)))
            : ((q = z), (z = s)),
          z
        );
      }
      function nr() {
        var z, X, fe;
        return (
          (z = q),
          i.length > q
            ? ((X = i.charAt(q)), q++)
            : ((X = s), wt === 0 && Wt(c)),
          X !== s
            ? ((fe = Je(X)),
              fe ? (fe = void 0) : (fe = s),
              fe !== s ? (z = Re(X)) : ((q = z), (z = s)))
            : ((q = z), (z = s)),
          z
        );
      }
      function Fn() {
        var z, X, fe;
        return (
          (z = q),
          i.length > q
            ? ((X = i.charAt(q)), q++)
            : ((X = s), wt === 0 && Wt(c)),
          X !== s
            ? ((fe = ve(X)),
              fe ? (fe = void 0) : (fe = s),
              fe !== s ? (z = Fe(X)) : ((q = z), (z = s)))
            : ((q = z), (z = s)),
          z
        );
      }
      function hr() {
        var z, X;
        return (
          (z = q),
          wt++,
          i.length > q
            ? ((X = i.charAt(q)), q++)
            : ((X = s), wt === 0 && Wt(c)),
          wt--,
          X === s ? (z = void 0) : ((q = z), (z = s)),
          z
        );
      }
      function H(z, X) {
        const fe = [z || []];
        for (const I of X) fe.push(I.cell || []);
        return { itemParts: fe };
      }
      if (!o.isWhitespace)
        try {
          Object.assign(o, {
            isChar: (z, X) => z.type === "string" && z.content === X,
            isComma(z) {
              return z.type === "string" && z.content === ",";
            },
            isEquals(z) {
              return z.type === "string" && z.content === "=";
            },
            isParbreak(z) {
              return z.type === "parbreak";
            },
            isWhitespace(z) {
              return z.type === "whitespace";
            },
            isSameLineComment: (z) => z.type === "comment" && z.sameline,
            isOwnLineComment: (z) => z.type === "comment" && !z.sameline,
            isComment: (z) => z.type === "comment",
            allowParenGroups: !0,
          });
        } catch (z) {
          console.warn("Error when initializing parser", z);
        }
      if (((Zt = u()), Zt !== s && q === i.length)) return Zt;
      throw (
        (Zt !== s && q < i.length && Wt(br()),
        gr(
          yt,
          Mt < i.length ? i.charAt(Mt) : null,
          Mt < i.length ? Br(Mt, Mt + 1) : Br(Mt, Mt)
        ))
      );
    }
    return { SyntaxError: e, parse: n };
  })();
(function () {
  function t(i, o) {
    function s() {
      this.constructor = i;
    }
    (s.prototype = o.prototype), (i.prototype = new s());
  }
  function e(i, o, s, a) {
    var l = Error.call(this, i);
    return (
      Object.setPrototypeOf && Object.setPrototypeOf(l, e.prototype),
      (l.expected = o),
      (l.found = s),
      (l.location = a),
      (l.name = "SyntaxError"),
      l
    );
  }
  t(e, Error);
  function r(i, o, s) {
    return (
      (s = s || " "),
      i.length > o
        ? i
        : ((o -= i.length), (s += s.repeat(o)), i + s.slice(0, o))
    );
  }
  (e.prototype.format = function (i) {
    var o = "Error: " + this.message;
    if (this.location) {
      var s = null,
        a;
      for (a = 0; a < i.length; a++)
        if (i[a].source === this.location.source) {
          s = i[a].text.split(/\r\n|\n|\r/g);
          break;
        }
      var l = this.location.start,
        u = this.location.source + ":" + l.line + ":" + l.column;
      if (s) {
        var c = this.location.end,
          f = r("", l.line.toString().length, " "),
          h = s[l.line - 1],
          d = l.line === c.line ? c.column : h.length + 1,
          p = d - l.column || 1;
        o +=
          `
 --> ` +
          u +
          `
` +
          f +
          ` |
` +
          l.line +
          " | " +
          h +
          `
` +
          f +
          " | " +
          r("", l.column - 1, " ") +
          r("", p, "^");
      } else
        o +=
          `
 at ` + u;
    }
    return o;
  }),
    (e.buildMessage = function (i, o) {
      var s = {
        literal: function (d) {
          return '"' + l(d.text) + '"';
        },
        class: function (d) {
          var p = d.parts.map(function (m) {
            return Array.isArray(m) ? u(m[0]) + "-" + u(m[1]) : u(m);
          });
          return "[" + (d.inverted ? "^" : "") + p.join("") + "]";
        },
        any: function () {
          return "any character";
        },
        end: function () {
          return "end of input";
        },
        other: function (d) {
          return d.description;
        },
      };
      function a(d) {
        return d.charCodeAt(0).toString(16).toUpperCase();
      }
      function l(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/"/g, '\\"')
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function u(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/\]/g, "\\]")
          .replace(/\^/g, "\\^")
          .replace(/-/g, "\\-")
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function c(d) {
        return s[d.type](d);
      }
      function f(d) {
        var p = d.map(c),
          m,
          b;
        if ((p.sort(), p.length > 0)) {
          for (m = 1, b = 1; m < p.length; m++)
            p[m - 1] !== p[m] && ((p[b] = p[m]), b++);
          p.length = b;
        }
        switch (p.length) {
          case 1:
            return p[0];
          case 2:
            return p[0] + " or " + p[1];
          default:
            return p.slice(0, -1).join(", ") + ", or " + p[p.length - 1];
        }
      }
      function h(d) {
        return d ? '"' + l(d) + '"' : "end of input";
      }
      return "Expected " + f(i) + " but " + h(o) + " found.";
    });
  function n(i, o) {
    o = o !== void 0 ? o : {};
    var s = {},
      a = o.grammarSource,
      l = { body: Ve },
      u = Ve,
      c = ee(),
      f = function (ve) {
        return [].concat(...ve).filter((Fe) => !!Fe);
      },
      h = function () {
        return [];
      },
      d = function (ve) {
        return o.isHash(ve);
      },
      p = function (ve) {
        return ve;
      },
      m = function (ve) {
        return o.isNumber(ve);
      },
      b = function (ve) {
        return ve;
      },
      D = function () {
        return { type: "string", content: "#" };
      },
      k = function (ve) {
        const Fe = o.splitNumber(ve);
        return [{ type: "hash_number", number: Fe.number }, Fe.rest];
      },
      S = 0,
      B = [{ line: 1, column: 1 }],
      $ = 0,
      T = [],
      P = 0,
      te;
    if ("startRule" in o) {
      if (!(o.startRule in l))
        throw new Error(`Can't start parsing from rule "` + o.startRule + '".');
      u = l[o.startRule];
    }
    function ee() {
      return { type: "any" };
    }
    function de() {
      return { type: "end" };
    }
    function ke(ve) {
      var Fe = B[ve],
        q;
      if (Fe) return Fe;
      for (q = ve - 1; !B[q]; ) q--;
      for (Fe = B[q], Fe = { line: Fe.line, column: Fe.column }; q < ve; )
        i.charCodeAt(q) === 10 ? (Fe.line++, (Fe.column = 1)) : Fe.column++,
          q++;
      return (B[ve] = Fe), Fe;
    }
    function Ce(ve, Fe) {
      var q = ke(ve),
        Ot = ke(Fe);
      return {
        source: a,
        start: { offset: ve, line: q.line, column: q.column },
        end: { offset: Fe, line: Ot.line, column: Ot.column },
      };
    }
    function he(ve) {
      S < $ || (S > $ && (($ = S), (T = [])), T.push(ve));
    }
    function ze(ve, Fe, q) {
      return new e(e.buildMessage(ve, Fe), ve, Fe, q);
    }
    function Ve() {
      var ve, Fe, q;
      if (
        ((ve = S),
        (Fe = []),
        (q = Ee()),
        q === s &&
          ((q = Je()),
          q === s &&
            (i.length > S
              ? ((q = i.charAt(S)), S++)
              : ((q = s), P === 0 && he(c)))),
        q !== s)
      )
        for (; q !== s; )
          Fe.push(q),
            (q = Ee()),
            q === s &&
              ((q = Je()),
              q === s &&
                (i.length > S
                  ? ((q = i.charAt(S)), S++)
                  : ((q = s), P === 0 && he(c))));
      else Fe = s;
      return (
        Fe !== s && (Fe = f(Fe)),
        (ve = Fe),
        ve === s && ((ve = S), (Fe = Re()), Fe !== s && (Fe = h()), (ve = Fe)),
        ve
      );
    }
    function Ae() {
      var ve, Fe, q;
      return (
        (ve = S),
        i.length > S ? ((Fe = i.charAt(S)), S++) : ((Fe = s), P === 0 && he(c)),
        Fe !== s
          ? ((q = d(Fe)),
            q ? (q = void 0) : (q = s),
            q !== s ? (ve = p(Fe)) : ((S = ve), (ve = s)))
          : ((S = ve), (ve = s)),
        ve
      );
    }
    function tt() {
      var ve, Fe, q;
      return (
        (ve = S),
        i.length > S ? ((Fe = i.charAt(S)), S++) : ((Fe = s), P === 0 && he(c)),
        Fe !== s
          ? ((q = m(Fe)),
            q ? (q = void 0) : (q = s),
            q !== s ? (ve = b(Fe)) : ((S = ve), (ve = s)))
          : ((S = ve), (ve = s)),
        ve
      );
    }
    function Ee() {
      var ve, Fe, q;
      return (
        (ve = S),
        (Fe = Ae()),
        Fe !== s
          ? ((q = Ae()), q !== s ? (ve = D()) : ((S = ve), (ve = s)))
          : ((S = ve), (ve = s)),
        ve
      );
    }
    function Je() {
      var ve, Fe, q;
      return (
        (ve = S),
        (Fe = Ae()),
        Fe !== s
          ? ((q = tt()), q !== s ? (ve = k(q)) : ((S = ve), (ve = s)))
          : ((S = ve), (ve = s)),
        ve
      );
    }
    function Re() {
      var ve, Fe;
      return (
        (ve = S),
        P++,
        i.length > S ? ((Fe = i.charAt(S)), S++) : ((Fe = s), P === 0 && he(c)),
        P--,
        Fe === s ? (ve = void 0) : ((S = ve), (ve = s)),
        ve
      );
    }
    if (!o.isHash)
      try {
        Object.assign(o, {
          isHash: (ve) => ve.type === "string" && ve.content === "#",
          isNumber: (ve) => ve.type === "string" && 0 < +ve.content.charAt(0),
          splitNumber: (ve) => {
            const Fe = +ve.content.charAt(0);
            return ve.content.length > 1
              ? {
                  number: Fe,
                  rest: { type: "string", content: ve.content.slice(1) },
                }
              : { number: Fe };
          },
        });
      } catch (ve) {
        console.warn("Error when initializing parser", ve);
      }
    if (((te = u()), te !== s && S === i.length)) return te;
    throw (
      (te !== s && S < i.length && he(de()),
      ze(
        T,
        $ < i.length ? i.charAt($) : null,
        $ < i.length ? Ce($, $ + 1) : Ce($, $)
      ))
    );
  }
  return { SyntaxError: e, parse: n };
})();
(function () {
  function t(i, o) {
    function s() {
      this.constructor = i;
    }
    (s.prototype = o.prototype), (i.prototype = new s());
  }
  function e(i, o, s, a) {
    var l = Error.call(this, i);
    return (
      Object.setPrototypeOf && Object.setPrototypeOf(l, e.prototype),
      (l.expected = o),
      (l.found = s),
      (l.location = a),
      (l.name = "SyntaxError"),
      l
    );
  }
  t(e, Error);
  function r(i, o, s) {
    return (
      (s = s || " "),
      i.length > o
        ? i
        : ((o -= i.length), (s += s.repeat(o)), i + s.slice(0, o))
    );
  }
  (e.prototype.format = function (i) {
    var o = "Error: " + this.message;
    if (this.location) {
      var s = null,
        a;
      for (a = 0; a < i.length; a++)
        if (i[a].source === this.location.source) {
          s = i[a].text.split(/\r\n|\n|\r/g);
          break;
        }
      var l = this.location.start,
        u = this.location.source + ":" + l.line + ":" + l.column;
      if (s) {
        var c = this.location.end,
          f = r("", l.line.toString().length, " "),
          h = s[l.line - 1],
          d = l.line === c.line ? c.column : h.length + 1,
          p = d - l.column || 1;
        o +=
          `
 --> ` +
          u +
          `
` +
          f +
          ` |
` +
          l.line +
          " | " +
          h +
          `
` +
          f +
          " | " +
          r("", l.column - 1, " ") +
          r("", p, "^");
      } else
        o +=
          `
 at ` + u;
    }
    return o;
  }),
    (e.buildMessage = function (i, o) {
      var s = {
        literal: function (d) {
          return '"' + l(d.text) + '"';
        },
        class: function (d) {
          var p = d.parts.map(function (m) {
            return Array.isArray(m) ? u(m[0]) + "-" + u(m[1]) : u(m);
          });
          return "[" + (d.inverted ? "^" : "") + p.join("") + "]";
        },
        any: function () {
          return "any character";
        },
        end: function () {
          return "end of input";
        },
        other: function (d) {
          return d.description;
        },
      };
      function a(d) {
        return d.charCodeAt(0).toString(16).toUpperCase();
      }
      function l(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/"/g, '\\"')
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function u(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/\]/g, "\\]")
          .replace(/\^/g, "\\^")
          .replace(/-/g, "\\-")
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function c(d) {
        return s[d.type](d);
      }
      function f(d) {
        var p = d.map(c),
          m,
          b;
        if ((p.sort(), p.length > 0)) {
          for (m = 1, b = 1; m < p.length; m++)
            p[m - 1] !== p[m] && ((p[b] = p[m]), b++);
          p.length = b;
        }
        switch (p.length) {
          case 1:
            return p[0];
          case 2:
            return p[0] + " or " + p[1];
          default:
            return p.slice(0, -1).join(", ") + ", or " + p[p.length - 1];
        }
      }
      function h(d) {
        return d ? '"' + l(d) + '"' : "end of input";
      }
      return "Expected " + f(i) + " but " + h(o) + " found.";
    });
  function n(i, o) {
    o = o !== void 0 ? o : {};
    var s = {},
      a = o.grammarSource,
      l = { body: Mt },
      u = Mt,
      c = Je(),
      f = function (ce) {
        return [].concat(...ce).filter((Me) => !!Me);
      },
      h = function () {
        return [];
      },
      d = function (ce) {
        return o.isRecognized(ce);
      },
      p = function (ce) {
        return o.isRecognized(ce);
      },
      m = function (ce, Me) {
        const _e = o.split(Me);
        return o.isRecognized([ce, _e[0]]);
      },
      b = function (ce, Me) {
        const _e = o.split(Me);
        return [o.isRecognized([ce, _e[0]]), _e[1]];
      },
      D = function (ce, Me) {
        return o.isRecognized([ce, Me]);
      },
      k = function (ce, Me) {
        return o.isRecognized([ce, Me]);
      },
      S = function (ce) {
        return o.isRecognized(ce);
      },
      B = function (ce) {
        return o.isRecognized(ce);
      },
      $ = function (ce) {
        return o.isRecognized([ce]);
      },
      T = function (ce) {
        return o.isRecognized([ce]);
      },
      P = function (ce) {
        return o.isMacro(ce);
      },
      te = function (ce) {
        return ce;
      },
      ee = function (ce) {
        return o.isWhitespace(ce);
      },
      de = function (ce) {
        return ce;
      },
      ke = function (ce) {
        return o.isSplitable(ce);
      },
      Ce = function (ce) {
        return ce;
      },
      he = 0,
      ze = [{ line: 1, column: 1 }],
      Ve = 0,
      Ae = [],
      tt = 0,
      Ee;
    if ("startRule" in o) {
      if (!(o.startRule in l))
        throw new Error(`Can't start parsing from rule "` + o.startRule + '".');
      u = l[o.startRule];
    }
    function Je() {
      return { type: "any" };
    }
    function Re() {
      return { type: "end" };
    }
    function ve(ce) {
      var Me = ze[ce],
        _e;
      if (Me) return Me;
      for (_e = ce - 1; !ze[_e]; ) _e--;
      for (Me = ze[_e], Me = { line: Me.line, column: Me.column }; _e < ce; )
        i.charCodeAt(_e) === 10 ? (Me.line++, (Me.column = 1)) : Me.column++,
          _e++;
      return (ze[ce] = Me), Me;
    }
    function Fe(ce, Me) {
      var _e = ve(ce),
        mt = ve(Me);
      return {
        source: a,
        start: { offset: ce, line: _e.line, column: _e.column },
        end: { offset: Me, line: mt.line, column: mt.column },
      };
    }
    function q(ce) {
      he < Ve || (he > Ve && ((Ve = he), (Ae = [])), Ae.push(ce));
    }
    function Ot(ce, Me, _e) {
      return new e(e.buildMessage(ce, Me), ce, Me, _e);
    }
    function Mt() {
      var ce, Me, _e;
      if (
        ((ce = he),
        (Me = []),
        (_e = yt()),
        _e === s &&
          ((_e = wt()),
          _e === s &&
            ((_e = Or()),
            _e === s &&
              (i.length > he
                ? ((_e = i.charAt(he)), he++)
                : ((_e = s), tt === 0 && q(c))))),
        _e !== s)
      )
        for (; _e !== s; )
          Me.push(_e),
            (_e = yt()),
            _e === s &&
              ((_e = wt()),
              _e === s &&
                ((_e = Or()),
                _e === s &&
                  (i.length > he
                    ? ((_e = i.charAt(he)), he++)
                    : ((_e = s), tt === 0 && q(c)))));
      else Me = s;
      return (
        Me !== s && (Me = f(Me)),
        (ce = Me),
        ce === s && ((ce = he), (Me = Vt()), Me !== s && (Me = h()), (ce = Me)),
        ce
      );
    }
    function yt() {
      var ce, Me, _e, mt, rr;
      return (
        (ce = he),
        (Me = he),
        i.length > he
          ? ((_e = i.charAt(he)), he++)
          : ((_e = s), tt === 0 && q(c)),
        _e !== s
          ? (i.length > he
              ? ((mt = i.charAt(he)), he++)
              : ((mt = s), tt === 0 && q(c)),
            mt !== s
              ? (i.length > he
                  ? ((rr = i.charAt(he)), he++)
                  : ((rr = s), tt === 0 && q(c)),
                rr !== s
                  ? ((_e = [_e, mt, rr]), (Me = _e))
                  : ((he = Me), (Me = s)))
              : ((he = Me), (Me = s)))
          : ((he = Me), (Me = s)),
        Me !== s
          ? ((_e = d(Me)),
            _e ? (_e = void 0) : (_e = s),
            _e !== s ? (ce = p(Me)) : ((he = ce), (ce = s)))
          : ((he = ce), (ce = s)),
        ce
      );
    }
    function wt() {
      var ce;
      return (
        (ce = Ut()), ce === s && ((ce = Zt()), ce === s && (ce = br())), ce
      );
    }
    function Zt() {
      var ce, Me, _e, mt, rr;
      if (((ce = he), (Me = Br()), Me !== s)) {
        for (_e = [], mt = Wt(); mt !== s; ) _e.push(mt), (mt = Wt());
        (mt = gr()),
          mt !== s
            ? ((rr = m(Me, mt)),
              rr ? (rr = void 0) : (rr = s),
              rr !== s ? (ce = b(Me, mt)) : ((he = ce), (ce = s)))
            : ((he = ce), (ce = s));
      } else (he = ce), (ce = s);
      return ce;
    }
    function Ut() {
      var ce, Me, _e, mt, rr;
      if (((ce = he), (Me = Br()), Me !== s)) {
        for (_e = [], mt = Wt(); mt !== s; ) _e.push(mt), (mt = Wt());
        i.length > he
          ? ((mt = i.charAt(he)), he++)
          : ((mt = s), tt === 0 && q(c)),
          mt !== s
            ? ((rr = D(Me, mt)),
              rr ? (rr = void 0) : (rr = s),
              rr !== s ? (ce = k(Me, mt)) : ((he = ce), (ce = s)))
            : ((he = ce), (ce = s));
      } else (he = ce), (ce = s);
      return ce;
    }
    function br() {
      var ce, Me, _e, mt;
      return (
        (ce = he),
        (Me = he),
        i.length > he
          ? ((_e = i.charAt(he)), he++)
          : ((_e = s), tt === 0 && q(c)),
        _e !== s
          ? (i.length > he
              ? ((mt = i.charAt(he)), he++)
              : ((mt = s), tt === 0 && q(c)),
            mt !== s ? ((_e = [_e, mt]), (Me = _e)) : ((he = Me), (Me = s)))
          : ((he = Me), (Me = s)),
        Me !== s
          ? ((_e = S(Me)),
            _e ? (_e = void 0) : (_e = s),
            _e !== s ? (ce = B(Me)) : ((he = ce), (ce = s)))
          : ((he = ce), (ce = s)),
        ce
      );
    }
    function Or() {
      var ce, Me, _e;
      return (
        (ce = he),
        i.length > he
          ? ((Me = i.charAt(he)), he++)
          : ((Me = s), tt === 0 && q(c)),
        Me !== s
          ? ((_e = $(Me)),
            _e ? (_e = void 0) : (_e = s),
            _e !== s ? (ce = T(Me)) : ((he = ce), (ce = s)))
          : ((he = ce), (ce = s)),
        ce
      );
    }
    function Br() {
      var ce, Me, _e;
      return (
        (ce = he),
        i.length > he
          ? ((Me = i.charAt(he)), he++)
          : ((Me = s), tt === 0 && q(c)),
        Me !== s
          ? ((_e = P(Me)),
            _e ? (_e = void 0) : (_e = s),
            _e !== s ? (ce = te(Me)) : ((he = ce), (ce = s)))
          : ((he = ce), (ce = s)),
        ce
      );
    }
    function Wt() {
      var ce, Me, _e;
      return (
        (ce = he),
        i.length > he
          ? ((Me = i.charAt(he)), he++)
          : ((Me = s), tt === 0 && q(c)),
        Me !== s
          ? ((_e = ee(Me)),
            _e ? (_e = void 0) : (_e = s),
            _e !== s ? (ce = de(Me)) : ((he = ce), (ce = s)))
          : ((he = ce), (ce = s)),
        ce
      );
    }
    function gr() {
      var ce, Me, _e;
      return (
        (ce = he),
        i.length > he
          ? ((Me = i.charAt(he)), he++)
          : ((Me = s), tt === 0 && q(c)),
        Me !== s
          ? ((_e = ke(Me)),
            _e ? (_e = void 0) : (_e = s),
            _e !== s ? (ce = Ce(Me)) : ((he = ce), (ce = s)))
          : ((he = ce), (ce = s)),
        ce
      );
    }
    function Vt() {
      var ce, Me;
      return (
        (ce = he),
        tt++,
        i.length > he
          ? ((Me = i.charAt(he)), he++)
          : ((Me = s), tt === 0 && q(c)),
        tt--,
        Me === s ? (ce = void 0) : ((he = ce), (ce = s)),
        ce
      );
    }
    if (!o.isWhitespace)
      try {
        Object.assign(o, {
          isMacro: (ce) => ce.type === "macro",
          isWhitespace: (ce) => ce.type === "whitespace",
          isRecognized: (ce) =>
            ce.length == 2 && ce[0].content === "^" && ce[1].content === "o"
              ? { type: "string", content: "ô" }
              : null,
          isSplitable: (ce) => ce.type === "string" && ce.content.length > 1,
          split: (ce) => [
            { type: "string", content: ce.content.charAt(0) },
            { type: "string", content: ce.content.slice(1) },
          ],
        });
      } catch (ce) {
        console.warn("Error when initializing parser", ce);
      }
    if (((Ee = u()), Ee !== s && he === i.length)) return Ee;
    throw (
      (Ee !== s && he < i.length && q(Re()),
      Ot(
        Ae,
        Ve < i.length ? i.charAt(Ve) : null,
        Ve < i.length ? Fe(Ve, Ve + 1) : Fe(Ve, Ve)
      ))
    );
  }
  return { SyntaxError: e, parse: n };
})();
(function () {
  function t(i, o) {
    function s() {
      this.constructor = i;
    }
    (s.prototype = o.prototype), (i.prototype = new s());
  }
  function e(i, o, s, a) {
    var l = Error.call(this, i);
    return (
      Object.setPrototypeOf && Object.setPrototypeOf(l, e.prototype),
      (l.expected = o),
      (l.found = s),
      (l.location = a),
      (l.name = "SyntaxError"),
      l
    );
  }
  t(e, Error);
  function r(i, o, s) {
    return (
      (s = s || " "),
      i.length > o
        ? i
        : ((o -= i.length), (s += s.repeat(o)), i + s.slice(0, o))
    );
  }
  (e.prototype.format = function (i) {
    var o = "Error: " + this.message;
    if (this.location) {
      var s = null,
        a;
      for (a = 0; a < i.length; a++)
        if (i[a].source === this.location.source) {
          s = i[a].text.split(/\r\n|\n|\r/g);
          break;
        }
      var l = this.location.start,
        u = this.location.source + ":" + l.line + ":" + l.column;
      if (s) {
        var c = this.location.end,
          f = r("", l.line.toString().length, " "),
          h = s[l.line - 1],
          d = l.line === c.line ? c.column : h.length + 1,
          p = d - l.column || 1;
        o +=
          `
 --> ` +
          u +
          `
` +
          f +
          ` |
` +
          l.line +
          " | " +
          h +
          `
` +
          f +
          " | " +
          r("", l.column - 1, " ") +
          r("", p, "^");
      } else
        o +=
          `
 at ` + u;
    }
    return o;
  }),
    (e.buildMessage = function (i, o) {
      var s = {
        literal: function (d) {
          return '"' + l(d.text) + '"';
        },
        class: function (d) {
          var p = d.parts.map(function (m) {
            return Array.isArray(m) ? u(m[0]) + "-" + u(m[1]) : u(m);
          });
          return "[" + (d.inverted ? "^" : "") + p.join("") + "]";
        },
        any: function () {
          return "any character";
        },
        end: function () {
          return "end of input";
        },
        other: function (d) {
          return d.description;
        },
      };
      function a(d) {
        return d.charCodeAt(0).toString(16).toUpperCase();
      }
      function l(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/"/g, '\\"')
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function u(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/\]/g, "\\]")
          .replace(/\^/g, "\\^")
          .replace(/-/g, "\\-")
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function c(d) {
        return s[d.type](d);
      }
      function f(d) {
        var p = d.map(c),
          m,
          b;
        if ((p.sort(), p.length > 0)) {
          for (m = 1, b = 1; m < p.length; m++)
            p[m - 1] !== p[m] && ((p[b] = p[m]), b++);
          p.length = b;
        }
        switch (p.length) {
          case 1:
            return p[0];
          case 2:
            return p[0] + " or " + p[1];
          default:
            return p.slice(0, -1).join(", ") + ", or " + p[p.length - 1];
        }
      }
      function h(d) {
        return d ? '"' + l(d) + '"' : "end of input";
      }
      return "Expected " + f(i) + " but " + h(o) + " found.";
    });
  function n(i, o) {
    o = o !== void 0 ? o : {};
    var s = {},
      a = o.grammarSource,
      l = { start: Sr },
      u = Sr,
      c = ";",
      f = ",",
      h = ":",
      d = "/",
      p = ">",
      m = "!",
      b = ".",
      D = "!![",
      k = "]",
      S = "!!",
      B = "+",
      $ = "-",
      T = /^[a-zA-Z0-9]/,
      P = /^[0-9]/,
      te = /^[ \t\n\r]/,
      ee = /^[0-9a-fA-F]/,
      de = dl(),
      ke = nn(";", !1),
      Ce = nn(",", !1),
      he = Q("model list"),
      ze = nn(":", !1),
      Ve = nn("/", !1),
      Ae = Q("model"),
      tt = Q("color spec list"),
      Ee = Q("color spec"),
      Je = Q("color"),
      Re = Q("function expression"),
      ve = nn(">", !1),
      Fe = Q("function"),
      q = Q("extended expression"),
      Ot = Q("core model"),
      Mt = Q("expr"),
      yt = nn("!", !1),
      wt = Q("mix expr"),
      Zt = Q("name"),
      Ut = nn(".", !1),
      br = qi(
        [
          ["a", "z"],
          ["A", "Z"],
          ["0", "9"],
        ],
        !1,
        !1
      ),
      Or = Q("postfix"),
      Br = nn("!![", !1),
      Wt = nn("]", !1),
      gr = nn("!!", !1),
      Vt = Q("prefix"),
      ce = Q("plus"),
      Me = nn("+", !1),
      _e = Q("minus"),
      mt = nn("-", !1),
      rr = Q("num"),
      xe = qi([["0", "9"]], !1, !1),
      Dn = Q("positive float"),
      Tr = Q("divisor"),
      le = Q("int"),
      ne = qi(
        [
          " ",
          "	",
          `
`,
          "\r",
        ],
        !1,
        !1
      ),
      J = qi(
        [
          ["0", "9"],
          ["a", "f"],
          ["A", "F"],
        ],
        !1,
        !1
      ),
      er = function (M) {
        return M;
      },
      ue = function (M) {
        return M;
      },
      Xt = function (M) {
        return M;
      },
      Lt = function (M) {
        return M;
      },
      bt = function (M) {
        return M;
      },
      $e = function (M) {
        return { type: "invalid_spec", content: M };
      },
      hn = function (M, j) {
        return j;
      },
      nr = function (M, j) {
        return { type: "color_set", content: [M].concat(j) };
      },
      Fn = function (M, j) {
        return { type: "color_set_item", name: M, spec_list: j };
      },
      hr = function (M, j) {
        return { type: "model_list", contents: j, core_model: M };
      },
      H = function (M) {
        return { type: "model_list", contents: M, core_model: null };
      },
      z = function (M, j) {
        return j;
      },
      X = function (M, j) {
        return [M].concat(j);
      },
      fe = function (M, j) {
        return j;
      },
      I = function (M, j) {
        return { type: "spec_list", content: [M].concat(j) };
      },
      ht = function (M) {
        return { type: "hex_spec", content: [M] };
      },
      Bt = function (M, j) {
        return j;
      },
      Et = function (M, j) {
        return j;
      },
      Ye = function (M, j) {
        return { type: "num_spec", content: j ? [M].concat(j) : [M] };
      },
      jt = function (M, j) {
        return { type: "color", color: M, functions: j };
      },
      Ct = function (M, j) {
        return j;
      },
      Rt = function (M, j) {
        return { type: "function", name: M, args: j };
      },
      ir = function (M, j, oe, pe) {
        return {
          type: "extended_expr",
          core_model: M,
          div: j,
          expressions: [oe].concat(pe),
        };
      },
      bi = function (M, j, oe) {
        return {
          type: "extended_expr",
          core_model: M,
          div: null,
          expressions: [j].concat(oe),
        };
      },
      De = function (M, j) {
        return { type: "weighted_expr", color: M, weight: j };
      },
      rt = function (M) {
        return M;
      },
      Xe = function (M, j, oe, pe) {
        return { type: "expr", prefix: M, name: j, mix_expr: oe, postfix: pe };
      },
      qt = function (M, j) {
        return { type: "complete_mix", mix_percent: M, name: j };
      },
      Dr = function (M) {
        return { type: "partial_mix", mix_percent: M };
      },
      Pr = function (M, j) {
        return M.concat(j || []);
      },
      R = function (M) {
        return { type: "postfix", num: M };
      },
      ae = function (M) {
        return { type: "postfix", plusses: M };
      },
      ie = function (M) {
        return parseInt(M, 10);
      },
      Dt = function (M) {
        return parseFloat(M);
      },
      Tt = function (M) {
        return M;
      },
      Gt = function (M) {
        return -M;
      },
      Lr = function (M, j) {
        return M ? -j : j;
      },
      N = function (M) {
        return M.toUpperCase();
      },
      x = 0,
      re = [{ line: 1, column: 1 }],
      xt = 0,
      ur = [],
      we = 0,
      zr;
    if ("startRule" in o) {
      if (!(o.startRule in l))
        throw new Error(`Can't start parsing from rule "` + o.startRule + '".');
      u = l[o.startRule];
    }
    function nn(M, j) {
      return { type: "literal", text: M, ignoreCase: j };
    }
    function qi(M, j, oe) {
      return { type: "class", parts: M, inverted: j, ignoreCase: oe };
    }
    function dl() {
      return { type: "any" };
    }
    function Mn() {
      return { type: "end" };
    }
    function Q(M) {
      return { type: "other", description: M };
    }
    function be(M) {
      var j = re[M],
        oe;
      if (j) return j;
      for (oe = M - 1; !re[oe]; ) oe--;
      for (j = re[oe], j = { line: j.line, column: j.column }; oe < M; )
        i.charCodeAt(oe) === 10 ? (j.line++, (j.column = 1)) : j.column++, oe++;
      return (re[M] = j), j;
    }
    function Be(M, j) {
      var oe = be(M),
        pe = be(j);
      return {
        source: a,
        start: { offset: M, line: oe.line, column: oe.column },
        end: { offset: j, line: pe.line, column: pe.column },
      };
    }
    function Se(M) {
      x < xt || (x > xt && ((xt = x), (ur = [])), ur.push(M));
    }
    function Kt(M, j, oe) {
      return new e(e.buildMessage(M, j), M, j, oe);
    }
    function Sr() {
      var M, j, oe, pe;
      if (
        ((M = x),
        (j = Ue()),
        j !== s
          ? ((oe = Pu()), oe !== s ? (M = er(j)) : ((x = M), (M = s)))
          : ((x = M), (M = s)),
        M === s &&
          ((M = x),
          (j = Le()),
          j !== s
            ? ((oe = Pu()), oe !== s ? (M = ue(j)) : ((x = M), (M = s)))
            : ((x = M), (M = s)),
          M === s &&
            ((M = x),
            (j = Ge()),
            j !== s
              ? ((oe = Pu()), oe !== s ? (M = Xt(j)) : ((x = M), (M = s)))
              : ((x = M), (M = s)),
            M === s &&
              ((M = x),
              (j = E()),
              j !== s
                ? ((oe = Pu()), oe !== s ? (M = Lt(j)) : ((x = M), (M = s)))
                : ((x = M), (M = s)),
              M === s &&
                ((M = x),
                (j = jr()),
                j !== s
                  ? ((oe = Pu()), oe !== s ? (M = bt(j)) : ((x = M), (M = s)))
                  : ((x = M), (M = s)),
                M === s)))))
      ) {
        for (
          M = x,
            j = x,
            oe = [],
            i.length > x
              ? ((pe = i.charAt(x)), x++)
              : ((pe = s), we === 0 && Se(de));
          pe !== s;

        )
          oe.push(pe),
            i.length > x
              ? ((pe = i.charAt(x)), x++)
              : ((pe = s), we === 0 && Se(de));
        (j = i.substring(j, x)), (j = $e(j)), (M = j);
      }
      return M;
    }
    function jr() {
      var M, j, oe, pe, Ke, lt;
      if (((M = x), (j = _n()), j !== s)) {
        for (
          oe = [],
            pe = x,
            i.charCodeAt(x) === 59
              ? ((Ke = c), x++)
              : ((Ke = s), we === 0 && Se(ke)),
            Ke !== s
              ? ((lt = _n()),
                lt !== s ? (pe = hn(j, lt)) : ((x = pe), (pe = s)))
              : ((x = pe), (pe = s));
          pe !== s;

        )
          oe.push(pe),
            (pe = x),
            i.charCodeAt(x) === 59
              ? ((Ke = c), x++)
              : ((Ke = s), we === 0 && Se(ke)),
            Ke !== s
              ? ((lt = _n()),
                lt !== s ? (pe = hn(j, lt)) : ((x = pe), (pe = s)))
              : ((x = pe), (pe = s));
        M = nr(j, oe);
      } else (x = M), (M = s);
      return M;
    }
    function _n() {
      var M, j, oe, pe;
      return (
        (M = x),
        (j = pl()),
        j !== s
          ? (i.charCodeAt(x) === 44
              ? ((oe = f), x++)
              : ((oe = s), we === 0 && Se(Ce)),
            oe !== s
              ? ((pe = Le()), pe !== s ? (M = Fn(j, pe)) : ((x = M), (M = s)))
              : ((x = M), (M = s)))
          : ((x = M), (M = s)),
        M
      );
    }
    function E() {
      var M, j, oe, pe;
      return (
        we++,
        (M = x),
        (j = I0()),
        j !== s
          ? (i.charCodeAt(x) === 58
              ? ((oe = h), x++)
              : ((oe = s), we === 0 && Se(ze)),
            oe !== s
              ? ((pe = G()), pe !== s ? (M = hr(j, pe)) : ((x = M), (M = s)))
              : ((x = M), (M = s)))
          : ((x = M), (M = s)),
        M === s && ((M = x), (j = G()), j !== s && (j = H(j)), (M = j)),
        we--,
        M === s && ((j = s), we === 0 && Se(he)),
        M
      );
    }
    function G() {
      var M, j, oe, pe, Ke, lt;
      if (((M = x), (j = Z()), j !== s)) {
        for (
          oe = [],
            pe = x,
            i.charCodeAt(x) === 47
              ? ((Ke = d), x++)
              : ((Ke = s), we === 0 && Se(Ve)),
            Ke !== s
              ? ((lt = Z()), lt !== s ? (pe = z(j, lt)) : ((x = pe), (pe = s)))
              : ((x = pe), (pe = s));
          pe !== s;

        )
          oe.push(pe),
            (pe = x),
            i.charCodeAt(x) === 47
              ? ((Ke = d), x++)
              : ((Ke = s), we === 0 && Se(Ve)),
            Ke !== s
              ? ((lt = Z()), lt !== s ? (pe = z(j, lt)) : ((x = pe), (pe = s)))
              : ((x = pe), (pe = s));
        M = X(j, oe);
      } else (x = M), (M = s);
      return M;
    }
    function Z() {
      var M;
      return we++, (M = I0()), we--, M === s && we === 0 && Se(Ae), M;
    }
    function Le() {
      var M, j, oe, pe, Ke, lt;
      if ((we++, (M = x), (j = Ue()), j !== s)) {
        for (
          oe = [],
            pe = x,
            i.charCodeAt(x) === 47
              ? ((Ke = d), x++)
              : ((Ke = s), we === 0 && Se(Ve)),
            Ke !== s
              ? ((lt = Ue()),
                lt !== s ? (pe = fe(j, lt)) : ((x = pe), (pe = s)))
              : ((x = pe), (pe = s));
          pe !== s;

        )
          oe.push(pe),
            (pe = x),
            i.charCodeAt(x) === 47
              ? ((Ke = d), x++)
              : ((Ke = s), we === 0 && Se(Ve)),
            Ke !== s
              ? ((lt = Ue()),
                lt !== s ? (pe = fe(j, lt)) : ((x = pe), (pe = s)))
              : ((x = pe), (pe = s));
        M = I(j, oe);
      } else (x = M), (M = s);
      return we--, M === s && ((j = s), we === 0 && Se(tt)), M;
    }
    function Ue() {
      var M, j, oe, pe, Ke, lt, Cr, Di, yl;
      if (
        (we++,
        (M = x),
        (j = x),
        (oe = x),
        (pe = vl()),
        pe !== s
          ? ((Ke = vl()),
            Ke !== s
              ? ((lt = vl()),
                lt !== s
                  ? ((Cr = vl()),
                    Cr !== s
                      ? ((Di = vl()),
                        Di !== s
                          ? ((yl = vl()),
                            yl !== s
                              ? ((pe = [pe, Ke, lt, Cr, Di, yl]), (oe = pe))
                              : ((x = oe), (oe = s)))
                          : ((x = oe), (oe = s)))
                      : ((x = oe), (oe = s)))
                  : ((x = oe), (oe = s)))
              : ((x = oe), (oe = s)))
          : ((x = oe), (oe = s)),
        oe !== s ? (j = i.substring(j, x)) : (j = oe),
        j !== s && (j = ht(j)),
        (M = j),
        M === s)
      )
        if (((M = x), (j = gl()), j !== s)) {
          if (
            ((oe = []),
            (pe = x),
            i.charCodeAt(x) === 44
              ? ((Ke = f), x++)
              : ((Ke = s), we === 0 && Se(Ce)),
            Ke !== s
              ? ((lt = gl()),
                lt !== s ? (pe = Bt(j, lt)) : ((x = pe), (pe = s)))
              : ((x = pe), (pe = s)),
            pe !== s)
          )
            for (; pe !== s; )
              oe.push(pe),
                (pe = x),
                i.charCodeAt(x) === 44
                  ? ((Ke = f), x++)
                  : ((Ke = s), we === 0 && Se(Ce)),
                Ke !== s
                  ? ((lt = gl()),
                    lt !== s ? (pe = Bt(j, lt)) : ((x = pe), (pe = s)))
                  : ((x = pe), (pe = s));
          else oe = s;
          if (oe === s)
            if (
              ((oe = []),
              (pe = x),
              (Ke = Rp()),
              Ke !== s
                ? ((lt = gl()),
                  lt !== s ? (pe = Et(j, lt)) : ((x = pe), (pe = s)))
                : ((x = pe), (pe = s)),
              pe !== s)
            )
              for (; pe !== s; )
                oe.push(pe),
                  (pe = x),
                  (Ke = Rp()),
                  Ke !== s
                    ? ((lt = gl()),
                      lt !== s ? (pe = Et(j, lt)) : ((x = pe), (pe = s)))
                    : ((x = pe), (pe = s));
            else oe = s;
          oe === s && (oe = null), (M = Ye(j, oe));
        } else (x = M), (M = s);
      return we--, M === s && ((j = s), we === 0 && Se(Ee)), M;
    }
    function Ge() {
      var M, j, oe, pe;
      if ((we++, (M = x), (j = nt()), j !== s)) {
        for (oe = [], pe = tr(); pe !== s; ) oe.push(pe), (pe = tr());
        M = jt(j, oe);
      } else (x = M), (M = s);
      return we--, M === s && ((j = s), we === 0 && Se(Je)), M;
    }
    function nt() {
      var M;
      return (M = qn()), M === s && ((M = Mp()), M === s && (M = pl())), M;
    }
    function tr() {
      var M, j, oe, pe, Ke, lt, Cr;
      if (
        (we++,
        (M = x),
        i.charCodeAt(x) === 62 ? ((j = p), x++) : ((j = s), we === 0 && Se(ve)),
        j !== s)
      )
        if (((oe = Ui()), oe !== s)) {
          for (
            pe = [],
              Ke = x,
              i.charCodeAt(x) === 44
                ? ((lt = f), x++)
                : ((lt = s), we === 0 && Se(Ce)),
              lt !== s
                ? ((Cr = Pp()),
                  Cr !== s ? (Ke = Ct(oe, Cr)) : ((x = Ke), (Ke = s)))
                : ((x = Ke), (Ke = s));
            Ke !== s;

          )
            pe.push(Ke),
              (Ke = x),
              i.charCodeAt(x) === 44
                ? ((lt = f), x++)
                : ((lt = s), we === 0 && Se(Ce)),
              lt !== s
                ? ((Cr = Pp()),
                  Cr !== s ? (Ke = Ct(oe, Cr)) : ((x = Ke), (Ke = s)))
                : ((x = Ke), (Ke = s));
          M = Rt(oe, pe);
        } else (x = M), (M = s);
      else (x = M), (M = s);
      return we--, M === s && ((j = s), we === 0 && Se(Re)), M;
    }
    function Ui() {
      var M;
      return we++, (M = pl()), we--, M === s && we === 0 && Se(Fe), M;
    }
    function qn() {
      var M, j, oe, pe, Ke, lt, Cr, Di;
      if ((we++, (M = x), (j = I0()), j !== s))
        if (
          (i.charCodeAt(x) === 44
            ? ((oe = f), x++)
            : ((oe = s), we === 0 && Se(Ce)),
          oe !== s)
        )
          if (((pe = B2()), pe !== s))
            if (
              (i.charCodeAt(x) === 58
                ? ((Ke = h), x++)
                : ((Ke = s), we === 0 && Se(ze)),
              Ke !== s)
            )
              if (((lt = Da()), lt !== s)) {
                for (Cr = [], Di = R0(); Di !== s; ) Cr.push(Di), (Di = R0());
                M = ir(j, pe, lt, Cr);
              } else (x = M), (M = s);
            else (x = M), (M = s);
          else (x = M), (M = s);
        else (x = M), (M = s);
      else (x = M), (M = s);
      if (M === s)
        if (((M = x), (j = I0()), j !== s))
          if (
            (i.charCodeAt(x) === 58
              ? ((oe = h), x++)
              : ((oe = s), we === 0 && Se(ze)),
            oe !== s)
          )
            if (((pe = Da()), pe !== s)) {
              for (Ke = [], lt = R0(); lt !== s; ) Ke.push(lt), (lt = R0());
              M = bi(j, pe, Ke);
            } else (x = M), (M = s);
          else (x = M), (M = s);
        else (x = M), (M = s);
      return we--, M === s && ((j = s), we === 0 && Se(q)), M;
    }
    function Da() {
      var M, j, oe, pe;
      return (
        (M = x),
        (j = Mp()),
        j !== s
          ? (i.charCodeAt(x) === 44
              ? ((oe = f), x++)
              : ((oe = s), we === 0 && Se(Ce)),
            oe !== s
              ? ((pe = gl()), pe !== s ? (M = De(j, pe)) : ((x = M), (M = s)))
              : ((x = M), (M = s)))
          : ((x = M), (M = s)),
        M
      );
    }
    function R0() {
      var M, j, oe;
      return (
        (M = x),
        i.charCodeAt(x) === 59 ? ((j = c), x++) : ((j = s), we === 0 && Se(ke)),
        j !== s
          ? ((oe = Da()), oe !== s ? (M = rt(oe)) : ((x = M), (M = s)))
          : ((x = M), (M = s)),
        M
      );
    }
    function I0() {
      var M;
      return we++, (M = pl()), we--, M === s && we === 0 && Se(Ot), M;
    }
    function Mp() {
      var M, j, oe, pe, Ke;
      return (
        we++,
        (M = x),
        (j = O2()),
        (oe = pl()),
        oe !== s
          ? ((pe = $2()),
            (Ke = $p()),
            Ke === s && (Ke = null),
            (M = Xe(j, oe, pe, Ke)))
          : ((x = M), (M = s)),
        we--,
        M === s && ((j = s), we === 0 && Se(Mt)),
        M
      );
    }
    function _p() {
      var M, j, oe, pe, Ke;
      return (
        (M = x),
        i.charCodeAt(x) === 33 ? ((j = m), x++) : ((j = s), we === 0 && Se(yt)),
        j !== s
          ? ((oe = ml()),
            oe !== s
              ? (i.charCodeAt(x) === 33
                  ? ((pe = m), x++)
                  : ((pe = s), we === 0 && Se(yt)),
                pe !== s
                  ? ((Ke = pl()),
                    Ke !== s ? (M = qt(oe, Ke)) : ((x = M), (M = s)))
                  : ((x = M), (M = s)))
              : ((x = M), (M = s)))
          : ((x = M), (M = s)),
        M
      );
    }
    function _2() {
      var M, j, oe;
      return (
        (M = x),
        i.charCodeAt(x) === 33 ? ((j = m), x++) : ((j = s), we === 0 && Se(yt)),
        j !== s
          ? ((oe = ml()), oe !== s ? (M = Dr(oe)) : ((x = M), (M = s)))
          : ((x = M), (M = s)),
        M
      );
    }
    function $2() {
      var M, j, oe;
      for (we++, M = x, j = [], oe = _p(); oe !== s; ) j.push(oe), (oe = _p());
      return (
        (oe = _2()),
        oe === s && (oe = null),
        (M = Pr(j, oe)),
        we--,
        (j = s),
        we === 0 && Se(wt),
        M
      );
    }
    function pl() {
      var M, j, oe;
      if (
        (we++,
        i.charCodeAt(x) === 46 ? ((M = b), x++) : ((M = s), we === 0 && Se(Ut)),
        M === s)
      ) {
        if (
          ((M = x),
          (j = []),
          T.test(i.charAt(x))
            ? ((oe = i.charAt(x)), x++)
            : ((oe = s), we === 0 && Se(br)),
          oe !== s)
        )
          for (; oe !== s; )
            j.push(oe),
              T.test(i.charAt(x))
                ? ((oe = i.charAt(x)), x++)
                : ((oe = s), we === 0 && Se(br));
        else j = s;
        j !== s ? (M = i.substring(M, x)) : (M = j);
      }
      return we--, M === s && ((j = s), we === 0 && Se(Zt)), M;
    }
    function $p() {
      var M, j, oe, pe, Ke;
      if (
        (we++,
        (M = x),
        i.substr(x, 3) === D
          ? ((j = D), (x += 3))
          : ((j = s), we === 0 && Se(Br)),
        j !== s
          ? ((oe = Tp()),
            oe !== s
              ? (i.charCodeAt(x) === 93
                  ? ((pe = k), x++)
                  : ((pe = s), we === 0 && Se(Wt)),
                pe !== s ? (M = R(oe)) : ((x = M), (M = s)))
              : ((x = M), (M = s)))
          : ((x = M), (M = s)),
        M === s)
      )
        if (
          ((M = x),
          i.substr(x, 2) === S
            ? ((j = S), (x += 2))
            : ((j = s), we === 0 && Se(gr)),
          j !== s)
        ) {
          if (((oe = x), (pe = []), (Ke = Op()), Ke !== s))
            for (; Ke !== s; ) pe.push(Ke), (Ke = Op());
          else pe = s;
          pe !== s ? (oe = i.substring(oe, x)) : (oe = pe),
            oe !== s ? (M = ae(oe)) : ((x = M), (M = s));
        } else (x = M), (M = s);
      return we--, M === s && ((j = s), we === 0 && Se(Or)), M;
    }
    function O2() {
      var M;
      return (
        we++, (M = Bp()), M === s && (M = null), we--, we === 0 && Se(Vt), M
      );
    }
    function Op() {
      var M, j, oe;
      if (
        (we++,
        (M = x),
        (j = []),
        i.charCodeAt(x) === 43
          ? ((oe = B), x++)
          : ((oe = s), we === 0 && Se(Me)),
        oe !== s)
      )
        for (; oe !== s; )
          j.push(oe),
            i.charCodeAt(x) === 43
              ? ((oe = B), x++)
              : ((oe = s), we === 0 && Se(Me));
      else j = s;
      return (
        j !== s ? (M = i.substring(M, x)) : (M = j),
        we--,
        M === s && ((j = s), we === 0 && Se(ce)),
        M
      );
    }
    function Bp() {
      var M, j, oe;
      if (
        (we++,
        (M = x),
        (j = []),
        i.charCodeAt(x) === 45
          ? ((oe = $), x++)
          : ((oe = s), we === 0 && Se(mt)),
        oe !== s)
      )
        for (; oe !== s; )
          j.push(oe),
            i.charCodeAt(x) === 45
              ? ((oe = $), x++)
              : ((oe = s), we === 0 && Se(mt));
      else j = s;
      return (
        j !== s ? (M = i.substring(M, x)) : (M = j),
        we--,
        M === s && ((j = s), we === 0 && Se(_e)),
        M
      );
    }
    function Tp() {
      var M, j, oe, pe;
      if (
        (we++,
        (M = x),
        (j = x),
        (oe = []),
        P.test(i.charAt(x))
          ? ((pe = i.charAt(x)), x++)
          : ((pe = s), we === 0 && Se(xe)),
        pe !== s)
      )
        for (; pe !== s; )
          oe.push(pe),
            P.test(i.charAt(x))
              ? ((pe = i.charAt(x)), x++)
              : ((pe = s), we === 0 && Se(xe));
      else oe = s;
      return (
        oe !== s ? (j = i.substring(j, x)) : (j = oe),
        j !== s && (j = ie(j)),
        (M = j),
        we--,
        M === s && ((j = s), we === 0 && Se(rr)),
        M
      );
    }
    function ml() {
      var M, j, oe, pe, Ke, lt, Cr, Di, yl, wa;
      if (
        (we++,
        (M = x),
        (j = x),
        (oe = x),
        (pe = x),
        (Ke = []),
        P.test(i.charAt(x))
          ? ((lt = i.charAt(x)), x++)
          : ((lt = s), we === 0 && Se(xe)),
        lt !== s)
      )
        for (; lt !== s; )
          Ke.push(lt),
            P.test(i.charAt(x))
              ? ((lt = i.charAt(x)), x++)
              : ((lt = s), we === 0 && Se(xe));
      else Ke = s;
      if ((Ke !== s ? (pe = i.substring(pe, x)) : (pe = Ke), pe !== s)) {
        if (
          ((Ke = x),
          (lt = x),
          i.charCodeAt(x) === 46
            ? ((Cr = b), x++)
            : ((Cr = s), we === 0 && Se(Ut)),
          Cr !== s)
        ) {
          for (
            Di = x,
              yl = [],
              P.test(i.charAt(x))
                ? ((wa = i.charAt(x)), x++)
                : ((wa = s), we === 0 && Se(xe));
            wa !== s;

          )
            yl.push(wa),
              P.test(i.charAt(x))
                ? ((wa = i.charAt(x)), x++)
                : ((wa = s), we === 0 && Se(xe));
          (Di = i.substring(Di, x)), (Cr = [Cr, Di]), (lt = Cr);
        } else (x = lt), (lt = s);
        lt === s && (lt = null),
          (Ke = i.substring(Ke, x)),
          (pe = [pe, Ke]),
          (oe = pe);
      } else (x = oe), (oe = s);
      if ((oe !== s ? (j = i.substring(j, x)) : (j = oe), j === s)) {
        if (
          ((j = x),
          (oe = x),
          i.charCodeAt(x) === 46
            ? ((pe = b), x++)
            : ((pe = s), we === 0 && Se(Ut)),
          pe !== s)
        ) {
          if (
            ((Ke = x),
            (lt = []),
            P.test(i.charAt(x))
              ? ((Cr = i.charAt(x)), x++)
              : ((Cr = s), we === 0 && Se(xe)),
            Cr !== s)
          )
            for (; Cr !== s; )
              lt.push(Cr),
                P.test(i.charAt(x))
                  ? ((Cr = i.charAt(x)), x++)
                  : ((Cr = s), we === 0 && Se(xe));
          else lt = s;
          lt !== s ? (Ke = i.substring(Ke, x)) : (Ke = lt),
            Ke !== s ? ((pe = [pe, Ke]), (oe = pe)) : ((x = oe), (oe = s));
        } else (x = oe), (oe = s);
        oe !== s ? (j = i.substring(j, x)) : (j = oe);
      }
      return (
        j !== s && (j = Dt(j)),
        (M = j),
        we--,
        M === s && ((j = s), we === 0 && Se(Dn)),
        M
      );
    }
    function B2() {
      var M;
      return we++, (M = ml()), we--, M === s && we === 0 && Se(Tr), M;
    }
    function gl() {
      var M, j, oe;
      return (
        (M = ml()),
        M === s &&
          ((M = x),
          i.charCodeAt(x) === 43
            ? ((j = B), x++)
            : ((j = s), we === 0 && Se(Me)),
          j !== s
            ? ((oe = ml()), oe !== s ? (M = Tt(oe)) : ((x = M), (M = s)))
            : ((x = M), (M = s)),
          M === s &&
            ((M = x),
            i.charCodeAt(x) === 45
              ? ((j = $), x++)
              : ((j = s), we === 0 && Se(mt)),
            j !== s
              ? ((oe = ml()), oe !== s ? (M = Gt(oe)) : ((x = M), (M = s)))
              : ((x = M), (M = s)))),
        M
      );
    }
    function Pp() {
      var M, j, oe;
      return (
        we++,
        (M = x),
        (j = Bp()),
        j === s && (j = null),
        (oe = Tp()),
        oe !== s ? (M = Lr(j, oe)) : ((x = M), (M = s)),
        we--,
        M === s && ((j = s), we === 0 && Se(le)),
        M
      );
    }
    function Rp() {
      var M, j;
      if (
        ((M = []),
        te.test(i.charAt(x))
          ? ((j = i.charAt(x)), x++)
          : ((j = s), we === 0 && Se(ne)),
        j !== s)
      )
        for (; j !== s; )
          M.push(j),
            te.test(i.charAt(x))
              ? ((j = i.charAt(x)), x++)
              : ((j = s), we === 0 && Se(ne));
      else M = s;
      return M;
    }
    function vl() {
      var M, j;
      return (
        (M = x),
        ee.test(i.charAt(x))
          ? ((j = i.charAt(x)), x++)
          : ((j = s), we === 0 && Se(J)),
        j !== s && (j = N(j)),
        (M = j),
        M
      );
    }
    function Pu() {
      var M, j;
      return (
        (M = x),
        we++,
        i.length > x ? ((j = i.charAt(x)), x++) : ((j = s), we === 0 && Se(de)),
        we--,
        j === s ? (M = void 0) : ((x = M), (M = s)),
        M
      );
    }
    if (((zr = u()), zr !== s && x === i.length)) return zr;
    throw (
      (zr !== s && x < i.length && Se(Mn()),
      Kt(
        ur,
        xt < i.length ? i.charAt(xt) : null,
        xt < i.length ? Be(xt, xt + 1) : Be(xt, xt)
      ))
    );
  }
  return { SyntaxError: e, parse: n };
})();
(function () {
  function t(i, o) {
    function s() {
      this.constructor = i;
    }
    (s.prototype = o.prototype), (i.prototype = new s());
  }
  function e(i, o, s, a) {
    var l = Error.call(this, i);
    return (
      Object.setPrototypeOf && Object.setPrototypeOf(l, e.prototype),
      (l.expected = o),
      (l.found = s),
      (l.location = a),
      (l.name = "SyntaxError"),
      l
    );
  }
  t(e, Error);
  function r(i, o, s) {
    return (
      (s = s || " "),
      i.length > o
        ? i
        : ((o -= i.length), (s += s.repeat(o)), i + s.slice(0, o))
    );
  }
  (e.prototype.format = function (i) {
    var o = "Error: " + this.message;
    if (this.location) {
      var s = null,
        a;
      for (a = 0; a < i.length; a++)
        if (i[a].source === this.location.source) {
          s = i[a].text.split(/\r\n|\n|\r/g);
          break;
        }
      var l = this.location.start,
        u = this.location.source + ":" + l.line + ":" + l.column;
      if (s) {
        var c = this.location.end,
          f = r("", l.line.toString().length, " "),
          h = s[l.line - 1],
          d = l.line === c.line ? c.column : h.length + 1,
          p = d - l.column || 1;
        o +=
          `
 --> ` +
          u +
          `
` +
          f +
          ` |
` +
          l.line +
          " | " +
          h +
          `
` +
          f +
          " | " +
          r("", l.column - 1, " ") +
          r("", p, "^");
      } else
        o +=
          `
 at ` + u;
    }
    return o;
  }),
    (e.buildMessage = function (i, o) {
      var s = {
        literal: function (d) {
          return '"' + l(d.text) + '"';
        },
        class: function (d) {
          var p = d.parts.map(function (m) {
            return Array.isArray(m) ? u(m[0]) + "-" + u(m[1]) : u(m);
          });
          return "[" + (d.inverted ? "^" : "") + p.join("") + "]";
        },
        any: function () {
          return "any character";
        },
        end: function () {
          return "end of input";
        },
        other: function (d) {
          return d.description;
        },
      };
      function a(d) {
        return d.charCodeAt(0).toString(16).toUpperCase();
      }
      function l(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/"/g, '\\"')
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function u(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/\]/g, "\\]")
          .replace(/\^/g, "\\^")
          .replace(/-/g, "\\-")
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function c(d) {
        return s[d.type](d);
      }
      function f(d) {
        var p = d.map(c),
          m,
          b;
        if ((p.sort(), p.length > 0)) {
          for (m = 1, b = 1; m < p.length; m++)
            p[m - 1] !== p[m] && ((p[b] = p[m]), b++);
          p.length = b;
        }
        switch (p.length) {
          case 1:
            return p[0];
          case 2:
            return p[0] + " or " + p[1];
          default:
            return p.slice(0, -1).join(", ") + ", or " + p[p.length - 1];
        }
      }
      function h(d) {
        return d ? '"' + l(d) + '"' : "end of input";
      }
      return "Expected " + f(i) + " but " + h(o) + " found.";
    });
  function n(i, o) {
    o = o !== void 0 ? o : {};
    var s = {},
      a = o.grammarSource,
      l = { body: I },
      u = I,
      c = hr("decl_start"),
      f = hr("decl_end"),
      h = hr("vert"),
      d = nr(),
      p = hr("l"),
      m = hr("r"),
      b = hr("c"),
      D = hr("p"),
      k = hr("m"),
      S = hr("b"),
      B = hr("w"),
      $ = hr("W"),
      T = hr("X"),
      P = hr("!"),
      te = hr("@"),
      ee = hr("<"),
      de = hr(">"),
      ke = hr("group"),
      Ce = hr("whitespace"),
      he = function (N) {
        return N;
      },
      ze = function (N) {
        return N;
      },
      Ve = function () {
        return [];
      },
      Ae = function (N, x, re, xt, ur) {
        return {
          type: "column",
          pre_dividers: N,
          post_dividers: ur,
          before_start_code: x,
          before_end_code: xt,
          alignment: re,
        };
      },
      tt = function () {
        return { type: "vert_divider" };
      },
      Ee = function (N, x) {
        return { type: "bang_divider", content: x[0].content };
      },
      Je = function (N) {
        return { type: "at_divider", content: N[0].content };
      },
      Re = function (N) {
        return N;
      },
      ve = function (N) {
        return { type: "decl_code", code: N[0].content };
      },
      Fe = function (N) {
        return { type: "decl_code", code: N[0].content };
      },
      q = function () {
        return { type: "alignment", alignment: "left" };
      },
      Ot = function () {
        return { type: "alignment", alignment: "center" };
      },
      Mt = function () {
        return { type: "alignment", alignment: "right" };
      },
      yt = function () {
        return { type: "alignment", alignment: "X" };
      },
      wt = function () {
        return "top";
      },
      Zt = function () {
        return "default";
      },
      Ut = function () {
        return "bottom";
      },
      br = function (N, x) {
        return {
          type: "alignment",
          alignment: "parbox",
          baseline: N,
          size: x[0].content,
        };
      },
      Or = function (N, x) {
        return {
          type: "alignment",
          alignment: "parbox",
          baseline: N[0].content,
          size: x[0].content,
        };
      },
      Br = function (N) {
        return o.matchChar(N, "|");
      },
      Wt = function (N) {
        return o.matchChar(N, "l");
      },
      gr = function (N) {
        return o.matchChar(N, "r");
      },
      Vt = function (N) {
        return o.matchChar(N, "c");
      },
      ce = function (N) {
        return o.matchChar(N, "p");
      },
      Me = function (N) {
        return o.matchChar(N, "m");
      },
      _e = function (N) {
        return o.matchChar(N, "b");
      },
      mt = function (N) {
        return o.matchChar(N, "w");
      },
      rr = function (N) {
        return o.matchChar(N, "W");
      },
      xe = function (N) {
        return o.matchChar(N, "X");
      },
      Dn = function (N) {
        return o.matchChar(N, "!");
      },
      Tr = function (N) {
        return o.matchChar(N, "@");
      },
      le = function (N) {
        return o.matchChar(N, "<");
      },
      ne = function (N) {
        return o.matchChar(N, ">");
      },
      J = function (N) {
        return o.isGroup(N);
      },
      er = function (N) {
        return o.isWhitespace(N);
      },
      ue = 0,
      Xt = [{ line: 1, column: 1 }],
      Lt = 0,
      bt = [],
      $e = 0,
      hn;
    if ("startRule" in o) {
      if (!(o.startRule in l))
        throw new Error(`Can't start parsing from rule "` + o.startRule + '".');
      u = l[o.startRule];
    }
    function nr() {
      return { type: "any" };
    }
    function Fn() {
      return { type: "end" };
    }
    function hr(N) {
      return { type: "other", description: N };
    }
    function H(N) {
      var x = Xt[N],
        re;
      if (x) return x;
      for (re = N - 1; !Xt[re]; ) re--;
      for (x = Xt[re], x = { line: x.line, column: x.column }; re < N; )
        i.charCodeAt(re) === 10 ? (x.line++, (x.column = 1)) : x.column++, re++;
      return (Xt[N] = x), x;
    }
    function z(N, x) {
      var re = H(N),
        xt = H(x);
      return {
        source: a,
        start: { offset: N, line: re.line, column: re.column },
        end: { offset: x, line: xt.line, column: xt.column },
      };
    }
    function X(N) {
      ue < Lt || (ue > Lt && ((Lt = ue), (bt = [])), bt.push(N));
    }
    function fe(N, x, re) {
      return new e(e.buildMessage(N, x), N, x, re);
    }
    function I() {
      var N, x, re, xt, ur, we;
      if (((N = ue), (x = []), (re = ue), (xt = ht()), xt !== s)) {
        for (ur = [], we = Gt(); we !== s; ) ur.push(we), (we = Gt());
        re = he(xt);
      } else (ue = re), (re = s);
      if (re !== s)
        for (; re !== s; )
          if ((x.push(re), (re = ue), (xt = ht()), xt !== s)) {
            for (ur = [], we = Gt(); we !== s; ) ur.push(we), (we = Gt());
            re = he(xt);
          } else (ue = re), (re = s);
      else x = s;
      return (
        x !== s && (x = ze(x)),
        (N = x),
        N === s && ((N = ue), (x = Lr()), x !== s && (x = Ve()), (N = x)),
        N
      );
    }
    function ht() {
      var N, x, re, xt, ur, we, zr;
      for (N = ue, x = [], re = Bt(); re !== s; ) x.push(re), (re = Bt());
      if (((re = Et()), re === s && (re = null), (xt = jt()), xt !== s)) {
        for (ur = Ye(), ur === s && (ur = null), we = [], zr = Bt(); zr !== s; )
          we.push(zr), (zr = Bt());
        N = Ae(x, re, xt, ur, we);
      } else (ue = N), (N = s);
      return N;
    }
    function Bt() {
      var N, x, re, xt, ur;
      for (N = ue, x = [], re = Gt(); re !== s; ) x.push(re), (re = Gt());
      if (
        ((re = ue),
        (xt = Ct()),
        xt !== s && (xt = tt()),
        (re = xt),
        re === s &&
          ((re = ue),
          (xt = R()),
          xt !== s
            ? ((ur = Tt()),
              ur !== s ? (re = Ee(xt, ur)) : ((ue = re), (re = s)))
            : ((ue = re), (re = s)),
          re === s &&
            ((re = ue),
            (xt = ae()),
            xt !== s
              ? ((ur = Tt()), ur !== s ? (re = Je(ur)) : ((ue = re), (re = s)))
              : ((ue = re), (re = s)))),
        re !== s)
      ) {
        for (xt = [], ur = Gt(); ur !== s; ) xt.push(ur), (ur = Gt());
        N = Re(re);
      } else (ue = N), (N = s);
      return N;
    }
    function Et() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        (x = Dt()),
        x !== s
          ? ((re = Tt()), re !== s ? (N = ve(re)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(c)),
        N
      );
    }
    function Ye() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        (x = ie()),
        x !== s
          ? ((re = Tt()), re !== s ? (N = Fe(re)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(f)),
        N
      );
    }
    function jt() {
      var N, x, re, xt, ur, we;
      if (
        ((N = ue),
        (x = Rt()),
        x !== s && (x = q()),
        (N = x),
        N === s &&
          ((N = ue),
          (x = bi()),
          x !== s && (x = Ot()),
          (N = x),
          N === s &&
            ((N = ue),
            (x = ir()),
            x !== s && (x = Mt()),
            (N = x),
            N === s &&
              ((N = ue), (x = Pr()), x !== s && (x = yt()), (N = x), N === s))))
      ) {
        if (
          ((N = ue),
          (x = ue),
          (re = De()),
          re !== s && (re = wt()),
          (x = re),
          x === s &&
            ((x = ue),
            (re = rt()),
            re !== s && (re = Zt()),
            (x = re),
            x === s &&
              ((x = ue), (re = Xe()), re !== s && (re = Ut()), (x = re))),
          x !== s)
        ) {
          for (re = [], xt = Gt(); xt !== s; ) re.push(xt), (xt = Gt());
          (xt = Tt()), xt !== s ? (N = br(x, xt)) : ((ue = N), (N = s));
        } else (ue = N), (N = s);
        if (N === s)
          if (((N = ue), (x = qt()), x === s && (x = Dr()), x !== s)) {
            for (re = [], xt = Gt(); xt !== s; ) re.push(xt), (xt = Gt());
            if (((xt = Tt()), xt !== s)) {
              for (ur = [], we = Gt(); we !== s; ) ur.push(we), (we = Gt());
              (we = Tt()), we !== s ? (N = Or(xt, we)) : ((ue = N), (N = s));
            } else (ue = N), (N = s);
          } else (ue = N), (N = s);
      }
      return N;
    }
    function Ct() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = Br(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(h)),
        N
      );
    }
    function Rt() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = Wt(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(p)),
        N
      );
    }
    function ir() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = gr(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(m)),
        N
      );
    }
    function bi() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = Vt(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(b)),
        N
      );
    }
    function De() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = ce(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(D)),
        N
      );
    }
    function rt() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = Me(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(k)),
        N
      );
    }
    function Xe() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = _e(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(S)),
        N
      );
    }
    function qt() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = mt(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(B)),
        N
      );
    }
    function Dr() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = rr(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X($)),
        N
      );
    }
    function Pr() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = xe(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(T)),
        N
      );
    }
    function R() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = Dn(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(P)),
        N
      );
    }
    function ae() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = Tr(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(te)),
        N
      );
    }
    function ie() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = le(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(ee)),
        N
      );
    }
    function Dt() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = ne(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(de)),
        N
      );
    }
    function Tt() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = J(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(ke)),
        N
      );
    }
    function Gt() {
      var N, x, re;
      return (
        $e++,
        (N = ue),
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        x !== s
          ? ((re = er(x)),
            re ? (re = void 0) : (re = s),
            re !== s ? ((x = [x, re]), (N = x)) : ((ue = N), (N = s)))
          : ((ue = N), (N = s)),
        $e--,
        N === s && ((x = s), $e === 0 && X(Ce)),
        N
      );
    }
    function Lr() {
      var N, x;
      return (
        (N = ue),
        $e++,
        i.length > ue
          ? ((x = i.charAt(ue)), ue++)
          : ((x = s), $e === 0 && X(d)),
        $e--,
        x === s ? (N = void 0) : ((ue = N), (N = s)),
        N
      );
    }
    if (!o.isHash)
      try {
        Object.assign(o, {
          matchChar: (N, x) => N.type === "string" && N.content === x,
          isGroup: (N) => N.type === "group",
          isWhitespace: (N) => N.type === "whitespace",
        });
      } catch (N) {
        console.warn("Error when initializing parser", N);
      }
    if (((hn = u()), hn !== s && ue === i.length)) return hn;
    throw (
      (hn !== s && ue < i.length && X(Fn()),
      fe(
        bt,
        Lt < i.length ? i.charAt(Lt) : null,
        Lt < i.length ? z(Lt, Lt + 1) : z(Lt, Lt)
      ))
    );
  }
  return { SyntaxError: e, parse: n };
})();
(function () {
  function t(i, o) {
    function s() {
      this.constructor = i;
    }
    (s.prototype = o.prototype), (i.prototype = new s());
  }
  function e(i, o, s, a) {
    var l = Error.call(this, i);
    return (
      Object.setPrototypeOf && Object.setPrototypeOf(l, e.prototype),
      (l.expected = o),
      (l.found = s),
      (l.location = a),
      (l.name = "SyntaxError"),
      l
    );
  }
  t(e, Error);
  function r(i, o, s) {
    return (
      (s = s || " "),
      i.length > o
        ? i
        : ((o -= i.length), (s += s.repeat(o)), i + s.slice(0, o))
    );
  }
  (e.prototype.format = function (i) {
    var o = "Error: " + this.message;
    if (this.location) {
      var s = null,
        a;
      for (a = 0; a < i.length; a++)
        if (i[a].source === this.location.source) {
          s = i[a].text.split(/\r\n|\n|\r/g);
          break;
        }
      var l = this.location.start,
        u = this.location.source + ":" + l.line + ":" + l.column;
      if (s) {
        var c = this.location.end,
          f = r("", l.line.toString().length, " "),
          h = s[l.line - 1],
          d = l.line === c.line ? c.column : h.length + 1,
          p = d - l.column || 1;
        o +=
          `
 --> ` +
          u +
          `
` +
          f +
          ` |
` +
          l.line +
          " | " +
          h +
          `
` +
          f +
          " | " +
          r("", l.column - 1, " ") +
          r("", p, "^");
      } else
        o +=
          `
 at ` + u;
    }
    return o;
  }),
    (e.buildMessage = function (i, o) {
      var s = {
        literal: function (d) {
          return '"' + l(d.text) + '"';
        },
        class: function (d) {
          var p = d.parts.map(function (m) {
            return Array.isArray(m) ? u(m[0]) + "-" + u(m[1]) : u(m);
          });
          return "[" + (d.inverted ? "^" : "") + p.join("") + "]";
        },
        any: function () {
          return "any character";
        },
        end: function () {
          return "end of input";
        },
        other: function (d) {
          return d.description;
        },
      };
      function a(d) {
        return d.charCodeAt(0).toString(16).toUpperCase();
      }
      function l(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/"/g, '\\"')
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function u(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/\]/g, "\\]")
          .replace(/\^/g, "\\^")
          .replace(/-/g, "\\-")
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function c(d) {
        return s[d.type](d);
      }
      function f(d) {
        var p = d.map(c),
          m,
          b;
        if ((p.sort(), p.length > 0)) {
          for (m = 1, b = 1; m < p.length; m++)
            p[m - 1] !== p[m] && ((p[b] = p[m]), b++);
          p.length = b;
        }
        switch (p.length) {
          case 1:
            return p[0];
          case 2:
            return p[0] + " or " + p[1];
          default:
            return p.slice(0, -1).join(", ") + ", or " + p[p.length - 1];
        }
      }
      function h(d) {
        return d ? '"' + l(d) + '"' : "end of input";
      }
      return "Expected " + f(i) + " but " + h(o) + " found.";
    });
  function n(i, o) {
    o = o !== void 0 ? o : {};
    var s = {},
      a = o.grammarSource,
      l = { body: nr },
      u = nr,
      c = Xt("item"),
      f = er(),
      h = Xt("equation"),
      d = Xt("trailing comment"),
      p = Xt("comment only line"),
      m = Xt("non-var token"),
      b = Xt("token"),
      D = Xt("same line comment"),
      k = Xt("own line comment"),
      S = Xt(","),
      B = Xt("@"),
      $ = Xt("variable token"),
      T = Xt("+/-"),
      P = Xt("="),
      te = function (R, ae) {
        return R.concat(ae || []);
      },
      ee = function () {
        return [];
      },
      de = function (R, ae, ie, Dt) {
        return {
          type: "item",
          op: R,
          variable: ie,
          content: ae.concat(ie, Dt),
        };
      },
      ke = function (R, ae) {
        return { type: "item", op: R, variable: null, content: ae };
      },
      Ce = function (R, ae, ie) {
        return { ...R, sep: [].concat(ae), trailingComment: ie };
      },
      he = function (R, ae) {
        return { ...R, trailingComment: ae };
      },
      ze = function (R, ae) {
        return { type: "line", equation: R, annotation: ae, sep: null };
      },
      Ve = function (R, ae) {
        return R ? { type: "annotation", marker: R, content: ae } : null;
      },
      Ae = function (R, ae, ie) {
        return { type: "equation", left: R, right: ie, equals: ae };
      },
      tt = function (R) {
        return R;
      },
      Ee = function (R) {
        return { type: "line", trailingComment: R };
      },
      Je = function (R, ae) {
        return [R].concat(ae || []);
      },
      Re = function (R) {
        return R;
      },
      ve = function (R) {
        return R;
      },
      Fe = function (R) {
        return R;
      },
      q = function (R) {
        return o.isSameLineComment(R);
      },
      Ot = function (R) {
        return R;
      },
      Mt = function (R) {
        return o.isOwnLineComment(R);
      },
      yt = function (R) {
        return R;
      },
      wt = function (R) {
        return o.isWhitespace(R);
      },
      Zt = function (R) {
        return R;
      },
      Ut = function (R) {
        return o.isSep(R);
      },
      br = function (R) {
        return R;
      },
      Or = function (R) {
        return o.isAt(R);
      },
      Br = function (R) {
        return R;
      },
      Wt = function (R) {
        return o.isVar(R);
      },
      gr = function (R) {
        return R;
      },
      Vt = function (R) {
        return o.isOperation(R);
      },
      ce = function (R) {
        return R;
      },
      Me = function (R) {
        return o.isEquals(R);
      },
      _e = function (R) {
        return R;
      },
      mt = function (R) {
        return o.isSubscript(R);
      },
      rr = function (R) {
        return R;
      },
      xe = 0,
      Dn = [{ line: 1, column: 1 }],
      Tr = 0,
      le = [],
      ne = 0,
      J;
    if ("startRule" in o) {
      if (!(o.startRule in l))
        throw new Error(`Can't start parsing from rule "` + o.startRule + '".');
      u = l[o.startRule];
    }
    function er() {
      return { type: "any" };
    }
    function ue() {
      return { type: "end" };
    }
    function Xt(R) {
      return { type: "other", description: R };
    }
    function Lt(R) {
      var ae = Dn[R],
        ie;
      if (ae) return ae;
      for (ie = R - 1; !Dn[ie]; ) ie--;
      for (ae = Dn[ie], ae = { line: ae.line, column: ae.column }; ie < R; )
        i.charCodeAt(ie) === 10 ? (ae.line++, (ae.column = 1)) : ae.column++,
          ie++;
      return (Dn[R] = ae), ae;
    }
    function bt(R, ae) {
      var ie = Lt(R),
        Dt = Lt(ae);
      return {
        source: a,
        start: { offset: R, line: ie.line, column: ie.column },
        end: { offset: ae, line: Dt.line, column: Dt.column },
      };
    }
    function $e(R) {
      xe < Tr || (xe > Tr && ((Tr = xe), (le = [])), le.push(R));
    }
    function hn(R, ae, ie) {
      return new e(e.buildMessage(R, ae), R, ae, ie);
    }
    function nr() {
      var R, ae, ie;
      for (
        R = xe,
          ae = [],
          ie = ht(),
          ie === s && ((ie = hr()), ie === s && (ie = H()));
        ie !== s;

      )
        ae.push(ie),
          (ie = ht()),
          ie === s && ((ie = hr()), ie === s && (ie = H()));
      return (
        (ie = z()),
        ie === s && (ie = Pr()),
        ie !== s ? (R = te(ae, ie)) : ((xe = R), (R = s)),
        R === s && ((R = xe), (ae = Pr()), ae !== s && (ae = ee()), (R = ae)),
        R
      );
    }
    function Fn() {
      var R, ae, ie, Dt, Tt, Gt, Lr, N, x, re;
      for (
        ne++, R = xe, ae = Xe(), ae === s && (ae = null), ie = [], Dt = ir();
        Dt !== s;

      )
        ie.push(Dt), (Dt = ir());
      for (Dt = [], Tt = Et(); Tt !== s; ) Dt.push(Tt), (Tt = Et());
      for (Tt = [], Gt = ir(); Gt !== s; ) Tt.push(Gt), (Gt = ir());
      if (((Gt = Bt()), Gt !== s)) {
        for (Lr = [], N = ir(); N !== s; ) Lr.push(N), (N = ir());
        for (N = [], x = jt(); x !== s; ) N.push(x), (x = jt());
        for (x = [], re = ir(); re !== s; ) x.push(re), (re = ir());
        R = de(ae, Dt, Gt, N);
      } else (xe = R), (R = s);
      if (R === s) {
        for (
          R = xe, ae = Xe(), ae === s && (ae = null), ie = [], Dt = ir();
          Dt !== s;

        )
          ie.push(Dt), (Dt = ir());
        if (((Dt = []), (Tt = Et()), Tt !== s))
          for (; Tt !== s; ) Dt.push(Tt), (Tt = Et());
        else Dt = s;
        if (Dt !== s) {
          for (Tt = [], Gt = ir(); Gt !== s; ) Tt.push(Gt), (Gt = ir());
          R = ke(ae, Dt);
        } else (xe = R), (R = s);
      }
      return ne--, R === s && ((ae = s), ne === 0 && $e(c)), R;
    }
    function hr() {
      var R, ae, ie, Dt;
      return (
        (R = xe),
        (ae = z()),
        ae !== s
          ? ((ie = bi()),
            ie !== s
              ? ((Dt = I()), Dt === s && (Dt = null), (R = Ce(ae, ie, Dt)))
              : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        R
      );
    }
    function H() {
      var R, ae, ie;
      return (
        (R = xe),
        (ae = z()),
        ae !== s
          ? ((ie = I()), ie !== s ? (R = he(ae, ie)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        R
      );
    }
    function z() {
      var R, ae, ie, Dt;
      return (
        (R = xe),
        (ae = xe),
        ne++,
        i.length > xe
          ? ((ie = i.charAt(xe)), xe++)
          : ((ie = s), ne === 0 && $e(f)),
        ne--,
        ie !== s ? ((xe = ae), (ae = void 0)) : (ae = s),
        ae !== s
          ? ((ie = fe()), (Dt = X()), Dt === s && (Dt = null), (R = ze(ie, Dt)))
          : ((xe = R), (R = s)),
        R
      );
    }
    function X() {
      var R, ae, ie, Dt;
      if (((R = xe), (ae = De()), ae !== s)) {
        for (ie = [], Dt = Ye(); Dt !== s; ) ie.push(Dt), (Dt = Ye());
        R = Ve(ae, ie);
      } else (xe = R), (R = s);
      return R;
    }
    function fe() {
      var R, ae, ie, Dt, Tt;
      for (ne++, R = xe, ae = [], ie = Fn(); ie !== s; )
        ae.push(ie), (ie = Fn());
      for (
        ie = qt(),
          ie === s && (ie = null),
          Dt = [],
          Tt = jt(),
          Tt === s && (Tt = Xe());
        Tt !== s;

      )
        Dt.push(Tt), (Tt = jt()), Tt === s && (Tt = Xe());
      return (R = Ae(ae, ie, Dt)), ne--, (ae = s), ne === 0 && $e(h), R;
    }
    function I() {
      var R, ae, ie;
      for (ne++, R = xe, ae = [], ie = ir(); ie !== s; )
        ae.push(ie), (ie = ir());
      return (
        (ie = Ct()),
        ie !== s ? (R = tt(ie)) : ((xe = R), (R = s)),
        ne--,
        R === s && ((ae = s), ne === 0 && $e(d)),
        R
      );
    }
    function ht() {
      var R, ae, ie;
      for (ne++, R = xe, ae = [], ie = ir(); ie !== s; )
        ae.push(ie), (ie = ir());
      return (
        (ie = Rt()),
        ie !== s ? (R = Ee(ie)) : ((xe = R), (R = s)),
        ne--,
        R === s && ((ae = s), ne === 0 && $e(p)),
        R
      );
    }
    function Bt() {
      var R, ae, ie, Dt;
      if (((R = xe), (ae = rt()), ae !== s)) {
        for (ie = [], Dt = ir(); Dt !== s; ) ie.push(Dt), (Dt = ir());
        (Dt = Dr()), Dt === s && (Dt = null), (R = Je(ae, Dt));
      } else (xe = R), (R = s);
      return R;
    }
    function Et() {
      var R, ae, ie;
      return (
        ne++,
        (R = xe),
        (ae = xe),
        ne++,
        (ie = Bt()),
        ne--,
        ie === s ? (ae = void 0) : ((xe = ae), (ae = s)),
        ae !== s
          ? ((ie = jt()), ie !== s ? (R = Re(ie)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        ne--,
        R === s && ((ae = s), ne === 0 && $e(m)),
        R
      );
    }
    function Ye() {
      var R, ae, ie;
      return (
        (R = xe),
        (ae = xe),
        ne++,
        (ie = bi()),
        ie === s && ((ie = I()), ie === s && (ie = Rt())),
        ne--,
        ie === s ? (ae = void 0) : ((xe = ae), (ae = s)),
        ae !== s
          ? (i.length > xe
              ? ((ie = i.charAt(xe)), xe++)
              : ((ie = s), ne === 0 && $e(f)),
            ie !== s ? (R = ve(ie)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        R
      );
    }
    function jt() {
      var R, ae, ie;
      return (
        ne++,
        (R = xe),
        (ae = xe),
        ne++,
        (ie = bi()),
        ie === s &&
          ((ie = De()),
          ie === s &&
            ((ie = Xe()),
            ie === s &&
              ((ie = qt()),
              ie === s && ((ie = I()), ie === s && (ie = Rt()))))),
        ne--,
        ie === s ? (ae = void 0) : ((xe = ae), (ae = s)),
        ae !== s
          ? (i.length > xe
              ? ((ie = i.charAt(xe)), xe++)
              : ((ie = s), ne === 0 && $e(f)),
            ie !== s ? (R = Fe(ie)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        ne--,
        R === s && ((ae = s), ne === 0 && $e(b)),
        R
      );
    }
    function Ct() {
      var R, ae, ie;
      return (
        ne++,
        (R = xe),
        i.length > xe
          ? ((ae = i.charAt(xe)), xe++)
          : ((ae = s), ne === 0 && $e(f)),
        ae !== s
          ? ((ie = q(ae)),
            ie ? (ie = void 0) : (ie = s),
            ie !== s ? (R = Ot(ae)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        ne--,
        R === s && ((ae = s), ne === 0 && $e(D)),
        R
      );
    }
    function Rt() {
      var R, ae, ie;
      return (
        ne++,
        (R = xe),
        i.length > xe
          ? ((ae = i.charAt(xe)), xe++)
          : ((ae = s), ne === 0 && $e(f)),
        ae !== s
          ? ((ie = Mt(ae)),
            ie ? (ie = void 0) : (ie = s),
            ie !== s ? (R = yt(ae)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        ne--,
        R === s && ((ae = s), ne === 0 && $e(k)),
        R
      );
    }
    function ir() {
      var R, ae, ie;
      return (
        (R = xe),
        i.length > xe
          ? ((ae = i.charAt(xe)), xe++)
          : ((ae = s), ne === 0 && $e(f)),
        ae !== s
          ? ((ie = wt(ae)),
            ie ? (ie = void 0) : (ie = s),
            ie !== s ? (R = Zt(ae)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        R
      );
    }
    function bi() {
      var R, ae, ie;
      return (
        ne++,
        (R = xe),
        i.length > xe
          ? ((ae = i.charAt(xe)), xe++)
          : ((ae = s), ne === 0 && $e(f)),
        ae !== s
          ? ((ie = Ut(ae)),
            ie ? (ie = void 0) : (ie = s),
            ie !== s ? (R = br(ae)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        ne--,
        R === s && ((ae = s), ne === 0 && $e(S)),
        R
      );
    }
    function De() {
      var R, ae, ie;
      return (
        ne++,
        (R = xe),
        i.length > xe
          ? ((ae = i.charAt(xe)), xe++)
          : ((ae = s), ne === 0 && $e(f)),
        ae !== s
          ? ((ie = Or(ae)),
            ie ? (ie = void 0) : (ie = s),
            ie !== s ? (R = Br(ae)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        ne--,
        R === s && ((ae = s), ne === 0 && $e(B)),
        R
      );
    }
    function rt() {
      var R, ae, ie;
      return (
        ne++,
        (R = xe),
        i.length > xe
          ? ((ae = i.charAt(xe)), xe++)
          : ((ae = s), ne === 0 && $e(f)),
        ae !== s
          ? ((ie = Wt(ae)),
            ie ? (ie = void 0) : (ie = s),
            ie !== s ? (R = gr(ae)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        ne--,
        R === s && ((ae = s), ne === 0 && $e($)),
        R
      );
    }
    function Xe() {
      var R, ae, ie, Dt, Tt;
      for (ne++, R = xe, ae = [], ie = ir(); ie !== s; )
        ae.push(ie), (ie = ir());
      if (
        (i.length > xe
          ? ((ie = i.charAt(xe)), xe++)
          : ((ie = s), ne === 0 && $e(f)),
        ie !== s)
      ) {
        for (Dt = [], Tt = ir(); Tt !== s; ) Dt.push(Tt), (Tt = ir());
        (Tt = Vt(ie)),
          Tt ? (Tt = void 0) : (Tt = s),
          Tt !== s ? (R = ce(ie)) : ((xe = R), (R = s));
      } else (xe = R), (R = s);
      return ne--, R === s && ((ae = s), ne === 0 && $e(T)), R;
    }
    function qt() {
      var R, ae, ie;
      return (
        ne++,
        (R = xe),
        i.length > xe
          ? ((ae = i.charAt(xe)), xe++)
          : ((ae = s), ne === 0 && $e(f)),
        ae !== s
          ? ((ie = Me(ae)),
            ie ? (ie = void 0) : (ie = s),
            ie !== s ? (R = _e(ae)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        ne--,
        R === s && ((ae = s), ne === 0 && $e(P)),
        R
      );
    }
    function Dr() {
      var R, ae, ie;
      return (
        (R = xe),
        i.length > xe
          ? ((ae = i.charAt(xe)), xe++)
          : ((ae = s), ne === 0 && $e(f)),
        ae !== s
          ? ((ie = mt(ae)),
            ie ? (ie = void 0) : (ie = s),
            ie !== s ? (R = rr(ae)) : ((xe = R), (R = s)))
          : ((xe = R), (R = s)),
        R
      );
    }
    function Pr() {
      var R, ae;
      return (
        (R = xe),
        ne++,
        i.length > xe
          ? ((ae = i.charAt(xe)), xe++)
          : ((ae = s), ne === 0 && $e(f)),
        ne--,
        ae === s ? (R = void 0) : ((xe = R), (R = s)),
        R
      );
    }
    if (!o.isWhitespace)
      try {
        Object.assign(o, {
          isSep: (R) => R.type === "string" && R.content === ",",
          isVar: (R) => R.type === "string" && R.content.match(/[a-zA-Z]/),
          isOperation: (R) => R.type === "string" && R.content.match(/[+-]/),
          isEquals: (R) => R.type === "string" && R.content === "=",
          isAt: (R) => R.type === "string" && R.content === "@",
          isSubscript: (R) => R.content === "_",
          isWhitespace: (R) => R.type === "whitespace",
          isSameLineComment: (R) => R.type === "comment" && R.sameline,
          isOwnLineComment: (R) => R.type === "comment" && !R.sameline,
        });
      } catch (R) {
        console.warn("Error when initializing parser", R);
      }
    if (((J = u()), J !== s && xe === i.length)) return J;
    throw (
      (J !== s && xe < i.length && $e(ue()),
      hn(
        le,
        Tr < i.length ? i.charAt(Tr) : null,
        Tr < i.length ? bt(Tr, Tr + 1) : bt(Tr, Tr)
      ))
    );
  }
  return { SyntaxError: e, parse: n };
})();
(function () {
  function t(i, o) {
    function s() {
      this.constructor = i;
    }
    (s.prototype = o.prototype), (i.prototype = new s());
  }
  function e(i, o, s, a) {
    var l = Error.call(this, i);
    return (
      Object.setPrototypeOf && Object.setPrototypeOf(l, e.prototype),
      (l.expected = o),
      (l.found = s),
      (l.location = a),
      (l.name = "SyntaxError"),
      l
    );
  }
  t(e, Error);
  function r(i, o, s) {
    return (
      (s = s || " "),
      i.length > o
        ? i
        : ((o -= i.length), (s += s.repeat(o)), i + s.slice(0, o))
    );
  }
  (e.prototype.format = function (i) {
    var o = "Error: " + this.message;
    if (this.location) {
      var s = null,
        a;
      for (a = 0; a < i.length; a++)
        if (i[a].source === this.location.source) {
          s = i[a].text.split(/\r\n|\n|\r/g);
          break;
        }
      var l = this.location.start,
        u = this.location.source + ":" + l.line + ":" + l.column;
      if (s) {
        var c = this.location.end,
          f = r("", l.line.toString().length, " "),
          h = s[l.line - 1],
          d = l.line === c.line ? c.column : h.length + 1,
          p = d - l.column || 1;
        o +=
          `
 --> ` +
          u +
          `
` +
          f +
          ` |
` +
          l.line +
          " | " +
          h +
          `
` +
          f +
          " | " +
          r("", l.column - 1, " ") +
          r("", p, "^");
      } else
        o +=
          `
 at ` + u;
    }
    return o;
  }),
    (e.buildMessage = function (i, o) {
      var s = {
        literal: function (d) {
          return '"' + l(d.text) + '"';
        },
        class: function (d) {
          var p = d.parts.map(function (m) {
            return Array.isArray(m) ? u(m[0]) + "-" + u(m[1]) : u(m);
          });
          return "[" + (d.inverted ? "^" : "") + p.join("") + "]";
        },
        any: function () {
          return "any character";
        },
        end: function () {
          return "end of input";
        },
        other: function (d) {
          return d.description;
        },
      };
      function a(d) {
        return d.charCodeAt(0).toString(16).toUpperCase();
      }
      function l(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/"/g, '\\"')
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function u(d) {
        return d
          .replace(/\\/g, "\\\\")
          .replace(/\]/g, "\\]")
          .replace(/\^/g, "\\^")
          .replace(/-/g, "\\-")
          .replace(/\0/g, "\\0")
          .replace(/\t/g, "\\t")
          .replace(/\n/g, "\\n")
          .replace(/\r/g, "\\r")
          .replace(/[\x00-\x0F]/g, function (p) {
            return "\\x0" + a(p);
          })
          .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
            return "\\x" + a(p);
          });
      }
      function c(d) {
        return s[d.type](d);
      }
      function f(d) {
        var p = d.map(c),
          m,
          b;
        if ((p.sort(), p.length > 0)) {
          for (m = 1, b = 1; m < p.length; m++)
            p[m - 1] !== p[m] && ((p[b] = p[m]), b++);
          p.length = b;
        }
        switch (p.length) {
          case 1:
            return p[0];
          case 2:
            return p[0] + " or " + p[1];
          default:
            return p.slice(0, -1).join(", ") + ", or " + p[p.length - 1];
        }
      }
      function h(d) {
        return d ? '"' + l(d) + '"' : "end of input";
      }
      return "Expected " + f(i) + " but " + h(o) + " found.";
    });
  function n(i, o) {
    o = o !== void 0 ? o : {};
    var s = {},
      a = o.grammarSource,
      l = { root: Bt },
      u = Bt,
      c = "plus",
      f = "minus",
      h = "pt",
      d = "mm",
      p = "cm",
      m = "in",
      b = "ex",
      D = "em",
      k = "bp",
      S = "pc",
      B = "dd",
      $ = "cc",
      T = "nd",
      P = "nc",
      te = "sp",
      ee = "filll",
      de = "fill",
      ke = "fil",
      Ce = ".",
      he = "+",
      ze = "-",
      Ve = /^[0-9]/,
      Ae = hr(),
      tt = nr("plus", !1),
      Ee = nr("minus", !1),
      Je = nr("pt", !1),
      Re = nr("mm", !1),
      ve = nr("cm", !1),
      Fe = nr("in", !1),
      q = nr("ex", !1),
      Ot = nr("em", !1),
      Mt = nr("bp", !1),
      yt = nr("pc", !1),
      wt = nr("dd", !1),
      Zt = nr("cc", !1),
      Ut = nr("nd", !1),
      br = nr("nc", !1),
      Or = nr("sp", !1),
      Br = nr("filll", !1),
      Wt = nr("fill", !1),
      gr = nr("fil", !1),
      Vt = z("number"),
      ce = Fn([["0", "9"]], !1, !1),
      Me = nr(".", !1),
      _e = nr("+", !1),
      mt = nr("-", !1),
      rr = function (De, rt, Xe) {
        return {
          type: "glue",
          fixed: De,
          stretchable: rt,
          shrinkable: Xe,
          position: hn(),
        };
      },
      xe = function (De) {
        return De;
      },
      Dn = function (De, rt) {
        return { type: "dim", value: De, unit: rt };
      },
      Tr = function (De, rt) {
        return { type: "dim", value: De, unit: rt };
      },
      le = function (De, rt) {
        return { type: "dim", value: De, unit: rt };
      },
      ne = function (De) {
        return parseFloat(De);
      },
      J = 0,
      er = 0,
      ue = [{ line: 1, column: 1 }],
      Xt = 0,
      Lt = [],
      bt = 0,
      $e;
    if ("startRule" in o) {
      if (!(o.startRule in l))
        throw new Error(`Can't start parsing from rule "` + o.startRule + '".');
      u = l[o.startRule];
    }
    function hn() {
      return fe(er, J);
    }
    function nr(De, rt) {
      return { type: "literal", text: De, ignoreCase: rt };
    }
    function Fn(De, rt, Xe) {
      return { type: "class", parts: De, inverted: rt, ignoreCase: Xe };
    }
    function hr() {
      return { type: "any" };
    }
    function H() {
      return { type: "end" };
    }
    function z(De) {
      return { type: "other", description: De };
    }
    function X(De) {
      var rt = ue[De],
        Xe;
      if (rt) return rt;
      for (Xe = De - 1; !ue[Xe]; ) Xe--;
      for (rt = ue[Xe], rt = { line: rt.line, column: rt.column }; Xe < De; )
        i.charCodeAt(Xe) === 10 ? (rt.line++, (rt.column = 1)) : rt.column++,
          Xe++;
      return (ue[De] = rt), rt;
    }
    function fe(De, rt) {
      var Xe = X(De),
        qt = X(rt);
      return {
        source: a,
        start: { offset: De, line: Xe.line, column: Xe.column },
        end: { offset: rt, line: qt.line, column: qt.column },
      };
    }
    function I(De) {
      J < Xt || (J > Xt && ((Xt = J), (Lt = [])), Lt.push(De));
    }
    function ht(De, rt, Xe) {
      return new e(e.buildMessage(De, rt), De, rt, Xe);
    }
    function Bt() {
      var De, rt, Xe, qt, Dr;
      if (
        ((De = J),
        (rt = J),
        (Xe = Et()),
        Xe !== s
          ? ((qt = Ye()),
            qt === s && (qt = null),
            (Dr = jt()),
            Dr === s && (Dr = null),
            (er = rt),
            (rt = rr(Xe, qt, Dr)))
          : ((J = rt), (rt = s)),
        rt !== s)
      ) {
        for (
          Xe = [],
            i.length > J
              ? ((qt = i.charAt(J)), J++)
              : ((qt = s), bt === 0 && I(Ae));
          qt !== s;

        )
          Xe.push(qt),
            i.length > J
              ? ((qt = i.charAt(J)), J++)
              : ((qt = s), bt === 0 && I(Ae));
        (er = De), (De = xe(rt));
      } else (J = De), (De = s);
      return De;
    }
    function Et() {
      var De, rt, Xe;
      return (
        (De = J),
        (rt = ir()),
        rt !== s
          ? ((Xe = Ct()),
            Xe !== s ? ((er = De), (De = Dn(rt, Xe))) : ((J = De), (De = s)))
          : ((J = De), (De = s)),
        De
      );
    }
    function Ye() {
      var De, rt, Xe, qt;
      return (
        (De = J),
        i.substr(J, 4) === c
          ? ((rt = c), (J += 4))
          : ((rt = s), bt === 0 && I(tt)),
        rt !== s
          ? ((Xe = ir()),
            Xe !== s
              ? ((qt = Rt()),
                qt !== s
                  ? ((er = De), (De = Tr(Xe, qt)))
                  : ((J = De), (De = s)))
              : ((J = De), (De = s)))
          : ((J = De), (De = s)),
        De
      );
    }
    function jt() {
      var De, rt, Xe, qt;
      return (
        (De = J),
        i.substr(J, 5) === f
          ? ((rt = f), (J += 5))
          : ((rt = s), bt === 0 && I(Ee)),
        rt !== s
          ? ((Xe = ir()),
            Xe !== s
              ? ((qt = Rt()),
                qt !== s
                  ? ((er = De), (De = le(Xe, qt)))
                  : ((J = De), (De = s)))
              : ((J = De), (De = s)))
          : ((J = De), (De = s)),
        De
      );
    }
    function Ct() {
      var De;
      return (
        i.substr(J, 2) === h
          ? ((De = h), (J += 2))
          : ((De = s), bt === 0 && I(Je)),
        De === s &&
          (i.substr(J, 2) === d
            ? ((De = d), (J += 2))
            : ((De = s), bt === 0 && I(Re)),
          De === s &&
            (i.substr(J, 2) === p
              ? ((De = p), (J += 2))
              : ((De = s), bt === 0 && I(ve)),
            De === s &&
              (i.substr(J, 2) === m
                ? ((De = m), (J += 2))
                : ((De = s), bt === 0 && I(Fe)),
              De === s &&
                (i.substr(J, 2) === b
                  ? ((De = b), (J += 2))
                  : ((De = s), bt === 0 && I(q)),
                De === s &&
                  (i.substr(J, 2) === D
                    ? ((De = D), (J += 2))
                    : ((De = s), bt === 0 && I(Ot)),
                  De === s &&
                    (i.substr(J, 2) === k
                      ? ((De = k), (J += 2))
                      : ((De = s), bt === 0 && I(Mt)),
                    De === s &&
                      (i.substr(J, 2) === S
                        ? ((De = S), (J += 2))
                        : ((De = s), bt === 0 && I(yt)),
                      De === s &&
                        (i.substr(J, 2) === B
                          ? ((De = B), (J += 2))
                          : ((De = s), bt === 0 && I(wt)),
                        De === s &&
                          (i.substr(J, 2) === $
                            ? ((De = $), (J += 2))
                            : ((De = s), bt === 0 && I(Zt)),
                          De === s &&
                            (i.substr(J, 2) === T
                              ? ((De = T), (J += 2))
                              : ((De = s), bt === 0 && I(Ut)),
                            De === s &&
                              (i.substr(J, 2) === P
                                ? ((De = P), (J += 2))
                                : ((De = s), bt === 0 && I(br)),
                              De === s &&
                                (i.substr(J, 2) === te
                                  ? ((De = te), (J += 2))
                                  : ((De = s), bt === 0 && I(Or)))))))))))))),
        De
      );
    }
    function Rt() {
      var De;
      return (
        (De = Ct()),
        De === s &&
          (i.substr(J, 5) === ee
            ? ((De = ee), (J += 5))
            : ((De = s), bt === 0 && I(Br)),
          De === s &&
            (i.substr(J, 4) === de
              ? ((De = de), (J += 4))
              : ((De = s), bt === 0 && I(Wt)),
            De === s &&
              (i.substr(J, 3) === ke
                ? ((De = ke), (J += 3))
                : ((De = s), bt === 0 && I(gr))))),
        De
      );
    }
    function ir() {
      var De, rt, Xe, qt, Dr, Pr, R, ae, ie;
      for (
        bt++,
          De = J,
          rt = J,
          Xe = J,
          qt = bi(),
          qt === s && (qt = null),
          Dr = J,
          Pr = [],
          Ve.test(i.charAt(J))
            ? ((R = i.charAt(J)), J++)
            : ((R = s), bt === 0 && I(ce));
        R !== s;

      )
        Pr.push(R),
          Ve.test(i.charAt(J))
            ? ((R = i.charAt(J)), J++)
            : ((R = s), bt === 0 && I(ce));
      if (
        (i.charCodeAt(J) === 46
          ? ((R = Ce), J++)
          : ((R = s), bt === 0 && I(Me)),
        R !== s)
      ) {
        if (
          ((ae = []),
          Ve.test(i.charAt(J))
            ? ((ie = i.charAt(J)), J++)
            : ((ie = s), bt === 0 && I(ce)),
          ie !== s)
        )
          for (; ie !== s; )
            ae.push(ie),
              Ve.test(i.charAt(J))
                ? ((ie = i.charAt(J)), J++)
                : ((ie = s), bt === 0 && I(ce));
        else ae = s;
        ae !== s ? ((Pr = [Pr, R, ae]), (Dr = Pr)) : ((J = Dr), (Dr = s));
      } else (J = Dr), (Dr = s);
      if (Dr === s)
        if (
          ((Dr = []),
          Ve.test(i.charAt(J))
            ? ((Pr = i.charAt(J)), J++)
            : ((Pr = s), bt === 0 && I(ce)),
          Pr !== s)
        )
          for (; Pr !== s; )
            Dr.push(Pr),
              Ve.test(i.charAt(J))
                ? ((Pr = i.charAt(J)), J++)
                : ((Pr = s), bt === 0 && I(ce));
        else Dr = s;
      return (
        Dr !== s ? ((qt = [qt, Dr]), (Xe = qt)) : ((J = Xe), (Xe = s)),
        Xe !== s ? (rt = i.substring(rt, J)) : (rt = Xe),
        rt !== s && ((er = De), (rt = ne(rt))),
        (De = rt),
        bt--,
        De === s && ((rt = s), bt === 0 && I(Vt)),
        De
      );
    }
    function bi() {
      var De;
      return (
        i.charCodeAt(J) === 43
          ? ((De = he), J++)
          : ((De = s), bt === 0 && I(_e)),
        De === s &&
          (i.charCodeAt(J) === 45
            ? ((De = ze), J++)
            : ((De = s), bt === 0 && I(mt))),
        De
      );
    }
    if ((($e = u()), $e !== s && J === i.length)) return $e;
    throw (
      ($e !== s && J < i.length && I(H()),
      ht(
        Lt,
        Xt < i.length ? i.charAt(Xt) : null,
        Xt < i.length ? fe(Xt, Xt + 1) : fe(Xt, Xt)
      ))
    );
  }
  return { SyntaxError: e, parse: n };
})();
var VK = (function () {
    function t(i, o) {
      function s() {
        this.constructor = i;
      }
      (s.prototype = o.prototype), (i.prototype = new s());
    }
    function e(i, o, s, a) {
      var l = Error.call(this, i);
      return (
        Object.setPrototypeOf && Object.setPrototypeOf(l, e.prototype),
        (l.expected = o),
        (l.found = s),
        (l.location = a),
        (l.name = "SyntaxError"),
        l
      );
    }
    t(e, Error);
    function r(i, o, s) {
      return (
        (s = s || " "),
        i.length > o
          ? i
          : ((o -= i.length), (s += s.repeat(o)), i + s.slice(0, o))
      );
    }
    (e.prototype.format = function (i) {
      var o = "Error: " + this.message;
      if (this.location) {
        var s = null,
          a;
        for (a = 0; a < i.length; a++)
          if (i[a].source === this.location.source) {
            s = i[a].text.split(/\r\n|\n|\r/g);
            break;
          }
        var l = this.location.start,
          u = this.location.source + ":" + l.line + ":" + l.column;
        if (s) {
          var c = this.location.end,
            f = r("", l.line.toString().length, " "),
            h = s[l.line - 1],
            d = l.line === c.line ? c.column : h.length + 1,
            p = d - l.column || 1;
          o +=
            `
 --> ` +
            u +
            `
` +
            f +
            ` |
` +
            l.line +
            " | " +
            h +
            `
` +
            f +
            " | " +
            r("", l.column - 1, " ") +
            r("", p, "^");
        } else
          o +=
            `
 at ` + u;
      }
      return o;
    }),
      (e.buildMessage = function (i, o) {
        var s = {
          literal: function (d) {
            return '"' + l(d.text) + '"';
          },
          class: function (d) {
            var p = d.parts.map(function (m) {
              return Array.isArray(m) ? u(m[0]) + "-" + u(m[1]) : u(m);
            });
            return "[" + (d.inverted ? "^" : "") + p.join("") + "]";
          },
          any: function () {
            return "any character";
          },
          end: function () {
            return "end of input";
          },
          other: function (d) {
            return d.description;
          },
        };
        function a(d) {
          return d.charCodeAt(0).toString(16).toUpperCase();
        }
        function l(d) {
          return d
            .replace(/\\/g, "\\\\")
            .replace(/"/g, '\\"')
            .replace(/\0/g, "\\0")
            .replace(/\t/g, "\\t")
            .replace(/\n/g, "\\n")
            .replace(/\r/g, "\\r")
            .replace(/[\x00-\x0F]/g, function (p) {
              return "\\x0" + a(p);
            })
            .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
              return "\\x" + a(p);
            });
        }
        function u(d) {
          return d
            .replace(/\\/g, "\\\\")
            .replace(/\]/g, "\\]")
            .replace(/\^/g, "\\^")
            .replace(/-/g, "\\-")
            .replace(/\0/g, "\\0")
            .replace(/\t/g, "\\t")
            .replace(/\n/g, "\\n")
            .replace(/\r/g, "\\r")
            .replace(/[\x00-\x0F]/g, function (p) {
              return "\\x0" + a(p);
            })
            .replace(/[\x10-\x1F\x7F-\x9F]/g, function (p) {
              return "\\x" + a(p);
            });
        }
        function c(d) {
          return s[d.type](d);
        }
        function f(d) {
          var p = d.map(c),
            m,
            b;
          if ((p.sort(), p.length > 0)) {
            for (m = 1, b = 1; m < p.length; m++)
              p[m - 1] !== p[m] && ((p[b] = p[m]), b++);
            p.length = b;
          }
          switch (p.length) {
            case 1:
              return p[0];
            case 2:
              return p[0] + " or " + p[1];
            default:
              return p.slice(0, -1).join(", ") + ", or " + p[p.length - 1];
          }
        }
        function h(d) {
          return d ? '"' + l(d) + '"' : "end of input";
        }
        return "Expected " + f(i) + " but " + h(o) + " found.";
      });
    function n(i, o) {
      o = o !== void 0 ? o : {};
      var s = {},
        a = o.grammarSource,
        l = { path_spec: bi, foreach_body: Xe },
        u = bi,
        c = Bt(),
        f = Ye("comment"),
        h = Ye("floating comment"),
        d = Ye("operation"),
        p = Ye("="),
        m = function (E) {
          return E;
        },
        b = function (E) {
          return { type: "path_spec", content: E };
        },
        D = function (E, G, Z) {
          return { op: G, comment: Z };
        },
        k = function (E, G, Z, Le) {
          const Ue = [E, ...G.map((nt) => nt.comment), Z].filter((nt) => nt),
            Ge = G.map((nt) => nt.op.content.content).join(" ");
          return {
            type: "animation",
            comments: Ue,
            attribute: Ge,
            content: Le.content,
          };
        },
        S = function (E, G) {
          return { ...G, start: E, type: "foreach" };
        },
        B = function (E, G, Z, Le, Ue, Ge, nt, tr) {
          const Ui = [E, Le, Ue, nt].filter((qn) => qn);
          return {
            type: "foreach_body",
            variables: G,
            options: Z && Z.content,
            list: Ge,
            command: tr,
            comments: Ui,
          };
        },
        $ = function (E, G, Z, Le) {
          const Ue = [E, Z].filter((Ge) => Ge);
          return {
            type: "svg_operation",
            options: G && G.content,
            content: Le,
            comments: Ue,
          };
        },
        T = function (E, G, Z, Le, Ue, Ge) {
          return { coord: Ge, comment: Ue };
        },
        P = function (E, G, Z, Le, Ue, Ge) {
          const nt = [E, G, Le, Ue && Ue.comment, Ge].filter((tr) => tr);
          return {
            type: "curve_to",
            controls: Ue ? [Z, Ue.coord] : [Z],
            comments: nt,
          };
        },
        te = function () {
          return { type: "line_to", command: "|-" };
        },
        ee = function () {
          return { type: "line_to", command: "-|" };
        },
        de = function () {
          return { type: "line_to", command: "--" };
        },
        ke = function (E, G) {
          return { type: "coordinate", content: G, prefix: E };
        },
        Ce = function (E) {
          return { type: "square_brace_group", content: E };
        },
        he = function (E) {
          return { type: "unknown", content: E };
        },
        ze = function (E) {
          return o.isComment(E);
        },
        Ve = function (E) {
          return E;
        },
        Ae = function (E) {
          return o.isWhitespace(E);
        },
        tt = function (E) {
          return E;
        },
        Ee = function (E) {
          return E;
        },
        Je = function (E) {
          return o.isOperation(E);
        },
        Re = function (E) {
          return { type: "operation", content: E };
        },
        ve = function (E) {
          return o.isChar(E, "=");
        },
        Fe = function (E) {
          return E;
        },
        q = function (E) {
          return o.isChar(E, "[");
        },
        Ot = function (E) {
          return E;
        },
        Mt = function (E) {
          return o.isChar(E, "]");
        },
        yt = function (E) {
          return E;
        },
        wt = function (E) {
          return o.isChar(E, "(");
        },
        Zt = function (E) {
          return E;
        },
        Ut = function (E) {
          return o.isChar(E, ")");
        },
        br = function (E) {
          return E;
        },
        Or = function (E) {
          return o.isChar(E, "+");
        },
        Br = function (E) {
          return E;
        },
        Wt = function (E) {
          return o.isChar(E, "-");
        },
        gr = function (E) {
          return E;
        },
        Vt = function (E) {
          return o.isChar(E, "|");
        },
        ce = function (E) {
          return E;
        },
        Me = function (E) {
          return o.isChar(E, ".");
        },
        _e = function (E) {
          return E;
        },
        mt = function (E) {
          return o.isChar(E, "controls");
        },
        rr = function (E) {
          return E;
        },
        xe = function (E) {
          return o.isChar(E, "and");
        },
        Dn = function (E) {
          return E;
        },
        Tr = function (E) {
          return o.isChar(E, "svg");
        },
        le = function (E) {
          return E;
        },
        ne = function (E) {
          return o.isGroup(E);
        },
        J = function (E) {
          return E;
        },
        er = function (E) {
          return o.isAnyMacro(E);
        },
        ue = function (E) {
          return E;
        },
        Xt = function (E) {
          return o.isChar(E, "foreach");
        },
        Lt = function (E) {
          return E;
        },
        bt = function (E) {
          return o.isMacro(E, "foreach");
        },
        $e = function (E) {
          return E;
        },
        hn = function (E) {
          return o.isChar(E, "in");
        },
        nr = function (E) {
          return E;
        },
        Fn = function (E) {
          return o.isChar(E, ":");
        },
        hr = function (E) {
          return E;
        },
        H = 0,
        z = [{ line: 1, column: 1 }],
        X = 0,
        fe = [],
        I = 0,
        ht;
      if ("startRule" in o) {
        if (!(o.startRule in l))
          throw new Error(
            `Can't start parsing from rule "` + o.startRule + '".'
          );
        u = l[o.startRule];
      }
      function Bt() {
        return { type: "any" };
      }
      function Et() {
        return { type: "end" };
      }
      function Ye(E) {
        return { type: "other", description: E };
      }
      function jt(E) {
        var G = z[E],
          Z;
        if (G) return G;
        for (Z = E - 1; !z[Z]; ) Z--;
        for (G = z[Z], G = { line: G.line, column: G.column }; Z < E; )
          i.charCodeAt(Z) === 10 ? (G.line++, (G.column = 1)) : G.column++, Z++;
        return (z[E] = G), G;
      }
      function Ct(E, G) {
        var Z = jt(E),
          Le = jt(G);
        return {
          source: a,
          start: { offset: E, line: Z.line, column: Z.column },
          end: { offset: G, line: Le.line, column: Le.column },
        };
      }
      function Rt(E) {
        H < X || (H > X && ((X = H), (fe = [])), fe.push(E));
      }
      function ir(E, G, Z) {
        return new e(e.buildMessage(E, G), E, G, Z);
      }
      function bi() {
        var E, G, Z, Le, Ue, Ge;
        if (
          ((E = H),
          (G = []),
          (Z = H),
          (Le = ae()),
          Le === s &&
            ((Le = R()),
            Le === s &&
              ((Le = Dr()),
              Le === s &&
                ((Le = Pr()),
                Le === s &&
                  ((Le = qt()),
                  Le === s &&
                    ((Le = rt()),
                    Le === s &&
                      ((Le = N()),
                      Le === s &&
                        ((Le = Tt()),
                        Le === s &&
                          ((Le = De()), Le === s && (Le = Dt()))))))))),
          Le !== s)
        ) {
          for (Ue = [], Ge = Gt(); Ge !== s; ) Ue.push(Ge), (Ge = Gt());
          Z = m(Le);
        } else (H = Z), (Z = s);
        if (Z !== s)
          for (; Z !== s; )
            if (
              (G.push(Z),
              (Z = H),
              (Le = ae()),
              Le === s &&
                ((Le = R()),
                Le === s &&
                  ((Le = Dr()),
                  Le === s &&
                    ((Le = Pr()),
                    Le === s &&
                      ((Le = qt()),
                      Le === s &&
                        ((Le = rt()),
                        Le === s &&
                          ((Le = N()),
                          Le === s &&
                            ((Le = Tt()),
                            Le === s &&
                              ((Le = De()), Le === s && (Le = Dt()))))))))),
              Le !== s)
            ) {
              for (Ue = [], Ge = Gt(); Ge !== s; ) Ue.push(Ge), (Ge = Gt());
              Z = m(Le);
            } else (H = Z), (Z = s);
        else G = s;
        return G !== s && (G = b(G)), (E = G), E;
      }
      function De() {
        var E, G, Z, Le, Ue, Ge, nt;
        if (((E = H), (G = _n()), G !== s)) {
          if (
            ((Z = Lr()),
            (Le = []),
            (Ue = H),
            (Ge = N()),
            Ge !== s
              ? ((nt = Lr()), (Ue = D(Z, Ge, nt)))
              : ((H = Ue), (Ue = s)),
            Ue !== s)
          )
            for (; Ue !== s; )
              Le.push(Ue),
                (Ue = H),
                (Ge = N()),
                Ge !== s
                  ? ((nt = Lr()), (Ue = D(Z, Ge, nt)))
                  : ((H = Ue), (Ue = s));
          else Le = s;
          Le !== s
            ? ((Ue = x()),
              Ue !== s
                ? ((Ge = Lr()),
                  (nt = Be()),
                  nt !== s ? (E = k(Z, Le, Ge, nt)) : ((H = E), (E = s)))
                : ((H = E), (E = s)))
            : ((H = E), (E = s));
        } else (H = E), (E = s);
        return E;
      }
      function rt() {
        var E, G, Z;
        return (
          (E = H),
          (G = Kt()),
          G === s && (G = Sr()),
          G !== s
            ? ((Z = Xe()), Z !== s ? (E = S(G, Z)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function Xe() {
        var E, G, Z, Le, Ue, Ge, nt, tr, Ui, qn;
        for (
          E = H,
            G = Lr(),
            Z = H,
            Le = [],
            Ue = H,
            Ge = H,
            I++,
            nt = jr(),
            nt === s && (nt = ae()),
            I--,
            nt === s ? (Ge = void 0) : ((H = Ge), (Ge = s)),
            Ge !== s
              ? (i.length > H
                  ? ((nt = i.charAt(H)), H++)
                  : ((nt = s), I === 0 && Rt(c)),
                nt !== s ? ((Ge = [Ge, nt]), (Ue = Ge)) : ((H = Ue), (Ue = s)))
              : ((H = Ue), (Ue = s));
          Ue !== s;

        )
          Le.push(Ue),
            (Ue = H),
            (Ge = H),
            I++,
            (nt = jr()),
            nt === s && (nt = ae()),
            I--,
            nt === s ? (Ge = void 0) : ((H = Ge), (Ge = s)),
            Ge !== s
              ? (i.length > H
                  ? ((nt = i.charAt(H)), H++)
                  : ((nt = s), I === 0 && Rt(c)),
                nt !== s ? ((Ge = [Ge, nt]), (Ue = Ge)) : ((H = Ue), (Ue = s)))
              : ((H = Ue), (Ue = s));
        return (
          (Z = i.substring(Z, H)),
          (Le = ae()),
          Le === s && (Le = null),
          (Ue = Lr()),
          (Ge = jr()),
          Ge !== s
            ? ((nt = Lr()),
              (tr = Be()),
              tr === s && (tr = Se()),
              tr !== s
                ? ((Ui = Lr()),
                  (qn = rt()),
                  qn === s && ((qn = Be()), qn === s && (qn = Se())),
                  qn !== s
                    ? (E = B(G, Z, Le, Ue, nt, tr, Ui, qn))
                    : ((H = E), (E = s)))
                : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function qt() {
        var E, G, Z, Le, Ue, Ge;
        return (
          (E = H),
          (G = be()),
          G !== s
            ? ((Z = Lr()),
              (Le = ae()),
              Le === s && (Le = null),
              (Ue = Lr()),
              (Ge = Be()),
              Ge !== s ? (E = $(Z, Le, Ue, Ge)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function Dr() {
        var E, G, Z, Le, Ue, Ge, nt, tr, Ui, qn, Da;
        return (
          (E = H),
          (G = ie()),
          G !== s
            ? ((Z = Lr()),
              (Le = Mn()),
              Le !== s
                ? ((Ue = Lr()),
                  (Ge = R()),
                  Ge !== s
                    ? ((nt = Lr()),
                      (tr = H),
                      (Ui = Q()),
                      Ui !== s
                        ? ((qn = Lr()),
                          (Da = R()),
                          Da !== s
                            ? (tr = T(Z, Ue, Ge, nt, qn, Da))
                            : ((H = tr), (tr = s)))
                        : ((H = tr), (tr = s)),
                      tr === s && (tr = null),
                      (Ui = Lr()),
                      (qn = ie()),
                      qn !== s
                        ? (E = P(Z, Ue, Ge, nt, tr, Ui))
                        : ((H = E), (E = s)))
                    : ((H = E), (E = s)))
                : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function Pr() {
        var E, G, Z;
        return (
          (E = H),
          (G = qi()),
          G !== s
            ? ((Z = nn()), Z !== s ? (E = te()) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E === s &&
            ((E = H),
            (G = nn()),
            G !== s
              ? ((Z = qi()), Z !== s ? (E = ee()) : ((H = E), (E = s)))
              : ((H = E), (E = s)),
            E === s &&
              ((E = H),
              (G = nn()),
              G !== s
                ? ((Z = nn()), Z !== s ? (E = de()) : ((H = E), (E = s)))
                : ((H = E), (E = s)))),
          E
        );
      }
      function R() {
        var E, G, Z, Le, Ue, Ge, nt, tr;
        if (
          ((E = H),
          (G = H),
          (Z = H),
          (Le = zr()),
          Le !== s
            ? ((Ue = zr()), Ue === s && (Ue = null), (Le = [Le, Ue]), (Z = Le))
            : ((H = Z), (Z = s)),
          Z === s && (Z = null),
          (G = i.substring(G, H)),
          (Z = ur()),
          Z !== s)
        ) {
          for (
            Le = H,
              Ue = [],
              Ge = H,
              nt = H,
              I++,
              tr = we(),
              I--,
              tr === s ? (nt = void 0) : ((H = nt), (nt = s)),
              nt !== s
                ? (i.length > H
                    ? ((tr = i.charAt(H)), H++)
                    : ((tr = s), I === 0 && Rt(c)),
                  tr !== s
                    ? ((nt = [nt, tr]), (Ge = nt))
                    : ((H = Ge), (Ge = s)))
                : ((H = Ge), (Ge = s));
            Ge !== s;

          )
            Ue.push(Ge),
              (Ge = H),
              (nt = H),
              I++,
              (tr = we()),
              I--,
              tr === s ? (nt = void 0) : ((H = nt), (nt = s)),
              nt !== s
                ? (i.length > H
                    ? ((tr = i.charAt(H)), H++)
                    : ((tr = s), I === 0 && Rt(c)),
                  tr !== s
                    ? ((nt = [nt, tr]), (Ge = nt))
                    : ((H = Ge), (Ge = s)))
                : ((H = Ge), (Ge = s));
          (Le = i.substring(Le, H)),
            (Ue = we()),
            Ue !== s ? (E = ke(G, Le)) : ((H = E), (E = s));
        } else (H = E), (E = s);
        return E;
      }
      function ae() {
        var E, G, Z, Le, Ue, Ge, nt;
        if (((E = H), (G = re()), G !== s)) {
          for (
            Z = H,
              Le = [],
              Ue = H,
              Ge = H,
              I++,
              nt = xt(),
              I--,
              nt === s ? (Ge = void 0) : ((H = Ge), (Ge = s)),
              Ge !== s
                ? (i.length > H
                    ? ((nt = i.charAt(H)), H++)
                    : ((nt = s), I === 0 && Rt(c)),
                  nt !== s
                    ? ((Ge = [Ge, nt]), (Ue = Ge))
                    : ((H = Ue), (Ue = s)))
                : ((H = Ue), (Ue = s));
            Ue !== s;

          )
            Le.push(Ue),
              (Ue = H),
              (Ge = H),
              I++,
              (nt = xt()),
              I--,
              nt === s ? (Ge = void 0) : ((H = Ge), (Ge = s)),
              Ge !== s
                ? (i.length > H
                    ? ((nt = i.charAt(H)), H++)
                    : ((nt = s), I === 0 && Rt(c)),
                  nt !== s
                    ? ((Ge = [Ge, nt]), (Ue = Ge))
                    : ((H = Ue), (Ue = s)))
                : ((H = Ue), (Ue = s));
          (Z = i.substring(Z, H)),
            (Le = xt()),
            Le !== s ? (E = Ce(Z)) : ((H = E), (E = s));
        } else (H = E), (E = s);
        return E;
      }
      function ie() {
        var E, G, Z;
        return (
          (E = H),
          (G = dl()),
          G !== s
            ? ((Z = dl()),
              Z !== s ? ((G = [G, Z]), (E = G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function Dt() {
        var E, G;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s && (G = he(G)),
          (E = G),
          E
        );
      }
      function Tt() {
        var E, G, Z;
        return (
          I++,
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = ze(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = Ve(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          I--,
          E === s && ((G = s), I === 0 && Rt(f)),
          E
        );
      }
      function Gt() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = Ae(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = tt(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function Lr() {
        var E, G, Z, Le, Ue;
        for (I++, E = H, G = [], Z = Gt(); Z !== s; ) G.push(Z), (Z = Gt());
        for (Z = Tt(), Z === s && (Z = null), Le = [], Ue = Gt(); Ue !== s; )
          Le.push(Ue), (Ue = Gt());
        return (E = Ee(Z)), I--, (G = s), I === 0 && Rt(h), E;
      }
      function N() {
        var E, G, Z;
        return (
          I++,
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = Je(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = Re(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          I--,
          E === s && ((G = s), I === 0 && Rt(d)),
          E
        );
      }
      function x() {
        var E, G, Z;
        return (
          I++,
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = ve(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = Fe(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          I--,
          E === s && ((G = s), I === 0 && Rt(p)),
          E
        );
      }
      function re() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = q(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = Ot(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function xt() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = Mt(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = yt(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function ur() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = wt(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = Zt(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function we() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = Ut(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = br(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function zr() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = Or(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = Br(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function nn() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = Wt(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = gr(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function qi() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = Vt(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = ce(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function dl() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = Me(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = _e(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function Mn() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = mt(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = rr(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function Q() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = xe(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = Dn(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function be() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = Tr(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = le(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function Be() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = ne(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = J(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function Se() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = er(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = ue(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function Kt() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = Xt(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = Lt(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function Sr() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = bt(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = $e(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function jr() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = hn(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = nr(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      function _n() {
        var E, G, Z;
        return (
          (E = H),
          i.length > H ? ((G = i.charAt(H)), H++) : ((G = s), I === 0 && Rt(c)),
          G !== s
            ? ((Z = Fn(G)),
              Z ? (Z = void 0) : (Z = s),
              Z !== s ? (E = hr(G)) : ((H = E), (E = s)))
            : ((H = E), (E = s)),
          E
        );
      }
      if (!o.isWhitespace)
        try {
          Object.assign(o, {
            isChar: (E, G) => E.type === "string" && E.content === G,
            isOperation: (E) =>
              E.type === "string" && E.content.match(/[a-zA-Z]/),
            isWhitespace: (E) =>
              E.type === "whitespace" || E.type === "parbreak",
            isSameLineComment: (E) => E.type === "comment" && E.sameline,
            isOwnLineComment: (E) => E.type === "comment" && !E.sameline,
            isComment: (E) => E.type === "comment",
            isGroup: (E) => E.type === "group",
            isMacro: (E, G) => E.type === "macro" && E.content === G,
            isAnyMacro: (E) => E.type === "macro",
          });
        } catch (E) {
          console.warn("Error when initializing parser", E);
        }
      if (((ht = u()), ht !== s && H === i.length)) return ht;
      throw (
        (ht !== s && H < i.length && Rt(Et()),
        ir(
          fe,
          X < i.length ? i.charAt(X) : null,
          X < i.length ? Ct(X, X + 1) : Ct(X, X)
        ))
      );
    }
    return { SyntaxError: e, parse: n };
  })(),
  aO = LK,
  WK = zK,
  qK = jK,
  UK = HK,
  GK = VK,
  X4 = {};
function il(t = "") {
  return (X4[t] = X4[t] || qK.parse(t)), X4[t];
}
var lO = {
    "*": { openMark: "", closeMark: "" },
    "{": { openMark: "{", closeMark: "}" },
    "[": { openMark: "[", closeMark: "]" },
    "(": { openMark: "(", closeMark: ")" },
    "<": { openMark: "<", closeMark: ">" },
  },
  KK = new Set(
    Object.values(lO)
      .map((t) => t.closeMark)
      .filter((t) => t)
  );
function YK(t) {
  const e = [];
  for (const r of t.split("")) {
    if (KK.has(r)) continue;
    const n = lO[r];
    if (n == null) throw new Error(`Unknown open/close mark type "${r}"`);
    e.push(n);
  }
  return e;
}
function Ei(t, e) {
  if (t == null)
    return { type: "argument", content: [], openMark: "", closeMark: "" };
  if (
    (typeof t == "string" && (t = XK(t)),
    !Array.isArray(t) && t.type === "argument")
  )
    return t;
  let r = (e == null ? void 0 : e.openMark) ?? "{",
    n = (e == null ? void 0 : e.closeMark) ?? "}";
  if (e != null && e.braces) {
    const i = YK(e.braces);
    i[0] && ((r = i[0].openMark), (n = i[0].closeMark));
  }
  return (
    Array.isArray(t) || (t = [t]),
    { type: "argument", content: t, openMark: r, closeMark: n }
  );
}
function XK(t) {
  return typeof t == "string" ? { type: "string", content: t } : t;
}
function C7(t) {
  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default")
    ? t.default
    : t;
}
var Nx = { exports: {} },
  R5 = { exports: {} },
  I5 = { exports: {} },
  N5 = { exports: {} };
(function (t, e) {
  Object.defineProperty(e, "__esModule", { value: !0 }),
    (e.default = {
      END_WORD: "$",
      END_WORD_REPLACER: "9a219a89-91cd-42e2-abd5-eb113af08ca8",
      PERMS_MIN_LEN: 2,
    }),
    (t.exports = e.default);
})(N5, N5.exports);
var hp = N5.exports;
(function (t, e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), (e.default = o);
  var r = hp,
    n = i(r);
  function i(s) {
    return s && s.__esModule ? s : { default: s };
  }
  function o(s, a, l, u) {
    var c = a === n.default.END_WORD,
      f = l === u.length - 1;
    return (
      c && !f
        ? ((s[n.default.END_WORD] = 1),
          (s[n.default.END_WORD_REPLACER] = {}),
          (s = s[n.default.END_WORD_REPLACER]))
        : ((s[a] = s[a] || {}), (s = s[a])),
      f && (s[n.default.END_WORD] = 1),
      s
    );
  }
  t.exports = e.default;
})(I5, I5.exports);
var uO = I5.exports;
(function (t, e) {
  Object.defineProperty(e, "__esModule", { value: !0 });
  var r =
    typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
      ? function (a) {
          return typeof a;
        }
      : function (a) {
          return a &&
            typeof Symbol == "function" &&
            a.constructor === Symbol &&
            a !== Symbol.prototype
            ? "symbol"
            : typeof a;
        };
  e.default = s;
  var n = uO,
    i = o(n);
  function o(a) {
    return a && a.__esModule ? a : { default: a };
  }
  function s(a) {
    if (!Array.isArray(a))
      throw (
        "Expected parameter Array, received " +
        (typeof a > "u" ? "undefined" : r(a))
      );
    var l = a.reduce(function (u, c) {
      return c.toLowerCase().split("").reduce(i.default, u), u;
    }, {});
    return l;
  }
  t.exports = e.default;
})(R5, R5.exports);
var JK = R5.exports,
  L5 = { exports: {} },
  z5 = { exports: {} };
(function (t, e) {
  Object.defineProperty(e, "__esModule", { value: !0 }),
    (e.default = {
      objectCopy: function (n) {
        return typeof n > "u" ? {} : JSON.parse(JSON.stringify(n));
      },
      stringify: function (n) {
        var i =
          arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 2;
        return typeof n > "u" ? "" : JSON.stringify(n, null, i);
      },
    }),
    (t.exports = e.default);
})(z5, z5.exports);
var cO = z5.exports;
(function (t, e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), (e.default = i);
  var r = cO;
  n(r);
  function n(o) {
    return o && o.__esModule ? o : { default: o };
  }
  function i(o, s) {
    var a = s.toLowerCase().split(""),
      l = a.every(function (u, c) {
        return o[u] ? (o = o[u]) : !1;
      });
    return { prefixFound: l, prefixNode: o };
  }
  t.exports = e.default;
})(L5, L5.exports);
var QK = L5.exports,
  j5 = { exports: {} };
(function (t, e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), (e.default = s);
  var r = hp,
    n = i(r);
  function i(a) {
    return a && a.__esModule ? a : { default: a };
  }
  var o = function (l, u) {
    for (var c = 0; c < u.length && !(l < u[c]); ) c += 1;
    return u.splice(c, 0, l), u;
  };
  function s(a, l, u) {
    var c = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : [],
      f = l;
    for (var h in a) {
      var d = h;
      h === n.default.END_WORD && typeof a[h] == "number"
        ? (u ? o(f, c) : c.push(f), (f = ""))
        : h === n.default.END_WORD_REPLACER && (d = n.default.END_WORD),
        s(a[h], l + d, u, c);
    }
    return c;
  }
  t.exports = e.default;
})(j5, j5.exports);
var ZK = j5.exports,
  H5 = { exports: {} };
(function (t, e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), (e.default = o);
  var r = hp,
    n = i(r);
  function i(s) {
    return s && s.__esModule ? s : { default: s };
  }
  function o(s, a) {
    var l = a,
      u = Object.keys(s),
      c = u[Math.floor(Math.random() * u.length)];
    return c === n.default.END_WORD ? l : o(s[c], a + c);
  }
  t.exports = e.default;
})(H5, H5.exports);
var eY = H5.exports,
  V5 = { exports: {} };
(function (t, e) {
  Object.defineProperty(e, "__esModule", { value: !0 });
  var r =
    typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
      ? function (a) {
          return typeof a;
        }
      : function (a) {
          return a &&
            typeof Symbol == "function" &&
            a.constructor === Symbol &&
            a !== Symbol.prototype
            ? "symbol"
            : typeof a;
        };
  e.default = s;
  var n = hp,
    i = o(n);
  function o(a) {
    return a && a.__esModule ? a : { default: a };
  }
  function s(a, l) {
    var u =
      arguments.length > 2 && arguments[2] !== void 0
        ? arguments[2]
        : { type: "anagram" };
    if (typeof a != "string")
      throw (
        "Permutations expects string letters, received " +
        (typeof a > "u" ? "undefined" : r(a))
      );
    var c = [],
      f = function h(d, p) {
        var m =
            arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "",
          b = d.length === 0,
          D = c.indexOf(m) !== -1,
          k = p[i.default.END_WORD] === 1;
        b && k && !D && c.push(m);
        for (var S = 0, B = d.length; S < B; S++) {
          var $ = d[S];
          if (
            (u.type === "sub-anagram" && k && c.indexOf(m) === -1 && c.push(m),
            p[$])
          ) {
            var T = d.substring(0, S) + d.substring(S + 1, B);
            h(T, p[$], m + $, c);
          }
        }
        return c.sort();
      };
    return f(a, l);
  }
  t.exports = e.default;
})(V5, V5.exports);
var tY = V5.exports;
(function (t, e) {
  Object.defineProperty(e, "__esModule", { value: !0 });
  var r =
    typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
      ? function (T) {
          return typeof T;
        }
      : function (T) {
          return T &&
            typeof Symbol == "function" &&
            T.constructor === Symbol &&
            T !== Symbol.prototype
            ? "symbol"
            : typeof T;
        };
  e.default = function (T) {
    if (!Array.isArray(T))
      throw (
        "Expected parameter Array, received " +
        (typeof T > "u" ? "undefined" : r(T))
      );
    var P = (0, i.default)([].concat(B(T)));
    return {
      tree: function () {
        return P;
      },
      dump: function () {
        var ee =
          arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
        return p.default.stringify(P, ee);
      },
      addWord: function (ee) {
        if (typeof ee != "string" || ee === "")
          throw (
            "Expected parameter string, received " +
            (typeof ee > "u" ? "undefined" : r(ee))
          );
        var de = function () {
            return s.default.apply(void 0, arguments);
          },
          ke = ee.toLowerCase().split("");
        return ke.reduce(de, P), this;
      },
      removeWord: function (ee) {
        if (typeof ee != "string" || ee === "")
          throw (
            "Expected parameter string, received " +
            (typeof ee > "u" ? "undefined" : r(ee))
          );
        var de = (0, l.default)(P, ee),
          ke = de.prefixFound,
          Ce = de.prefixNode;
        return ke && delete Ce[b.default.END_WORD], this;
      },
      isPrefix: function (ee) {
        if (typeof ee != "string")
          throw (
            "Expected string prefix, received " +
            (typeof ee > "u" ? "undefined" : r(ee))
          );
        var de = (0, l.default)(P, ee),
          ke = de.prefixFound;
        return ke;
      },
      getPrefix: function (ee) {
        var de =
          arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
        if (typeof ee != "string")
          throw (
            "Expected string prefix, received " +
            (typeof ee > "u" ? "undefined" : r(ee))
          );
        if (typeof de != "boolean")
          throw (
            "Expected sort parameter as boolean, received " +
            (typeof de > "u" ? "undefined" : r(de))
          );
        if (!this.isPrefix(ee)) return [];
        var ke = ee.length ? (0, l.default)(P, ee).prefixNode : P;
        return (0, c.default)(ke, ee, de);
      },
      getRandomWordWithPrefix: function (ee) {
        if (typeof ee != "string")
          throw (
            "Expected string prefix, received " +
            (typeof ee > "u" ? "undefined" : r(ee))
          );
        if (!this.isPrefix(ee)) return "";
        var de = (0, l.default)(P, ee),
          ke = de.prefixNode;
        return (0, h.default)(ke, ee);
      },
      countPrefix: function (ee) {
        var de = this.getPrefix(ee);
        return de.length;
      },
      getWords: function () {
        var ee =
          arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !0;
        return this.getPrefix("", ee);
      },
      hasWord: function (ee) {
        if (typeof ee != "string")
          throw (
            "Expected string word, received " +
            (typeof ee > "u" ? "undefined" : r(ee))
          );
        var de = (0, l.default)(P, ee),
          ke = de.prefixFound,
          Ce = de.prefixNode;
        return ke ? Ce[b.default.END_WORD] === 1 : !1;
      },
      getAnagrams: function (ee) {
        if (typeof ee != "string")
          throw (
            "Anagrams expected string letters, received " +
            (typeof ee > "u" ? "undefined" : r(ee))
          );
        if (ee.length < $)
          throw "getAnagrams expects at least " + $ + " letters";
        return (0, k.default)(ee, P, { type: "anagram" });
      },
      getSubAnagrams: function (ee) {
        if (typeof ee != "string")
          throw (
            "Expected string letters, received " +
            (typeof ee > "u" ? "undefined" : r(ee))
          );
        if (ee.length < $)
          throw "getSubAnagrams expects at least " + $ + " letters";
        return (0, k.default)(ee, P, { type: "sub-anagram" });
      },
    };
  };
  var n = JK,
    i = S(n),
    o = uO,
    s = S(o),
    a = QK,
    l = S(a),
    u = ZK,
    c = S(u),
    f = eY,
    h = S(f),
    d = cO,
    p = S(d),
    m = hp,
    b = S(m),
    D = tY,
    k = S(D);
  function S(T) {
    return T && T.__esModule ? T : { default: T };
  }
  function B(T) {
    if (Array.isArray(T)) {
      for (var P = 0, te = Array(T.length); P < T.length; P++) te[P] = T[P];
      return te;
    } else return Array.from(T);
  }
  var $ = b.default.PERMS_MIN_LEN;
  t.exports = e.default;
})(Nx, Nx.exports);
function _1(t, e, r) {
  const {
    startIndex: n,
    onlySkipWhitespaceAndComments: i,
    allowSubstringMatches: o,
  } = r || {};
  typeof e == "string" && (e = { type: "string", content: e });
  for (let s = n || 0; s < t.length; s++) {
    const a = t[s];
    if (a.type === e.type)
      switch (a.type) {
        case "comment":
        case "displaymath":
        case "inlinemath":
        case "root":
        case "parbreak":
        case "whitespace":
        case "verb":
        case "verbatim":
        case "group":
          return s;
        case "macro":
          if (a.content === e.content) return s;
          break;
        case "environment":
        case "mathenv":
          if (Vr(a.env) === Vr(e.env)) return s;
          break;
        case "string":
          if (
            a.content === e.content ||
            (o && a.content.indexOf(e.content) >= 0)
          )
            return s;
          break;
      }
    if (i && !Ne.whitespace(a) && !Ne.comment(a)) return null;
  }
  return null;
}
function A7(t, e) {
  return e != null && (t._renderInfo = { ...(t._renderInfo || {}), ...e }), t;
}
function Pa(t, e, r = 0) {
  if (typeof e == "string" || !e.type)
    throw new Error(
      `argSpec must be an already-parsed argument specification, not "${JSON.stringify(e)}"`
    );
  let n = null,
    i = r;
  const o = e.noLeadingWhitespace
      ? () => {}
      : () => {
          for (; i < t.length && Ne.whitespace(t[i]); ) i++;
        },
    s = e.openBrace || "",
    a = e.closeBrace || "",
    l =
      (e.type === "mandatory" || e.type === "optional") &&
      s === "{" &&
      a === "}";
  function u() {
    let h = null;
    s &&
      ((h = t.findIndex((p, m) => m >= i && Ne.string(p, s))),
      h < i && (h = null));
    let d = null;
    return (
      h != null &&
        ((d = t.findIndex((p, m) => m >= h + 1 && Ne.string(p, a))),
        d < h + 1 && (d = null)),
      [h, d]
    );
  }
  o();
  const c = t[i];
  if (c == null || Ne.comment(c) || Ne.parbreak(c))
    return { argument: n, nodesRemoved: 0 };
  switch (e.type) {
    case "mandatory":
      if (l) {
        let h = [c];
        Ne.group(c) && (h = c.content),
          (n = Ei(h, { openMark: s, closeMark: a })),
          i++;
        break;
      }
    case "optional":
      if (l && Ne.group(c)) {
        (n = Ei(c.content, { openMark: s, closeMark: a })), i++;
        break;
      }
      if (Ne.string(c, s)) {
        const [h, d] = u();
        if (h != null && d != null) {
          (n = Ei(t.slice(h + 1, d), { openMark: s, closeMark: a })),
            (i = d + 1);
          break;
        }
      }
      break;
    case "optionalStar":
    case "optionalToken":
      if (Ne.string(c, e.type === "optionalStar" ? "*" : e.token)) {
        (n = Ei([c], { openMark: "", closeMark: "" })), i++;
        break;
      }
      break;
    case "until": {
      if (e.stopTokens.length > 1) {
        console.warn(
          '"until" matches with multi-token stop conditions are not yet implemented'
        );
        break;
      }
      const h = e.stopTokens[0],
        d =
          h === " "
            ? { type: "whitespace" }
            : { type: "string", content: e.stopTokens[0] };
      let p = _1(t, d, { startIndex: r, allowSubstringMatches: !0 });
      if (p != null && rY(t[p], d)) {
        console.warn(
          '"until" arguments that stop at non-punctuation symbols is not yet implemented'
        );
        break;
      }
      if (p == null) break;
      (n = Ei(t.slice(r, p), { openMark: "", closeMark: h })),
        (i = p),
        i < t.length && i++;
      break;
    }
    default:
      console.warn(
        `Don't know how to find an argument of argspec type "${e.type}"`
      );
  }
  const f = n ? i - r : 0;
  return t.splice(r, f), { argument: n, nodesRemoved: f };
}
function rY(t, e) {
  return (
    Ne.anyString(t) && Ne.anyString(e) && t.content.length > e.content.length
  );
}
function fO(t, e, r = 0) {
  if (typeof e == "function") return e(t, r);
  typeof e == "string" && (e = il(e));
  const n = [];
  let i = 0;
  for (const o of e) {
    const { argument: s, nodesRemoved: a } = Pa(t, o, r);
    s ? (n.push(s), (i += a)) : n.push(Ei([], { openMark: "", closeMark: "" }));
  }
  return { args: n, nodesRemoved: i };
}
function W5(t, e) {
  let r;
  const n = Ne.createMacroMatcher(e);
  function i() {
    for (; r >= 0 && !n(t[r]); ) r--;
  }
  for (r = t.length - 1; r >= 0; ) {
    if ((i(), r < 0)) return;
    const o = r,
      s = t[o],
      a = s.content,
      l = e[a];
    A7(s, l.renderInfo);
    const u = l.argumentParser || l.signature;
    if (u == null) {
      r--;
      continue;
    }
    if (s.args != null) {
      r = o - 1;
      continue;
    }
    r++;
    const { args: c } = fO(t, u, r);
    (s.args = c), (r = o - 1);
  }
}
il("o")[0];
function nY() {
  return {
    isChar: Ne.string,
    isTerminal: (t) => Ne.string(t, ";"),
    isOperation: (t) => Ne.anyString(t) && t.content.match(/[a-zA-Z]/),
    isWhitespace: (t) => Ne.whitespace(t) || Ne.parbreak(t),
    isComment: Ne.comment,
    isGroup: Ne.group,
    isMacro: Ne.macro,
    isAnyMacro: Ne.anyMacro,
  };
}
var iY = nY();
function sY(t, e) {
  const { startRule: r = "path_spec" } = e || {};
  if (!Array.isArray(t)) throw new Error("You must pass an array of nodes");
  return (t = S7([...t])), GK.parse(t, { ...iY, startRule: r });
}
function oY() {
  return {
    isChar: (t, e) => Ne.string(t, e),
    isComma: (t) => Ne.string(t, ","),
    isEquals: (t) => Ne.string(t, "="),
    isWhitespace: (t) => Ne.whitespace(t),
    isParbreak: (t) => Ne.parbreak(t),
    isSameLineComment: (t) => Ne.comment(t) && t.sameline,
    isOwnLineComment: (t) => Ne.comment(t) && !t.sameline,
  };
}
function aY(t, e) {
  if (!Array.isArray(t)) throw new Error("You must pass an array of nodes");
  const { allowParenGroups: r = !1 } = e || {};
  return (t = S7([...t])), UK.parse(t, { ...oY(), allowParenGroups: r });
}
function lY(t, e) {
  return {
    isRowSep: Ne.createMacroMatcher(t),
    isColSep: (n) => e.some((i) => Ne.string(n, i)),
    isWhitespace: (n) => Ne.whitespace(n),
    isSameLineComment: (n) => Ne.comment(n) && n.sameline,
    isOwnLineComment: (n) => Ne.comment(n) && !n.sameline,
  };
}
function uY(t, e = ["&"], r = ["\\", "hline", "cr"]) {
  if (!Array.isArray(t)) throw new Error("You must pass an array of nodes");
  return (t = S7([...t])), WK.parse(t, lY(r, e));
}
function Lx(t) {
  if (t) throw t;
}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */ var cY = function (e) {
  return (
    e != null &&
    e.constructor != null &&
    typeof e.constructor.isBuffer == "function" &&
    e.constructor.isBuffer(e)
  );
};
const hO = C7(cY);
var Dg = Object.prototype.hasOwnProperty,
  dO = Object.prototype.toString,
  zx = Object.defineProperty,
  jx = Object.getOwnPropertyDescriptor,
  Hx = function (e) {
    return typeof Array.isArray == "function"
      ? Array.isArray(e)
      : dO.call(e) === "[object Array]";
  },
  Vx = function (e) {
    if (!e || dO.call(e) !== "[object Object]") return !1;
    var r = Dg.call(e, "constructor"),
      n =
        e.constructor &&
        e.constructor.prototype &&
        Dg.call(e.constructor.prototype, "isPrototypeOf");
    if (e.constructor && !r && !n) return !1;
    var i;
    for (i in e);
    return typeof i > "u" || Dg.call(e, i);
  },
  Wx = function (e, r) {
    zx && r.name === "__proto__"
      ? zx(e, r.name, {
          enumerable: !0,
          configurable: !0,
          value: r.newValue,
          writable: !0,
        })
      : (e[r.name] = r.newValue);
  },
  qx = function (e, r) {
    if (r === "__proto__")
      if (Dg.call(e, r)) {
        if (jx) return jx(e, r).value;
      } else return;
    return e[r];
  },
  fY = function t() {
    var e,
      r,
      n,
      i,
      o,
      s,
      a = arguments[0],
      l = 1,
      u = arguments.length,
      c = !1;
    for (
      typeof a == "boolean" && ((c = a), (a = arguments[1] || {}), (l = 2)),
        (a == null || (typeof a != "object" && typeof a != "function")) &&
          (a = {});
      l < u;
      ++l
    )
      if (((e = arguments[l]), e != null))
        for (r in e)
          (n = qx(a, r)),
            (i = qx(e, r)),
            a !== i &&
              (c && i && (Vx(i) || (o = Hx(i)))
                ? (o
                    ? ((o = !1), (s = n && Hx(n) ? n : []))
                    : (s = n && Vx(n) ? n : {}),
                  Wx(a, { name: r, newValue: t(c, s, i) }))
                : typeof i < "u" && Wx(a, { name: r, newValue: i }));
    return a;
  };
const Ux = C7(fY);
function q5(t) {
  if (typeof t != "object" || t === null) return !1;
  const e = Object.getPrototypeOf(t);
  return (
    (e === null ||
      e === Object.prototype ||
      Object.getPrototypeOf(e) === null) &&
    !(Symbol.toStringTag in t) &&
    !(Symbol.iterator in t)
  );
}
function hY() {
  const t = [],
    e = { run: r, use: n };
  return e;
  function r(...i) {
    let o = -1;
    const s = i.pop();
    if (typeof s != "function")
      throw new TypeError("Expected function as last argument, not " + s);
    a(null, ...i);
    function a(l, ...u) {
      const c = t[++o];
      let f = -1;
      if (l) {
        s(l);
        return;
      }
      for (; ++f < i.length; )
        (u[f] === null || u[f] === void 0) && (u[f] = i[f]);
      (i = u), c ? dY(c, a)(...u) : s(null, ...u);
    }
  }
  function n(i) {
    if (typeof i != "function")
      throw new TypeError("Expected `middelware` to be a function, not " + i);
    return t.push(i), e;
  }
}
function dY(t, e) {
  let r;
  return n;
  function n(...s) {
    const a = t.length > s.length;
    let l;
    a && s.push(i);
    try {
      l = t.apply(this, s);
    } catch (u) {
      const c = u;
      if (a && r) throw c;
      return i(c);
    }
    a ||
      (l instanceof Promise ? l.then(o, i) : l instanceof Error ? i(l) : o(l));
  }
  function i(s, ...a) {
    r || ((r = !0), e(s, ...a));
  }
  function o(s) {
    i(null, s);
  }
}
function pY(t) {
  return !t || typeof t != "object"
    ? ""
    : "position" in t || "type" in t
      ? Gx(t.position)
      : "start" in t || "end" in t
        ? Gx(t)
        : "line" in t || "column" in t
          ? U5(t)
          : "";
}
function U5(t) {
  return Kx(t && t.line) + ":" + Kx(t && t.column);
}
function Gx(t) {
  return U5(t && t.start) + "-" + U5(t && t.end);
}
function Kx(t) {
  return t && typeof t == "number" ? t : 1;
}
class mo extends Error {
  constructor(e, r, n) {
    const i = [null, null];
    let o = {
      start: { line: null, column: null },
      end: { line: null, column: null },
    };
    if (
      (super(),
      typeof r == "string" && ((n = r), (r = void 0)),
      typeof n == "string")
    ) {
      const s = n.indexOf(":");
      s === -1 ? (i[1] = n) : ((i[0] = n.slice(0, s)), (i[1] = n.slice(s + 1)));
    }
    r &&
      ("type" in r || "position" in r
        ? r.position && (o = r.position)
        : "start" in r || "end" in r
          ? (o = r)
          : ("line" in r || "column" in r) && (o.start = r)),
      (this.name = pY(r) || "1:1"),
      (this.message = typeof e == "object" ? e.message : e),
      (this.stack = ""),
      typeof e == "object" && e.stack && (this.stack = e.stack),
      (this.reason = this.message),
      this.fatal,
      (this.line = o.start.line),
      (this.column = o.start.column),
      (this.position = o),
      (this.source = i[0]),
      (this.ruleId = i[1]),
      this.file,
      this.actual,
      this.expected,
      this.url,
      this.note;
  }
}
mo.prototype.file = "";
mo.prototype.name = "";
mo.prototype.reason = "";
mo.prototype.message = "";
mo.prototype.stack = "";
mo.prototype.fatal = null;
mo.prototype.column = null;
mo.prototype.line = null;
mo.prototype.source = null;
mo.prototype.ruleId = null;
mo.prototype.position = null;
const Uo = { basename: mY, dirname: gY, extname: vY, join: yY, sep: "/" };
function mY(t, e) {
  if (e !== void 0 && typeof e != "string")
    throw new TypeError('"ext" argument must be a string');
  dp(t);
  let r = 0,
    n = -1,
    i = t.length,
    o;
  if (e === void 0 || e.length === 0 || e.length > t.length) {
    for (; i--; )
      if (t.charCodeAt(i) === 47) {
        if (o) {
          r = i + 1;
          break;
        }
      } else n < 0 && ((o = !0), (n = i + 1));
    return n < 0 ? "" : t.slice(r, n);
  }
  if (e === t) return "";
  let s = -1,
    a = e.length - 1;
  for (; i--; )
    if (t.charCodeAt(i) === 47) {
      if (o) {
        r = i + 1;
        break;
      }
    } else
      s < 0 && ((o = !0), (s = i + 1)),
        a > -1 &&
          (t.charCodeAt(i) === e.charCodeAt(a--)
            ? a < 0 && (n = i)
            : ((a = -1), (n = s)));
  return r === n ? (n = s) : n < 0 && (n = t.length), t.slice(r, n);
}
function gY(t) {
  if ((dp(t), t.length === 0)) return ".";
  let e = -1,
    r = t.length,
    n;
  for (; --r; )
    if (t.charCodeAt(r) === 47) {
      if (n) {
        e = r;
        break;
      }
    } else n || (n = !0);
  return e < 0
    ? t.charCodeAt(0) === 47
      ? "/"
      : "."
    : e === 1 && t.charCodeAt(0) === 47
      ? "//"
      : t.slice(0, e);
}
function vY(t) {
  dp(t);
  let e = t.length,
    r = -1,
    n = 0,
    i = -1,
    o = 0,
    s;
  for (; e--; ) {
    const a = t.charCodeAt(e);
    if (a === 47) {
      if (s) {
        n = e + 1;
        break;
      }
      continue;
    }
    r < 0 && ((s = !0), (r = e + 1)),
      a === 46 ? (i < 0 ? (i = e) : o !== 1 && (o = 1)) : i > -1 && (o = -1);
  }
  return i < 0 || r < 0 || o === 0 || (o === 1 && i === r - 1 && i === n + 1)
    ? ""
    : t.slice(i, r);
}
function yY(...t) {
  let e = -1,
    r;
  for (; ++e < t.length; )
    dp(t[e]), t[e] && (r = r === void 0 ? t[e] : r + "/" + t[e]);
  return r === void 0 ? "." : bY(r);
}
function bY(t) {
  dp(t);
  const e = t.charCodeAt(0) === 47;
  let r = DY(t, !e);
  return (
    r.length === 0 && !e && (r = "."),
    r.length > 0 && t.charCodeAt(t.length - 1) === 47 && (r += "/"),
    e ? "/" + r : r
  );
}
function DY(t, e) {
  let r = "",
    n = 0,
    i = -1,
    o = 0,
    s = -1,
    a,
    l;
  for (; ++s <= t.length; ) {
    if (s < t.length) a = t.charCodeAt(s);
    else {
      if (a === 47) break;
      a = 47;
    }
    if (a === 47) {
      if (!(i === s - 1 || o === 1))
        if (i !== s - 1 && o === 2) {
          if (
            r.length < 2 ||
            n !== 2 ||
            r.charCodeAt(r.length - 1) !== 46 ||
            r.charCodeAt(r.length - 2) !== 46
          ) {
            if (r.length > 2) {
              if (((l = r.lastIndexOf("/")), l !== r.length - 1)) {
                l < 0
                  ? ((r = ""), (n = 0))
                  : ((r = r.slice(0, l)),
                    (n = r.length - 1 - r.lastIndexOf("/"))),
                  (i = s),
                  (o = 0);
                continue;
              }
            } else if (r.length > 0) {
              (r = ""), (n = 0), (i = s), (o = 0);
              continue;
            }
          }
          e && ((r = r.length > 0 ? r + "/.." : ".."), (n = 2));
        } else
          r.length > 0
            ? (r += "/" + t.slice(i + 1, s))
            : (r = t.slice(i + 1, s)),
            (n = s - i - 1);
      (i = s), (o = 0);
    } else a === 46 && o > -1 ? o++ : (o = -1);
  }
  return r;
}
function dp(t) {
  if (typeof t != "string")
    throw new TypeError("Path must be a string. Received " + JSON.stringify(t));
}
const wY = { cwd: xY };
function xY() {
  return "/";
}
function G5(t) {
  return t !== null && typeof t == "object" && t.href && t.origin;
}
function kY(t) {
  if (typeof t == "string") t = new URL(t);
  else if (!G5(t)) {
    const e = new TypeError(
      'The "path" argument must be of type string or an instance of URL. Received `' +
        t +
        "`"
    );
    throw ((e.code = "ERR_INVALID_ARG_TYPE"), e);
  }
  if (t.protocol !== "file:") {
    const e = new TypeError("The URL must be of scheme file");
    throw ((e.code = "ERR_INVALID_URL_SCHEME"), e);
  }
  return SY(t);
}
function SY(t) {
  if (t.hostname !== "") {
    const n = new TypeError(
      'File URL host must be "localhost" or empty on darwin'
    );
    throw ((n.code = "ERR_INVALID_FILE_URL_HOST"), n);
  }
  const e = t.pathname;
  let r = -1;
  for (; ++r < e.length; )
    if (e.charCodeAt(r) === 37 && e.charCodeAt(r + 1) === 50) {
      const n = e.charCodeAt(r + 2);
      if (n === 70 || n === 102) {
        const i = new TypeError(
          "File URL path must not include encoded / characters"
        );
        throw ((i.code = "ERR_INVALID_FILE_URL_PATH"), i);
      }
    }
  return decodeURIComponent(e);
}
const J4 = ["history", "path", "basename", "stem", "extname", "dirname"];
class CY {
  constructor(e) {
    let r;
    e
      ? typeof e == "string" || AY(e)
        ? (r = { value: e })
        : G5(e)
          ? (r = { path: e })
          : (r = e)
      : (r = {}),
      (this.data = {}),
      (this.messages = []),
      (this.history = []),
      (this.cwd = wY.cwd()),
      this.value,
      this.stored,
      this.result,
      this.map;
    let n = -1;
    for (; ++n < J4.length; ) {
      const o = J4[n];
      o in r &&
        r[o] !== void 0 &&
        r[o] !== null &&
        (this[o] = o === "history" ? [...r[o]] : r[o]);
    }
    let i;
    for (i in r) J4.includes(i) || (this[i] = r[i]);
  }
  get path() {
    return this.history[this.history.length - 1];
  }
  set path(e) {
    G5(e) && (e = kY(e)),
      Z4(e, "path"),
      this.path !== e && this.history.push(e);
  }
  get dirname() {
    return typeof this.path == "string" ? Uo.dirname(this.path) : void 0;
  }
  set dirname(e) {
    Yx(this.basename, "dirname"), (this.path = Uo.join(e || "", this.basename));
  }
  get basename() {
    return typeof this.path == "string" ? Uo.basename(this.path) : void 0;
  }
  set basename(e) {
    Z4(e, "basename"),
      Q4(e, "basename"),
      (this.path = Uo.join(this.dirname || "", e));
  }
  get extname() {
    return typeof this.path == "string" ? Uo.extname(this.path) : void 0;
  }
  set extname(e) {
    if ((Q4(e, "extname"), Yx(this.dirname, "extname"), e)) {
      if (e.charCodeAt(0) !== 46)
        throw new Error("`extname` must start with `.`");
      if (e.includes(".", 1))
        throw new Error("`extname` cannot contain multiple dots");
    }
    this.path = Uo.join(this.dirname, this.stem + (e || ""));
  }
  get stem() {
    return typeof this.path == "string"
      ? Uo.basename(this.path, this.extname)
      : void 0;
  }
  set stem(e) {
    Z4(e, "stem"),
      Q4(e, "stem"),
      (this.path = Uo.join(this.dirname || "", e + (this.extname || "")));
  }
  toString(e) {
    return (this.value || "").toString(e || void 0);
  }
  message(e, r, n) {
    const i = new mo(e, r, n);
    return (
      this.path && ((i.name = this.path + ":" + i.name), (i.file = this.path)),
      (i.fatal = !1),
      this.messages.push(i),
      i
    );
  }
  info(e, r, n) {
    const i = this.message(e, r, n);
    return (i.fatal = null), i;
  }
  fail(e, r, n) {
    const i = this.message(e, r, n);
    throw ((i.fatal = !0), i);
  }
}
function Q4(t, e) {
  if (t && t.includes(Uo.sep))
    throw new Error(
      "`" + e + "` cannot be a path: did not expect `" + Uo.sep + "`"
    );
}
function Z4(t, e) {
  if (!t) throw new Error("`" + e + "` cannot be empty");
}
function Yx(t, e) {
  if (!t) throw new Error("Setting `" + e + "` requires `path` to be set too");
}
function AY(t) {
  return hO(t);
}
const pO = gO().freeze(),
  mO = {}.hasOwnProperty;
function gO() {
  const t = hY(),
    e = [];
  let r = {},
    n,
    i = -1;
  return (
    (o.data = s),
    (o.Parser = void 0),
    (o.Compiler = void 0),
    (o.freeze = a),
    (o.attachers = e),
    (o.use = l),
    (o.parse = u),
    (o.stringify = c),
    (o.run = f),
    (o.runSync = h),
    (o.process = d),
    (o.processSync = p),
    o
  );
  function o() {
    const m = gO();
    let b = -1;
    for (; ++b < e.length; ) m.use(...e[b]);
    return m.data(Ux(!0, {}, r)), m;
  }
  function s(m, b) {
    return typeof m == "string"
      ? arguments.length === 2
        ? (ry("data", n), (r[m] = b), o)
        : (mO.call(r, m) && r[m]) || null
      : m
        ? (ry("data", n), (r = m), o)
        : r;
  }
  function a() {
    if (n) return o;
    for (; ++i < e.length; ) {
      const [m, ...b] = e[i];
      if (b[0] === !1) continue;
      b[0] === !0 && (b[0] = void 0);
      const D = m.call(o, ...b);
      typeof D == "function" && t.use(D);
    }
    return (n = !0), (i = Number.POSITIVE_INFINITY), o;
  }
  function l(m, ...b) {
    let D;
    if ((ry("use", n), m != null))
      if (typeof m == "function") $(m, ...b);
      else if (typeof m == "object") Array.isArray(m) ? B(m) : S(m);
      else throw new TypeError("Expected usable value, not `" + m + "`");
    return D && (r.settings = Object.assign(r.settings || {}, D)), o;
    function k(T) {
      if (typeof T == "function") $(T);
      else if (typeof T == "object")
        if (Array.isArray(T)) {
          const [P, ...te] = T;
          $(P, ...te);
        } else S(T);
      else throw new TypeError("Expected usable value, not `" + T + "`");
    }
    function S(T) {
      B(T.plugins), T.settings && (D = Object.assign(D || {}, T.settings));
    }
    function B(T) {
      let P = -1;
      if (T != null)
        if (Array.isArray(T))
          for (; ++P < T.length; ) {
            const te = T[P];
            k(te);
          }
        else throw new TypeError("Expected a list of plugins, not `" + T + "`");
    }
    function $(T, P) {
      let te = -1,
        ee;
      for (; ++te < e.length; )
        if (e[te][0] === T) {
          ee = e[te];
          break;
        }
      ee
        ? (q5(ee[1]) && q5(P) && (P = Ux(!0, ee[1], P)), (ee[1] = P))
        : e.push([...arguments]);
    }
  }
  function u(m) {
    o.freeze();
    const b = Kf(m),
      D = o.Parser;
    return (
      ey("parse", D),
      Xx(D, "parse") ? new D(String(b), b).parse() : D(String(b), b)
    );
  }
  function c(m, b) {
    o.freeze();
    const D = Kf(b),
      k = o.Compiler;
    return (
      ty("stringify", k),
      Jx(m),
      Xx(k, "compile") ? new k(m, D).compile() : k(m, D)
    );
  }
  function f(m, b, D) {
    if (
      (Jx(m),
      o.freeze(),
      !D && typeof b == "function" && ((D = b), (b = void 0)),
      !D)
    )
      return new Promise(k);
    k(null, D);
    function k(S, B) {
      t.run(m, Kf(b), $);
      function $(T, P, te) {
        (P = P || m), T ? B(T) : S ? S(P) : D(null, P, te);
      }
    }
  }
  function h(m, b) {
    let D, k;
    return o.run(m, b, S), Qx("runSync", "run", k), D;
    function S(B, $) {
      Lx(B), (D = $), (k = !0);
    }
  }
  function d(m, b) {
    if ((o.freeze(), ey("process", o.Parser), ty("process", o.Compiler), !b))
      return new Promise(D);
    D(null, b);
    function D(k, S) {
      const B = Kf(m);
      o.run(o.parse(B), B, (T, P, te) => {
        if (T || !P || !te) $(T);
        else {
          const ee = o.stringify(P, te);
          ee == null || (MY(ee) ? (te.value = ee) : (te.result = ee)), $(T, te);
        }
      });
      function $(T, P) {
        T || !P ? S(T) : k ? k(P) : b(null, P);
      }
    }
  }
  function p(m) {
    let b;
    o.freeze(), ey("processSync", o.Parser), ty("processSync", o.Compiler);
    const D = Kf(m);
    return o.process(D, k), Qx("processSync", "process", b), D;
    function k(S) {
      (b = !0), Lx(S);
    }
  }
}
function Xx(t, e) {
  return (
    typeof t == "function" &&
    t.prototype &&
    (EY(t.prototype) || e in t.prototype)
  );
}
function EY(t) {
  let e;
  for (e in t) if (mO.call(t, e)) return !0;
  return !1;
}
function ey(t, e) {
  if (typeof e != "function")
    throw new TypeError("Cannot `" + t + "` without `Parser`");
}
function ty(t, e) {
  if (typeof e != "function")
    throw new TypeError("Cannot `" + t + "` without `Compiler`");
}
function ry(t, e) {
  if (e)
    throw new Error(
      "Cannot call `" +
        t +
        "` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`."
    );
}
function Jx(t) {
  if (!q5(t) || typeof t.type != "string")
    throw new TypeError("Expected node, got `" + t + "`");
}
function Qx(t, e, r) {
  if (!r)
    throw new Error("`" + t + "` finished async. Use `" + e + "` instead");
}
function Kf(t) {
  return FY(t) ? t : new CY(t);
}
function FY(t) {
  return !!(t && typeof t == "object" && "message" in t && "messages" in t);
}
function MY(t) {
  return typeof t == "string" || hO(t);
}
function _Y(t, e = () => !1, r) {
  if (!Array.isArray(t)) throw new Error(`Can only split an Array, not ${t}`);
  const { onlySplitOnFirstOccurrence: n = !1 } = r || {},
    i = [];
  for (let a = 0; a < t.length && !(e(t[a]) && (i.push(a), n)); a++);
  if (i.length === 0) return { segments: [t], separators: [] };
  let o = i.map((a) => t[a]),
    s = i.map((a, l) => {
      const u = l === 0 ? 0 : i[l - 1] + 1;
      return t.slice(u, a);
    });
  return (
    s.push(t.slice(i[i.length - 1] + 1, t.length)),
    { segments: s, separators: o }
  );
}
function $Y(t, e) {
  if ((typeof e == "string" && (e = [e]), !Array.isArray(e)))
    throw new Error("Type coercion failed");
  const r = Ne.createMacroMatcher(e),
    { segments: n, separators: i } = _Y(t, r);
  return { segments: n, macros: i };
}
function OY(t, e) {
  for (let r = t.length - 1; r >= 0; r--) {
    const n = t[r];
    if (!(Ne.whitespace(n) || Ne.comment(n) || (e && Ne.parbreak(n)))) return r;
  }
}
var vO = { exports: {} },
  yO = {
    aliceblue: [240, 248, 255],
    antiquewhite: [250, 235, 215],
    aqua: [0, 255, 255],
    aquamarine: [127, 255, 212],
    azure: [240, 255, 255],
    beige: [245, 245, 220],
    bisque: [255, 228, 196],
    black: [0, 0, 0],
    blanchedalmond: [255, 235, 205],
    blue: [0, 0, 255],
    blueviolet: [138, 43, 226],
    brown: [165, 42, 42],
    burlywood: [222, 184, 135],
    cadetblue: [95, 158, 160],
    chartreuse: [127, 255, 0],
    chocolate: [210, 105, 30],
    coral: [255, 127, 80],
    cornflowerblue: [100, 149, 237],
    cornsilk: [255, 248, 220],
    crimson: [220, 20, 60],
    cyan: [0, 255, 255],
    darkblue: [0, 0, 139],
    darkcyan: [0, 139, 139],
    darkgoldenrod: [184, 134, 11],
    darkgray: [169, 169, 169],
    darkgreen: [0, 100, 0],
    darkgrey: [169, 169, 169],
    darkkhaki: [189, 183, 107],
    darkmagenta: [139, 0, 139],
    darkolivegreen: [85, 107, 47],
    darkorange: [255, 140, 0],
    darkorchid: [153, 50, 204],
    darkred: [139, 0, 0],
    darksalmon: [233, 150, 122],
    darkseagreen: [143, 188, 143],
    darkslateblue: [72, 61, 139],
    darkslategray: [47, 79, 79],
    darkslategrey: [47, 79, 79],
    darkturquoise: [0, 206, 209],
    darkviolet: [148, 0, 211],
    deeppink: [255, 20, 147],
    deepskyblue: [0, 191, 255],
    dimgray: [105, 105, 105],
    dimgrey: [105, 105, 105],
    dodgerblue: [30, 144, 255],
    firebrick: [178, 34, 34],
    floralwhite: [255, 250, 240],
    forestgreen: [34, 139, 34],
    fuchsia: [255, 0, 255],
    gainsboro: [220, 220, 220],
    ghostwhite: [248, 248, 255],
    gold: [255, 215, 0],
    goldenrod: [218, 165, 32],
    gray: [128, 128, 128],
    green: [0, 128, 0],
    greenyellow: [173, 255, 47],
    grey: [128, 128, 128],
    honeydew: [240, 255, 240],
    hotpink: [255, 105, 180],
    indianred: [205, 92, 92],
    indigo: [75, 0, 130],
    ivory: [255, 255, 240],
    khaki: [240, 230, 140],
    lavender: [230, 230, 250],
    lavenderblush: [255, 240, 245],
    lawngreen: [124, 252, 0],
    lemonchiffon: [255, 250, 205],
    lightblue: [173, 216, 230],
    lightcoral: [240, 128, 128],
    lightcyan: [224, 255, 255],
    lightgoldenrodyellow: [250, 250, 210],
    lightgray: [211, 211, 211],
    lightgreen: [144, 238, 144],
    lightgrey: [211, 211, 211],
    lightpink: [255, 182, 193],
    lightsalmon: [255, 160, 122],
    lightseagreen: [32, 178, 170],
    lightskyblue: [135, 206, 250],
    lightslategray: [119, 136, 153],
    lightslategrey: [119, 136, 153],
    lightsteelblue: [176, 196, 222],
    lightyellow: [255, 255, 224],
    lime: [0, 255, 0],
    limegreen: [50, 205, 50],
    linen: [250, 240, 230],
    magenta: [255, 0, 255],
    maroon: [128, 0, 0],
    mediumaquamarine: [102, 205, 170],
    mediumblue: [0, 0, 205],
    mediumorchid: [186, 85, 211],
    mediumpurple: [147, 112, 219],
    mediumseagreen: [60, 179, 113],
    mediumslateblue: [123, 104, 238],
    mediumspringgreen: [0, 250, 154],
    mediumturquoise: [72, 209, 204],
    mediumvioletred: [199, 21, 133],
    midnightblue: [25, 25, 112],
    mintcream: [245, 255, 250],
    mistyrose: [255, 228, 225],
    moccasin: [255, 228, 181],
    navajowhite: [255, 222, 173],
    navy: [0, 0, 128],
    oldlace: [253, 245, 230],
    olive: [128, 128, 0],
    olivedrab: [107, 142, 35],
    orange: [255, 165, 0],
    orangered: [255, 69, 0],
    orchid: [218, 112, 214],
    palegoldenrod: [238, 232, 170],
    palegreen: [152, 251, 152],
    paleturquoise: [175, 238, 238],
    palevioletred: [219, 112, 147],
    papayawhip: [255, 239, 213],
    peachpuff: [255, 218, 185],
    peru: [205, 133, 63],
    pink: [255, 192, 203],
    plum: [221, 160, 221],
    powderblue: [176, 224, 230],
    purple: [128, 0, 128],
    rebeccapurple: [102, 51, 153],
    red: [255, 0, 0],
    rosybrown: [188, 143, 143],
    royalblue: [65, 105, 225],
    saddlebrown: [139, 69, 19],
    salmon: [250, 128, 114],
    sandybrown: [244, 164, 96],
    seagreen: [46, 139, 87],
    seashell: [255, 245, 238],
    sienna: [160, 82, 45],
    silver: [192, 192, 192],
    skyblue: [135, 206, 235],
    slateblue: [106, 90, 205],
    slategray: [112, 128, 144],
    slategrey: [112, 128, 144],
    snow: [255, 250, 250],
    springgreen: [0, 255, 127],
    steelblue: [70, 130, 180],
    tan: [210, 180, 140],
    teal: [0, 128, 128],
    thistle: [216, 191, 216],
    tomato: [255, 99, 71],
    turquoise: [64, 224, 208],
    violet: [238, 130, 238],
    wheat: [245, 222, 179],
    white: [255, 255, 255],
    whitesmoke: [245, 245, 245],
    yellow: [255, 255, 0],
    yellowgreen: [154, 205, 50],
  },
  bO = { exports: {} },
  BY = function (e) {
    return !e || typeof e == "string"
      ? !1
      : e instanceof Array ||
          Array.isArray(e) ||
          (e.length >= 0 &&
            (e.splice instanceof Function ||
              (Object.getOwnPropertyDescriptor(e, e.length - 1) &&
                e.constructor.name !== "String")));
  },
  TY = BY,
  PY = Array.prototype.concat,
  RY = Array.prototype.slice,
  Zx = (bO.exports = function (e) {
    for (var r = [], n = 0, i = e.length; n < i; n++) {
      var o = e[n];
      TY(o) ? (r = PY.call(r, RY.call(o))) : r.push(o);
    }
    return r;
  });
Zx.wrap = function (t) {
  return function () {
    return t(Zx(arguments));
  };
};
var IY = bO.exports,
  Ch = yO,
  pp = IY,
  DO = Object.hasOwnProperty,
  wO = Object.create(null);
for (var ny in Ch) DO.call(Ch, ny) && (wO[Ch[ny]] = ny);
var bs = (vO.exports = { to: {}, get: {} });
bs.get = function (t) {
  var e = t.substring(0, 3).toLowerCase(),
    r,
    n;
  switch (e) {
    case "hsl":
      (r = bs.get.hsl(t)), (n = "hsl");
      break;
    case "hwb":
      (r = bs.get.hwb(t)), (n = "hwb");
      break;
    default:
      (r = bs.get.rgb(t)), (n = "rgb");
      break;
  }
  return r ? { model: n, value: r } : null;
};
bs.get.rgb = function (t) {
  if (!t) return null;
  var e = /^#([a-f0-9]{3,4})$/i,
    r = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i,
    n =
      /^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,
    i =
      /^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,
    o = /^(\w+)$/,
    s = [0, 0, 0, 1],
    a,
    l,
    u;
  if ((a = t.match(r))) {
    for (u = a[2], a = a[1], l = 0; l < 3; l++) {
      var c = l * 2;
      s[l] = parseInt(a.slice(c, c + 2), 16);
    }
    u && (s[3] = parseInt(u, 16) / 255);
  } else if ((a = t.match(e))) {
    for (a = a[1], u = a[3], l = 0; l < 3; l++)
      s[l] = parseInt(a[l] + a[l], 16);
    u && (s[3] = parseInt(u + u, 16) / 255);
  } else if ((a = t.match(n))) {
    for (l = 0; l < 3; l++) s[l] = parseInt(a[l + 1], 0);
    a[4] &&
      (a[5] ? (s[3] = parseFloat(a[4]) * 0.01) : (s[3] = parseFloat(a[4])));
  } else if ((a = t.match(i))) {
    for (l = 0; l < 3; l++) s[l] = Math.round(parseFloat(a[l + 1]) * 2.55);
    a[4] &&
      (a[5] ? (s[3] = parseFloat(a[4]) * 0.01) : (s[3] = parseFloat(a[4])));
  } else
    return (a = t.match(o))
      ? a[1] === "transparent"
        ? [0, 0, 0, 0]
        : DO.call(Ch, a[1])
          ? ((s = Ch[a[1]]), (s[3] = 1), s)
          : null
      : null;
  for (l = 0; l < 3; l++) s[l] = Zl(s[l], 0, 255);
  return (s[3] = Zl(s[3], 0, 1)), s;
};
bs.get.hsl = function (t) {
  if (!t) return null;
  var e =
      /^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,
    r = t.match(e);
  if (r) {
    var n = parseFloat(r[4]),
      i = ((parseFloat(r[1]) % 360) + 360) % 360,
      o = Zl(parseFloat(r[2]), 0, 100),
      s = Zl(parseFloat(r[3]), 0, 100),
      a = Zl(isNaN(n) ? 1 : n, 0, 1);
    return [i, o, s, a];
  }
  return null;
};
bs.get.hwb = function (t) {
  if (!t) return null;
  var e =
      /^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,
    r = t.match(e);
  if (r) {
    var n = parseFloat(r[4]),
      i = ((parseFloat(r[1]) % 360) + 360) % 360,
      o = Zl(parseFloat(r[2]), 0, 100),
      s = Zl(parseFloat(r[3]), 0, 100),
      a = Zl(isNaN(n) ? 1 : n, 0, 1);
    return [i, o, s, a];
  }
  return null;
};
bs.to.hex = function () {
  var t = pp(arguments);
  return (
    "#" +
    _m(t[0]) +
    _m(t[1]) +
    _m(t[2]) +
    (t[3] < 1 ? _m(Math.round(t[3] * 255)) : "")
  );
};
bs.to.rgb = function () {
  var t = pp(arguments);
  return t.length < 4 || t[3] === 1
    ? "rgb(" +
        Math.round(t[0]) +
        ", " +
        Math.round(t[1]) +
        ", " +
        Math.round(t[2]) +
        ")"
    : "rgba(" +
        Math.round(t[0]) +
        ", " +
        Math.round(t[1]) +
        ", " +
        Math.round(t[2]) +
        ", " +
        t[3] +
        ")";
};
bs.to.rgb.percent = function () {
  var t = pp(arguments),
    e = Math.round((t[0] / 255) * 100),
    r = Math.round((t[1] / 255) * 100),
    n = Math.round((t[2] / 255) * 100);
  return t.length < 4 || t[3] === 1
    ? "rgb(" + e + "%, " + r + "%, " + n + "%)"
    : "rgba(" + e + "%, " + r + "%, " + n + "%, " + t[3] + ")";
};
bs.to.hsl = function () {
  var t = pp(arguments);
  return t.length < 4 || t[3] === 1
    ? "hsl(" + t[0] + ", " + t[1] + "%, " + t[2] + "%)"
    : "hsla(" + t[0] + ", " + t[1] + "%, " + t[2] + "%, " + t[3] + ")";
};
bs.to.hwb = function () {
  var t = pp(arguments),
    e = "";
  return (
    t.length >= 4 && t[3] !== 1 && (e = ", " + t[3]),
    "hwb(" + t[0] + ", " + t[1] + "%, " + t[2] + "%" + e + ")"
  );
};
bs.to.keyword = function (t) {
  return wO[t.slice(0, 3)];
};
function Zl(t, e, r) {
  return Math.min(Math.max(e, t), r);
}
function _m(t) {
  var e = Math.round(t).toString(16).toUpperCase();
  return e.length < 2 ? "0" + e : e;
}
var NY = vO.exports;
const yd = yO,
  xO = {};
for (const t of Object.keys(yd)) xO[yd[t]] = t;
const St = {
  rgb: { channels: 3, labels: "rgb" },
  hsl: { channels: 3, labels: "hsl" },
  hsv: { channels: 3, labels: "hsv" },
  hwb: { channels: 3, labels: "hwb" },
  cmyk: { channels: 4, labels: "cmyk" },
  xyz: { channels: 3, labels: "xyz" },
  lab: { channels: 3, labels: "lab" },
  lch: { channels: 3, labels: "lch" },
  hex: { channels: 1, labels: ["hex"] },
  keyword: { channels: 1, labels: ["keyword"] },
  ansi16: { channels: 1, labels: ["ansi16"] },
  ansi256: { channels: 1, labels: ["ansi256"] },
  hcg: { channels: 3, labels: ["h", "c", "g"] },
  apple: { channels: 3, labels: ["r16", "g16", "b16"] },
  gray: { channels: 1, labels: ["gray"] },
};
var kO = St;
for (const t of Object.keys(St)) {
  if (!("channels" in St[t]))
    throw new Error("missing channels property: " + t);
  if (!("labels" in St[t]))
    throw new Error("missing channel labels property: " + t);
  if (St[t].labels.length !== St[t].channels)
    throw new Error("channel and label counts mismatch: " + t);
  const { channels: e, labels: r } = St[t];
  delete St[t].channels,
    delete St[t].labels,
    Object.defineProperty(St[t], "channels", { value: e }),
    Object.defineProperty(St[t], "labels", { value: r });
}
St.rgb.hsl = function (t) {
  const e = t[0] / 255,
    r = t[1] / 255,
    n = t[2] / 255,
    i = Math.min(e, r, n),
    o = Math.max(e, r, n),
    s = o - i;
  let a, l;
  o === i
    ? (a = 0)
    : e === o
      ? (a = (r - n) / s)
      : r === o
        ? (a = 2 + (n - e) / s)
        : n === o && (a = 4 + (e - r) / s),
    (a = Math.min(a * 60, 360)),
    a < 0 && (a += 360);
  const u = (i + o) / 2;
  return (
    o === i ? (l = 0) : u <= 0.5 ? (l = s / (o + i)) : (l = s / (2 - o - i)),
    [a, l * 100, u * 100]
  );
};
St.rgb.hsv = function (t) {
  let e, r, n, i, o;
  const s = t[0] / 255,
    a = t[1] / 255,
    l = t[2] / 255,
    u = Math.max(s, a, l),
    c = u - Math.min(s, a, l),
    f = function (h) {
      return (u - h) / 6 / c + 1 / 2;
    };
  return (
    c === 0
      ? ((i = 0), (o = 0))
      : ((o = c / u),
        (e = f(s)),
        (r = f(a)),
        (n = f(l)),
        s === u
          ? (i = n - r)
          : a === u
            ? (i = 1 / 3 + e - n)
            : l === u && (i = 2 / 3 + r - e),
        i < 0 ? (i += 1) : i > 1 && (i -= 1)),
    [i * 360, o * 100, u * 100]
  );
};
St.rgb.hwb = function (t) {
  const e = t[0],
    r = t[1];
  let n = t[2];
  const i = St.rgb.hsl(t)[0],
    o = (1 / 255) * Math.min(e, Math.min(r, n));
  return (
    (n = 1 - (1 / 255) * Math.max(e, Math.max(r, n))), [i, o * 100, n * 100]
  );
};
St.rgb.cmyk = function (t) {
  const e = t[0] / 255,
    r = t[1] / 255,
    n = t[2] / 255,
    i = Math.min(1 - e, 1 - r, 1 - n),
    o = (1 - e - i) / (1 - i) || 0,
    s = (1 - r - i) / (1 - i) || 0,
    a = (1 - n - i) / (1 - i) || 0;
  return [o * 100, s * 100, a * 100, i * 100];
};
function LY(t, e) {
  return (t[0] - e[0]) ** 2 + (t[1] - e[1]) ** 2 + (t[2] - e[2]) ** 2;
}
St.rgb.keyword = function (t) {
  const e = xO[t];
  if (e) return e;
  let r = 1 / 0,
    n;
  for (const i of Object.keys(yd)) {
    const o = yd[i],
      s = LY(t, o);
    s < r && ((r = s), (n = i));
  }
  return n;
};
St.keyword.rgb = function (t) {
  return yd[t];
};
St.rgb.xyz = function (t) {
  let e = t[0] / 255,
    r = t[1] / 255,
    n = t[2] / 255;
  (e = e > 0.04045 ? ((e + 0.055) / 1.055) ** 2.4 : e / 12.92),
    (r = r > 0.04045 ? ((r + 0.055) / 1.055) ** 2.4 : r / 12.92),
    (n = n > 0.04045 ? ((n + 0.055) / 1.055) ** 2.4 : n / 12.92);
  const i = e * 0.4124 + r * 0.3576 + n * 0.1805,
    o = e * 0.2126 + r * 0.7152 + n * 0.0722,
    s = e * 0.0193 + r * 0.1192 + n * 0.9505;
  return [i * 100, o * 100, s * 100];
};
St.rgb.lab = function (t) {
  const e = St.rgb.xyz(t);
  let r = e[0],
    n = e[1],
    i = e[2];
  (r /= 95.047),
    (n /= 100),
    (i /= 108.883),
    (r = r > 0.008856 ? r ** (1 / 3) : 7.787 * r + 16 / 116),
    (n = n > 0.008856 ? n ** (1 / 3) : 7.787 * n + 16 / 116),
    (i = i > 0.008856 ? i ** (1 / 3) : 7.787 * i + 16 / 116);
  const o = 116 * n - 16,
    s = 500 * (r - n),
    a = 200 * (n - i);
  return [o, s, a];
};
St.hsl.rgb = function (t) {
  const e = t[0] / 360,
    r = t[1] / 100,
    n = t[2] / 100;
  let i, o, s;
  if (r === 0) return (s = n * 255), [s, s, s];
  n < 0.5 ? (i = n * (1 + r)) : (i = n + r - n * r);
  const a = 2 * n - i,
    l = [0, 0, 0];
  for (let u = 0; u < 3; u++)
    (o = e + (1 / 3) * -(u - 1)),
      o < 0 && o++,
      o > 1 && o--,
      6 * o < 1
        ? (s = a + (i - a) * 6 * o)
        : 2 * o < 1
          ? (s = i)
          : 3 * o < 2
            ? (s = a + (i - a) * (2 / 3 - o) * 6)
            : (s = a),
      (l[u] = s * 255);
  return l;
};
St.hsl.hsv = function (t) {
  const e = t[0];
  let r = t[1] / 100,
    n = t[2] / 100,
    i = r;
  const o = Math.max(n, 0.01);
  (n *= 2), (r *= n <= 1 ? n : 2 - n), (i *= o <= 1 ? o : 2 - o);
  const s = (n + r) / 2,
    a = n === 0 ? (2 * i) / (o + i) : (2 * r) / (n + r);
  return [e, a * 100, s * 100];
};
St.hsv.rgb = function (t) {
  const e = t[0] / 60,
    r = t[1] / 100;
  let n = t[2] / 100;
  const i = Math.floor(e) % 6,
    o = e - Math.floor(e),
    s = 255 * n * (1 - r),
    a = 255 * n * (1 - r * o),
    l = 255 * n * (1 - r * (1 - o));
  switch (((n *= 255), i)) {
    case 0:
      return [n, l, s];
    case 1:
      return [a, n, s];
    case 2:
      return [s, n, l];
    case 3:
      return [s, a, n];
    case 4:
      return [l, s, n];
    case 5:
      return [n, s, a];
  }
};
St.hsv.hsl = function (t) {
  const e = t[0],
    r = t[1] / 100,
    n = t[2] / 100,
    i = Math.max(n, 0.01);
  let o, s;
  s = (2 - r) * n;
  const a = (2 - r) * i;
  return (
    (o = r * i),
    (o /= a <= 1 ? a : 2 - a),
    (o = o || 0),
    (s /= 2),
    [e, o * 100, s * 100]
  );
};
St.hwb.rgb = function (t) {
  const e = t[0] / 360;
  let r = t[1] / 100,
    n = t[2] / 100;
  const i = r + n;
  let o;
  i > 1 && ((r /= i), (n /= i));
  const s = Math.floor(6 * e),
    a = 1 - n;
  (o = 6 * e - s), s & 1 && (o = 1 - o);
  const l = r + o * (a - r);
  let u, c, f;
  switch (s) {
    default:
    case 6:
    case 0:
      (u = a), (c = l), (f = r);
      break;
    case 1:
      (u = l), (c = a), (f = r);
      break;
    case 2:
      (u = r), (c = a), (f = l);
      break;
    case 3:
      (u = r), (c = l), (f = a);
      break;
    case 4:
      (u = l), (c = r), (f = a);
      break;
    case 5:
      (u = a), (c = r), (f = l);
      break;
  }
  return [u * 255, c * 255, f * 255];
};
St.cmyk.rgb = function (t) {
  const e = t[0] / 100,
    r = t[1] / 100,
    n = t[2] / 100,
    i = t[3] / 100,
    o = 1 - Math.min(1, e * (1 - i) + i),
    s = 1 - Math.min(1, r * (1 - i) + i),
    a = 1 - Math.min(1, n * (1 - i) + i);
  return [o * 255, s * 255, a * 255];
};
St.xyz.rgb = function (t) {
  const e = t[0] / 100,
    r = t[1] / 100,
    n = t[2] / 100;
  let i, o, s;
  return (
    (i = e * 3.2406 + r * -1.5372 + n * -0.4986),
    (o = e * -0.9689 + r * 1.8758 + n * 0.0415),
    (s = e * 0.0557 + r * -0.204 + n * 1.057),
    (i = i > 0.0031308 ? 1.055 * i ** (1 / 2.4) - 0.055 : i * 12.92),
    (o = o > 0.0031308 ? 1.055 * o ** (1 / 2.4) - 0.055 : o * 12.92),
    (s = s > 0.0031308 ? 1.055 * s ** (1 / 2.4) - 0.055 : s * 12.92),
    (i = Math.min(Math.max(0, i), 1)),
    (o = Math.min(Math.max(0, o), 1)),
    (s = Math.min(Math.max(0, s), 1)),
    [i * 255, o * 255, s * 255]
  );
};
St.xyz.lab = function (t) {
  let e = t[0],
    r = t[1],
    n = t[2];
  (e /= 95.047),
    (r /= 100),
    (n /= 108.883),
    (e = e > 0.008856 ? e ** (1 / 3) : 7.787 * e + 16 / 116),
    (r = r > 0.008856 ? r ** (1 / 3) : 7.787 * r + 16 / 116),
    (n = n > 0.008856 ? n ** (1 / 3) : 7.787 * n + 16 / 116);
  const i = 116 * r - 16,
    o = 500 * (e - r),
    s = 200 * (r - n);
  return [i, o, s];
};
St.lab.xyz = function (t) {
  const e = t[0],
    r = t[1],
    n = t[2];
  let i, o, s;
  (o = (e + 16) / 116), (i = r / 500 + o), (s = o - n / 200);
  const a = o ** 3,
    l = i ** 3,
    u = s ** 3;
  return (
    (o = a > 0.008856 ? a : (o - 16 / 116) / 7.787),
    (i = l > 0.008856 ? l : (i - 16 / 116) / 7.787),
    (s = u > 0.008856 ? u : (s - 16 / 116) / 7.787),
    (i *= 95.047),
    (o *= 100),
    (s *= 108.883),
    [i, o, s]
  );
};
St.lab.lch = function (t) {
  const e = t[0],
    r = t[1],
    n = t[2];
  let i;
  (i = (Math.atan2(n, r) * 360) / 2 / Math.PI), i < 0 && (i += 360);
  const s = Math.sqrt(r * r + n * n);
  return [e, s, i];
};
St.lch.lab = function (t) {
  const e = t[0],
    r = t[1],
    i = (t[2] / 360) * 2 * Math.PI,
    o = r * Math.cos(i),
    s = r * Math.sin(i);
  return [e, o, s];
};
St.rgb.ansi16 = function (t, e = null) {
  const [r, n, i] = t;
  let o = e === null ? St.rgb.hsv(t)[2] : e;
  if (((o = Math.round(o / 50)), o === 0)) return 30;
  let s =
    30 +
    ((Math.round(i / 255) << 2) |
      (Math.round(n / 255) << 1) |
      Math.round(r / 255));
  return o === 2 && (s += 60), s;
};
St.hsv.ansi16 = function (t) {
  return St.rgb.ansi16(St.hsv.rgb(t), t[2]);
};
St.rgb.ansi256 = function (t) {
  const e = t[0],
    r = t[1],
    n = t[2];
  return e === r && r === n
    ? e < 8
      ? 16
      : e > 248
        ? 231
        : Math.round(((e - 8) / 247) * 24) + 232
    : 16 +
        36 * Math.round((e / 255) * 5) +
        6 * Math.round((r / 255) * 5) +
        Math.round((n / 255) * 5);
};
St.ansi16.rgb = function (t) {
  let e = t % 10;
  if (e === 0 || e === 7)
    return t > 50 && (e += 3.5), (e = (e / 10.5) * 255), [e, e, e];
  const r = (~~(t > 50) + 1) * 0.5,
    n = (e & 1) * r * 255,
    i = ((e >> 1) & 1) * r * 255,
    o = ((e >> 2) & 1) * r * 255;
  return [n, i, o];
};
St.ansi256.rgb = function (t) {
  if (t >= 232) {
    const o = (t - 232) * 10 + 8;
    return [o, o, o];
  }
  t -= 16;
  let e;
  const r = (Math.floor(t / 36) / 5) * 255,
    n = (Math.floor((e = t % 36) / 6) / 5) * 255,
    i = ((e % 6) / 5) * 255;
  return [r, n, i];
};
St.rgb.hex = function (t) {
  const r = (
    ((Math.round(t[0]) & 255) << 16) +
    ((Math.round(t[1]) & 255) << 8) +
    (Math.round(t[2]) & 255)
  )
    .toString(16)
    .toUpperCase();
  return "000000".substring(r.length) + r;
};
St.hex.rgb = function (t) {
  const e = t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);
  if (!e) return [0, 0, 0];
  let r = e[0];
  e[0].length === 3 &&
    (r = r
      .split("")
      .map((a) => a + a)
      .join(""));
  const n = parseInt(r, 16),
    i = (n >> 16) & 255,
    o = (n >> 8) & 255,
    s = n & 255;
  return [i, o, s];
};
St.rgb.hcg = function (t) {
  const e = t[0] / 255,
    r = t[1] / 255,
    n = t[2] / 255,
    i = Math.max(Math.max(e, r), n),
    o = Math.min(Math.min(e, r), n),
    s = i - o;
  let a, l;
  return (
    s < 1 ? (a = o / (1 - s)) : (a = 0),
    s <= 0
      ? (l = 0)
      : i === e
        ? (l = ((r - n) / s) % 6)
        : i === r
          ? (l = 2 + (n - e) / s)
          : (l = 4 + (e - r) / s),
    (l /= 6),
    (l %= 1),
    [l * 360, s * 100, a * 100]
  );
};
St.hsl.hcg = function (t) {
  const e = t[1] / 100,
    r = t[2] / 100,
    n = r < 0.5 ? 2 * e * r : 2 * e * (1 - r);
  let i = 0;
  return n < 1 && (i = (r - 0.5 * n) / (1 - n)), [t[0], n * 100, i * 100];
};
St.hsv.hcg = function (t) {
  const e = t[1] / 100,
    r = t[2] / 100,
    n = e * r;
  let i = 0;
  return n < 1 && (i = (r - n) / (1 - n)), [t[0], n * 100, i * 100];
};
St.hcg.rgb = function (t) {
  const e = t[0] / 360,
    r = t[1] / 100,
    n = t[2] / 100;
  if (r === 0) return [n * 255, n * 255, n * 255];
  const i = [0, 0, 0],
    o = (e % 1) * 6,
    s = o % 1,
    a = 1 - s;
  let l = 0;
  switch (Math.floor(o)) {
    case 0:
      (i[0] = 1), (i[1] = s), (i[2] = 0);
      break;
    case 1:
      (i[0] = a), (i[1] = 1), (i[2] = 0);
      break;
    case 2:
      (i[0] = 0), (i[1] = 1), (i[2] = s);
      break;
    case 3:
      (i[0] = 0), (i[1] = a), (i[2] = 1);
      break;
    case 4:
      (i[0] = s), (i[1] = 0), (i[2] = 1);
      break;
    default:
      (i[0] = 1), (i[1] = 0), (i[2] = a);
  }
  return (
    (l = (1 - r) * n),
    [(r * i[0] + l) * 255, (r * i[1] + l) * 255, (r * i[2] + l) * 255]
  );
};
St.hcg.hsv = function (t) {
  const e = t[1] / 100,
    r = t[2] / 100,
    n = e + r * (1 - e);
  let i = 0;
  return n > 0 && (i = e / n), [t[0], i * 100, n * 100];
};
St.hcg.hsl = function (t) {
  const e = t[1] / 100,
    n = (t[2] / 100) * (1 - e) + 0.5 * e;
  let i = 0;
  return (
    n > 0 && n < 0.5
      ? (i = e / (2 * n))
      : n >= 0.5 && n < 1 && (i = e / (2 * (1 - n))),
    [t[0], i * 100, n * 100]
  );
};
St.hcg.hwb = function (t) {
  const e = t[1] / 100,
    r = t[2] / 100,
    n = e + r * (1 - e);
  return [t[0], (n - e) * 100, (1 - n) * 100];
};
St.hwb.hcg = function (t) {
  const e = t[1] / 100,
    n = 1 - t[2] / 100,
    i = n - e;
  let o = 0;
  return i < 1 && (o = (n - i) / (1 - i)), [t[0], i * 100, o * 100];
};
St.apple.rgb = function (t) {
  return [(t[0] / 65535) * 255, (t[1] / 65535) * 255, (t[2] / 65535) * 255];
};
St.rgb.apple = function (t) {
  return [(t[0] / 255) * 65535, (t[1] / 255) * 65535, (t[2] / 255) * 65535];
};
St.gray.rgb = function (t) {
  return [(t[0] / 100) * 255, (t[0] / 100) * 255, (t[0] / 100) * 255];
};
St.gray.hsl = function (t) {
  return [0, 0, t[0]];
};
St.gray.hsv = St.gray.hsl;
St.gray.hwb = function (t) {
  return [0, 100, t[0]];
};
St.gray.cmyk = function (t) {
  return [0, 0, 0, t[0]];
};
St.gray.lab = function (t) {
  return [t[0], 0, 0];
};
St.gray.hex = function (t) {
  const e = Math.round((t[0] / 100) * 255) & 255,
    n = ((e << 16) + (e << 8) + e).toString(16).toUpperCase();
  return "000000".substring(n.length) + n;
};
St.rgb.gray = function (t) {
  return [((t[0] + t[1] + t[2]) / 3 / 255) * 100];
};
const $1 = kO;
function zY() {
  const t = {},
    e = Object.keys($1);
  for (let r = e.length, n = 0; n < r; n++)
    t[e[n]] = { distance: -1, parent: null };
  return t;
}
function jY(t) {
  const e = zY(),
    r = [t];
  for (e[t].distance = 0; r.length; ) {
    const n = r.pop(),
      i = Object.keys($1[n]);
    for (let o = i.length, s = 0; s < o; s++) {
      const a = i[s],
        l = e[a];
      l.distance === -1 &&
        ((l.distance = e[n].distance + 1), (l.parent = n), r.unshift(a));
    }
  }
  return e;
}
function HY(t, e) {
  return function (r) {
    return e(t(r));
  };
}
function VY(t, e) {
  const r = [e[t].parent, t];
  let n = $1[e[t].parent][t],
    i = e[t].parent;
  for (; e[i].parent; )
    r.unshift(e[i].parent), (n = HY($1[e[i].parent][i], n)), (i = e[i].parent);
  return (n.conversion = r), n;
}
var WY = function (t) {
  const e = jY(t),
    r = {},
    n = Object.keys(e);
  for (let i = n.length, o = 0; o < i; o++) {
    const s = n[o];
    e[s].parent !== null && (r[s] = VY(s, e));
  }
  return r;
};
const K5 = kO,
  qY = WY,
  Z0 = {},
  UY = Object.keys(K5);
function GY(t) {
  const e = function (...r) {
    const n = r[0];
    return n == null ? n : (n.length > 1 && (r = n), t(r));
  };
  return "conversion" in t && (e.conversion = t.conversion), e;
}
function KY(t) {
  const e = function (...r) {
    const n = r[0];
    if (n == null) return n;
    n.length > 1 && (r = n);
    const i = t(r);
    if (typeof i == "object")
      for (let o = i.length, s = 0; s < o; s++) i[s] = Math.round(i[s]);
    return i;
  };
  return "conversion" in t && (e.conversion = t.conversion), e;
}
UY.forEach((t) => {
  (Z0[t] = {}),
    Object.defineProperty(Z0[t], "channels", { value: K5[t].channels }),
    Object.defineProperty(Z0[t], "labels", { value: K5[t].labels });
  const e = qY(t);
  Object.keys(e).forEach((n) => {
    const i = e[n];
    (Z0[t][n] = KY(i)), (Z0[t][n].raw = GY(i));
  });
});
var YY = Z0;
const ec = NY,
  ms = YY,
  SO = ["keyword", "gray", "hex"],
  Y5 = {};
for (const t of Object.keys(ms)) Y5[[...ms[t].labels].sort().join("")] = t;
const O1 = {};
function Jn(t, e) {
  if (!(this instanceof Jn)) return new Jn(t, e);
  if ((e && e in SO && (e = null), e && !(e in ms)))
    throw new Error("Unknown model: " + e);
  let r, n;
  if (t == null)
    (this.model = "rgb"), (this.color = [0, 0, 0]), (this.valpha = 1);
  else if (t instanceof Jn)
    (this.model = t.model),
      (this.color = [...t.color]),
      (this.valpha = t.valpha);
  else if (typeof t == "string") {
    const i = ec.get(t);
    if (i === null) throw new Error("Unable to parse color from string: " + t);
    (this.model = i.model),
      (n = ms[this.model].channels),
      (this.color = i.value.slice(0, n)),
      (this.valpha = typeof i.value[n] == "number" ? i.value[n] : 1);
  } else if (t.length > 0) {
    (this.model = e || "rgb"), (n = ms[this.model].channels);
    const i = Array.prototype.slice.call(t, 0, n);
    (this.color = X5(i, n)), (this.valpha = typeof t[n] == "number" ? t[n] : 1);
  } else if (typeof t == "number")
    (this.model = "rgb"),
      (this.color = [(t >> 16) & 255, (t >> 8) & 255, t & 255]),
      (this.valpha = 1);
  else {
    this.valpha = 1;
    const i = Object.keys(t);
    "alpha" in t &&
      (i.splice(i.indexOf("alpha"), 1),
      (this.valpha = typeof t.alpha == "number" ? t.alpha : 0));
    const o = i.sort().join("");
    if (!(o in Y5))
      throw new Error(
        "Unable to parse color from object: " + JSON.stringify(t)
      );
    this.model = Y5[o];
    const { labels: s } = ms[this.model],
      a = [];
    for (r = 0; r < s.length; r++) a.push(t[s[r]]);
    this.color = X5(a);
  }
  if (O1[this.model])
    for (n = ms[this.model].channels, r = 0; r < n; r++) {
      const i = O1[this.model][r];
      i && (this.color[r] = i(this.color[r]));
    }
  (this.valpha = Math.max(0, Math.min(1, this.valpha))),
    Object.freeze && Object.freeze(this);
}
Jn.prototype = {
  toString() {
    return this.string();
  },
  toJSON() {
    return this[this.model]();
  },
  string(t) {
    let e = this.model in ec.to ? this : this.rgb();
    e = e.round(typeof t == "number" ? t : 1);
    const r = e.valpha === 1 ? e.color : [...e.color, this.valpha];
    return ec.to[e.model](r);
  },
  percentString(t) {
    const e = this.rgb().round(typeof t == "number" ? t : 1),
      r = e.valpha === 1 ? e.color : [...e.color, this.valpha];
    return ec.to.rgb.percent(r);
  },
  array() {
    return this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];
  },
  object() {
    const t = {},
      { channels: e } = ms[this.model],
      { labels: r } = ms[this.model];
    for (let n = 0; n < e; n++) t[r[n]] = this.color[n];
    return this.valpha !== 1 && (t.alpha = this.valpha), t;
  },
  unitArray() {
    const t = this.rgb().color;
    return (
      (t[0] /= 255),
      (t[1] /= 255),
      (t[2] /= 255),
      this.valpha !== 1 && t.push(this.valpha),
      t
    );
  },
  unitObject() {
    const t = this.rgb().object();
    return (
      (t.r /= 255),
      (t.g /= 255),
      (t.b /= 255),
      this.valpha !== 1 && (t.alpha = this.valpha),
      t
    );
  },
  round(t) {
    return (
      (t = Math.max(t || 0, 0)),
      new Jn([...this.color.map(JY(t)), this.valpha], this.model)
    );
  },
  alpha(t) {
    return t !== void 0
      ? new Jn([...this.color, Math.max(0, Math.min(1, t))], this.model)
      : this.valpha;
  },
  red: pn("rgb", 0, Rn(255)),
  green: pn("rgb", 1, Rn(255)),
  blue: pn("rgb", 2, Rn(255)),
  hue: pn(
    ["hsl", "hsv", "hsl", "hwb", "hcg"],
    0,
    (t) => ((t % 360) + 360) % 360
  ),
  saturationl: pn("hsl", 1, Rn(100)),
  lightness: pn("hsl", 2, Rn(100)),
  saturationv: pn("hsv", 1, Rn(100)),
  value: pn("hsv", 2, Rn(100)),
  chroma: pn("hcg", 1, Rn(100)),
  gray: pn("hcg", 2, Rn(100)),
  white: pn("hwb", 1, Rn(100)),
  wblack: pn("hwb", 2, Rn(100)),
  cyan: pn("cmyk", 0, Rn(100)),
  magenta: pn("cmyk", 1, Rn(100)),
  yellow: pn("cmyk", 2, Rn(100)),
  black: pn("cmyk", 3, Rn(100)),
  x: pn("xyz", 0, Rn(95.047)),
  y: pn("xyz", 1, Rn(100)),
  z: pn("xyz", 2, Rn(108.833)),
  l: pn("lab", 0, Rn(100)),
  a: pn("lab", 1),
  b: pn("lab", 2),
  keyword(t) {
    return t !== void 0 ? new Jn(t) : ms[this.model].keyword(this.color);
  },
  hex(t) {
    return t !== void 0 ? new Jn(t) : ec.to.hex(this.rgb().round().color);
  },
  hexa(t) {
    if (t !== void 0) return new Jn(t);
    const e = this.rgb().round().color;
    let r = Math.round(this.valpha * 255)
      .toString(16)
      .toUpperCase();
    return r.length === 1 && (r = "0" + r), ec.to.hex(e) + r;
  },
  rgbNumber() {
    const t = this.rgb().color;
    return ((t[0] & 255) << 16) | ((t[1] & 255) << 8) | (t[2] & 255);
  },
  luminosity() {
    const t = this.rgb().color,
      e = [];
    for (const [r, n] of t.entries()) {
      const i = n / 255;
      e[r] = i <= 0.04045 ? i / 12.92 : ((i + 0.055) / 1.055) ** 2.4;
    }
    return 0.2126 * e[0] + 0.7152 * e[1] + 0.0722 * e[2];
  },
  contrast(t) {
    const e = this.luminosity(),
      r = t.luminosity();
    return e > r ? (e + 0.05) / (r + 0.05) : (r + 0.05) / (e + 0.05);
  },
  level(t) {
    const e = this.contrast(t);
    return e >= 7 ? "AAA" : e >= 4.5 ? "AA" : "";
  },
  isDark() {
    const t = this.rgb().color;
    return (t[0] * 2126 + t[1] * 7152 + t[2] * 722) / 1e4 < 128;
  },
  isLight() {
    return !this.isDark();
  },
  negate() {
    const t = this.rgb();
    for (let e = 0; e < 3; e++) t.color[e] = 255 - t.color[e];
    return t;
  },
  lighten(t) {
    const e = this.hsl();
    return (e.color[2] += e.color[2] * t), e;
  },
  darken(t) {
    const e = this.hsl();
    return (e.color[2] -= e.color[2] * t), e;
  },
  saturate(t) {
    const e = this.hsl();
    return (e.color[1] += e.color[1] * t), e;
  },
  desaturate(t) {
    const e = this.hsl();
    return (e.color[1] -= e.color[1] * t), e;
  },
  whiten(t) {
    const e = this.hwb();
    return (e.color[1] += e.color[1] * t), e;
  },
  blacken(t) {
    const e = this.hwb();
    return (e.color[2] += e.color[2] * t), e;
  },
  grayscale() {
    const t = this.rgb().color,
      e = t[0] * 0.3 + t[1] * 0.59 + t[2] * 0.11;
    return Jn.rgb(e, e, e);
  },
  fade(t) {
    return this.alpha(this.valpha - this.valpha * t);
  },
  opaquer(t) {
    return this.alpha(this.valpha + this.valpha * t);
  },
  rotate(t) {
    const e = this.hsl();
    let r = e.color[0];
    return (r = (r + t) % 360), (r = r < 0 ? 360 + r : r), (e.color[0] = r), e;
  },
  mix(t, e) {
    if (!t || !t.rgb)
      throw new Error(
        'Argument to "mix" was not a Color instance, but rather an instance of ' +
          typeof t
      );
    const r = t.rgb(),
      n = this.rgb(),
      i = e === void 0 ? 0.5 : e,
      o = 2 * i - 1,
      s = r.alpha() - n.alpha(),
      a = ((o * s === -1 ? o : (o + s) / (1 + o * s)) + 1) / 2,
      l = 1 - a;
    return Jn.rgb(
      a * r.red() + l * n.red(),
      a * r.green() + l * n.green(),
      a * r.blue() + l * n.blue(),
      r.alpha() * i + n.alpha() * (1 - i)
    );
  },
};
for (const t of Object.keys(ms)) {
  if (SO.includes(t)) continue;
  const { channels: e } = ms[t];
  (Jn.prototype[t] = function (...r) {
    return this.model === t
      ? new Jn(this)
      : r.length > 0
        ? new Jn(r, t)
        : new Jn([...QY(ms[this.model][t].raw(this.color)), this.valpha], t);
  }),
    (Jn[t] = function (...r) {
      let n = r[0];
      return typeof n == "number" && (n = X5(r, e)), new Jn(n, t);
    });
}
function XY(t, e) {
  return Number(t.toFixed(e));
}
function JY(t) {
  return function (e) {
    return XY(e, t);
  };
}
function pn(t, e, r) {
  t = Array.isArray(t) ? t : [t];
  for (const n of t) (O1[n] || (O1[n] = []))[e] = r;
  return (
    (t = t[0]),
    function (n) {
      let i;
      return n !== void 0
        ? (r && (n = r(n)), (i = this[t]()), (i.color[e] = n), i)
        : ((i = this[t]().color[e]), r && (i = r(i)), i);
    }
  );
}
function Rn(t) {
  return function (e) {
    return Math.max(0, Math.min(t, e));
  };
}
function QY(t) {
  return Array.isArray(t) ? t : [t];
}
function X5(t, e) {
  for (let r = 0; r < e; r++) typeof t[r] != "number" && (t[r] = 0);
  return t;
}
var ZY = Jn;
const st = C7(ZY);
var eX = {
    cref: { signature: "s m" },
    Cref: { signature: "s m" },
    crefrange: { signature: "s m m" },
    Crefrange: { signature: "s m m" },
    cpageref: { signature: "s m" },
    Cpageref: { signature: "s m" },
    ref: { signature: "m" },
    pageref: { signature: "m" },
    namecref: { signature: "m" },
    nameCref: { signature: "m" },
    lcnamecref: { signature: "m" },
    namecrefs: { signature: "m" },
    nameCrefs: { signature: "m" },
    lcnamecrefs: { signature: "m" },
    labelcref: { signature: "m" },
    labelcpageref: { signature: "m" },
    crefalias: { signature: "m m" },
    crefname: { signature: "m m m" },
    crefdefaultlabelformat: { signature: "m" },
    crefrangeconjunction: { signature: "m" },
  },
  tX = {};
function Ji(t, e = "item") {
  let { segments: r, macros: n } = $Y(t, e);
  for (let s = 0; s < r.length; s++) {
    const a = r[s];
    s === 0 ? k7(a) : Bo(a),
      a.length > 0 && s > 0 && a.unshift({ type: "whitespace" });
  }
  let i = new WeakSet(),
    o = n.flatMap((s, a) => {
      var l;
      const u = r[a + 1],
        c = rX(u);
      return (
        (s.args = s.args || []),
        s.args.push(Ei(u, { openMark: "", closeMark: "" })),
        A7(s, { inParMode: !0 }),
        (a > 0 || ((l = r[0]) == null ? void 0 : l.length) > 0) && i.add(s),
        [s, ...c]
      );
    });
  (o = o.flatMap((s) => (i.has(s) ? [{ type: "parbreak" }, s] : s))),
    o.unshift(...r[0]);
  for (let s = 0; s < o.length - 1; s++) {
    const a = o[s],
      l = o[s + 1];
    if (
      Ne.parbreak(l) &&
      (Ne.comment(a) && (a.suffixParbreak = !0),
      Ne.macro(a) && a.args && a.args[a.args.length - 1].closeMark === "")
    ) {
      const u = a.args[a.args.length - 1].content,
        c = u[u.length - 1];
      Ne.comment(c) && (c.suffixParbreak = !0);
    }
  }
  return o;
}
function rX(t) {
  let e = OY(t, !0);
  return e === t.length - 1 || (e == null && t.length === 0)
    ? []
    : (e == null && (e = -1), t.splice(e + 1));
}
var nX = {
    answerline: { signature: "o" },
    fillin: { signature: "o o" },
    fullwidth: { signature: "m" },
    fillwidthlines: { signature: "m" },
    fillwidthdottedlines: { signature: "m" },
    fillwidthgrid: { signature: "m" },
    makeemptybox: { signature: "m" },
    CorrectChoiceEmphasis: { signature: "m", renderInfo: { breakAround: !0 } },
    SolutionEmphasis: { signature: "m", renderInfo: { breakAround: !0 } },
    uplevel: { signature: "m", renderInfo: { breakAround: !0 } },
    checkboxchar: { signature: "m", renderInfo: { breakAround: !0 } },
    checkedchar: { signature: "m", renderInfo: { breakAround: !0 } },
    pointname: { signature: "m", renderInfo: { breakAround: !0 } },
    marginpointname: { signature: "m", renderInfo: { breakAround: !0 } },
    extrawidth: { signature: "m", renderInfo: { breakAround: !0 } },
    pointformat: { signature: "m", renderInfo: { breakAround: !0 } },
    bonuspointformat: { signature: "m", renderInfo: { breakAround: !0 } },
    totalformat: { signature: "m", renderInfo: { breakAround: !0 } },
    qformat: { signature: "m", renderInfo: { breakAround: !0 } },
    titledquestion: { signature: "m o", renderInfo: { breakAround: !0 } },
    pointpoints: { signature: "m m", renderInfo: { breakAround: !0 } },
    bonuspointpoints: { signature: "m m", renderInfo: { breakAround: !0 } },
  },
  iX = {
    choices: { signature: "o", processContent: (t) => Ji(t, "choice") },
    checkboxes: { signature: "o", processContent: (t) => Ji(t, "choice") },
    oneparchoices: { signature: "o", processContent: (t) => Ji(t, "choice") },
    oneparcheckboxes: {
      signature: "o",
      processContent: (t) => Ji(t, "choice"),
    },
    parts: { signature: "o", processContent: (t) => Ji(t, "part") },
    subparts: { signature: "o", processContent: (t) => Ji(t, "subpart") },
    subsubparts: { signature: "o", processContent: (t) => Ji(t, "subsubpart") },
    questions: { signature: "o", processContent: (t) => Ji(t, "question") },
  },
  sX = {
    geometry: {
      signature: "m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
  },
  oX = {},
  aX = {
    hypersetup: {
      signature: "m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    href: { signature: "o m m" },
    url: { signature: "m" },
    nolinkurl: { signature: "m" },
    hyperbaseurl: { signature: "m" },
    hyperimage: { signature: "m m" },
    hyperdef: { signature: "m m m" },
    hyperref: { signature: "o m" },
    hyperlink: { signature: "m m" },
    hypertarget: { signature: "m m" },
    autoref: { signature: "s m" },
    pageref: { signature: "s m" },
    autopageref: { signature: "s m" },
    pdfstringdef: { signature: "m m" },
    pdfbookmark: { signature: "o m m" },
    currentpdfbookmark: { signature: "m m" },
    subpdfbookmark: { signature: "m m" },
    belowpdfbookmark: { signature: "m m" },
    texorpdfstring: { signature: "m m" },
    thispdfpagelabel: { signature: "m" },
    hypercalcbp: { signature: "m" },
  },
  lX = {},
  uX = {
    "\\": { signature: "!s !o" },
    _: { signature: "m", escapeToken: "" },
    "^": { signature: "m", escapeToken: "" },
    newcommand: {
      signature: "s +m o +o +m",
      renderInfo: {
        breakAround: !0,
        namedArguments: ["starred", "name", "numArgs", "default", "body"],
      },
    },
    renewcommand: {
      signature: "s +m o +o +m",
      renderInfo: {
        breakAround: !0,
        namedArguments: ["starred", "name", "numArgs", "default", "body"],
      },
    },
    providecommand: {
      signature: "s +m o +o +m",
      renderInfo: { breakAround: !0 },
    },
    newcounter: { signature: "m o", renderInfo: { breakAround: !0 } },
    usecounter: { signature: "m" },
    setcounter: { signature: "m m", renderInfo: { breakAround: !0 } },
    addtocounter: { signature: "m m", renderInfo: { breakAround: !0 } },
    stepcounter: { signature: "m", renderInfo: { breakAround: !0 } },
    refstepcounter: { signature: "m", renderInfo: { breakAround: !0 } },
    newlength: { signature: "m", renderInfo: { breakAround: !0 } },
    addtolength: { signature: "m m", renderInfo: { breakAround: !0 } },
    settodepth: { signature: "m m", renderInfo: { breakAround: !0 } },
    settoheight: { signature: "m m", renderInfo: { breakAround: !0 } },
    settowidth: { signature: "m m", renderInfo: { breakAround: !0 } },
    stretch: { signature: "m" },
    hspace: { signature: "s m" },
    vspace: { signature: "s m", renderInfo: { breakAround: !0 } },
    vfill: { renderInfo: { breakAround: !0 } },
    indent: { renderInfo: { breakAround: !0 } },
    phantom: { signature: "m" },
    vphantom: { signature: "m" },
    hphantom: { signature: "m" },
    noindent: { renderInfo: { breakAround: !0 } },
    smallskip: { renderInfo: { breakAround: !0 } },
    medskip: { renderInfo: { breakAround: !0 } },
    bigskip: { renderInfo: { breakAround: !0 } },
    smallbreak: { renderInfo: { breakAround: !0 } },
    medbreak: { renderInfo: { breakAround: !0 } },
    bigbreak: { renderInfo: { breakAround: !0 } },
    newline: { renderInfo: { breakAround: !0 } },
    linebreak: { signature: "o", renderInfo: { breakAround: !0 } },
    nolinebreak: { signature: "o", renderInfo: { breakAround: !0 } },
    clearpage: { renderInfo: { breakAround: !0 } },
    cleardoublepage: { renderInfo: { breakAround: !0 } },
    newpage: { renderInfo: { breakAround: !0 } },
    enlargethispage: { signature: "s", renderInfo: { breakAround: !0 } },
    pagebreak: { signature: "o", renderInfo: { breakAround: !0 } },
    nopagebreak: { signature: "o", renderInfo: { breakAround: !0 } },
    newsavebox: { signature: "m", renderInfo: { breakAround: !0 } },
    sbox: { signature: "m m", renderInfo: { breakAround: !0 } },
    savebox: { signature: "m o o m", renderInfo: { breakAround: !0 } },
    mbox: { signature: "m" },
    makebox: { signature: "d() o o m", renderInfo: { breakAround: !0 } },
    fbox: { signature: "m" },
    framebox: { signature: "o o m", renderInfo: { breakAround: !0 } },
    frame: { signature: "m", renderInfo: { breakAround: !0 } },
    parbox: { signature: "o o o m m", renderInfo: { breakAround: !0 } },
    raisebox: { signature: "m o o m" },
    marginpar: { signature: "o m", renderInfo: { breakAround: !0 } },
    colorbox: { signature: "o m m", renderInfo: { breakAround: !0 } },
    fcolorbox: { signature: "o m m", renderInfo: { breakAround: !0 } },
    rotatebox: { signature: "o m m" },
    scalebox: { signature: "m o m" },
    reflectbox: { signature: "m" },
    resizebox: { signature: "s m m m" },
    newenvironment: {
      signature: "s m o o m m",
      renderInfo: { breakAround: !0 },
    },
    renewenvironment: {
      signature: "s m o o m m",
      renderInfo: { breakAround: !0 },
    },
    newtheorem: { signature: "s m o m o", renderInfo: { breakAround: !0 } },
    newfont: { signature: "m m", renderInfo: { breakAround: !0 } },
    alph: { signature: "m" },
    Alph: { signature: "m" },
    arabic: { signature: "m" },
    roman: { signature: "m" },
    Roman: { signature: "m" },
    fnsymbol: { signature: "m" },
    documentclass: {
      signature: "o m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    usepackage: {
      signature: "o m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    item: {
      signature: "o",
      renderInfo: { hangingIndent: !0, namedArguments: ["label"] },
    },
    value: { signature: "m" },
    centering: { renderInfo: { breakAround: !0 } },
    input: { signature: "m", renderInfo: { breakAround: !0 } },
    include: { signature: "m", renderInfo: { breakAround: !0 } },
    includeonly: {
      signature: "m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    discretionary: { signature: "m m m" },
    hyphenation: { signature: "m m m" },
    footnote: { signature: "o m", renderInfo: { inParMode: !0 } },
    footnotemark: { signature: "o" },
    footnotetext: { signature: "o m", renderInfo: { inParMode: !0 } },
    caption: {
      signature: "o m",
      renderInfo: { inParMode: !0, breakAround: !0 },
    },
    sqrt: { signature: "o m", renderInfo: { inMathMode: !0 } },
    frac: { signature: "m m", renderInfo: { inMathMode: !0 } },
    stackrel: { signature: "m m" },
    ensuremath: { signature: "m", renderInfo: { inMathMode: !0 } },
    abstract: {
      signature: "m",
      renderInfo: { breakAround: !0, inParMode: !0 },
    },
    maketitle: { renderInfo: { breakAround: !0 } },
    doublespacing: { renderInfo: { breakAround: !0 } },
    singlespacing: { renderInfo: { breakAround: !0 } },
    author: { signature: "m", renderInfo: { breakAround: !0, inParMode: !0 } },
    date: { signature: "o m", renderInfo: { breakAround: !0 } },
    thanks: { signature: "m", renderInfo: { breakAround: !0, inParMode: !0 } },
    title: { signature: "o m", renderInfo: { breakAround: !0, inParMode: !0 } },
    pagenumbering: { signature: "m", renderInfo: { breakAround: !0 } },
    pagestyle: { signature: "m", renderInfo: { breakAround: !0 } },
    thispagestyle: { signature: "m", renderInfo: { breakAround: !0 } },
    definecolor: { signature: "m m m", renderInfo: { breakAround: !0 } },
    pagecolor: { signature: "o m", renderInfo: { breakAround: !0 } },
    nopagecolor: { renderInfo: { breakAround: !0 } },
    multicolumn: { signature: "m m m" },
    includegraphics: {
      signature: "s o o m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    rule: { signature: "o m m" },
    part: {
      signature: "s o m",
      renderInfo: {
        breakAround: !0,
        inParMode: !0,
        namedArguments: ["starred", "tocTitle", "title"],
      },
    },
    chapter: {
      signature: "s o m",
      renderInfo: {
        breakAround: !0,
        inParMode: !0,
        namedArguments: ["starred", "tocTitle", "title"],
      },
    },
    section: {
      signature: "s o m",
      renderInfo: {
        breakAround: !0,
        inParMode: !0,
        namedArguments: ["starred", "tocTitle", "title"],
      },
    },
    subsection: {
      signature: "s o m",
      renderInfo: {
        breakAround: !0,
        inParMode: !0,
        namedArguments: ["starred", "tocTitle", "title"],
      },
    },
    subsubsection: {
      signature: "s o m",
      renderInfo: {
        breakAround: !0,
        inParMode: !0,
        namedArguments: ["starred", "tocTitle", "title"],
      },
    },
    paragraph: {
      signature: "s o m",
      renderInfo: {
        breakAround: !0,
        inParMode: !0,
        namedArguments: ["starred", "tocTitle", "title"],
      },
    },
    subparagraph: {
      signature: "s o m",
      renderInfo: {
        breakAround: !0,
        inParMode: !0,
        namedArguments: ["starred", "tocTitle", "title"],
      },
    },
    appendix: { renderInfo: { breakAround: !0, inParMode: !0 } },
    frontmatter: { renderInfo: { breakAround: !0, inParMode: !0 } },
    mainmatter: { renderInfo: { breakAround: !0, inParMode: !0 } },
    backmatter: { renderInfo: { breakAround: !0, inParMode: !0 } },
    bibitem: { signature: "o m", renderInfo: { hangingIndent: !0 } },
    cite: { signature: "o m" },
    textrm: { signature: "m", renderInfo: { inParMode: !0 } },
    textit: { signature: "m", renderInfo: { inParMode: !0 } },
    textmd: { signature: "m", renderInfo: { inParMode: !0 } },
    textbf: { signature: "m", renderInfo: { inParMode: !0 } },
    textup: { signature: "m", renderInfo: { inParMode: !0 } },
    textsl: { signature: "m", renderInfo: { inParMode: !0 } },
    textsf: { signature: "m", renderInfo: { inParMode: !0 } },
    textsc: { signature: "m", renderInfo: { inParMode: !0 } },
    texttt: { signature: "m", renderInfo: { inParMode: !0 } },
    emph: { signature: "m", renderInfo: { inParMode: !0 } },
    textnormal: { signature: "m", renderInfo: { inParMode: !0 } },
    uppercase: { signature: "m", renderInfo: { inParMode: !0 } },
    mathbf: { signature: "m" },
    mathsf: { signature: "m" },
    mathtt: { signature: "m" },
    mathit: { signature: "m" },
    mathnormal: { signature: "m" },
    mathcal: { signature: "m" },
    mathrm: { signature: "m" },
    setlength: { signature: "m m", renderInfo: { breakAround: !0 } },
    ref: { signature: "s m" },
    label: { signature: "o m" },
    printbibliography: { renderInfo: { breakAround: !0 } },
    addtocontents: { signature: "m m", renderInfo: { breakAround: !0 } },
    addcontentsline: { signature: "m m m", renderInfo: { breakAround: !0 } },
    contentsline: { signature: "m m m", renderInfo: { breakAround: !0 } },
    bibliography: { signature: "m", renderInfo: { breakAround: !0 } },
    bibliographystyle: { signature: "m", renderInfo: { breakAround: !0 } },
  },
  cX = {
    document: { processContent: (t) => (Bo(t), t) },
    array: { signature: "o m", renderInfo: { alignContent: !0 } },
    description: { signature: "o", processContent: Ji },
    enumerate: {
      signature: "o",
      processContent: Ji,
      renderInfo: { pgfkeysArgs: !0 },
    },
    itemize: { signature: "o", processContent: Ji },
    trivlist: { signature: "o", processContent: Ji },
    list: { signature: "m m", processContent: Ji },
    figure: { signature: "o" },
    "figure*": { signature: "o" },
    filecontents: { signature: "o m" },
    "filecontents*": { signature: "o m" },
    minipage: { signature: "o o o m" },
    picture: { signature: "r() d()" },
    tabbing: { renderInfo: { alignContent: !0 } },
    table: { signature: "o" },
    tabular: { signature: "o m", renderInfo: { alignContent: !0 } },
    "tabular*": { signature: "m o m", renderInfo: { alignContent: !0 } },
    thebibliography: {
      signature: "m",
      processContent: (t) => Ji(t, "bibitem"),
    },
    math: { renderInfo: { inMathMode: !0 } },
  },
  fX = il("m")[0],
  hX = il("o")[0],
  iy = {},
  dX = (t, e) => {
    const { argument: r, nodesRemoved: n } = Pa(t, hX, e);
    let i = null,
      o = 0;
    const s = t[e];
    if (Ne.group(s)) {
      const a = Pa(t, fX, e);
      (i = a.argument), (o = a.nodesRemoved);
    } else if (Ne.string(s) && s.content.length === 1) {
      const a = s.content;
      iy[a] = iy[a] || il(`r${a}${a}`)[0];
      const l = Pa(t, iy[a], e);
      (i = l.argument), (o = l.nodesRemoved);
    }
    return { args: [r || Ei(null), i || Ei(null)], nodesRemoved: n + o };
  },
  pX = {
    lstset: { signature: "m" },
    lstinline: { argumentParser: dX },
    lstinputlisting: { signature: "o m" },
    lstdefinestyle: { signature: "m m" },
    lstnewenvironment: { signature: "m o o m m" },
    lstMakeShortInline: { signature: "o m" },
    lstDeleteShortInline: { signature: "m" },
    lstdefineformat: { signature: "m m" },
    lstdefinelanguage: { signature: "o m o m o" },
    lstalias: { signature: "o m o m" },
    lstloadlanguages: { signature: "m" },
  },
  mX = {},
  gX = {
    see: { signature: "m m" },
    seealso: { signature: "m m" },
    seename: { signature: "m" },
    alsoname: { signature: "m" },
    index: { signature: "m" },
  },
  vX = {},
  yX = {
    mathtoolsset: {
      signature: "m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    mathllap: { signature: "o m" },
    mathrlap: { signature: "o m" },
    mathclap: { signature: "o m" },
    clap: { signature: "m" },
    mathmbox: { signature: "m" },
    mathmakebox: { signature: "o o m" },
    cramped: { signature: "o m" },
    crampedllap: { signature: "o m" },
    crampedrlap: { signature: "o m" },
    crampedclap: { signature: "o m" },
    crampedsubstack: { signature: "o m" },
    smashoperator: { signature: "o m" },
    newtagform: { signature: "m o m m" },
    renewtagform: { signature: "m o m m" },
    usetagform: { signature: "m" },
    xleftrightarrow: { signature: "o m" },
    xLeftarrow: { signature: "o m" },
    xhookleftarrow: { signature: "o m" },
    xmapsto: { signature: "o m" },
    xRightarrow: { signature: "o m" },
    xLeftrightarrow: { signature: "o m" },
    xhookrightarrow: { signature: "o m" },
    underbracket: { signature: "o o m" },
    overbracket: { signature: "o o m" },
    underbrace: { signature: "m" },
    overbrace: { signature: "m" },
    shoveleft: { signature: "o m" },
    shoveright: { signature: "o m" },
    ArrowBetweenLines: { signature: "s o" },
    vdotswithin: { signature: "m" },
    shortdotswithin: { signature: "s m" },
    DeclarePairedDelimiter: {
      signature: "m m m",
      renderInfo: { breakAround: !0 },
    },
    DeclarePairedDelimiterX: {
      signature: "m o m m m",
      renderInfo: { breakAround: !0 },
    },
    DeclarePairedDelimiterXPP: {
      signature: "m o m m m m m",
      renderInfo: { breakAround: !0 },
    },
    prescript: { signature: "m m m" },
    DeclareMathSizes: { signature: "m m m m" },
    newgathered: { signature: "m m m m" },
    renewgathered: { signature: "m m m m" },
    splitfrac: { signature: "m m" },
    splitdfrac: { signature: "m m" },
    xmathstrut: { signature: "o m" },
    newtheorem: { signature: "s m o m o", renderInfo: { breakAround: !0 } },
    theoremstyle: { signature: "m", renderInfo: { breakAround: !0 } },
    newtheoremstyle: {
      signature: "m m m m m m m m m",
      renderInfo: { breakAround: !0 },
    },
    text: { signature: "m", renderInfo: { inMathMode: !1 } },
    mathbb: { signature: "m" },
    mathscr: { signature: "m" },
    mathfrak: { signature: "m" },
    frak: { signature: "m" },
    Bdd: { signature: "m" },
    bold: { signature: "m" },
    operatorname: { signature: "s m" },
    DeclareMathOperator: {
      signature: "s m m",
      renderInfo: { breakAround: !0 },
    },
  },
  bX = {
    crampedsubarray: {
      signature: "m",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    matrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    bmatrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    pmatrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    vmatrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    Bmatrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    Vmatrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    smallmatrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    psmallmatrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    vsmallmatrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    bsmallmatrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    Bsmallmatrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    Vsmallmatrix: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    "matrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    "bmatrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    "pmatrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    "vmatrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    "Bmatrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    "Vmatrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    "smallmatrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    "psmallmatrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    "bsmallmatrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    "vsmallmatrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    "Bsmallmatrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    "Vsmallmatrix*": {
      signature: "o",
      renderInfo: { alignContent: !0, inMathMode: !0 },
    },
    multilined: { signature: "o o", renderInfo: { inMathMode: !0 } },
    cases: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    "cases*": { renderInfo: { alignContent: !0, inMathMode: !0 } },
    dcases: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    "dcases*": { renderInfo: { alignContent: !0, inMathMode: !0 } },
    rcases: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    "rcases*": { renderInfo: { alignContent: !0, inMathMode: !0 } },
    drcases: { renderInfo: { alignContent: !0, inMathMode: !0 } },
    "drcases*": { renderInfo: { alignContent: !0, inMathMode: !0 } },
    spreadlines: { signature: "m", renderInfo: { inMathMode: !0 } },
    lgathered: { signature: "o", renderInfo: { inMathMode: !0 } },
    rgathered: { signature: "o", renderInfo: { inMathMode: !0 } },
    "align*": { renderInfo: { inMathMode: !0, alignContent: !0 } },
    align: { renderInfo: { inMathMode: !0, alignContent: !0 } },
    aligned: { renderInfo: { inMathMode: !0, alignContent: !0 } },
    "alignat*": { renderInfo: { inMathMode: !0, alignContent: !0 } },
    alignat: { renderInfo: { inMathMode: !0, alignContent: !0 } },
    "equation*": { renderInfo: { inMathMode: !0 } },
    equation: { renderInfo: { inMathMode: !0 } },
    "gather*": { renderInfo: { inMathMode: !0 } },
    gather: { renderInfo: { inMathMode: !0 } },
    "multline*": { renderInfo: { inMathMode: !0 } },
    multline: { renderInfo: { inMathMode: !0 } },
    "flalign*": { renderInfo: { inMathMode: !0, alignContent: !0 } },
    flalign: { renderInfo: { inMathMode: !0, alignContent: !0 } },
    split: { renderInfo: { inMathMode: !0 } },
    displaymath: { renderInfo: { inMathMode: !0 } },
    theorem: { signature: "o" },
    lemma: { signature: "o" },
    definition: { signature: "o" },
    proposition: { signature: "o" },
    corollary: { signature: "o" },
    remark: { signature: "!o" },
    example: { signature: "!o" },
    proof: { signature: "o" },
  },
  ek = il("m")[0],
  DX = il("o")[0],
  sy = {},
  oy = (t, e) => {
    const { argument: r, nodesRemoved: n } = Pa(t, DX, e),
      { argument: i, nodesRemoved: o } = Pa(t, ek, e);
    let s = null,
      a = 0;
    const l = t[e];
    if (Ne.group(l)) {
      const u = Pa(t, ek, e);
      (s = u.argument), (a = u.nodesRemoved);
    } else if (Ne.string(l) && l.content.length === 1) {
      const u = l.content;
      sy[u] = sy[u] || il(`r${u}${u}`)[0];
      const c = Pa(t, sy[u], e);
      (s = c.argument), (a = c.nodesRemoved);
    }
    return {
      args: [r || Ei(null), i || Ei(null), s || Ei(null)],
      nodesRemoved: n + o + a,
    };
  },
  wX = {
    mint: { argumentParser: oy },
    mintinline: { argumentParser: oy },
    inputminted: { argumentParser: oy },
    usemintedstyle: { signature: "m" },
    setminted: { signature: "o m" },
    setmintedinline: { signature: "o m" },
    newmint: { signature: "o m m" },
    newminted: { signature: "o m m" },
    newmintinline: { signature: "o m m" },
    newmintedfile: { signature: "o m m" },
  },
  xX = {},
  kX = {
    NiceMatrixOptions: {
      signature: "m",
      renderInfo: { pgfkeysArgs: !0, breakAround: !0 },
    },
  },
  SX = {
    NiceTabular: {
      signature: "o m !o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    NiceMatrixBlock: {
      signature: "!o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    NiceArrayWithDelims: {
      signature: "m m o m !o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    NiceArray: {
      signature: "o m !o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    pNiceArray: {
      signature: "o m !o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    bNiceArray: {
      signature: "o m !o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    BNiceArray: {
      signature: "o m !o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    vNiceArray: {
      signature: "o m !o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    VNiceArray: {
      signature: "o m !o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    NiceMatrix: {
      signature: "!o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    pNiceMatrix: {
      signature: "!o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    bNiceMatrix: {
      signature: "!o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    BNiceMatrix: {
      signature: "!o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    vNiceMatrix: {
      signature: "!o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
    VNiceMatrix: {
      signature: "!o",
      renderInfo: { pgfkeysArgs: !0, alignContent: !0 },
    },
  },
  CX = {
    systeme: { signature: "s o o m", renderInfo: { inMathMode: !0 } },
    sysdelim: { signature: "m m" },
    syseqsep: { signature: "m" },
    sysalign: { signature: "m" },
    syssignspace: { signature: "m" },
    syseqspace: { signature: "m" },
    syslineskipcoeff: { signature: "m" },
    syseqivsign: { signature: "m" },
    sysaddeqsign: { signature: "m" },
    sysremoveeqsign: { signature: "m" },
    sysextracolonsign: { signature: "m" },
    syscodeextracol: { signature: "m" },
    sysautonum: { signature: "m" },
    syssubstitute: { signature: "m" },
  },
  AX = {};
(function () {
  typeof globalThis != "object" &&
    (Object.defineProperty(Object.prototype, "__magic__", {
      get: function () {
        return this;
      },
      configurable: !0,
    }),
    (__magic__.globalThis = __magic__),
    delete Object.prototype.__magic__);
})();
var EX = il("o")[0];
function $m() {
  return Ei([], { openMark: "", closeMark: "" });
}
var CO = (t, e) => {
  const r = e;
  let n = e,
    i = 0;
  const o = FX(t, n);
  let s = $m();
  if (o !== n) {
    const h = t.splice(n, o - n);
    Bo(h), (s = Ei(h, { openMark: " ", closeMark: " " }));
  }
  i += o - n;
  const { argument: a, nodesRemoved: l } = Pa(t, EX, n);
  i += l;
  const u = a || $m();
  for (; Ne.whitespace(t[n]); ) n++;
  const c = t[n];
  if (!c) return { args: [s, u, $m()], nodesRemoved: 0 };
  if (Ne.group(c)) {
    const h = [s, u, Ei(c.content)];
    return t.splice(r, n - r + 1), { args: h, nodesRemoved: n - r + 1 + i };
  }
  const f = _1(t, ";", { startIndex: n });
  if (f != null) {
    const h = t.splice(r, f - r + 1);
    return Bo(h), { args: [s, u, Ei(h)], nodesRemoved: r - f + 1 + i };
  }
  return { args: [s, u, $m()], nodesRemoved: 0 };
};
function FX(t, e) {
  const r = _1(t, ":", {
    startIndex: e,
    allowSubstringMatches: !0,
    onlySkipWhitespaceAndComments: !0,
  });
  if (!r) return e;
  let n = e,
    i = r + 1;
  for (; i < t.length; i++) {
    const o = t[i];
    if (Ne.string(o, "[")) break;
    if (Ne.string(o, "=")) {
      for (i++; Ne.whitespace(t[i]) || Ne.comment(t[i]); ) i++;
      if (!Ne.group(t[i])) break;
      n = i + 1;
      const s = _1(t, ":", {
        startIndex: n,
        allowSubstringMatches: !0,
        onlySkipWhitespaceAndComments: !0,
      });
      if (s == null) break;
      i = s + 1;
    }
  }
  return n;
}
var MX = {
    pgfkeys: {
      signature: "m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    tikzoption: {
      signature: "m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    tikzstyle: {
      signature: "m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    usetikzlibrary: {
      signature: "m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    usepgfmodule: { signature: "m", renderInfo: { pgfkeysArgs: !0 } },
    usepgflibrary: { signature: "m", renderInfo: { pgfkeysArgs: !0 } },
    pgfplotsset: {
      signature: "m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    pgfplotstabletypeset: {
      signature: "o m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    tikz: {
      signature: "o o m",
      argumentParser: CO,
      renderInfo: { namedArguments: ["animation", "options", "command"] },
    },
  },
  _X = {
    tikzpicture: {
      signature: "o",
      renderInfo: { pgfkeysArgs: !0, tikzEnvironment: !0 },
      processContent: ka,
    },
    axis: {
      signature: "o",
      renderInfo: { pgfkeysArgs: !0, tikzEnvironment: !0 },
      processContent: ka,
    },
    scope: {
      signature: "o",
      renderInfo: { pgfkeysArgs: !0, tikzEnvironment: !0 },
      processContent: ka,
    },
    pgfonlayer: {
      signature: "m",
      renderInfo: { tikzEnvironment: !0 },
      processContent: ka,
    },
    pgflowlevelscope: {
      signature: "m",
      renderInfo: { tikzEnvironment: !0 },
      processContent: ka,
    },
    pgfviewboxscope: {
      signature: "m m m m m",
      renderInfo: { tikzEnvironment: !0 },
      processContent: ka,
    },
    pgftransparencygroup: {
      signature: "o",
      renderInfo: { pgfkeysArgs: !0, tikzEnvironment: !0 },
      processContent: ka,
    },
    behindforegroundpath: { signature: "m", processContent: ka },
    pgfmetadecoration: { signature: "m", processContent: ka },
    colormixin: { signature: "m", renderInfo: { pgfkeysArgs: !0 } },
  };
function ka(t) {
  return W5(t, $X), t;
}
var $X = {
    pgfextra: { signature: "m" },
    beginpgfgraphicnamed: { signature: "m" },
    pgfrealjobname: { signature: "m" },
    pgfplotstreampoint: { signature: "m" },
    pgfplotstreampointoutlier: { signature: "m" },
    pgfplotstreamspecial: { signature: "m" },
    pgfplotxyfile: { signature: "m" },
    pgfplotxyzfile: { signature: "m" },
    pgfplotfunction: { signature: "mmm" },
    pgfplotgnuplot: { signature: "o m" },
    pgfplothandlerrecord: { signature: "m" },
    pgfdeclareplothandler: { signature: "m m m" },
    pgfdeclarelayer: { signature: "m" },
    pgfsetlayers: { signature: "m", renderInfo: { pgfkeysArgs: !0 } },
    pgfonlayer: { signature: "m" },
    startpgfonlayer: { signature: "m" },
    pgfdeclarehorizontalshading: { signature: "o m m m " },
    pgfdeclareradialshading: { signature: "o m m m" },
    pgfdeclarefunctionalshading: { signature: "o m m m m m" },
    pgfshadecolortorgb: { signature: "m m" },
    pgfshadecolortocmyk: { signature: "m m" },
    pgfshadecolortogray: { signature: "m m" },
    pgfuseshading: { signature: "m" },
    pgfshadepath: { signature: "m m" },
    pgfsetadditionalshadetransform: { signature: "m" },
    pgfsetstrokeopacity: { signature: "m" },
    pgfsetfillopacity: { signature: "m" },
    pgfsetblendmode: { signature: "m" },
    pgfdeclarefading: { signature: "m m" },
    pgfsetfading: { signature: "m m" },
    pgfsetfadingforcurrentpath: { signature: "m m" },
    pgfsetfadingforcurrentpathstroked: { signature: "m m" },
    pgfanimateattribute: { signature: "m m" },
    pgfsnapshot: { signature: "m" },
    pgfqpoint: { signature: "m m" },
    pgfqpointxy: { signature: "m m" },
    pgfqpointxyz: { signature: "m m m" },
    pgfqpointscale: { signature: "m m" },
    pgfpathqmoveto: { signature: "m m" },
    pgfpathqlineto: { signature: "m m" },
    pgfpathqcurveto: { signature: "m m m m m m" },
    pgfpathqcircle: { signature: "m" },
    pgfqbox: { signature: "m" },
    pgfqboxsynced: { signature: "m" },
    pgfaliasimage: { signature: "m m" },
    pgfuseimage: { signature: "m" },
    pgfimage: { signature: "o m", renderInfo: { pgfkeysArgs: !0 } },
    pgfdeclaremask: { signature: "o m m", renderInfo: { pgfkeysArgs: !0 } },
    pgfdeclarepatternformonly: { signature: "o m m m m m" },
    pgfdeclarepatterninherentlycolored: { signature: "o m m m m m" },
    pgfsetfillpattern: { signature: "m m" },
    pgftransformshift: { signature: "m" },
    pgftransformxshift: { signature: "m" },
    pgftransformyshift: { signature: "m" },
    pgftransformscale: { signature: "m" },
    pgftransformxscale: { signature: "m" },
    pgftransformyscale: { signature: "m" },
    pgftransformxslant: { signature: "m" },
    pgftransformyslant: { signature: "m" },
    pgftransformrotate: { signature: "m" },
    pgftransformtriangle: { signature: "m m m" },
    pgftransformcm: { signature: "m m m m m" },
    pgftransformarrow: { signature: "m m" },
    pgftransformlineattime: { signature: "m m m" },
    pgftransformcurveattime: { signature: "m m m m m" },
    pgftransformarcaxesattime: { signature: "m m m m m m" },
    pgfgettransform: { signature: "m" },
    pgfsettransform: { signature: "m" },
    pgfgettransformentries: { signature: "m m m m m m" },
    pgfsettransformentries: { signature: "m m m m m m" },
    pgfpointtransformed: { signature: "m" },
    pgflowlevel: { signature: "m" },
    pgflowlevelobj: { signature: "m m" },
    pgflowlevelscope: { signature: "m" },
    startpgflowlevelscope: { signature: "m" },
    pgfviewboxscope: { signature: "m m m m m" },
    startpgfviewboxscope: { signature: "m m m m m" },
    pgftransformnonlinear: { signature: "m" },
    pgfpointtransformednonlinear: { signature: "m" },
    pgfsetcurvilinearbeziercurve: { signature: "m m m m" },
    pgfcurvilineardistancetotime: { signature: "m" },
    pgfpointcurvilinearbezierorthogonal: { signature: "m m" },
    pgfpointcurvilinearbezierpolar: { signature: "m m" },
    pgfmatrix: { signature: "m m m m m m m" },
    pgfsetmatrixcolumnsep: { signature: "m" },
    pgfmatrixnextcell: { signature: "o" },
    pgfsetmatrixrowsep: { signature: "m" },
    pgfmatrixendrow: { signature: "o" },
    pgfnode: { signature: "m m m m m" },
    pgfmultipartnode: { signature: "m m m m" },
    pgfcoordinate: { signature: "m m" },
    pgfnodealias: { signature: "m m" },
    pgfnoderename: { signature: "m m" },
    pgfpositionnodelater: { signature: "m" },
    pgfpositionnodenow: { signature: "m" },
    pgfnodepostsetupcode: { signature: "m m" },
    pgfpointanchor: { signature: "m m" },
    pgfpointshapeborder: { signature: "m m" },
    pgfdeclareshape: { signature: "m m" },
    saveddimen: { signature: "m m" },
    savedmacro: { signature: " m" },
    anchor: { signature: "m m" },
    deferredanchor: { signature: "m m" },
    anchorborder: { signature: "m" },
    backgroundpath: { signature: "m" },
    foregroundpath: { signature: "m" },
    behindbackgroundpath: { signature: "m" },
    beforebackgroundpath: { signature: "m" },
    beforeforegroundpath: { signature: "m" },
    behindforegroundpath: { signature: "m" },
    pgfdeclarearrow: { signature: "m" },
    pgfarrowssettipend: { signature: "m" },
    pgfarrowssetbackend: { signature: "m" },
    pgfarrowssetlineend: { signature: "m" },
    pgfarrowssetvisualbackend: { signature: "m" },
    pgfarrowssetvisualtipend: { signature: "m" },
    pgfarrowshullpoint: { signature: "m m" },
    pgfarrowsupperhullpoint: { signature: "m m" },
    pgfarrowssave: { signature: "m" },
    pgfarrowssavethe: { signature: "m" },
    pgfarrowsaddtooptions: { signature: "m" },
    pgfarrowsaddtolateoptions: { signature: "m" },
    pgfarrowsaddtolengthscalelist: { signature: "m" },
    pgfarrowsaddtowidthscalelist: { signature: "m" },
    pgfarrowsthreeparameters: { signature: "m" },
    pgfarrowslinewidthdependent: { signature: "m m m" },
    pgfarrowslengthdependent: { signature: "m" },
    pgfusepath: { signature: "m" },
    pgfsetlinewidth: { signature: "m" },
    pgfsetmiterlimit: { signature: "m" },
    pgfsetdash: { signature: "m m" },
    pgfsetstrokecolor: { signature: "m" },
    pgfsetcolor: { signature: "m" },
    pgfsetinnerlinewidth: { signature: "m" },
    pgfsetinnerstrokecolor: { signature: "m" },
    pgfsetarrowsstart: { signature: "m" },
    pgfsetarrowsend: { signature: "m" },
    pgfsetarrows: { signature: "m" },
    pgfsetshortenstart: { signature: "m" },
    pgfsetshortenend: { signature: "m" },
    pgfsetfillcolor: { signature: "m" },
    pgfdeclaredecoration: { signature: "m m m" },
    state: { signature: "m o m" },
    pgfdecoratepath: { signature: "m m" },
    startpgfdecoration: { signature: "m" },
    pgfdecoration: { signature: "m" },
    pgfdecoratecurrentpath: { signature: "m" },
    pgfsetdecorationsegmenttransformation: { signature: "m" },
    pgfdeclaremetadecorate: { signature: "m m m" },
    pgfmetadecoration: { signature: "m" },
    startpgfmetadecoration: { signature: "m" },
    pgfpathmoveto: { signature: "m" },
    pgfpathlineto: { signature: "m" },
    pgfpathcurveto: { signature: "m m m" },
    pgfpathquadraticcurveto: { signature: "m m" },
    pgfpathcurvebetweentime: { signature: "m m m m m m" },
    pgfpathcurvebetweentimecontinue: { signature: "m m m m m m" },
    pgfpatharc: { signature: "m m m" },
    pgfpatharcaxes: { signature: "m m m m" },
    pgfpatharcto: { signature: "m m m m m m" },
    pgfpatharctoprecomputed: { signature: "m m m m m m m m" },
    pgfpathellipse: { signature: "m m m" },
    pgfpathcircle: { signature: "m m" },
    pgfpathrectangle: { signature: "m m" },
    pgfpathrectanglecorners: { signature: "m m" },
    pgfpathgrid: { signature: " o m m" },
    pgfpathparabola: { signature: "m m" },
    pgfpathsine: { signature: "m" },
    pgfpathcosine: { signature: "m" },
    pgfsetcornersarced: { signature: "m" },
    "pgf@protocolsizes": { signature: "m m" },
    pgfpoint: { signature: "m m" },
    pgfpointpolar: { signature: "m m m" },
    pgfpointxy: { signature: "m m" },
    pgfsetxvec: { signature: "m" },
    pgfsetyvec: { signature: "m" },
    pgfpointpolarxy: { signature: "m m" },
    pgfpointxyz: { signature: "m m m" },
    pgfsetzvec: { signature: "m" },
    pgfpointcylindrical: { signature: "m m m" },
    pgfpointspherical: { signature: "m m m" },
    pgfpointadd: { signature: "m m" },
    pgfpointscale: { signature: "m m" },
    pgfpointdiff: { signature: "m m" },
    pgfpointnormalised: { signature: "m" },
    pgfpointlineattime: { signature: "m m m" },
    pgfpointlineatdistance: { signature: "m m m" },
    pgfpointarcaxesattime: { signature: "m m m m m m" },
    pgfpointcurveattime: { signature: "m m m m m" },
    pgfpointborderrectangle: { signature: "m m" },
    pgfpointborderellipse: { signature: "m m" },
    pgfpointintersectionoflines: { signature: "m m m m" },
    pgfpointintersectionofcircles: { signature: "m m m m m" },
    pgfintersectionofpaths: { signature: "m m" },
    pgfpointintersectionsolution: { signature: "m" },
    pgfextractx: { signature: "m m" },
    pgfextracty: { signature: "m m" },
    pgfgetlastxy: { signature: "m m" },
    "pgf@process": { signature: "m" },
    pgfsetbaseline: { signature: "m" },
    pgfsetbaselinepointnow: { signature: "m" },
    pgfsetbaselinepointlater: { signature: "m" },
    pgftext: { signature: "o m", renderInfo: { pgfkeysArgs: !0 } },
    pgfuseid: { signature: "m" },
    pgfusetype: { signature: "m" },
    pgfidrefnextuse: { signature: "m m" },
    pgfidrefprevuse: { signature: "m m" },
    pgfaliasid: { signature: "m m" },
    pgfgaliasid: { signature: "m m" },
    pgfifidreferenced: { signature: "m m m" },
    pgfrdfabout: { signature: "m" },
    pgfrdfcontent: { signature: "m" },
    pgfrdfdatatype: { signature: "m" },
    pgfrdfhref: { signature: "m" },
    pgfrdfprefix: { signature: "m" },
    pgfrdfproperty: { signature: "m" },
    pgfrdfrel: { signature: "m" },
    pgfrdfresource: { signature: "m" },
    pgfrdfrev: { signature: "m" },
    pgfrdfsrc: { signature: "m" },
    pgfrdftypeof: { signature: "m" },
    pgfrdfvocab: { signature: "m" },
    pgferror: { signature: "m" },
    pgfwarning: { signature: "m" },
    path: {
      signature: "u;",
      renderInfo: { breakAround: !0, tikzPathCommand: !0 },
    },
    draw: {
      signature: "u;",
      renderInfo: { breakAround: !0, tikzPathCommand: !0 },
    },
    fill: {
      signature: "u;",
      renderInfo: { breakAround: !0, tikzPathCommand: !0 },
    },
    filldraw: {
      signature: "u;",
      renderInfo: { breakAround: !0, tikzPathCommand: !0 },
    },
    pattern: {
      signature: "u;",
      renderInfo: { breakAround: !0, tikzPathCommand: !0 },
    },
    shade: {
      signature: "u;",
      renderInfo: { breakAround: !0, tikzPathCommand: !0 },
    },
    clip: {
      signature: "u;",
      renderInfo: { breakAround: !0, tikzPathCommand: !0 },
    },
    useasboundingbox: {
      signature: "u;",
      renderInfo: { breakAround: !0, tikzPathCommand: !0 },
    },
    node: {
      signature: "u;",
      renderInfo: { breakAround: !0, tikzPathCommand: !0 },
    },
    coordinate: {
      signature: "u;",
      renderInfo: { breakAround: !0, tikzPathCommand: !0 },
    },
    graph: {
      signature: "u;",
      renderInfo: { breakAround: !0, tikzPathCommand: !0 },
    },
    scoped: {
      signature: "o o m",
      argumentParser: CO,
      renderInfo: {
        namedArguments: ["animation", "options", "command"],
        breakAround: !0,
      },
    },
  },
  OX = {
    substitutecolormodel: { signature: "m m", renderInfo: { breakAround: !0 } },
    selectcolormodel: { signature: "m", renderInfo: { breakAround: !0 } },
    definecolor: { signature: "o m m m", renderInfo: { breakAround: !0 } },
    providecolor: { signature: "o m m m", renderInfo: { breakAround: !0 } },
    colorlet: { signature: "o m o m", renderInfo: { breakAround: !0 } },
    definecolorset: { signature: "o m m m", renderInfo: { breakAround: !0 } },
    providecolorset: {
      signature: "o m m m m",
      renderInfo: { breakAround: !0 },
    },
    preparecolor: { signature: "o m m m", renderInfo: { breakAround: !0 } },
    preparecolorset: {
      signature: "o m m m m",
      renderInfo: { breakAround: !0 },
    },
    DefineNamedColor: { signature: "m m m m", renderInfo: { breakAround: !0 } },
    definecolors: { signature: "m", renderInfo: { breakAround: !0 } },
    providecolors: { signature: "m", renderInfo: { breakAround: !0 } },
    color: { signature: "o m", renderInfo: { breakAround: !0 } },
    textcolor: { signature: "o m m", renderInfo: { inParMode: !0 } },
    pagecolor: { signature: "o m" },
    colorbox: { signature: "o m m" },
    fcolorbox: { signature: "o m o m m" },
    boxframe: { signature: "o m" },
    testcolor: { signature: "o m" },
    blendcolors: { signature: "s m" },
    maskcolors: { signature: "o m" },
    definecolorseries: {
      signature: "m m m o m o m",
      renderInfo: { breakAround: !0 },
    },
    resetcolorseries: { signature: "o m", renderInfo: { breakAround: !0 } },
    rowcolors: { signature: "s o m m m" },
    extractcolorspec: { signature: "m m" },
    extractcolorspecs: { signature: "m m m" },
    convertcolorspec: { signature: "m m m m" },
  },
  BX = { testcolors: { signature: "o", renderInfo: { pgfkeysArgs: !0 } } },
  A = ([t, e, r]) => st([t * 255, e * 255, r * 255], "rgb"),
  TX = {
    Apricot: st("#FBB982"),
    Aquamarine: st("#00B5BE"),
    Bittersweet: st("#C04F17"),
    Black: st("#221E1F"),
    Blue: st("#2D2F92"),
    BlueGreen: st("#00B3B8"),
    BlueViolet: st("#473992"),
    BrickRed: st("#B6321C"),
    Brown: st("#792500"),
    BurntOrange: st("#F7921D"),
    CadetBlue: st("#74729A"),
    CarnationPink: st("#F282B4"),
    Cerulean: st("#00A2E3"),
    CornflowerBlue: st("#41B0E4"),
    Cyan: st("#00AEEF"),
    Dandelion: st("#FDBC42"),
    DarkOrchid: st("#A4538A"),
    Emerald: st("#00A99D"),
    ForestGreen: st("#009B55"),
    Fuchsia: st("#8C368C"),
    Goldenrod: st("#FFDF42"),
    Gray: st("#949698"),
    Green: st("#00A64F"),
    GreenYellow: st("#DFE674"),
    JungleGreen: st("#00A99A"),
    Lavender: st("#F49EC4"),
    LimeGreen: st("#8DC73E"),
    Magenta: st("#EC008C"),
    Mahogany: st("#A9341F"),
    Maroon: st("#AF3235"),
    Melon: st("#F89E7B"),
    MidnightBlue: st("#006795"),
    Mulberry: st("#A93C93"),
    NavyBlue: st("#006EB8"),
    OliveGreen: st("#3C8031"),
    Orange: st("#F58137"),
    OrangeRed: st("#ED135A"),
    Orchid: st("#AF72B0"),
    Peach: st("#F7965A"),
    Periwinkle: st("#7977B8"),
    PineGreen: st("#008B72"),
    Plum: st("#92268F"),
    ProcessBlue: st("#00B0F0"),
    Purple: st("#99479B"),
    RawSienna: st("#974006"),
    Red: st("#ED1B23"),
    RedOrange: st("#F26035"),
    RedViolet: st("#A1246B"),
    Rhodamine: st("#EF559F"),
    RoyalBlue: st("#0071BC"),
    RoyalPurple: st("#613F99"),
    RubineRed: st("#ED017D"),
    Salmon: st("#F69289"),
    SeaGreen: st("#3FBC9D"),
    Sepia: st("#671800"),
    SkyBlue: st("#46C5DD"),
    SpringGreen: st("#C6DC67"),
    Tan: st("#DA9D76"),
    TealBlue: st("#00AEB3"),
    Thistle: st("#D883B7"),
    Turquoise: st("#00B4CE"),
    Violet: st("#58429B"),
    VioletRed: st("#EF58A0"),
    White: st("#FFFFFF"),
    WildStrawberry: st("#EE2967"),
    Yellow: st("#FFF200"),
    YellowGreen: st("#98CC70"),
    YellowOrange: st("#FAA21A"),
  },
  PX = {
    AliceBlue: A([0.94, 0.972, 1]),
    AntiqueWhite: A([0.98, 0.92, 0.844]),
    Aqua: A([0, 1, 1]),
    Aquamarine: A([0.498, 1, 0.83]),
    Azure: A([0.94, 1, 1]),
    Beige: A([0.96, 0.96, 0.864]),
    Bisque: A([1, 0.894, 0.77]),
    Black: A([0, 0, 0]),
    BlanchedAlmond: A([1, 0.92, 0.804]),
    Blue: A([0, 0, 1]),
    BlueViolet: A([0.54, 0.17, 0.888]),
    Brown: A([0.648, 0.165, 0.165]),
    BurlyWood: A([0.87, 0.72, 0.53]),
    CadetBlue: A([0.372, 0.62, 0.628]),
    Chartreuse: A([0.498, 1, 0]),
    Chocolate: A([0.824, 0.41, 0.116]),
    Coral: A([1, 0.498, 0.312]),
    CornflowerBlue: A([0.392, 0.585, 0.93]),
    Cornsilk: A([1, 0.972, 0.864]),
    Crimson: A([0.864, 0.08, 0.235]),
    Cyan: A([0, 1, 1]),
    DarkBlue: A([0, 0, 0.545]),
    DarkCyan: A([0, 0.545, 0.545]),
    DarkGoldenrod: A([0.72, 0.525, 0.044]),
    DarkGray: A([0.664, 0.664, 0.664]),
    DarkGreen: A([0, 0.392, 0]),
    DarkGrey: A([0.664, 0.664, 0.664]),
    DarkKhaki: A([0.74, 0.716, 0.42]),
    DarkMagenta: A([0.545, 0, 0.545]),
    DarkOliveGreen: A([0.332, 0.42, 0.185]),
    DarkOrange: A([1, 0.55, 0]),
    DarkOrchid: A([0.6, 0.196, 0.8]),
    DarkRed: A([0.545, 0, 0]),
    DarkSalmon: A([0.912, 0.59, 0.48]),
    DarkSeaGreen: A([0.56, 0.736, 0.56]),
    DarkSlateBlue: A([0.284, 0.24, 0.545]),
    DarkSlateGray: A([0.185, 0.31, 0.31]),
    DarkSlateGrey: A([0.185, 0.31, 0.31]),
    DarkTurquoise: A([0, 0.808, 0.82]),
    DarkViolet: A([0.58, 0, 0.828]),
    DeepPink: A([1, 0.08, 0.576]),
    DeepSkyBlue: A([0, 0.75, 1]),
    DimGray: A([0.41, 0.41, 0.41]),
    DimGrey: A([0.41, 0.41, 0.41]),
    DodgerBlue: A([0.116, 0.565, 1]),
    FireBrick: A([0.698, 0.132, 0.132]),
    FloralWhite: A([1, 0.98, 0.94]),
    ForestGreen: A([0.132, 0.545, 0.132]),
    Fuchsia: A([1, 0, 1]),
    Gainsboro: A([0.864, 0.864, 0.864]),
    GhostWhite: A([0.972, 0.972, 1]),
    Gold: A([1, 0.844, 0]),
    Goldenrod: A([0.855, 0.648, 0.125]),
    Gray: A([0.5, 0.5, 0.5]),
    Green: A([0, 0.5, 0]),
    GreenYellow: A([0.68, 1, 0.185]),
    Grey: A([0.5, 0.5, 0.5]),
    Honeydew: A([0.94, 1, 0.94]),
    HotPink: A([1, 0.41, 0.705]),
    IndianRed: A([0.804, 0.36, 0.36]),
    Indigo: A([0.294, 0, 0.51]),
    Ivory: A([1, 1, 0.94]),
    Khaki: A([0.94, 0.9, 0.55]),
    Lavender: A([0.9, 0.9, 0.98]),
    LavenderBlush: A([1, 0.94, 0.96]),
    LawnGreen: A([0.488, 0.99, 0]),
    LemonChiffon: A([1, 0.98, 0.804]),
    LightBlue: A([0.68, 0.848, 0.9]),
    LightCoral: A([0.94, 0.5, 0.5]),
    LightCyan: A([0.88, 1, 1]),
    LightGoldenrod: A([0.933, 0.867, 0.51]),
    LightGoldenrodYellow: A([0.98, 0.98, 0.824]),
    LightGray: A([0.828, 0.828, 0.828]),
    LightGreen: A([0.565, 0.932, 0.565]),
    LightGrey: A([0.828, 0.828, 0.828]),
    LightPink: A([1, 0.712, 0.756]),
    LightSalmon: A([1, 0.628, 0.48]),
    LightSeaGreen: A([0.125, 0.698, 0.668]),
    LightSkyBlue: A([0.53, 0.808, 0.98]),
    LightSlateBlue: A([0.518, 0.44, 1]),
    LightSlateGray: A([0.468, 0.532, 0.6]),
    LightSlateGrey: A([0.468, 0.532, 0.6]),
    LightSteelBlue: A([0.69, 0.77, 0.87]),
    LightYellow: A([1, 1, 0.88]),
    Lime: A([0, 1, 0]),
    LimeGreen: A([0.196, 0.804, 0.196]),
    Linen: A([0.98, 0.94, 0.9]),
    Magenta: A([1, 0, 1]),
    Maroon: A([0.5, 0, 0]),
    MediumAquamarine: A([0.4, 0.804, 0.668]),
    MediumBlue: A([0, 0, 0.804]),
    MediumOrchid: A([0.73, 0.332, 0.828]),
    MediumPurple: A([0.576, 0.44, 0.86]),
    MediumSeaGreen: A([0.235, 0.7, 0.444]),
    MediumSlateBlue: A([0.484, 0.408, 0.932]),
    MediumSpringGreen: A([0, 0.98, 0.604]),
    MediumTurquoise: A([0.284, 0.82, 0.8]),
    MediumVioletRed: A([0.78, 0.084, 0.52]),
    MidnightBlue: A([0.098, 0.098, 0.44]),
    MintCream: A([0.96, 1, 0.98]),
    MistyRose: A([1, 0.894, 0.884]),
    Moccasin: A([1, 0.894, 0.71]),
    NavajoWhite: A([1, 0.87, 0.68]),
    Navy: A([0, 0, 0.5]),
    NavyBlue: A([0, 0, 0.5]),
    OldLace: A([0.992, 0.96, 0.9]),
    Olive: A([0.5, 0.5, 0]),
    OliveDrab: A([0.42, 0.556, 0.136]),
    Orange: A([1, 0.648, 0]),
    OrangeRed: A([1, 0.27, 0]),
    Orchid: A([0.855, 0.44, 0.84]),
    PaleGoldenrod: A([0.932, 0.91, 0.668]),
    PaleGreen: A([0.596, 0.985, 0.596]),
    PaleTurquoise: A([0.688, 0.932, 0.932]),
    PaleVioletRed: A([0.86, 0.44, 0.576]),
    PapayaWhip: A([1, 0.936, 0.835]),
    PeachPuff: A([1, 0.855, 0.725]),
    Peru: A([0.804, 0.52, 0.248]),
    Pink: A([1, 0.752, 0.796]),
    Plum: A([0.868, 0.628, 0.868]),
    PowderBlue: A([0.69, 0.88, 0.9]),
    Purple: A([0.5, 0, 0.5]),
    Red: A([1, 0, 0]),
    RosyBrown: A([0.736, 0.56, 0.56]),
    RoyalBlue: A([0.255, 0.41, 0.884]),
    SaddleBrown: A([0.545, 0.27, 0.075]),
    Salmon: A([0.98, 0.5, 0.448]),
    SandyBrown: A([0.956, 0.644, 0.376]),
    SeaGreen: A([0.18, 0.545, 0.34]),
    Seashell: A([1, 0.96, 0.932]),
    Sienna: A([0.628, 0.32, 0.176]),
    Silver: A([0.752, 0.752, 0.752]),
    SkyBlue: A([0.53, 0.808, 0.92]),
    SlateBlue: A([0.415, 0.352, 0.804]),
    SlateGray: A([0.44, 0.5, 0.565]),
    SlateGrey: A([0.44, 0.5, 0.565]),
    Snow: A([1, 0.98, 0.98]),
    SpringGreen: A([0, 1, 0.498]),
    SteelBlue: A([0.275, 0.51, 0.705]),
    Tan: A([0.824, 0.705, 0.55]),
    Teal: A([0, 0.5, 0.5]),
    Thistle: A([0.848, 0.75, 0.848]),
    Tomato: A([1, 0.39, 0.28]),
    Turquoise: A([0.25, 0.88, 0.815]),
    Violet: A([0.932, 0.51, 0.932]),
    VioletRed: A([0.816, 0.125, 0.565]),
    Wheat: A([0.96, 0.87, 0.7]),
    White: A([1, 1, 1]),
    WhiteSmoke: A([0.96, 0.96, 0.96]),
    Yellow: A([1, 1, 0]),
    YellowGreen: A([0.604, 0.804, 0.196]),
  },
  RX = {
    AntiqueWhite1: A([1, 0.936, 0.86]),
    AntiqueWhite2: A([0.932, 0.875, 0.8]),
    AntiqueWhite3: A([0.804, 0.752, 0.69]),
    AntiqueWhite4: A([0.545, 0.512, 0.47]),
    Aquamarine1: A([0.498, 1, 0.83]),
    Aquamarine2: A([0.464, 0.932, 0.776]),
    Aquamarine3: A([0.4, 0.804, 0.668]),
    Aquamarine4: A([0.27, 0.545, 0.455]),
    Azure1: A([0.94, 1, 1]),
    Azure2: A([0.88, 0.932, 0.932]),
    Azure3: A([0.756, 0.804, 0.804]),
    Azure4: A([0.512, 0.545, 0.545]),
    Bisque1: A([1, 0.894, 0.77]),
    Bisque2: A([0.932, 0.835, 0.716]),
    Bisque3: A([0.804, 0.716, 0.62]),
    Bisque4: A([0.545, 0.49, 0.42]),
    Blue1: A([0, 0, 1]),
    Blue2: A([0, 0, 0.932]),
    Blue3: A([0, 0, 0.804]),
    Blue4: A([0, 0, 0.545]),
    Brown1: A([1, 0.25, 0.25]),
    Brown2: A([0.932, 0.23, 0.23]),
    Brown3: A([0.804, 0.2, 0.2]),
    Brown4: A([0.545, 0.136, 0.136]),
    Burlywood1: A([1, 0.828, 0.608]),
    Burlywood2: A([0.932, 0.772, 0.57]),
    Burlywood3: A([0.804, 0.668, 0.49]),
    Burlywood4: A([0.545, 0.45, 0.332]),
    CadetBlue1: A([0.596, 0.96, 1]),
    CadetBlue2: A([0.556, 0.898, 0.932]),
    CadetBlue3: A([0.48, 0.772, 0.804]),
    CadetBlue4: A([0.325, 0.525, 0.545]),
    Chartreuse1: A([0.498, 1, 0]),
    Chartreuse2: A([0.464, 0.932, 0]),
    Chartreuse3: A([0.4, 0.804, 0]),
    Chartreuse4: A([0.27, 0.545, 0]),
    Chocolate1: A([1, 0.498, 0.14]),
    Chocolate2: A([0.932, 0.464, 0.13]),
    Chocolate3: A([0.804, 0.4, 0.112]),
    Chocolate4: A([0.545, 0.27, 0.075]),
    Coral1: A([1, 0.448, 0.336]),
    Coral2: A([0.932, 0.415, 0.312]),
    Coral3: A([0.804, 0.356, 0.27]),
    Coral4: A([0.545, 0.244, 0.185]),
    Cornsilk1: A([1, 0.972, 0.864]),
    Cornsilk2: A([0.932, 0.91, 0.804]),
    Cornsilk3: A([0.804, 0.785, 0.694]),
    Cornsilk4: A([0.545, 0.532, 0.47]),
    Cyan1: A([0, 1, 1]),
    Cyan2: A([0, 0.932, 0.932]),
    Cyan3: A([0, 0.804, 0.804]),
    Cyan4: A([0, 0.545, 0.545]),
    DarkGoldenrod1: A([1, 0.725, 0.06]),
    DarkGoldenrod2: A([0.932, 0.68, 0.055]),
    DarkGoldenrod3: A([0.804, 0.585, 0.048]),
    DarkGoldenrod4: A([0.545, 0.396, 0.03]),
    DarkOliveGreen1: A([0.792, 1, 0.44]),
    DarkOliveGreen2: A([0.736, 0.932, 0.408]),
    DarkOliveGreen3: A([0.635, 0.804, 0.352]),
    DarkOliveGreen4: A([0.43, 0.545, 0.24]),
    DarkOrange1: A([1, 0.498, 0]),
    DarkOrange2: A([0.932, 0.464, 0]),
    DarkOrange3: A([0.804, 0.4, 0]),
    DarkOrange4: A([0.545, 0.27, 0]),
    DarkOrchid1: A([0.75, 0.244, 1]),
    DarkOrchid2: A([0.698, 0.228, 0.932]),
    DarkOrchid3: A([0.604, 0.196, 0.804]),
    DarkOrchid4: A([0.408, 0.132, 0.545]),
    DarkSeaGreen1: A([0.756, 1, 0.756]),
    DarkSeaGreen2: A([0.705, 0.932, 0.705]),
    DarkSeaGreen3: A([0.608, 0.804, 0.608]),
    DarkSeaGreen4: A([0.41, 0.545, 0.41]),
    DarkSlateGray1: A([0.592, 1, 1]),
    DarkSlateGray2: A([0.552, 0.932, 0.932]),
    DarkSlateGray3: A([0.475, 0.804, 0.804]),
    DarkSlateGray4: A([0.32, 0.545, 0.545]),
    DeepPink1: A([1, 0.08, 0.576]),
    DeepPink2: A([0.932, 0.07, 0.536]),
    DeepPink3: A([0.804, 0.064, 0.464]),
    DeepPink4: A([0.545, 0.04, 0.312]),
    DeepSkyBlue1: A([0, 0.75, 1]),
    DeepSkyBlue2: A([0, 0.698, 0.932]),
    DeepSkyBlue3: A([0, 0.604, 0.804]),
    DeepSkyBlue4: A([0, 0.408, 0.545]),
    DodgerBlue1: A([0.116, 0.565, 1]),
    DodgerBlue2: A([0.11, 0.525, 0.932]),
    DodgerBlue3: A([0.094, 0.455, 0.804]),
    DodgerBlue4: A([0.064, 0.305, 0.545]),
    Firebrick1: A([1, 0.19, 0.19]),
    Firebrick2: A([0.932, 0.172, 0.172]),
    Firebrick3: A([0.804, 0.15, 0.15]),
    Firebrick4: A([0.545, 0.1, 0.1]),
    Gold1: A([1, 0.844, 0]),
    Gold2: A([0.932, 0.79, 0]),
    Gold3: A([0.804, 0.68, 0]),
    Gold4: A([0.545, 0.46, 0]),
    Goldenrod1: A([1, 0.756, 0.145]),
    Goldenrod2: A([0.932, 0.705, 0.132]),
    Goldenrod3: A([0.804, 0.608, 0.112]),
    Goldenrod4: A([0.545, 0.41, 0.08]),
    Green1: A([0, 1, 0]),
    Green2: A([0, 0.932, 0]),
    Green3: A([0, 0.804, 0]),
    Green4: A([0, 0.545, 0]),
    Honeydew1: A([0.94, 1, 0.94]),
    Honeydew2: A([0.88, 0.932, 0.88]),
    Honeydew3: A([0.756, 0.804, 0.756]),
    Honeydew4: A([0.512, 0.545, 0.512]),
    HotPink1: A([1, 0.43, 0.705]),
    HotPink2: A([0.932, 0.415, 0.655]),
    HotPink3: A([0.804, 0.376, 0.565]),
    HotPink4: A([0.545, 0.228, 0.385]),
    IndianRed1: A([1, 0.415, 0.415]),
    IndianRed2: A([0.932, 0.39, 0.39]),
    IndianRed3: A([0.804, 0.332, 0.332]),
    IndianRed4: A([0.545, 0.228, 0.228]),
    Ivory1: A([1, 1, 0.94]),
    Ivory2: A([0.932, 0.932, 0.88]),
    Ivory3: A([0.804, 0.804, 0.756]),
    Ivory4: A([0.545, 0.545, 0.512]),
    Khaki1: A([1, 0.965, 0.56]),
    Khaki2: A([0.932, 0.9, 0.52]),
    Khaki3: A([0.804, 0.776, 0.45]),
    Khaki4: A([0.545, 0.525, 0.305]),
    LavenderBlush1: A([1, 0.94, 0.96]),
    LavenderBlush2: A([0.932, 0.88, 0.898]),
    LavenderBlush3: A([0.804, 0.756, 0.772]),
    LavenderBlush4: A([0.545, 0.512, 0.525]),
    LemonChiffon1: A([1, 0.98, 0.804]),
    LemonChiffon2: A([0.932, 0.912, 0.75]),
    LemonChiffon3: A([0.804, 0.79, 0.648]),
    LemonChiffon4: A([0.545, 0.536, 0.44]),
    LightBlue1: A([0.75, 0.936, 1]),
    LightBlue2: A([0.698, 0.875, 0.932]),
    LightBlue3: A([0.604, 0.752, 0.804]),
    LightBlue4: A([0.408, 0.512, 0.545]),
    LightCyan1: A([0.88, 1, 1]),
    LightCyan2: A([0.82, 0.932, 0.932]),
    LightCyan3: A([0.705, 0.804, 0.804]),
    LightCyan4: A([0.48, 0.545, 0.545]),
    LightGoldenrod1: A([1, 0.925, 0.545]),
    LightGoldenrod2: A([0.932, 0.864, 0.51]),
    LightGoldenrod3: A([0.804, 0.745, 0.44]),
    LightGoldenrod4: A([0.545, 0.505, 0.298]),
    LightPink1: A([1, 0.684, 0.725]),
    LightPink2: A([0.932, 0.635, 0.68]),
    LightPink3: A([0.804, 0.55, 0.585]),
    LightPink4: A([0.545, 0.372, 0.396]),
    LightSalmon1: A([1, 0.628, 0.48]),
    LightSalmon2: A([0.932, 0.585, 0.448]),
    LightSalmon3: A([0.804, 0.505, 0.385]),
    LightSalmon4: A([0.545, 0.34, 0.26]),
    LightSkyBlue1: A([0.69, 0.888, 1]),
    LightSkyBlue2: A([0.644, 0.828, 0.932]),
    LightSkyBlue3: A([0.552, 0.712, 0.804]),
    LightSkyBlue4: A([0.376, 0.484, 0.545]),
    LightSteelBlue1: A([0.792, 0.884, 1]),
    LightSteelBlue2: A([0.736, 0.824, 0.932]),
    LightSteelBlue3: A([0.635, 0.71, 0.804]),
    LightSteelBlue4: A([0.43, 0.484, 0.545]),
    LightYellow1: A([1, 1, 0.88]),
    LightYellow2: A([0.932, 0.932, 0.82]),
    LightYellow3: A([0.804, 0.804, 0.705]),
    LightYellow4: A([0.545, 0.545, 0.48]),
    Magenta1: A([1, 0, 1]),
    Magenta2: A([0.932, 0, 0.932]),
    Magenta3: A([0.804, 0, 0.804]),
    Magenta4: A([0.545, 0, 0.545]),
    Maroon1: A([1, 0.204, 0.7]),
    Maroon2: A([0.932, 0.19, 0.655]),
    Maroon3: A([0.804, 0.16, 0.565]),
    Maroon4: A([0.545, 0.11, 0.385]),
    MediumOrchid1: A([0.88, 0.4, 1]),
    MediumOrchid2: A([0.82, 0.372, 0.932]),
    MediumOrchid3: A([0.705, 0.32, 0.804]),
    MediumOrchid4: A([0.48, 0.215, 0.545]),
    MediumPurple1: A([0.67, 0.51, 1]),
    MediumPurple2: A([0.624, 0.475, 0.932]),
    MediumPurple3: A([0.536, 0.408, 0.804]),
    MediumPurple4: A([0.365, 0.28, 0.545]),
    MistyRose1: A([1, 0.894, 0.884]),
    MistyRose2: A([0.932, 0.835, 0.824]),
    MistyRose3: A([0.804, 0.716, 0.71]),
    MistyRose4: A([0.545, 0.49, 0.484]),
    NavajoWhite1: A([1, 0.87, 0.68]),
    NavajoWhite2: A([0.932, 0.81, 0.63]),
    NavajoWhite3: A([0.804, 0.7, 0.545]),
    NavajoWhite4: A([0.545, 0.475, 0.37]),
    OliveDrab1: A([0.752, 1, 0.244]),
    OliveDrab2: A([0.7, 0.932, 0.228]),
    OliveDrab3: A([0.604, 0.804, 0.196]),
    OliveDrab4: A([0.41, 0.545, 0.132]),
    Orange1: A([1, 0.648, 0]),
    Orange2: A([0.932, 0.604, 0]),
    Orange3: A([0.804, 0.52, 0]),
    Orange4: A([0.545, 0.352, 0]),
    OrangeRed1: A([1, 0.27, 0]),
    OrangeRed2: A([0.932, 0.25, 0]),
    OrangeRed3: A([0.804, 0.215, 0]),
    OrangeRed4: A([0.545, 0.145, 0]),
    Orchid1: A([1, 0.512, 0.98]),
    Orchid2: A([0.932, 0.48, 0.912]),
    Orchid3: A([0.804, 0.41, 0.79]),
    Orchid4: A([0.545, 0.28, 0.536]),
    PaleGreen1: A([0.604, 1, 0.604]),
    PaleGreen2: A([0.565, 0.932, 0.565]),
    PaleGreen3: A([0.488, 0.804, 0.488]),
    PaleGreen4: A([0.33, 0.545, 0.33]),
    PaleTurquoise1: A([0.732, 1, 1]),
    PaleTurquoise2: A([0.684, 0.932, 0.932]),
    PaleTurquoise3: A([0.59, 0.804, 0.804]),
    PaleTurquoise4: A([0.4, 0.545, 0.545]),
    PaleVioletRed1: A([1, 0.51, 0.67]),
    PaleVioletRed2: A([0.932, 0.475, 0.624]),
    PaleVioletRed3: A([0.804, 0.408, 0.536]),
    PaleVioletRed4: A([0.545, 0.28, 0.365]),
    PeachPuff1: A([1, 0.855, 0.725]),
    PeachPuff2: A([0.932, 0.796, 0.68]),
    PeachPuff3: A([0.804, 0.688, 0.585]),
    PeachPuff4: A([0.545, 0.468, 0.396]),
    Pink1: A([1, 0.71, 0.772]),
    Pink2: A([0.932, 0.664, 0.72]),
    Pink3: A([0.804, 0.57, 0.62]),
    Pink4: A([0.545, 0.39, 0.424]),
    Plum1: A([1, 0.732, 1]),
    Plum2: A([0.932, 0.684, 0.932]),
    Plum3: A([0.804, 0.59, 0.804]),
    Plum4: A([0.545, 0.4, 0.545]),
    Purple1: A([0.608, 0.19, 1]),
    Purple2: A([0.57, 0.172, 0.932]),
    Purple3: A([0.49, 0.15, 0.804]),
    Purple4: A([0.332, 0.1, 0.545]),
    Red1: A([1, 0, 0]),
    Red2: A([0.932, 0, 0]),
    Red3: A([0.804, 0, 0]),
    Red4: A([0.545, 0, 0]),
    RosyBrown1: A([1, 0.756, 0.756]),
    RosyBrown2: A([0.932, 0.705, 0.705]),
    RosyBrown3: A([0.804, 0.608, 0.608]),
    RosyBrown4: A([0.545, 0.41, 0.41]),
    RoyalBlue1: A([0.284, 0.464, 1]),
    RoyalBlue2: A([0.264, 0.43, 0.932]),
    RoyalBlue3: A([0.228, 0.372, 0.804]),
    RoyalBlue4: A([0.152, 0.25, 0.545]),
    Salmon1: A([1, 0.55, 0.41]),
    Salmon2: A([0.932, 0.51, 0.385]),
    Salmon3: A([0.804, 0.44, 0.33]),
    Salmon4: A([0.545, 0.298, 0.224]),
    SeaGreen1: A([0.33, 1, 0.624]),
    SeaGreen2: A([0.305, 0.932, 0.58]),
    SeaGreen3: A([0.264, 0.804, 0.5]),
    SeaGreen4: A([0.18, 0.545, 0.34]),
    Seashell1: A([1, 0.96, 0.932]),
    Seashell2: A([0.932, 0.898, 0.87]),
    Seashell3: A([0.804, 0.772, 0.75]),
    Seashell4: A([0.545, 0.525, 0.51]),
    Sienna1: A([1, 0.51, 0.28]),
    Sienna2: A([0.932, 0.475, 0.26]),
    Sienna3: A([0.804, 0.408, 0.224]),
    Sienna4: A([0.545, 0.28, 0.15]),
    SkyBlue1: A([0.53, 0.808, 1]),
    SkyBlue2: A([0.494, 0.752, 0.932]),
    SkyBlue3: A([0.424, 0.65, 0.804]),
    SkyBlue4: A([0.29, 0.44, 0.545]),
    SlateBlue1: A([0.512, 0.435, 1]),
    SlateBlue2: A([0.48, 0.404, 0.932]),
    SlateBlue3: A([0.41, 0.35, 0.804]),
    SlateBlue4: A([0.28, 0.235, 0.545]),
    SlateGray1: A([0.776, 0.888, 1]),
    SlateGray2: A([0.725, 0.828, 0.932]),
    SlateGray3: A([0.624, 0.712, 0.804]),
    SlateGray4: A([0.424, 0.484, 0.545]),
    Snow1: A([1, 0.98, 0.98]),
    Snow2: A([0.932, 0.912, 0.912]),
    Snow3: A([0.804, 0.79, 0.79]),
    Snow4: A([0.545, 0.536, 0.536]),
    SpringGreen1: A([0, 1, 0.498]),
    SpringGreen2: A([0, 0.932, 0.464]),
    SpringGreen3: A([0, 0.804, 0.4]),
    SpringGreen4: A([0, 0.545, 0.27]),
    SteelBlue1: A([0.39, 0.72, 1]),
    SteelBlue2: A([0.36, 0.675, 0.932]),
    SteelBlue3: A([0.31, 0.58, 0.804]),
    SteelBlue4: A([0.21, 0.392, 0.545]),
    Tan1: A([1, 0.648, 0.31]),
    Tan2: A([0.932, 0.604, 0.288]),
    Tan3: A([0.804, 0.52, 0.248]),
    Tan4: A([0.545, 0.352, 0.17]),
    Thistle1: A([1, 0.884, 1]),
    Thistle2: A([0.932, 0.824, 0.932]),
    Thistle3: A([0.804, 0.71, 0.804]),
    Thistle4: A([0.545, 0.484, 0.545]),
    Tomato1: A([1, 0.39, 0.28]),
    Tomato2: A([0.932, 0.36, 0.26]),
    Tomato3: A([0.804, 0.31, 0.224]),
    Tomato4: A([0.545, 0.21, 0.15]),
    Turquoise1: A([0, 0.96, 1]),
    Turquoise2: A([0, 0.898, 0.932]),
    Turquoise3: A([0, 0.772, 0.804]),
    Turquoise4: A([0, 0.525, 0.545]),
    VioletRed1: A([1, 0.244, 0.59]),
    VioletRed2: A([0.932, 0.228, 0.55]),
    VioletRed3: A([0.804, 0.196, 0.47]),
    VioletRed4: A([0.545, 0.132, 0.32]),
    Wheat1: A([1, 0.905, 0.73]),
    Wheat2: A([0.932, 0.848, 0.684]),
    Wheat3: A([0.804, 0.73, 0.59]),
    Wheat4: A([0.545, 0.494, 0.4]),
    Yellow1: A([1, 1, 0]),
    Yellow2: A([0.932, 0.932, 0]),
    Yellow3: A([0.804, 0.804, 0]),
    Yellow4: A([0.545, 0.545, 0]),
    Gray0: A([0.745, 0.745, 0.745]),
    Green0: A([0, 1, 0]),
    Grey0: A([0.745, 0.745, 0.745]),
    Maroon0: A([0.69, 0.19, 0.376]),
    Purple0: A([0.628, 0.125, 0.94]),
  },
  $n = {
    rgb: ([t, e, r]) => st([t * 255, e * 255, r * 255], "rgb"),
    cmy: ([t, e, r]) => $n.rgb([1 - t, 1 - e, 1 - r]),
    cmyk: ([t, e, r, n]) => st([t * 255, e * 255, r * 255, n * 100], "cmyk"),
    hsb: ([t, e, r]) => st([t * 360, e * 100, r * 100], "hsv"),
    gray: ([t]) => st([t * 255, t * 255, t * 255], "rgb"),
  };
({
  red: $n.rgb([1, 0, 0]),
  green: $n.rgb([0, 1, 0]),
  blue: $n.rgb([0, 0, 1]),
  brown: $n.rgb([0.75, 0.5, 0.25]),
  lime: $n.rgb([0.75, 1, 0]),
  orange: $n.rgb([1, 0.5, 0]),
  pink: $n.rgb([1, 0.75, 0.75]),
  purple: $n.rgb([0.75, 0, 0.25]),
  teal: $n.rgb([0, 0.5, 0.5]),
  violet: $n.rgb([0.5, 0, 0.5]),
  cyan: $n.rgb([0, 1, 1]),
  magenta: $n.rgb([1, 0, 1]),
  yellow: $n.rgb([1, 1, 0]),
  olive: $n.rgb([0.5, 0.5, 0]),
  black: $n.rgb([0, 0, 0]),
  darkgray: $n.rgb([0.25, 0.25, 0.25]),
  gray: $n.rgb([0.5, 0.5, 0.5]),
  lightgray: $n.rgb([0.75, 0.75, 0.75]),
  white: $n.rgb([1, 1, 1]),
  ...TX,
  ...PX,
  ...RX,
});
var IX = {
    NewDocumentCommand: { signature: "m m m", renderInfo: { breakAround: !0 } },
    RenewDocumentCommand: {
      signature: "m m m",
      renderInfo: { breakAround: !0 },
    },
    ProvideDocumentCommand: {
      signature: "m m m",
      renderInfo: { breakAround: !0 },
    },
    DeclareDocumentCommand: {
      signature: "m m m",
      renderInfo: { breakAround: !0 },
    },
    NewDocumentEnvironment: {
      signature: "m m m m",
      renderInfo: { breakAround: !0 },
    },
    RenewDocumentEnvironment: {
      signature: "m m m m",
      renderInfo: { breakAround: !0 },
    },
    ProvideDocumentEnvironment: {
      signature: "m m m m",
      renderInfo: { breakAround: !0 },
    },
    DeclareDocumentEnvironment: {
      signature: "m m m m",
      renderInfo: { breakAround: !0 },
    },
    NewExpandableDocumentCommand: {
      signature: "m m m",
      renderInfo: { breakAround: !0 },
    },
    RenewExpandableDocumentCommand: {
      signature: "m m m",
      renderInfo: { breakAround: !0 },
    },
    ProvideExpandableDocumentCommand: {
      signature: "m m m",
      renderInfo: { breakAround: !0 },
    },
    DeclareExpandableDocumentCommand: {
      signature: "m m m",
      renderInfo: { breakAround: !0 },
    },
    RequirePackage: {
      signature: "o m",
      renderInfo: { pgfkeysArgs: !0, breakAround: !0 },
    },
    DeclareOption: { signature: "m m", renderInfo: { breakAround: !0 } },
  },
  NX = {},
  LX = {
    mode: { signature: "s d<> d{}", renderInfo: { breakAround: !0 } },
    insertnavigation: { signature: "m", renderInfo: { breakAround: !0 } },
    insertsectionnavigation: {
      signature: "m",
      renderInfo: { breakAround: !0 },
    },
    insertsectionnavigationhorizontal: {
      signature: "m m m",
      renderInfo: { breakAround: !0 },
    },
    insertauthor: { signature: "o", renderInfo: { breakAround: !0 } },
    insertshortauthor: { signature: "o", renderInfo: { breakAround: !0 } },
    insertshortdate: { signature: "o", renderInfo: { breakAround: !0 } },
    insertshortinstitute: { signature: "o", renderInfo: { breakAround: !0 } },
    insertshortpart: { signature: "o", renderInfo: { breakAround: !0 } },
    insertshorttitle: { signature: "o", renderInfo: { breakAround: !0 } },
    insertsubsectionnavigation: {
      signature: "m",
      renderInfo: { breakAround: !0 },
    },
    insertsubsectionnavigationhorizontal: {
      signature: "m m m",
      renderInfo: { breakAround: !0 },
    },
    insertverticalnavigation: {
      signature: "m",
      renderInfo: { breakAround: !0 },
    },
    usebeamercolor: { signature: "s m", renderInfo: { breakAround: !0 } },
    usebeamertemplate: { signature: "s m", renderInfo: { breakAround: !0 } },
    setbeamercolor: {
      signature: "m m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    setbeamersize: {
      signature: "m o o",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    setbeamertemplate: {
      signature: "m o o d{}",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    newcommand: {
      signature: "s d<> +m o +o +m",
      renderInfo: {
        breakAround: !0,
        namedArguments: ["starred", null, "name", "numArgs", "default", "body"],
      },
    },
    renewcommand: {
      signature: "s d<> +m o +o +m",
      renderInfo: {
        breakAround: !0,
        namedArguments: ["starred", null, "name", "numArgs", "default", "body"],
      },
    },
    newenvironment: {
      signature: "s d<> m o o m m",
      renderInfo: { breakAround: !0 },
    },
    renewenvironment: {
      signature: "s d<> m o o m m",
      renderInfo: { breakAround: !0 },
    },
    resetcounteronoverlays: { signature: "m", renderInfo: { breakAround: !0 } },
    resetcountonoverlays: { signature: "m", renderInfo: { breakAround: !0 } },
    logo: { signature: "m", renderInfo: { breakAround: !0 } },
    frametitle: { signature: "d<> o m", renderInfo: { breakAround: !0 } },
    framesubtitle: { signature: "d<> m", renderInfo: { breakAround: !0 } },
    pause: { signature: "o" },
    onslide: { signature: "t+ t* d<> d{}" },
    only: { signature: "d<> m d<>" },
    uncover: { signature: "d<> m" },
    visible: { signature: "d<> m" },
    invisible: { signature: "d<> m" },
    alt: { signature: "d<> m m d<>" },
    temporal: { signature: "r<> m m m" },
    item: {
      signature: "d<> o d<>",
      renderInfo: { hangingIndent: !0, namedArguments: [null, "label", null] },
    },
    label: { signature: "d<> o m" },
    action: { signature: "d<> m" },
    beamerdefaultoverlayspecification: { signature: "m" },
    titlegraphic: { signature: "m", renderInfo: { breakAround: !0 } },
    subject: { signature: "m", renderInfo: { breakAround: !0 } },
    keywords: { signature: "m", renderInfo: { breakAround: !0 } },
    lecture: { signature: "o m m", renderInfo: { breakAround: !0 } },
    partpage: { renderInfo: { breakAround: !0 } },
    sectionpage: { renderInfo: { breakAround: !0 } },
    subsectionpage: { renderInfo: { breakAround: !0 } },
    AtBeginLecture: { signature: "m", renderInfo: { breakAround: !0 } },
    AtBeginPart: { signature: "m", renderInfo: { breakAround: !0 } },
    tableofcontents: {
      signature: "o",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    againframe: { signature: "d<> o o m", renderInfo: { breakAround: !0 } },
    framezoom: {
      signature: "r<> r<> o r() r()",
      renderInfo: { breakAround: !0 },
    },
    column: { signature: "d<> o m", renderInfo: { breakAround: !0 } },
    animate: { signature: "r<>", renderInfo: { breakAround: !0 } },
    animatevalue: { signature: "r<> m m m", renderInfo: { breakAround: !0 } },
    sound: {
      signature: "o m m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    hyperlinksound: {
      signature: "o m m",
      renderInfo: { breakAround: !0, pgfkeysArgs: !0 },
    },
    hyperlinkmute: { signature: "m", renderInfo: { breakAround: !0 } },
    section: {
      signature: "s d<> o m",
      renderInfo: {
        breakAround: !0,
        namedArguments: ["starred", null, "tocTitle", "title"],
      },
    },
    subsection: {
      signature: "s d<> o m",
      renderInfo: {
        breakAround: !0,
        namedArguments: ["starred", null, "tocTitle", "title"],
      },
    },
    subsubsection: {
      signature: "s d<> o m",
      renderInfo: {
        breakAround: !0,
        namedArguments: ["starred", null, "tocTitle", "title"],
      },
    },
    part: {
      signature: "s d<> o m",
      renderInfo: {
        breakAround: !0,
        namedArguments: ["starred", null, "tocTitle", "title"],
      },
    },
    bibitem: {
      signature: "s d<> o m",
      renderInfo: {
        hangingIndent: !0,
        namedArguments: ["starred", null, "tocTitle", "title"],
      },
    },
  },
  zX = {
    frame: { signature: "!d<> !o !o !d{} !d{}" },
    block: { signature: "!d<> !d{} !d<>" },
    alertblock: { signature: "!d<> !d{} !d<>" },
    exampleblock: { signature: "!d<> !d{} !d<>" },
    onlyenv: { signature: "!d<>" },
    altenv: { signature: "!d<> m m m m !d<>" },
    overlayarea: { signature: "m m" },
    overprint: { signature: "o" },
    actionenv: { signature: "!d<>" },
    columns: { signature: "d<> o" },
    column: { signature: "d<> o m" },
  },
  jX = { columnbreak: { renderInfo: { breakAround: !0 } } },
  HX = {
    multicols: { signature: "m o o" },
    "multicols*": { signature: "m o o" },
  },
  VX = {
    cleveref: eX,
    exam: nX,
    geometry: sX,
    hyperref: aX,
    latex2e: uX,
    listings: pX,
    makeidx: gX,
    mathtools: yX,
    minted: wX,
    nicematrix: kX,
    systeme: CX,
    tikz: MX,
    xcolor: OX,
    xparse: IX,
    beamer: LX,
    multicol: jX,
  },
  WX = {
    cleveref: tX,
    exam: iX,
    geometry: oX,
    hyperref: lX,
    latex2e: cX,
    listings: mX,
    makeidx: vX,
    mathtools: bX,
    minted: xX,
    nicematrix: SX,
    systeme: AX,
    tikz: _X,
    xcolor: BX,
    xparse: NX,
    beamer: zX,
    multicol: HX,
  };
function tk(t, e) {
  if (e.signature && t.args == null) {
    const { args: r } = fO(t.content, e.signature);
    t.args = r;
  }
  A7(t, e.renderInfo),
    typeof e.processContent == "function" &&
      (t.content = e.processContent(t.content));
}
function rk(t, e, r) {
  const n = [];
  let i = { start: void 0, end: t.length };
  for (let o = 0; o < t.length; o++) {
    const s = t[o];
    e(s) && (i.start = o),
      r(s) &&
        ((i.end = o + 1), n.push(i), (i = { start: void 0, end: t.length }));
  }
  return i.start != null && n.push(i), n;
}
function qX(t) {
  const e = [...t];
  e.sort((a, l) => a.start - l.start);
  const r = new Set(e.flatMap((a) => [a.start, a.end])),
    n = Array.from(r);
  n.sort((a, l) => a - l);
  const i = [],
    o = [];
  let s = 0;
  for (let a = 0; a < n.length - 1; a++) {
    const l = n[a],
      u = n[a + 1],
      c = { start: l, end: u },
      f = new Set();
    let h = !1;
    for (let d = s; d < e.length; d++) {
      const p = e[d];
      if ((p.end >= c.start && (h = !0), !h && p.end < c.start)) {
        s = d + 1;
        continue;
      }
      if (p.start > u) break;
      p.start <= c.start && p.end >= c.end && ((h = !0), f.add(p));
    }
    f.size > 0 && (i.push(c), o.push(f));
  }
  return { regions: i, regionsContainedIn: o };
}
function UX(t, e) {
  const r = [],
    n = [0, t.length],
    i = {};
  for (const [o, s] of Object.entries(e))
    n.push(
      ...s.flatMap((a) => ((i["" + [a.start, a.end]] = o), [a.start, a.end]))
    );
  n.sort((o, s) => o - s);
  for (let o = 0; o < n.length - 1; o++) {
    const s = n[o],
      a = n[o + 1];
    if (s === a) continue;
    const l = i["" + [s, a]];
    r.push([l || null, t.slice(s, a)]);
  }
  return r;
}
function GX(t) {
  return t.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function KX(t) {
  const e = `^(${["\\p{L}"].concat(Array.from(t).map(GX)).join("|")})*`;
  return new RegExp(e, "u");
}
function YX(t, e) {
  for (let r = 0; r < t.length; r++) {
    const n = t[r],
      i = t[r + 1];
    if (
      Ne.anyMacro(n) &&
      Ne.anyString(i) &&
      (e.has(n.content.charAt(n.content.length - 1)) ||
        e.has(i.content.charAt(0)))
    )
      return !0;
  }
  return !1;
}
function nk(t, e) {
  typeof e == "string" && (e = new Set(e.split("")));
  const r = e;
  for (const i of r)
    if (i.length > 1)
      throw new Error(
        `Only single characters are allowed as \`allowedTokens\` when reparsing macro names, not \`${i}\`.`
      );
  let n = !1;
  return (
    fu(
      t,
      (i) => {
        if (YX(i, r)) return (n = !0), bg;
      },
      { includeArrays: !0, test: Array.isArray }
    ),
    n
  );
}
function XX(t, e) {
  var r, n, i;
  const o = KX(e);
  let s = 0;
  for (; s < t.length; ) {
    const a = t[s],
      l = t[s + 1];
    if (
      Ne.anyMacro(a) &&
      (a.escapeToken == null || a.escapeToken === "\\") &&
      Ne.anyString(l) &&
      (e.has(a.content.charAt(a.content.length - 1)) ||
        e.has(l.content.charAt(0)))
    ) {
      const u = l.content.match(o),
        c = u ? u[0] : "";
      c.length > 0
        ? c.length === l.content.length
          ? ((a.content += l.content),
            t.splice(s + 1, 1),
            a.position &&
              (r = l.position) != null &&
              r.end &&
              (a.position.end = l.position.end))
          : ((a.content += c),
            (l.content = l.content.slice(c.length)),
            (n = a.position) != null &&
              n.end &&
              ((a.position.end.offset += c.length),
              (a.position.end.column += c.length)),
            (i = l.position) != null &&
              i.start &&
              ((l.position.start.offset += c.length),
              (l.position.start.column += c.length)))
        : s++;
    } else ++s;
  }
}
function wg(t, e) {
  typeof e == "string" && (e = new Set(e.split("")));
  const r = e;
  for (const n of r)
    if (n.length > 1)
      throw new Error(
        `Only single characters are allowed as \`allowedTokens\` when reparsing macro names, not \`${n}\`.`
      );
  fu(
    t,
    (n) => {
      XX(n, r);
    },
    { includeArrays: !0, test: Array.isArray }
  );
}
var ik = {
    start: Ne.createMacroMatcher(["ExplSyntaxOn"]),
    end: Ne.createMacroMatcher(["ExplSyntaxOff"]),
  },
  sk = {
    start: Ne.createMacroMatcher(["makeatletter"]),
    end: Ne.createMacroMatcher(["makeatother"]),
  };
function JX(t) {
  const e = rk(t, ik.start, ik.end),
    r = rk(t, sk.start, sk.end),
    n = new Map([
      ...e.map((s) => [s, "expl"]),
      ...r.map((s) => [s, "atLetter"]),
    ]),
    i = qX([...e, ...r]),
    o = { explOnly: [], atLetterOnly: [], both: [] };
  for (let s = 0; s < i.regions.length; s++) {
    const a = i.regions[s],
      l = i.regionsContainedIn[s];
    if (l.size === 2) {
      o.both.push(a);
      continue;
    }
    for (const u of l.values())
      n.get(u) === "expl" && o.explOnly.push(a),
        n.get(u) === "atLetter" && o.atLetterOnly.push(a);
  }
  return (
    (o.explOnly = o.explOnly.filter((s) => s.end - s.start > 1)),
    (o.atLetterOnly = o.atLetterOnly.filter((s) => s.end - s.start > 1)),
    (o.both = o.both.filter((s) => s.end - s.start > 1)),
    o
  );
}
var QX = new Set(["@"]),
  ZX = new Set(["_", ":"]),
  eJ = new Set(["_", ":", "@"]);
function tJ(t) {
  fu(
    t,
    {
      leave: (e) => {
        const r = JX(e);
        if (r.both.length + r.atLetterOnly.length + r.explOnly.length === 0)
          return;
        const i = UX(e, r),
          o = [];
        for (const [s, a] of i)
          switch (s) {
            case null:
              o.push(...a);
              continue;
            case "atLetterOnly":
              wg(a, QX), o.push(...a);
              continue;
            case "explOnly":
              wg(a, ZX), o.push(...a);
              continue;
            case "both":
              wg(a, eJ), o.push(...a);
              continue;
            default:
              throw new Error(`Unexpected case when splitting ${s}`);
          }
        return (e.length = 0), e.push(...o), iO;
      },
    },
    { includeArrays: !0, test: Array.isArray }
  );
}
var rJ = function () {
  Object.assign(this, { Compiler: (e) => e });
};
function nJ(t) {
  return aO.parse(t);
}
function J5(t) {
  return aO.parse(t, { startRule: "math" });
}
var iJ = function (e) {
  Object.assign(this, {
    Parser: (n) =>
      (e == null ? void 0 : e.mode) === "math"
        ? { type: "root", content: J5(n), _renderInfo: { inMathMode: !0 } }
        : nJ(n),
  });
};
function sJ({ mathEnvs: t, mathMacros: e }) {
  const r = Ne.createEnvironmentMatcher(t),
    n = Ne.createMacroMatcher(e);
  return (i) => {
    fu(
      i,
      (o) => {
        if (Ne.anyMacro(o))
          for (const s of o.args || [])
            s.content.length > 0 &&
              !ok(s.content) &&
              (s.content = J5(Vr(s.content)));
        Ne.anyEnvironment(o) &&
          (ok(o.content) || (o.content = J5(Vr(o.content))));
      },
      { test: (o) => r(o) || n(o) }
    );
  };
}
function ok(t) {
  return !t.some(
    (e) =>
      (Ne.anyString(e) && e.content.length > 1) ||
      Ne.string(e, "^") ||
      Ne.string(e, "_")
  );
}
var oJ = function (e) {
    const { environments: r = {}, macros: n = {} } = e || {},
      i = Object.fromEntries(
        Object.entries(n).filter(([u, c]) => {
          var f;
          return ((f = c.renderInfo) == null ? void 0 : f.inMathMode) === !0;
        })
      ),
      o = Object.fromEntries(
        Object.entries(r).filter(([u, c]) => {
          var f;
          return ((f = c.renderInfo) == null ? void 0 : f.inMathMode) === !0;
        })
      ),
      s = sJ({ mathEnvs: Object.keys(o), mathMacros: Object.keys(i) }),
      a = Ne.createEnvironmentMatcher(r),
      l = Ne.createEnvironmentMatcher(o);
    return (u) => {
      fu(
        u,
        {
          enter: (c) => {
            Array.isArray(c) && W5(c, i);
          },
          leave: (c) => {
            if (!l(c)) return;
            const f = Vr(c.env),
              h = r[f];
            if (!h)
              throw new Error(
                `Could not find environment info for environment "${f}"`
              );
            tk(c, h);
          },
        },
        { includeArrays: !0 }
      ),
        s(u),
        fu(
          u,
          {
            enter: (c) => {
              Array.isArray(c) && W5(c, n);
            },
            leave: (c) => {
              if (!a(c)) return;
              const f = Vr(c.env),
                h = r[f];
              if (!h)
                throw new Error(
                  `Could not find environment info for environment "${f}"`
                );
              tk(c, h);
            },
          },
          { includeArrays: !0 }
        );
    };
  },
  aJ = function (e) {
    let {
      atLetter: r = !1,
      expl3: n = !1,
      autodetectExpl3AndAtLetter: i = !1,
    } = e || {};
    return (o) => {
      tJ(o), (r || n) && (i = !1), i && ((r = nk(o, "@")), (n = nk(o, "_")));
      const s = new Set();
      r && s.add("@"), n && (s.add(":"), s.add("_")), s.size > 0 && wg(o, s);
    };
  },
  lJ = function (e) {
    const {
        mode: r = "regular",
        macros: n = {},
        environments: i = {},
        flags: {
          atLetter: o = !1,
          expl3: s = !1,
          autodetectExpl3AndAtLetter: a = !1,
        } = {},
      } = e || {},
      l = Object.assign({}, ...Object.values(VX), n),
      u = Object.assign({}, ...Object.values(WX), i),
      c = pO()
        .use(iJ, { mode: r })
        .use(aJ, { atLetter: o, expl3: s, autodetectExpl3AndAtLetter: a })
        .use(oJ, { macros: l, environments: u })
        .use(IK)
        .use(NK)
        .use(rJ);
    Object.assign(this, { Parser: (h) => c.processSync({ value: h }).result });
  },
  uJ = pO().use(lJ).freeze();
function cJ(t) {
  return uJ.parse(t);
}
var AO = (t, e, r) => {
    if (!e.has(t)) throw TypeError("Cannot " + r);
  },
  H0 = (t, e, r) => (
    AO(t, e, "read from private field"), r ? r.call(t) : e.get(t)
  ),
  ak = (t, e, r) => {
    if (e.has(t))
      throw TypeError("Cannot add the same private member more than once");
    e instanceof WeakSet ? e.add(t) : e.set(t, r);
  },
  lk = (t, e, r, n) => (
    AO(t, e, "write to private field"), n ? n.call(t, r) : e.set(t, r), r
  ),
  fJ = Object.defineProperty,
  hJ = (t, e) => {
    for (var r in e) fJ(t, r, { get: e[r], enumerable: !0 });
  },
  dJ = {};
hJ(dJ, { builders: () => PO, printer: () => sQ, utils: () => oQ });
var F0 = "string",
  hu = "array",
  M0 = "cursor",
  Cu = "indent",
  Au = "align",
  Eu = "trim",
  ao = "group",
  fa = "fill",
  Fo = "if-break",
  Fu = "indent-if-break",
  Mu = "line-suffix",
  _u = "line-suffix-boundary",
  Vi = "line",
  $u = "label",
  ma = "break-parent",
  EO = new Set([M0, Cu, Au, Eu, ao, fa, Fo, Fu, Mu, _u, Vi, $u, ma]);
function pJ(t) {
  if (typeof t == "string") return F0;
  if (Array.isArray(t)) return hu;
  if (!t) return;
  const { type: e } = t;
  if (EO.has(e)) return e;
}
var _0 = pJ,
  mJ = (t) => new Intl.ListFormat("en-US", { type: "disjunction" }).format(t);
function gJ(t) {
  const e = t === null ? "null" : typeof t;
  if (e !== "string" && e !== "object")
    return `Unexpected doc '${e}', 
Expected it to be 'string' or 'object'.`;
  if (_0(t)) throw new Error("doc is valid.");
  const r = Object.prototype.toString.call(t);
  if (r !== "[object Object]") return `Unexpected doc '${r}'.`;
  const n = mJ([...EO].map((i) => `'${i}'`));
  return `Unexpected doc.type '${t.type}'.
Expected it to be ${n}.`;
}
var vJ = class extends Error {
    constructor(t) {
      super(gJ(t)), OK(this, "name", "InvalidDocError"), (this.doc = t);
    }
  },
  uf = vJ,
  uk = {};
function yJ(t, e, r, n) {
  const i = [t];
  for (; i.length > 0; ) {
    const o = i.pop();
    if (o === uk) {
      r(i.pop());
      continue;
    }
    r && i.push(o, uk);
    const s = _0(o);
    if (!s) throw new uf(o);
    if ((e == null ? void 0 : e(o)) !== !1)
      switch (s) {
        case hu:
        case fa: {
          const a = s === hu ? o : o.parts;
          for (let l = a.length, u = l - 1; u >= 0; --u) i.push(a[u]);
          break;
        }
        case Fo:
          i.push(o.flatContents, o.breakContents);
          break;
        case ao:
          if (n && o.expandedStates)
            for (let a = o.expandedStates.length, l = a - 1; l >= 0; --l)
              i.push(o.expandedStates[l]);
          else i.push(o.contents);
          break;
        case Au:
        case Cu:
        case Fu:
        case $u:
        case Mu:
          i.push(o.contents);
          break;
        case F0:
        case M0:
        case Eu:
        case _u:
        case Vi:
        case ma:
          break;
        default:
          throw new uf(o);
      }
  }
}
var E7 = yJ,
  bJ = () => {},
  DJ = bJ;
function B1(t) {
  return { type: Cu, contents: t };
}
function cf(t, e) {
  return { type: Au, contents: e, n: t };
}
function FO(t, e = {}) {
  return (
    DJ(e.expandedStates),
    {
      type: ao,
      id: e.id,
      contents: t,
      break: !!e.shouldBreak,
      expandedStates: e.expandedStates,
    }
  );
}
function wJ(t) {
  return cf(Number.NEGATIVE_INFINITY, t);
}
function xJ(t) {
  return cf({ type: "root" }, t);
}
function kJ(t) {
  return cf(-1, t);
}
function SJ(t, e) {
  return FO(t[0], { ...e, expandedStates: t });
}
function MO(t) {
  return { type: fa, parts: t };
}
function CJ(t, e = "", r = {}) {
  return { type: Fo, breakContents: t, flatContents: e, groupId: r.groupId };
}
function AJ(t, e) {
  return { type: Fu, contents: t, groupId: e.groupId, negate: e.negate };
}
function EJ(t) {
  return { type: Mu, contents: t };
}
var FJ = { type: _u },
  F7 = { type: ma },
  MJ = { type: Eu },
  M7 = { type: Vi, hard: !0 },
  _O = { type: Vi, hard: !0, literal: !0 },
  _J = { type: Vi },
  $J = { type: Vi, soft: !0 },
  OJ = [M7, F7],
  $O = [_O, F7],
  BJ = { type: M0 };
function OO(t, e) {
  const r = [];
  for (let n = 0; n < e.length; n++) n !== 0 && r.push(t), r.push(e[n]);
  return r;
}
function TJ(t, e, r) {
  let n = t;
  if (e > 0) {
    for (let i = 0; i < Math.floor(e / r); ++i) n = B1(n);
    (n = cf(e % r, n)), (n = cf(Number.NEGATIVE_INFINITY, n));
  }
  return n;
}
function PJ(t, e) {
  return t ? { type: $u, label: t, contents: e } : e;
}
var RJ = (t, e, r) => {
    if (!(t && e == null))
      return Array.isArray(e) || typeof e == "string"
        ? e[r < 0 ? e.length + r : r]
        : e.at(r);
  },
  eu = RJ,
  IJ = (t, e, r, n) => {
    if (!(t && e == null))
      return e.replaceAll
        ? e.replaceAll(r, n)
        : r.global
          ? e.replace(r, n)
          : e.split(r).join(n);
  },
  NJ = IJ;
function LJ(t) {
  switch (t) {
    case "cr":
      return "\r";
    case "crlf":
      return `\r
`;
    default:
      return `
`;
  }
}
var zJ = () =>
    /[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,
  jJ = {
    eastAsianWidth(t) {
      var e = t.charCodeAt(0),
        r = t.length == 2 ? t.charCodeAt(1) : 0,
        n = e;
      return (
        55296 <= e &&
          e <= 56319 &&
          56320 <= r &&
          r <= 57343 &&
          ((e &= 1023), (r &= 1023), (n = (e << 10) | r), (n += 65536)),
        n == 12288 || (65281 <= n && n <= 65376) || (65504 <= n && n <= 65510)
          ? "F"
          : (4352 <= n && n <= 4447) ||
              (4515 <= n && n <= 4519) ||
              (4602 <= n && n <= 4607) ||
              (9001 <= n && n <= 9002) ||
              (11904 <= n && n <= 11929) ||
              (11931 <= n && n <= 12019) ||
              (12032 <= n && n <= 12245) ||
              (12272 <= n && n <= 12283) ||
              (12289 <= n && n <= 12350) ||
              (12353 <= n && n <= 12438) ||
              (12441 <= n && n <= 12543) ||
              (12549 <= n && n <= 12589) ||
              (12593 <= n && n <= 12686) ||
              (12688 <= n && n <= 12730) ||
              (12736 <= n && n <= 12771) ||
              (12784 <= n && n <= 12830) ||
              (12832 <= n && n <= 12871) ||
              (12880 <= n && n <= 13054) ||
              (13056 <= n && n <= 19903) ||
              (19968 <= n && n <= 42124) ||
              (42128 <= n && n <= 42182) ||
              (43360 <= n && n <= 43388) ||
              (44032 <= n && n <= 55203) ||
              (55216 <= n && n <= 55238) ||
              (55243 <= n && n <= 55291) ||
              (63744 <= n && n <= 64255) ||
              (65040 <= n && n <= 65049) ||
              (65072 <= n && n <= 65106) ||
              (65108 <= n && n <= 65126) ||
              (65128 <= n && n <= 65131) ||
              (110592 <= n && n <= 110593) ||
              (127488 <= n && n <= 127490) ||
              (127504 <= n && n <= 127546) ||
              (127552 <= n && n <= 127560) ||
              (127568 <= n && n <= 127569) ||
              (131072 <= n && n <= 194367) ||
              (177984 <= n && n <= 196605) ||
              (196608 <= n && n <= 262141)
            ? "W"
            : "N"
      );
    },
  },
  HJ = /[^\x20-\x7F]/;
function VJ(t) {
  if (!t) return 0;
  if (!HJ.test(t)) return t.length;
  t = t.replace(zJ(), "  ");
  let e = 0;
  for (const r of t) {
    const n = r.codePointAt(0);
    if (n <= 31 || (n >= 127 && n <= 159) || (n >= 768 && n <= 879)) continue;
    const i = jJ.eastAsianWidth(r);
    e += i === "F" || i === "W" ? 2 : 1;
  }
  return e;
}
var BO = VJ,
  WJ = (t) => {
    if (Array.isArray(t)) return t;
    if (t.type !== fa) throw new Error(`Expect doc to be 'array' or '${fa}'.`);
    return t.parts;
  };
function Vv(t, e) {
  if (typeof t == "string") return e(t);
  const r = new Map();
  return n(t);
  function n(o) {
    if (r.has(o)) return r.get(o);
    const s = i(o);
    return r.set(o, s), s;
  }
  function i(o) {
    switch (_0(o)) {
      case hu:
        return e(o.map(n));
      case fa:
        return e({ ...o, parts: o.parts.map(n) });
      case Fo:
        return e({
          ...o,
          breakContents: n(o.breakContents),
          flatContents: n(o.flatContents),
        });
      case ao: {
        let { expandedStates: s, contents: a } = o;
        return (
          s ? ((s = s.map(n)), (a = s[0])) : (a = n(a)),
          e({ ...o, contents: a, expandedStates: s })
        );
      }
      case Au:
      case Cu:
      case Fu:
      case $u:
      case Mu:
        return e({ ...o, contents: n(o.contents) });
      case F0:
      case M0:
      case Eu:
      case _u:
      case Vi:
      case ma:
        return e(o);
      default:
        throw new uf(o);
    }
  }
}
function _7(t, e, r) {
  let n = r,
    i = !1;
  function o(s) {
    if (i) return !1;
    const a = e(s);
    a !== void 0 && ((i = !0), (n = a));
  }
  return E7(t, o), n;
}
function qJ(t) {
  if ((t.type === ao && t.break) || (t.type === Vi && t.hard) || t.type === ma)
    return !0;
}
function UJ(t) {
  return _7(t, qJ, !1);
}
function ck(t) {
  if (t.length > 0) {
    const e = eu(!1, t, -1);
    !e.expandedStates && !e.break && (e.break = "propagated");
  }
  return null;
}
function GJ(t) {
  const e = new Set(),
    r = [];
  function n(o) {
    if ((o.type === ma && ck(r), o.type === ao)) {
      if ((r.push(o), e.has(o))) return !1;
      e.add(o);
    }
  }
  function i(o) {
    o.type === ao && r.pop().break && ck(r);
  }
  E7(t, n, i, !0);
}
function KJ(t) {
  return t.type === Vi && !t.hard
    ? t.soft
      ? ""
      : " "
    : t.type === Fo
      ? t.flatContents
      : t;
}
function YJ(t) {
  return Vv(t, KJ);
}
function fk(t) {
  for (
    t = [...t];
    t.length >= 2 && eu(!1, t, -2).type === Vi && eu(!1, t, -1).type === ma;

  )
    t.length -= 2;
  if (t.length > 0) {
    const e = Ah(eu(!1, t, -1));
    t[t.length - 1] = e;
  }
  return t;
}
function Ah(t) {
  switch (_0(t)) {
    case Au:
    case Cu:
    case Fu:
    case ao:
    case Mu:
    case $u: {
      const e = Ah(t.contents);
      return { ...t, contents: e };
    }
    case Fo:
      return {
        ...t,
        breakContents: Ah(t.breakContents),
        flatContents: Ah(t.flatContents),
      };
    case fa:
      return { ...t, parts: fk(t.parts) };
    case hu:
      return fk(t);
    case F0:
      return t.replace(/[\n\r]*$/, "");
    case M0:
    case Eu:
    case _u:
    case Vi:
    case ma:
      break;
    default:
      throw new uf(t);
  }
  return t;
}
function XJ(t) {
  return Ah(QJ(t));
}
function JJ(t) {
  switch (_0(t)) {
    case fa:
      if (t.parts.every((e) => e === "")) return "";
      break;
    case ao:
      if (!t.contents && !t.id && !t.break && !t.expandedStates) return "";
      if (
        t.contents.type === ao &&
        t.contents.id === t.id &&
        t.contents.break === t.break &&
        t.contents.expandedStates === t.expandedStates
      )
        return t.contents;
      break;
    case Au:
    case Cu:
    case Fu:
    case Mu:
      if (!t.contents) return "";
      break;
    case Fo:
      if (!t.flatContents && !t.breakContents) return "";
      break;
    case hu: {
      const e = [];
      for (const r of t) {
        if (!r) continue;
        const [n, ...i] = Array.isArray(r) ? r : [r];
        typeof n == "string" && typeof eu(!1, e, -1) == "string"
          ? (e[e.length - 1] += n)
          : e.push(n),
          e.push(...i);
      }
      return e.length === 0 ? "" : e.length === 1 ? e[0] : e;
    }
    case F0:
    case M0:
    case Eu:
    case _u:
    case Vi:
    case $u:
    case ma:
      break;
    default:
      throw new uf(t);
  }
  return t;
}
function QJ(t) {
  return Vv(t, (e) => JJ(e));
}
function ZJ(t, e = $O) {
  return Vv(t, (r) =>
    typeof r == "string"
      ? OO(
          e,
          r.split(`
`)
        )
      : r
  );
}
function eQ(t) {
  if (t.type === Vi) return !0;
}
function tQ(t) {
  return _7(t, eQ, !1);
}
var Ki = Symbol("MODE_BREAK"),
  Vo = Symbol("MODE_FLAT"),
  Eh = Symbol("cursor");
function TO() {
  return { value: "", length: 0, queue: [] };
}
function rQ(t, e) {
  return Q5(t, { type: "indent" }, e);
}
function nQ(t, e, r) {
  return e === Number.NEGATIVE_INFINITY
    ? t.root || TO()
    : e < 0
      ? Q5(t, { type: "dedent" }, r)
      : e
        ? e.type === "root"
          ? { ...t, root: t }
          : Q5(
              t,
              {
                type: typeof e == "string" ? "stringAlign" : "numberAlign",
                n: e,
              },
              r
            )
        : t;
}
function Q5(t, e, r) {
  const n = e.type === "dedent" ? t.queue.slice(0, -1) : [...t.queue, e];
  let i = "",
    o = 0,
    s = 0,
    a = 0;
  for (const p of n)
    switch (p.type) {
      case "indent":
        c(), r.useTabs ? l(1) : u(r.tabWidth);
        break;
      case "stringAlign":
        c(), (i += p.n), (o += p.n.length);
        break;
      case "numberAlign":
        (s += 1), (a += p.n);
        break;
      default:
        throw new Error(`Unexpected type '${p.type}'`);
    }
  return h(), { ...t, value: i, length: o, queue: n };
  function l(p) {
    (i += "	".repeat(p)), (o += r.tabWidth * p);
  }
  function u(p) {
    (i += " ".repeat(p)), (o += p);
  }
  function c() {
    r.useTabs ? f() : h();
  }
  function f() {
    s > 0 && l(s), d();
  }
  function h() {
    a > 0 && u(a), d();
  }
  function d() {
    (s = 0), (a = 0);
  }
}
function Z5(t) {
  let e = 0,
    r = 0,
    n = t.length;
  e: for (; n--; ) {
    const i = t[n];
    if (i === Eh) {
      r++;
      continue;
    }
    for (let o = i.length - 1; o >= 0; o--) {
      const s = i[o];
      if (s === " " || s === "	") e++;
      else {
        t[n] = i.slice(0, o + 1);
        break e;
      }
    }
  }
  if (e > 0 || r > 0) for (t.length = n + 1; r-- > 0; ) t.push(Eh);
  return e;
}
function Om(t, e, r, n, i, o) {
  if (r === Number.POSITIVE_INFINITY) return !0;
  let s = e.length;
  const a = [t],
    l = [];
  for (; r >= 0; ) {
    if (a.length === 0) {
      if (s === 0) return !0;
      a.push(e[--s]);
      continue;
    }
    const { mode: u, doc: c } = a.pop();
    switch (_0(c)) {
      case F0:
        l.push(c), (r -= BO(c));
        break;
      case hu:
      case fa: {
        const f = WJ(c);
        for (let h = f.length - 1; h >= 0; h--) a.push({ mode: u, doc: f[h] });
        break;
      }
      case Cu:
      case Au:
      case Fu:
      case $u:
        a.push({ mode: u, doc: c.contents });
        break;
      case Eu:
        r += Z5(l);
        break;
      case ao: {
        if (o && c.break) return !1;
        const f = c.break ? Ki : u,
          h =
            c.expandedStates && f === Ki
              ? eu(!1, c.expandedStates, -1)
              : c.contents;
        a.push({ mode: f, doc: h });
        break;
      }
      case Fo: {
        const h =
          (c.groupId ? i[c.groupId] || Vo : u) === Ki
            ? c.breakContents
            : c.flatContents;
        h && a.push({ mode: u, doc: h });
        break;
      }
      case Vi:
        if (u === Ki || c.hard) return !0;
        c.soft || (l.push(" "), r--);
        break;
      case Mu:
        n = !0;
        break;
      case _u:
        if (n) return !1;
        break;
    }
  }
  return !1;
}
function iQ(t, e) {
  const r = {},
    n = e.printWidth,
    i = LJ(e.endOfLine);
  let o = 0;
  const s = [{ ind: TO(), mode: Ki, doc: t }],
    a = [];
  let l = !1;
  const u = [];
  let c = 0;
  for (GJ(t); s.length > 0; ) {
    const { ind: h, mode: d, doc: p } = s.pop();
    switch (_0(p)) {
      case F0: {
        const m =
          i !==
          `
`
            ? NJ(
                !1,
                p,
                `
`,
                i
              )
            : p;
        a.push(m), s.length > 0 && (o += BO(m));
        break;
      }
      case hu:
        for (let m = p.length - 1; m >= 0; m--)
          s.push({ ind: h, mode: d, doc: p[m] });
        break;
      case M0:
        if (c >= 2) throw new Error("There are too many 'cursor' in doc.");
        a.push(Eh), c++;
        break;
      case Cu:
        s.push({ ind: rQ(h, e), mode: d, doc: p.contents });
        break;
      case Au:
        s.push({ ind: nQ(h, p.n, e), mode: d, doc: p.contents });
        break;
      case Eu:
        o -= Z5(a);
        break;
      case ao:
        switch (d) {
          case Vo:
            if (!l) {
              s.push({ ind: h, mode: p.break ? Ki : Vo, doc: p.contents });
              break;
            }
          case Ki: {
            l = !1;
            const m = { ind: h, mode: Vo, doc: p.contents },
              b = n - o,
              D = u.length > 0;
            if (!p.break && Om(m, s, b, D, r)) s.push(m);
            else if (p.expandedStates) {
              const k = eu(!1, p.expandedStates, -1);
              if (p.break) {
                s.push({ ind: h, mode: Ki, doc: k });
                break;
              } else
                for (let S = 1; S < p.expandedStates.length + 1; S++)
                  if (S >= p.expandedStates.length) {
                    s.push({ ind: h, mode: Ki, doc: k });
                    break;
                  } else {
                    const B = p.expandedStates[S],
                      $ = { ind: h, mode: Vo, doc: B };
                    if (Om($, s, b, D, r)) {
                      s.push($);
                      break;
                    }
                  }
            } else s.push({ ind: h, mode: Ki, doc: p.contents });
            break;
          }
        }
        p.id && (r[p.id] = eu(!1, s, -1).mode);
        break;
      case fa: {
        const m = n - o,
          { parts: b } = p;
        if (b.length === 0) break;
        const [D, k] = b,
          S = { ind: h, mode: Vo, doc: D },
          B = { ind: h, mode: Ki, doc: D },
          $ = Om(S, [], m, u.length > 0, r, !0);
        if (b.length === 1) {
          $ ? s.push(S) : s.push(B);
          break;
        }
        const T = { ind: h, mode: Vo, doc: k },
          P = { ind: h, mode: Ki, doc: k };
        if (b.length === 2) {
          $ ? s.push(T, S) : s.push(P, B);
          break;
        }
        b.splice(0, 2);
        const te = { ind: h, mode: d, doc: MO(b) },
          ee = b[0];
        Om({ ind: h, mode: Vo, doc: [D, k, ee] }, [], m, u.length > 0, r, !0)
          ? s.push(te, T, S)
          : $
            ? s.push(te, P, S)
            : s.push(te, P, B);
        break;
      }
      case Fo:
      case Fu: {
        const m = p.groupId ? r[p.groupId] : d;
        if (m === Ki) {
          const b =
            p.type === Fo
              ? p.breakContents
              : p.negate
                ? p.contents
                : B1(p.contents);
          b && s.push({ ind: h, mode: d, doc: b });
        }
        if (m === Vo) {
          const b =
            p.type === Fo
              ? p.flatContents
              : p.negate
                ? B1(p.contents)
                : p.contents;
          b && s.push({ ind: h, mode: d, doc: b });
        }
        break;
      }
      case Mu:
        u.push({ ind: h, mode: d, doc: p.contents });
        break;
      case _u:
        u.length > 0 && s.push({ ind: h, mode: d, doc: M7 });
        break;
      case Vi:
        switch (d) {
          case Vo:
            if (p.hard) l = !0;
            else {
              p.soft || (a.push(" "), (o += 1));
              break;
            }
          case Ki:
            if (u.length > 0) {
              s.push({ ind: h, mode: d, doc: p }, ...u.reverse()),
                (u.length = 0);
              break;
            }
            p.literal
              ? h.root
                ? (a.push(i, h.root.value), (o = h.root.length))
                : (a.push(i), (o = 0))
              : ((o -= Z5(a)), a.push(i + h.value), (o = h.length));
            break;
        }
        break;
      case $u:
        s.push({ ind: h, mode: d, doc: p.contents });
        break;
      case ma:
        break;
      default:
        throw new uf(p);
    }
    s.length === 0 && u.length > 0 && (s.push(...u.reverse()), (u.length = 0));
  }
  const f = a.indexOf(Eh);
  if (f !== -1) {
    const h = a.indexOf(Eh, f + 1),
      d = a.slice(0, f).join(""),
      p = a.slice(f + 1, h).join(""),
      m = a.slice(h + 1).join("");
    return {
      formatted: d + p + m,
      cursorNodeStart: d.length,
      cursorNodeText: p,
    };
  }
  return { formatted: a.join("") };
}
var PO = {
    join: OO,
    line: _J,
    softline: $J,
    hardline: OJ,
    literalline: $O,
    group: FO,
    conditionalGroup: SJ,
    fill: MO,
    lineSuffix: EJ,
    lineSuffixBoundary: FJ,
    cursor: BJ,
    breakParent: F7,
    ifBreak: CJ,
    trim: MJ,
    indent: B1,
    indentIfBreak: AJ,
    align: cf,
    addAlignmentToDoc: TJ,
    markAsRoot: xJ,
    dedentToRoot: wJ,
    dedent: kJ,
    hardlineWithoutBreakParent: M7,
    literallineWithoutBreakParent: _O,
    label: PJ,
    concat: (t) => t,
  },
  sQ = { printDocToString: iQ },
  oQ = {
    willBreak: UJ,
    traverseDoc: E7,
    findInDoc: _7,
    mapDoc: Vv,
    removeLines: YJ,
    stripTrailingHardline: XJ,
    replaceEndOfLine: ZJ,
    canBreak: tQ,
  };
function $7(t) {
  const e = Vr(t.env);
  return {
    envName: e,
    start: ff + "begin{" + e + "}",
    end: ff + "end{" + e + "}",
  };
}
function T1(t) {
  return t == null || typeof t == "string"
    ? !1
    : Array.isArray(t)
      ? T1(t[0])
      : t.type === "concat"
        ? T1(t.parts)
        : t.type === "line";
}
function O7(t) {
  if (t.length === 0 || t.length === 1) return t;
  const e = [t[0]];
  for (let r = 1; r < t.length; r++) {
    const n = t[r - 1],
      i = t[r];
    !T1(n) && !T1(i) && e.push(bd), e.push(i);
  }
  return e;
}
function Xa(t, e) {
  if (!t) return { renderInfo: {} };
  const r = t._renderInfo || {},
    n = e.referenceMap && e.referenceMap.getPreviousNode(t),
    i = e.referenceMap && e.referenceMap.getNextNode(t),
    o = e.referenceMap && e.referenceMap.getRenderCache(t);
  return {
    renderInfo: r,
    renderCache: o,
    previousNode: n,
    nextNode: i,
    referenceMap: e.referenceMap,
  };
}
var ff = "\\",
  {
    group: Oa,
    fill: Cf,
    ifBreak: fle,
    line: ai,
    softline: bd,
    hardline: Ar,
    lineSuffix: hle,
    lineSuffixBoundary: dle,
    breakParent: hk,
    indent: Nn,
    markAsRoot: ple,
    join: xg,
  } = PO;
function mp(t, e, r) {
  const n = [];
  for (let i = 0; i < t.length; i++) {
    const o = t[i],
      s = e[i],
      {
        renderInfo: a,
        referenceMap: l,
        previousNode: u,
        nextNode: c,
      } = Xa(o, r),
      f = l && l.getRenderCache(o);
    switch (o.type) {
      case "comment":
        !o.sameline && u && !Ne.comment(u) && !Ne.parbreak(u) && n.push(Ar),
          n.push(s),
          c && !o.suffixParbreak && n.push(Ar);
        break;
      case "environment":
      case "displaymath":
      case "mathenv":
        u &&
          (u == null ? void 0 : u.type) !== "parbreak" &&
          (n[n.length - 1] === ai && n.pop(),
          n[n.length - 1] !== Ar && n.push(Ar)),
          n.push(s),
          (c == null ? void 0 : c.type) === "whitespace" && (n.push(Ar), i++);
        break;
      case "macro":
        (a.breakBefore || a.breakAround) &&
          u &&
          (n[n.length - 1] === ai || n[n.length - 1] === Ar
            ? (n.pop(), n.push(Ar))
            : !Ne.comment(u) && !Ne.parbreak(u) && n.push(Ar)),
          a.inParMode && !a.hangingIndent && f
            ? n.push(f.content, ...(f.rawArgs || []))
            : n.push(s),
          (a.breakAfter || a.breakAround) &&
            c &&
            (Ne.whitespace(c)
              ? (n.push(Ar), i++)
              : Ne.parbreak(c) || Ne.comment(c) || n.push(Ar));
        break;
      case "parbreak":
        n.push(Ar, Ar);
        break;
      default:
        n.push(s);
        break;
    }
  }
  return n;
}
function aQ(t, e) {
  const r = [],
    n = Math.min(t.length, e.length);
  for (let i = 0; i < n; i++) r.push([t[i], e[i]]);
  return r;
}
function lQ(t, e, r) {
  const n = t.getNode(),
    { renderInfo: i, previousNode: o, nextNode: s, referenceMap: a } = Xa(n, r),
    l = (n.escapeToken != null ? n.escapeToken : ff) + n.content,
    u = n.args ? t.map(e, "args") : [],
    c = [];
  for (const [f, h] of aQ(n.args || [], u)) {
    const d = a && a.getRenderCache(f);
    i.inParMode && d ? c.push(...d) : c.push(h);
  }
  return (
    a && a.setRenderCache(n, { rawArgs: c, content: l }),
    i.hangingIndent ? Nn(Cf([l, ...c])) : Oa([l, ...c])
  );
}
function P1(t, e) {
  const { allowParenGroups: r = !1 } = e,
    n = aY(t, { allowParenGroups: r }),
    i = [];
  for (const s of n) {
    const a = s === n[n.length - 1];
    if (s.itemParts) {
      const l = s.itemParts.map((c) =>
          Vr(c, { asArray: !0 }).map((f) => (f === Ju ? Ar : f))
        ),
        u = xg("=", l);
      i.push(u), s.trailingComma && i.push(",");
    }
    if (s.trailingComment) {
      const l = s.itemParts ? [" "] : [];
      s.leadingParbreak && l.push(Ar),
        i.push(...l, "%", s.trailingComment.content, hk);
    }
    a || i.push(ai);
  }
  let o = [""];
  return (
    e.leadingComment &&
      (e.leadingComment.leadingWhitespace && o.push(" "),
      o.push("%" + e.leadingComment.content, hk)),
    Oa([e.openMark, ...o, i.length > 0 ? Nn([bd, ...i]) : "", bd, e.closeMark])
  );
}
function uQ(t, e, r) {
  const n = t.getNode();
  Xa(n, r);
  const i = [],
    o = [...n.content];
  Bo(o);
  try {
    const s = sY(o);
    return s.content.length === 0 ? (i.push(";"), i) : new cQ(s, t, e).toDoc();
  } catch (s) {
    console.warn("Encountered error when trying to parse tikz argument", s);
  }
  return i.push(";"), i;
}
function Wu(t, e, r) {
  const n = Symbol(),
    i = e.getNode();
  if (!i)
    throw new Error(
      "tried to print a fragment, but the current node is `null`"
    );
  i[n] = t;
  const o = r(n);
  return delete i[n], o;
}
function Aa(t, e, r) {
  switch (t.type) {
    case "comment":
      return Wu(t, e, r);
    case "unknown":
      return Wu(t.content, e, r);
    case "coordinate":
      return [Vr(t.prefix), "(", Vr(t.content), ")"];
    case "line_to":
      return t.command;
    case "square_brace_group":
      return Ic(t.content);
    case "operation":
      return t.content.content;
    case "svg_operation": {
      const n = t.comments.map((s) => Aa(s, e, r)),
        i = t.options ? Ic(t.options) : [],
        o = t.options ? [Oa(Nn([ai, Vr(t.content)]))] : [" ", Vr(t.content)];
      return [...n, "svg", i, ...o];
    }
    case "curve_to": {
      const n = t.comments.map((o) => Aa(o, e, r)),
        i =
          t.controls.length > 1
            ? [Aa(t.controls[0], e, r), " ", "and", ai, Aa(t.controls[1], e, r)]
            : [Aa(t.controls[0], e, r)];
      return [...n, "..", " ", Oa(Nn(["controls", ai, ...i, " ", ".."]))];
    }
    case "animation":
      return [
        ...t.comments.map((i) => Aa(i, e, r)),
        ":",
        t.attribute,
        " ",
        "=",
        " ",
        Oa(Nn([P1(t.content, { openMark: "{", closeMark: "}" })])),
      ];
    case "foreach": {
      const n = t.comments.map((l) => Aa(l, e, r)),
        i = [...t.variables];
      Bo(i);
      const o =
          t.list.type === "macro"
            ? Wu(t.list, e, r)
            : P1(t.list.content, {
                openMark: "{",
                closeMark: "}",
                allowParenGroups: !0,
              }),
        s = [...n, Vr(t.start), " ", Vr(i)];
      t.options && s.push(" ", Nn(Ic(t.options))),
        s.push(" ", "in", " ", Oa(Nn(o)));
      const a = t.command.type;
      switch (a) {
        case "foreach":
          s.push(Nn([ai, Aa(t.command, e, r)]));
          break;
        case "macro":
          s.push(Nn([ai, Wu(t.command, e, r)]));
          break;
        case "group": {
          const u = [...t.command.content];
          Bo(u),
            s.push(
              " ",
              Nn(Oa(["{", Nn([bd, ...u.map((c) => Wu(c, e, r))]), bd, "}"]))
            );
          break;
        }
        default:
          console.warn(`Unhandled command type when printing "foreach": ${a}`);
      }
      return Nn(s);
    }
  }
  return (
    console.warn(
      `Encountered unknown type when trying to print tikz PathSpec: "${t.type}"`
    ),
    []
  );
}
function Ic(t) {
  return P1(t, { openMark: "[", closeMark: "]" });
}
var tc,
  rc,
  cQ = class {
    constructor(t, e, r) {
      ak(this, tc, void 0),
        ak(this, rc, void 0),
        lk(this, tc, e),
        lk(this, rc, r),
        (this.nodes = [...t.content]);
    }
    nodeToDoc(t) {
      return Aa(t, H0(this, tc), H0(this, rc));
    }
    toDoc() {
      const t = [],
        e = this.eatOptionalArg();
      e.optionalArg &&
        (t.push(...e.comments.map((i) => Wu(i, H0(this, tc), H0(this, rc)))),
        t.push(Ic(e.optionalArg.content)));
      const r = [];
      t.push(Oa([Nn(r), ";"]));
      let n = -1;
      for (; this.nodes.length > 0; ) {
        n++;
        const i = n === 0 && !e.optionalArg ? " " : ai;
        switch (this.peek()) {
          case "short_path": {
            const [s, a, l] = this.nodes.splice(0, 3);
            r.push(
              i,
              this.nodeToDoc(s),
              " ",
              this.nodeToDoc(a),
              " ",
              this.nodeToDoc(l)
            );
            continue;
          }
          case "long_path": {
            const [s, a] = this.nodes.splice(0, 2);
            a.type === "operation"
              ? (this.nodes.unshift(a),
                r.push(i, this.nodeToDoc(s), " ", this.eatOperation()))
              : r.push(i, this.nodeToDoc(s), " ", this.nodeToDoc(a));
            continue;
          }
          case "node":
            {
              const s = this.eatNode();
              if (s) {
                r.push(ai, ...s);
                continue;
              }
              console.warn(
                "Expected to print a tikz `node` PathSpec but couldn't find the text `node`"
              );
            }
            continue;
          case "operation":
            r.push(i, this.eatOperation());
            continue;
          case "unknown": {
            const s = this.nodes.shift();
            r.push(i, this.nodeToDoc(s));
            continue;
          }
        }
        this.nodes.shift();
      }
      return t;
    }
    peek() {
      const [t, e, r, n] = [
        this.nodes[0],
        this.nodes[1],
        this.nodes[2],
        this.nodes[3],
      ];
      return (t == null ? void 0 : t.type) === "coordinate" && dk(e)
        ? (r == null ? void 0 : r.type) === "coordinate" &&
          !((n == null ? void 0 : n.type) === "coordinate" || dk(n))
          ? "short_path"
          : "long_path"
        : (t == null ? void 0 : t.type) === "operation"
          ? t.content.content === "node"
            ? "node"
            : "operation"
          : "unknown";
    }
    eatOptionalArg() {
      let t = 0;
      const e = [];
      let r = null;
      for (; t < this.nodes.length; t++) {
        const n = this.nodes[t];
        if (n.type === "square_brace_group") {
          (r = n), t++;
          break;
        }
        if (n.type === "comment") {
          e.push(n);
          continue;
        }
        break;
      }
      return r && this.nodes.splice(0, t), { optionalArg: r, comments: e };
    }
    eatNode() {
      const t = this.nodes[0];
      if (
        (t == null ? void 0 : t.type) === "operation" &&
        t.content.content === "node"
      )
        this.nodes.shift();
      else return null;
      const e = [],
        r = [],
        n = [r, "node", Oa(Nn(e))];
      let i = !1,
        o = !1,
        s = 0;
      const a = [],
        l = [],
        u = [],
        c = [],
        f = [];
      let h = [];
      for (; s < this.nodes.length && !o; s++) {
        const m = this.nodes[s];
        switch (m.type) {
          case "animation":
            f.push(this.nodeToDoc(m));
            continue;
          case "comment": {
            const b = { ...m, leadingWhitespace: !1 };
            a.push(this.nodeToDoc(b));
            continue;
          }
          case "square_brace_group":
            l.push(Ic(m.content));
            continue;
          case "coordinate":
            u.push(this.nodeToDoc(m));
            continue;
          case "operation": {
            if (m.content.content === "at") {
              const b = this.nodes[s + 1];
              if (
                !b ||
                !(
                  b.type === "coordinate" ||
                  (b.type === "unknown" && Ne.anyMacro(b.content))
                )
              ) {
                o = !0;
                continue;
              }
              c.push(["at", " ", this.nodeToDoc(b)]), s++;
              continue;
            }
            o = !0;
            continue;
          }
          case "unknown":
            Ne.group(m.content) && ((i = !0), (h = this.nodeToDoc(m)));
        }
        break;
      }
      if (!i) return e;
      this.nodes.splice(0, s + 1);
      let d = !0,
        p = !(Array.isArray(u) && u.length === 0);
      for (const m of a) r.push(m, Ar);
      return (
        l.length > 0 && (e.push(xg(" ", l)), (d = !1)),
        f.length > 0 && (e.push(d ? " " : ai), e.push(xg(ai, f)), (d = !1)),
        p && (e.push(d ? " " : ai), e.push(u), (d = !1)),
        c.length > 0 &&
          (e.push(d || p ? " " : ai), e.push(xg(ai, c)), (d = !1)),
        e.push(ai, h),
        n
      );
    }
    eatOperation() {
      const t = this.nodes[0];
      if ((t == null ? void 0 : t.type) === "operation") this.nodes.shift();
      else return [];
      const e = [];
      if ((t == null ? void 0 : t.type) !== "operation")
        throw new Error("Expecting `operation` node.");
      const r = this.eatOptionalArg();
      return (
        e.push(
          ...r.comments.map((n) => Wu(n, H0(this, tc), H0(this, rc))),
          t.content.content
        ),
        r.optionalArg && e.push(Nn(Ic(r.optionalArg.content))),
        e
      );
    }
  };
tc = new WeakMap();
rc = new WeakMap();
var fQ = new Set(["rectangle", "grid", "sin", "cos", "to"]);
function dk(t) {
  if (!t) return !1;
  switch (t.type) {
    case "line_to":
    case "curve_to":
      return !0;
    case "operation":
      return fQ.has(t.content.content);
  }
  return !1;
}
function hQ(t, e, r) {
  const n = t.getNode(),
    { renderInfo: i, previousNode: o, nextNode: s, referenceMap: a } = Xa(n, r);
  if (n.openMark === "" && n.closeMark === "" && n.content.length === 0)
    return [];
  const l = t.getParentNode(),
    { renderInfo: u } = Xa(l, r);
  if (u.pgfkeysArgs) {
    const p =
        n.content.length > 0 &&
        Ne.comment(n.content[0]) &&
        n.content[0].sameline
          ? n.content[0]
          : null,
      m = p ? n.content.slice(1) : n.content;
    return (
      Bo(m),
      P1(m, { openMark: n.openMark, closeMark: n.closeMark, leadingComment: p })
    );
  }
  if (u.tikzPathCommand) return uQ(t, e, r);
  const c = n.openMark,
    f = n.closeMark;
  let h = t.map(e, "content");
  (h = mp(n.content, h, r)),
    Ne.comment(n.content[n.content.length - 1]) && h.push(Ar);
  let d = [c, Cf(h), f];
  return i.inParMode && (d = [c, ...h, f]), a && a.setRenderCache(n, d), d;
}
function dQ(t) {
  return t.some((e) => Ne.macro(e, "documentclass"));
}
function pQ(t, e, r) {
  const n = t.getNode();
  Xa(n, r);
  const i = t.map(e, "content"),
    o = mp(n.content, i, r);
  return (dQ(n.content) ? (a) => a : Cf)(o);
}
function mQ(t, e, r) {
  const n = t.getNode();
  let i = "";
  return (
    n.leadingWhitespace && n.sameline && (i = " "), [i, "%" + Vr(n.content)]
  );
}
function gQ(t, e, r) {
  const n = t.getNode();
  if (n.content.length === 0) return ["$", " ", "$"];
  let i = t.map(e, "content");
  return (
    (i = mp(n.content, i, r)),
    (i = O7(i)),
    n.content[n.content.length - 1].type === "comment" && i.push(Ar),
    Cf(["$", ...i, "$"])
  );
}
function vQ(t, e, r) {
  const n = t.getNode();
  let i = t.map(e, "content");
  (i = mp(n.content, i, r)), (i = O7(i));
  const o = [Ar];
  return (
    (n.content.length === 0 ||
      (n.content[0].type === "comment" && n.content[0].sameline)) &&
      o.pop(),
    [ff + "[", Nn(Cf(o.concat(i))), Ar, ff + "]"]
  );
}
function yQ(t, e, r) {
  const n = t.getNode(),
    i = $7(n);
  return [i.start, n.content, i.end];
}
function bQ(t, e, r) {
  const n = t.getNode(),
    { renderInfo: i, previousNode: o, nextNode: s, referenceMap: a } = Xa(n, r),
    l = n.args ? t.map(e, "args") : [],
    u = $7(n);
  let c = t.map(e, "content");
  (c = mp(n.content, c, r)), i.inMathMode && (c = O7(c));
  let f = [Ar];
  return (
    (n.content.length === 0 ||
      (n.content[0].type === "comment" && n.content[0].sameline)) &&
      f.pop(),
    [u.start, ...l, Nn(Cf(f.concat(c))), Ar, u.end]
  );
}
function DQ(t, e, r) {
  const n = t.getNode();
  Xa(n, r);
  const i = n.args ? t.map(e, "args") : [],
    o = $7(n),
    s =
      n.content[0] && n.content[0].type === "comment" && n.content[0].sameline
        ? n.content[0]
        : null,
    {
      rows: a,
      rowSeps: l,
      trailingComments: u,
    } = wQ(s ? n.content.slice(1) : n.content),
    c = [];
  for (let f = 0; f < a.length; f++) {
    const h = a[f],
      d = l[f],
      p = u[f];
    c.push(h),
      d && c.push(Vr(d)),
      d && p && c.push(" "),
      p && c.push(["%", Vr(p.content)]),
      (d || p) && c.push(Ar);
  }
  return (
    c[c.length - 1] === Ar && c.pop(),
    s
      ? (c.unshift(s.leadingWhitespace ? " " : "", "%" + Vr(s.content), Ar),
        [o.start, ...i, Nn(c), Ar, o.end])
      : [o.start, ...i, Nn([Ar, ...c]), Ar, o.end]
  );
}
function wQ(t) {
  function e(u = 1) {
    return " ".repeat(u);
  }
  const r = uY(t),
    n = Math.max(...r.map((u) => u.cells.length)),
    i = r.map(({ rowSep: u }) => Vr(u || [])),
    o = r.map(({ trailingComment: u }) => u),
    s = r.map(({ cells: u, colSeps: c }) => ({
      cells: u.map((f) => (Bo(f), Vr(f))),
      seps: c.map((f) => Vr(f)),
    })),
    a = [];
  for (let u = 0; u < n; u++)
    a.push(
      Math.max(
        ...s.map(
          ({ cells: c, seps: f }) => ((c[u] || "") + (f[u] || "")).length
        )
      )
    );
  return {
    rows: s.map(({ cells: u, seps: c }) => {
      if (u.length === 1 && u[0] === "") return "";
      let f = "";
      for (let h = 0; h < u.length; h++) {
        const d = a[h] - (c[h] || "").length;
        f +=
          (h === 0 ? "" : " ") + u[h] + e(d - u[h].length + 1) + (c[h] || "");
      }
      return f;
    }),
    rowSeps: i,
    trailingComments: o,
  };
}
var xQ = class {
  constructor(t) {
    (this.ast = t),
      (this.map = new Map()),
      fu(
        this.ast,
        (e) => {
          for (let r = 0; r < e.length; r++)
            this.map.set(e[r], { previous: e[r - 1], next: e[r + 1] });
        },
        { includeArrays: !0, test: Array.isArray }
      );
  }
  setRenderCache(t, e) {
    const r = this.map.get(t) || {};
    this.map.set(t, { ...r, renderCache: e });
  }
  getRenderCache(t) {
    var e;
    return (e = this.map.get(t)) == null ? void 0 : e.renderCache;
  }
  getPreviousNode(t) {
    return (this.map.get(t) || {}).previous;
  }
  getNextNode(t) {
    return (this.map.get(t) || {}).next;
  }
};
function kQ(t, e, r) {
  const n = t.getValue(),
    { renderInfo: i } = Xa(n, e);
  if (n == null || typeof n == "string") return n;
  switch (n.type) {
    case "root":
      return (
        e.referenceMap &&
          console.warn(
            "Processing root node, but ReferenceMap already exists. Are there multiple nodes of type 'root'?"
          ),
        (e.referenceMap = new xQ(n)),
        pQ(t, r, e)
      );
    case "argument":
      return hQ(t, r, e);
    case "comment":
      return mQ(t);
    case "environment":
    case "mathenv":
      return i.alignContent ? DQ(t, r, e) : bQ(t, r, e);
    case "displaymath":
      return vQ(t, r, e);
    case "group":
      return [
        "{",
        ...Vr(n.content, { asArray: !0 }).map((s) => (s === Ju ? Ar : s)),
        "}",
      ];
    case "inlinemath":
      return gQ(t, r, e);
    case "macro":
      return lQ(t, r, e);
    case "parbreak":
      return [Ar, Ar];
    case "string":
      return n.content;
    case "verb":
      return [ff, n.env, n.escape, Vr(n.content), n.escape];
    case "verbatim":
      return yQ(t);
    case "whitespace":
      return ai;
    default:
      return console.warn("Printing unknown type", n), Vr(n);
  }
}
var SQ = [{ name: "latex", extensions: [".tex"], parsers: ["latex-parser"] }],
  CQ = {
    "latex-parser": {
      parse: cJ,
      astFormat: "latex-ast",
      locStart: (t) => (t.position ? t.position.start.offset : 0),
      locEnd: (t) => (t.position ? t.position.end.offset : 1),
    },
  },
  AQ = { "latex-ast": { print: kQ } },
  B7 = { languages: SQ, parsers: CQ, printers: AQ };
const EQ = {},
  FQ = { useTabs: !0 },
  MQ = B7.languages,
  _Q = B7.parsers,
  $Q = B7.printers,
  OQ = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        defaultOptions: FQ,
        languages: MQ,
        options: EQ,
        parsers: _Q,
        printers: $Q,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  );
var BQ = Object.defineProperty,
  TQ = (t, e, r) =>
    e in t
      ? BQ(t, e, { enumerable: !0, configurable: !0, writable: !0, value: r })
      : (t[e] = r),
  T7 = (t, e, r) => (TQ(t, typeof e != "symbol" ? e + "" : e, r), r),
  PQ = Object.create,
  Wv = Object.defineProperty,
  RQ = Object.getOwnPropertyDescriptor,
  IQ = Object.getOwnPropertyNames,
  NQ = Object.getPrototypeOf,
  LQ = Object.prototype.hasOwnProperty,
  zQ = (t, e) => () => (t && (e = t((t = 0))), e),
  qv = (t, e) => () => (e || t((e = { exports: {} }).exports, e), e.exports),
  Uv = (t, e) => {
    for (var r in e) Wv(t, r, { get: e[r], enumerable: !0 });
  },
  RO = (t, e, r, n) => {
    if ((e && typeof e == "object") || typeof e == "function")
      for (let i of IQ(e))
        !LQ.call(t, i) &&
          i !== r &&
          Wv(t, i, {
            get: () => e[i],
            enumerable: !(n = RQ(e, i)) || n.enumerable,
          });
    return t;
  },
  gp = (t, e, r) => (
    (r = t != null ? PQ(NQ(t)) : {}),
    RO(
      e || !t || !t.__esModule
        ? Wv(r, "default", { value: t, enumerable: !0 })
        : r,
      t
    )
  ),
  jQ = (t) => RO(Wv({}, "__esModule", { value: !0 }), t),
  HQ = (t, e, r) => {
    if (!e.has(t)) throw TypeError("Cannot " + r);
  },
  pk = (t, e, r) => {
    if (e.has(t))
      throw TypeError("Cannot add the same private member more than once");
    e instanceof WeakSet ? e.add(t) : e.set(t, r);
  },
  Yf = (t, e, r) => (HQ(t, e, "access private method"), r),
  VQ = qv((t) => {
    Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = e);
    function e() {}
    e.prototype = {
      diff: function (i, o) {
        var s =
            arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {},
          a = s.callback;
        typeof s == "function" && ((a = s), (s = {})), (this.options = s);
        var l = this;
        function u(k) {
          return a
            ? (setTimeout(function () {
                a(void 0, k);
              }, 0),
              !0)
            : k;
        }
        (i = this.castInput(i)),
          (o = this.castInput(o)),
          (i = this.removeEmpty(this.tokenize(i))),
          (o = this.removeEmpty(this.tokenize(o)));
        var c = o.length,
          f = i.length,
          h = 1,
          d = c + f;
        s.maxEditLength && (d = Math.min(d, s.maxEditLength));
        var p = [{ newPos: -1, components: [] }],
          m = this.extractCommon(p[0], o, i, 0);
        if (p[0].newPos + 1 >= c && m + 1 >= f)
          return u([{ value: this.join(o), count: o.length }]);
        function b() {
          for (var k = -1 * h; k <= h; k += 2) {
            var S = void 0,
              B = p[k - 1],
              $ = p[k + 1],
              T = ($ ? $.newPos : 0) - k;
            B && (p[k - 1] = void 0);
            var P = B && B.newPos + 1 < c,
              te = $ && 0 <= T && T < f;
            if (!P && !te) {
              p[k] = void 0;
              continue;
            }
            if (
              (!P || (te && B.newPos < $.newPos)
                ? ((S = n($)), l.pushComponent(S.components, void 0, !0))
                : ((S = B),
                  S.newPos++,
                  l.pushComponent(S.components, !0, void 0)),
              (T = l.extractCommon(S, o, i, k)),
              S.newPos + 1 >= c && T + 1 >= f)
            )
              return u(r(l, S.components, o, i, l.useLongestToken));
            p[k] = S;
          }
          h++;
        }
        if (a)
          (function k() {
            setTimeout(function () {
              if (h > d) return a();
              b() || k();
            }, 0);
          })();
        else
          for (; h <= d; ) {
            var D = b();
            if (D) return D;
          }
      },
      pushComponent: function (i, o, s) {
        var a = i[i.length - 1];
        a && a.added === o && a.removed === s
          ? (i[i.length - 1] = { count: a.count + 1, added: o, removed: s })
          : i.push({ count: 1, added: o, removed: s });
      },
      extractCommon: function (i, o, s, a) {
        for (
          var l = o.length, u = s.length, c = i.newPos, f = c - a, h = 0;
          c + 1 < l && f + 1 < u && this.equals(o[c + 1], s[f + 1]);

        )
          c++, f++, h++;
        return h && i.components.push({ count: h }), (i.newPos = c), f;
      },
      equals: function (i, o) {
        return this.options.comparator
          ? this.options.comparator(i, o)
          : i === o ||
              (this.options.ignoreCase && i.toLowerCase() === o.toLowerCase());
      },
      removeEmpty: function (i) {
        for (var o = [], s = 0; s < i.length; s++) i[s] && o.push(i[s]);
        return o;
      },
      castInput: function (i) {
        return i;
      },
      tokenize: function (i) {
        return i.split("");
      },
      join: function (i) {
        return i.join("");
      },
    };
    function r(i, o, s, a, l) {
      for (var u = 0, c = o.length, f = 0, h = 0; u < c; u++) {
        var d = o[u];
        if (d.removed) {
          if (
            ((d.value = i.join(a.slice(h, h + d.count))),
            (h += d.count),
            u && o[u - 1].added)
          ) {
            var p = o[u - 1];
            (o[u - 1] = o[u]), (o[u] = p);
          }
        } else {
          if (!d.added && l) {
            var m = s.slice(f, f + d.count);
            (m = m.map(function (D, k) {
              var S = a[h + k];
              return S.length > D.length ? S : D;
            })),
              (d.value = i.join(m));
          } else d.value = i.join(s.slice(f, f + d.count));
          (f += d.count), d.added || (h += d.count);
        }
      }
      var b = o[c - 1];
      return (
        c > 1 &&
          typeof b.value == "string" &&
          (b.added || b.removed) &&
          i.equals("", b.value) &&
          ((o[c - 2].value += b.value), o.pop()),
        o
      );
    }
    function n(i) {
      return { newPos: i.newPos, components: i.components.slice(0) };
    }
  }),
  WQ = qv((t) => {
    Object.defineProperty(t, "__esModule", { value: !0 }),
      (t.diffArrays = i),
      (t.arrayDiff = void 0);
    var e = r(VQ());
    function r(o) {
      return o && o.__esModule ? o : { default: o };
    }
    var n = new e.default();
    (t.arrayDiff = n),
      (n.tokenize = function (o) {
        return o.slice();
      }),
      (n.join = n.removeEmpty =
        function (o) {
          return o;
        });
    function i(o, s, a) {
      return n.diff(o, s, a);
    }
  }),
  Gv = qv((t, e) => {
    var r = new Proxy(String, { get: () => r });
    e.exports = r;
  }),
  IO = {};
Uv(IO, { default: () => LO, shouldHighlight: () => NO });
var NO,
  LO,
  qQ = zQ(() => {
    (NO = () => !1), (LO = String);
  }),
  UQ = qv((t) => {
    Object.defineProperty(t, "__esModule", { value: !0 }),
      (t.codeFrameColumns = c),
      (t.default = f);
    var e = (qQ(), jQ(IO)),
      r = Gv(),
      n = r,
      i;
    function o(h) {
      return h
        ? (i != null || (i = new n.constructor({ enabled: !0, level: 1 })), i)
        : n;
    }
    var s = !1;
    function a(h) {
      return { gutter: h.grey, marker: h.red.bold, message: h.red.bold };
    }
    var l = /\r\n|[\n\r\u2028\u2029]/;
    function u(h, d, p) {
      let m = Object.assign({ column: 0, line: -1 }, h.start),
        b = Object.assign({}, m, h.end),
        { linesAbove: D = 2, linesBelow: k = 3 } = p || {},
        S = m.line,
        B = m.column,
        $ = b.line,
        T = b.column,
        P = Math.max(S - (D + 1), 0),
        te = Math.min(d.length, $ + k);
      S === -1 && (P = 0), $ === -1 && (te = d.length);
      let ee = $ - S,
        de = {};
      if (ee)
        for (let ke = 0; ke <= ee; ke++) {
          let Ce = ke + S;
          if (!B) de[Ce] = !0;
          else if (ke === 0) {
            let he = d[Ce - 1].length;
            de[Ce] = [B, he - B + 1];
          } else if (ke === ee) de[Ce] = [0, T];
          else {
            let he = d[Ce - ke].length;
            de[Ce] = [0, he];
          }
        }
      else
        B === T ? (B ? (de[S] = [B, 0]) : (de[S] = !0)) : (de[S] = [B, T - B]);
      return { start: P, end: te, markerLines: de };
    }
    function c(h, d, p = {}) {
      let m = (p.highlightCode || p.forceColor) && (0, e.shouldHighlight)(p),
        b = o(p.forceColor),
        D = a(b),
        k = (de, ke) => (m ? de(ke) : ke),
        S = h.split(l),
        { start: B, end: $, markerLines: T } = u(d, S, p),
        P = d.start && typeof d.start.column == "number",
        te = String($).length,
        ee = (m ? (0, e.default)(h, p) : h)
          .split(l, $)
          .slice(B, $)
          .map((de, ke) => {
            let Ce = B + 1 + ke,
              he = ` ${` ${Ce}`.slice(-te)} |`,
              ze = T[Ce],
              Ve = !T[Ce + 1];
            if (ze) {
              let Ae = "";
              if (Array.isArray(ze)) {
                let tt = de
                    .slice(0, Math.max(ze[0] - 1, 0))
                    .replace(/[^\t]/g, " "),
                  Ee = ze[1] || 1;
                (Ae = [
                  `
 `,
                  k(D.gutter, he.replace(/\d/g, " ")),
                  " ",
                  tt,
                  k(D.marker, "^").repeat(Ee),
                ].join("")),
                  Ve && p.message && (Ae += " " + k(D.message, p.message));
              }
              return [
                k(D.marker, ">"),
                k(D.gutter, he),
                de.length > 0 ? ` ${de}` : "",
                Ae,
              ].join("");
            } else return ` ${k(D.gutter, he)}${de.length > 0 ? ` ${de}` : ""}`;
          }).join(`
`);
      return (
        p.message &&
          !P &&
          (ee = `${" ".repeat(te + 1)}${p.message}
${ee}`),
        m ? b.reset(ee) : ee
      );
    }
    function f(h, d, p, m = {}) {
      if (!s) {
        s = !0;
        let b =
          "Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";
        {
          let D = new Error(b);
          (D.name = "DeprecationWarning"), console.warn(new Error(b));
        }
      }
      return (p = Math.max(p, 0)), c(h, { start: { column: p, line: d } }, m);
    }
  }),
  GQ = {};
Uv(GQ, {
  __debug: () => jte,
  check: () => Lte,
  doc: () => kB,
  format: () => K7,
  formatWithCursor: () => SB,
  getSupportInfo: () => zte,
  util: () => xB,
  version: () => Nte,
});
var KQ = (t, e, r, n) => {
    if (!(t && e == null))
      return e.replaceAll
        ? e.replaceAll(r, n)
        : r.global
          ? e.replace(r, n)
          : e.split(r).join(n);
  },
  Kv = KQ,
  YQ = gp(WQ(), 1),
  $0 = "string",
  du = "array",
  O0 = "cursor",
  sl = "indent",
  ol = "align",
  al = "trim",
  ls = "group",
  lo = "fill",
  xs = "if-break",
  ll = "indent-if-break",
  ul = "line-suffix",
  cl = "line-suffix-boundary",
  yi = "line",
  ga = "label",
  uo = "break-parent",
  zO = new Set([O0, sl, ol, al, ls, lo, xs, ll, ul, cl, yi, ga, uo]);
function XQ(t) {
  if (typeof t == "string") return $0;
  if (Array.isArray(t)) return du;
  if (!t) return;
  let { type: e } = t;
  if (zO.has(e)) return e;
}
var B0 = XQ,
  JQ = (t) => new Intl.ListFormat("en-US", { type: "disjunction" }).format(t);
function QQ(t) {
  let e = t === null ? "null" : typeof t;
  if (e !== "string" && e !== "object")
    return `Unexpected doc '${e}', 
Expected it to be 'string' or 'object'.`;
  if (B0(t)) throw new Error("doc is valid.");
  let r = Object.prototype.toString.call(t);
  if (r !== "[object Object]") return `Unexpected doc '${r}'.`;
  let n = JQ([...zO].map((i) => `'${i}'`));
  return `Unexpected doc.type '${t.type}'.
Expected it to be ${n}.`;
}
var ZQ = class extends Error {
    constructor(t) {
      super(QQ(t)), T7(this, "name", "InvalidDocError"), (this.doc = t);
    }
  },
  hf = ZQ,
  mk = {};
function eZ(t, e, r, n) {
  let i = [t];
  for (; i.length > 0; ) {
    let o = i.pop();
    if (o === mk) {
      r(i.pop());
      continue;
    }
    r && i.push(o, mk);
    let s = B0(o);
    if (!s) throw new hf(o);
    if ((e == null ? void 0 : e(o)) !== !1)
      switch (s) {
        case du:
        case lo: {
          let a = s === du ? o : o.parts;
          for (let l = a.length, u = l - 1; u >= 0; --u) i.push(a[u]);
          break;
        }
        case xs:
          i.push(o.flatContents, o.breakContents);
          break;
        case ls:
          if (n && o.expandedStates)
            for (let a = o.expandedStates.length, l = a - 1; l >= 0; --l)
              i.push(o.expandedStates[l]);
          else i.push(o.contents);
          break;
        case ol:
        case sl:
        case ll:
        case ga:
        case ul:
          i.push(o.contents);
          break;
        case $0:
        case O0:
        case al:
        case cl:
        case yi:
        case uo:
          break;
        default:
          throw new hf(o);
      }
  }
}
var P7 = eZ,
  tZ = () => {},
  rZ = tZ;
function R1(t) {
  return { type: sl, contents: t };
}
function df(t, e) {
  return { type: ol, contents: e, n: t };
}
function jO(t, e = {}) {
  return (
    rZ(e.expandedStates),
    {
      type: ls,
      id: e.id,
      contents: t,
      break: !!e.shouldBreak,
      expandedStates: e.expandedStates,
    }
  );
}
function nZ(t) {
  return df(Number.NEGATIVE_INFINITY, t);
}
function iZ(t) {
  return df({ type: "root" }, t);
}
function sZ(t) {
  return df(-1, t);
}
function oZ(t, e) {
  return jO(t[0], { ...e, expandedStates: t });
}
function HO(t) {
  return { type: lo, parts: t };
}
function aZ(t, e = "", r = {}) {
  return { type: xs, breakContents: t, flatContents: e, groupId: r.groupId };
}
function lZ(t, e) {
  return { type: ll, contents: t, groupId: e.groupId, negate: e.negate };
}
function e6(t) {
  return { type: ul, contents: t };
}
var uZ = { type: cl },
  Yv = { type: uo },
  cZ = { type: al },
  R7 = { type: yi, hard: !0 },
  VO = { type: yi, hard: !0, literal: !0 },
  WO = { type: yi },
  fZ = { type: yi, soft: !0 },
  r0 = [R7, Yv],
  qO = [VO, Yv],
  t6 = { type: O0 };
function UO(t, e) {
  let r = [];
  for (let n = 0; n < e.length; n++) n !== 0 && r.push(t), r.push(e[n]);
  return r;
}
function GO(t, e, r) {
  let n = t;
  if (e > 0) {
    for (let i = 0; i < Math.floor(e / r); ++i) n = R1(n);
    (n = df(e % r, n)), (n = df(Number.NEGATIVE_INFINITY, n));
  }
  return n;
}
function hZ(t, e) {
  return t ? { type: ga, label: t, contents: e } : e;
}
var dZ = (t, e, r) => {
    if (!(t && e == null))
      return Array.isArray(e) || typeof e == "string"
        ? e[r < 0 ? e.length + r : r]
        : e.at(r);
  },
  Qn = dZ;
function pZ(t) {
  let e = t.indexOf("\r");
  return e >= 0
    ? t.charAt(e + 1) ===
      `
`
      ? "crlf"
      : "cr"
    : "lf";
}
function I7(t) {
  switch (t) {
    case "cr":
      return "\r";
    case "crlf":
      return `\r
`;
    default:
      return `
`;
  }
}
function KO(t, e) {
  let r;
  switch (e) {
    case `
`:
      r = /\n/g;
      break;
    case "\r":
      r = /\r/g;
      break;
    case `\r
`:
      r = /\r\n/g;
      break;
    default:
      throw new Error(`Unexpected "eol" ${JSON.stringify(e)}.`);
  }
  let n = t.match(r);
  return n ? n.length : 0;
}
function mZ(t) {
  return Kv(
    !1,
    t,
    /\r\n?/g,
    `
`
  );
}
var gZ = () =>
    /[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,
  vZ = {
    eastAsianWidth(t) {
      var e = t.charCodeAt(0),
        r = t.length == 2 ? t.charCodeAt(1) : 0,
        n = e;
      return (
        55296 <= e &&
          e <= 56319 &&
          56320 <= r &&
          r <= 57343 &&
          ((e &= 1023), (r &= 1023), (n = (e << 10) | r), (n += 65536)),
        n == 12288 || (65281 <= n && n <= 65376) || (65504 <= n && n <= 65510)
          ? "F"
          : (4352 <= n && n <= 4447) ||
              (4515 <= n && n <= 4519) ||
              (4602 <= n && n <= 4607) ||
              (9001 <= n && n <= 9002) ||
              (11904 <= n && n <= 11929) ||
              (11931 <= n && n <= 12019) ||
              (12032 <= n && n <= 12245) ||
              (12272 <= n && n <= 12283) ||
              (12289 <= n && n <= 12350) ||
              (12353 <= n && n <= 12438) ||
              (12441 <= n && n <= 12543) ||
              (12549 <= n && n <= 12589) ||
              (12593 <= n && n <= 12686) ||
              (12688 <= n && n <= 12730) ||
              (12736 <= n && n <= 12771) ||
              (12784 <= n && n <= 12830) ||
              (12832 <= n && n <= 12871) ||
              (12880 <= n && n <= 13054) ||
              (13056 <= n && n <= 19903) ||
              (19968 <= n && n <= 42124) ||
              (42128 <= n && n <= 42182) ||
              (43360 <= n && n <= 43388) ||
              (44032 <= n && n <= 55203) ||
              (55216 <= n && n <= 55238) ||
              (55243 <= n && n <= 55291) ||
              (63744 <= n && n <= 64255) ||
              (65040 <= n && n <= 65049) ||
              (65072 <= n && n <= 65106) ||
              (65108 <= n && n <= 65126) ||
              (65128 <= n && n <= 65131) ||
              (110592 <= n && n <= 110593) ||
              (127488 <= n && n <= 127490) ||
              (127504 <= n && n <= 127546) ||
              (127552 <= n && n <= 127560) ||
              (127568 <= n && n <= 127569) ||
              (131072 <= n && n <= 194367) ||
              (177984 <= n && n <= 196605) ||
              (196608 <= n && n <= 262141)
            ? "W"
            : "N"
      );
    },
  },
  yZ = /[^\x20-\x7F]/;
function bZ(t) {
  if (!t) return 0;
  if (!yZ.test(t)) return t.length;
  t = t.replace(gZ(), "  ");
  let e = 0;
  for (let r of t) {
    let n = r.codePointAt(0);
    if (n <= 31 || (n >= 127 && n <= 159) || (n >= 768 && n <= 879)) continue;
    let i = vZ.eastAsianWidth(r);
    e += i === "F" || i === "W" ? 2 : 1;
  }
  return e;
}
var N7 = bZ,
  DZ = (t) => {
    if (Array.isArray(t)) return t;
    if (t.type !== lo) throw new Error(`Expect doc to be 'array' or '${lo}'.`);
    return t.parts;
  };
function Xv(t, e) {
  if (typeof t == "string") return e(t);
  let r = new Map();
  return n(t);
  function n(o) {
    if (r.has(o)) return r.get(o);
    let s = i(o);
    return r.set(o, s), s;
  }
  function i(o) {
    switch (B0(o)) {
      case du:
        return e(o.map(n));
      case lo:
        return e({ ...o, parts: o.parts.map(n) });
      case xs:
        return e({
          ...o,
          breakContents: n(o.breakContents),
          flatContents: n(o.flatContents),
        });
      case ls: {
        let { expandedStates: s, contents: a } = o;
        return (
          s ? ((s = s.map(n)), (a = s[0])) : (a = n(a)),
          e({ ...o, contents: a, expandedStates: s })
        );
      }
      case ol:
      case sl:
      case ll:
      case ga:
      case ul:
        return e({ ...o, contents: n(o.contents) });
      case $0:
      case O0:
      case al:
      case cl:
      case yi:
      case uo:
        return e(o);
      default:
        throw new hf(o);
    }
  }
}
function L7(t, e, r) {
  let n = r,
    i = !1;
  function o(s) {
    if (i) return !1;
    let a = e(s);
    a !== void 0 && ((i = !0), (n = a));
  }
  return P7(t, o), n;
}
function wZ(t) {
  if ((t.type === ls && t.break) || (t.type === yi && t.hard) || t.type === uo)
    return !0;
}
function xZ(t) {
  return L7(t, wZ, !1);
}
function gk(t) {
  if (t.length > 0) {
    let e = Qn(!1, t, -1);
    !e.expandedStates && !e.break && (e.break = "propagated");
  }
  return null;
}
function kZ(t) {
  let e = new Set(),
    r = [];
  function n(o) {
    if ((o.type === uo && gk(r), o.type === ls)) {
      if ((r.push(o), e.has(o))) return !1;
      e.add(o);
    }
  }
  function i(o) {
    o.type === ls && r.pop().break && gk(r);
  }
  P7(t, n, i, !0);
}
function SZ(t) {
  return t.type === yi && !t.hard
    ? t.soft
      ? ""
      : " "
    : t.type === xs
      ? t.flatContents
      : t;
}
function CZ(t) {
  return Xv(t, SZ);
}
function vk(t) {
  for (
    t = [...t];
    t.length >= 2 && Qn(!1, t, -2).type === yi && Qn(!1, t, -1).type === uo;

  )
    t.length -= 2;
  if (t.length > 0) {
    let e = Fh(Qn(!1, t, -1));
    t[t.length - 1] = e;
  }
  return t;
}
function Fh(t) {
  switch (B0(t)) {
    case ol:
    case sl:
    case ll:
    case ls:
    case ul:
    case ga: {
      let e = Fh(t.contents);
      return { ...t, contents: e };
    }
    case xs:
      return {
        ...t,
        breakContents: Fh(t.breakContents),
        flatContents: Fh(t.flatContents),
      };
    case lo:
      return { ...t, parts: vk(t.parts) };
    case du:
      return vk(t);
    case $0:
      return t.replace(/[\n\r]*$/, "");
    case O0:
    case al:
    case cl:
    case yi:
    case uo:
      break;
    default:
      throw new hf(t);
  }
  return t;
}
function YO(t) {
  return Fh(EZ(t));
}
function AZ(t) {
  switch (B0(t)) {
    case lo:
      if (t.parts.every((e) => e === "")) return "";
      break;
    case ls:
      if (!t.contents && !t.id && !t.break && !t.expandedStates) return "";
      if (
        t.contents.type === ls &&
        t.contents.id === t.id &&
        t.contents.break === t.break &&
        t.contents.expandedStates === t.expandedStates
      )
        return t.contents;
      break;
    case ol:
    case sl:
    case ll:
    case ul:
      if (!t.contents) return "";
      break;
    case xs:
      if (!t.flatContents && !t.breakContents) return "";
      break;
    case du: {
      let e = [];
      for (let r of t) {
        if (!r) continue;
        let [n, ...i] = Array.isArray(r) ? r : [r];
        typeof n == "string" && typeof Qn(!1, e, -1) == "string"
          ? (e[e.length - 1] += n)
          : e.push(n),
          e.push(...i);
      }
      return e.length === 0 ? "" : e.length === 1 ? e[0] : e;
    }
    case $0:
    case O0:
    case al:
    case cl:
    case yi:
    case ga:
    case uo:
      break;
    default:
      throw new hf(t);
  }
  return t;
}
function EZ(t) {
  return Xv(t, (e) => AZ(e));
}
function FZ(t, e = qO) {
  return Xv(t, (r) =>
    typeof r == "string"
      ? UO(
          e,
          r.split(`
`)
        )
      : r
  );
}
function MZ(t) {
  if (t.type === yi) return !0;
}
function _Z(t) {
  return L7(t, MZ, !1);
}
function XO(t, e) {
  return t.type === ga ? { ...t, contents: e(t.contents) } : e(t);
}
var Yi = Symbol("MODE_BREAK"),
  Wo = Symbol("MODE_FLAT"),
  Mh = Symbol("cursor");
function JO() {
  return { value: "", length: 0, queue: [] };
}
function $Z(t, e) {
  return r6(t, { type: "indent" }, e);
}
function OZ(t, e, r) {
  return e === Number.NEGATIVE_INFINITY
    ? t.root || JO()
    : e < 0
      ? r6(t, { type: "dedent" }, r)
      : e
        ? e.type === "root"
          ? { ...t, root: t }
          : r6(
              t,
              {
                type: typeof e == "string" ? "stringAlign" : "numberAlign",
                n: e,
              },
              r
            )
        : t;
}
function r6(t, e, r) {
  let n = e.type === "dedent" ? t.queue.slice(0, -1) : [...t.queue, e],
    i = "",
    o = 0,
    s = 0,
    a = 0;
  for (let p of n)
    switch (p.type) {
      case "indent":
        c(), r.useTabs ? l(1) : u(r.tabWidth);
        break;
      case "stringAlign":
        c(), (i += p.n), (o += p.n.length);
        break;
      case "numberAlign":
        (s += 1), (a += p.n);
        break;
      default:
        throw new Error(`Unexpected type '${p.type}'`);
    }
  return h(), { ...t, value: i, length: o, queue: n };
  function l(p) {
    (i += "	".repeat(p)), (o += r.tabWidth * p);
  }
  function u(p) {
    (i += " ".repeat(p)), (o += p);
  }
  function c() {
    r.useTabs ? f() : h();
  }
  function f() {
    s > 0 && l(s), d();
  }
  function h() {
    a > 0 && u(a), d();
  }
  function d() {
    (s = 0), (a = 0);
  }
}
function n6(t) {
  let e = 0,
    r = 0,
    n = t.length;
  e: for (; n--; ) {
    let i = t[n];
    if (i === Mh) {
      r++;
      continue;
    }
    for (let o = i.length - 1; o >= 0; o--) {
      let s = i[o];
      if (s === " " || s === "	") e++;
      else {
        t[n] = i.slice(0, o + 1);
        break e;
      }
    }
  }
  if (e > 0 || r > 0) for (t.length = n + 1; r-- > 0; ) t.push(Mh);
  return e;
}
function Bm(t, e, r, n, i, o) {
  if (r === Number.POSITIVE_INFINITY) return !0;
  let s = e.length,
    a = [t],
    l = [];
  for (; r >= 0; ) {
    if (a.length === 0) {
      if (s === 0) return !0;
      a.push(e[--s]);
      continue;
    }
    let { mode: u, doc: c } = a.pop();
    switch (B0(c)) {
      case $0:
        l.push(c), (r -= N7(c));
        break;
      case du:
      case lo: {
        let f = DZ(c);
        for (let h = f.length - 1; h >= 0; h--) a.push({ mode: u, doc: f[h] });
        break;
      }
      case sl:
      case ol:
      case ll:
      case ga:
        a.push({ mode: u, doc: c.contents });
        break;
      case al:
        r += n6(l);
        break;
      case ls: {
        if (o && c.break) return !1;
        let f = c.break ? Yi : u,
          h =
            c.expandedStates && f === Yi
              ? Qn(!1, c.expandedStates, -1)
              : c.contents;
        a.push({ mode: f, doc: h });
        break;
      }
      case xs: {
        let f =
          (c.groupId ? i[c.groupId] || Wo : u) === Yi
            ? c.breakContents
            : c.flatContents;
        f && a.push({ mode: u, doc: f });
        break;
      }
      case yi:
        if (u === Yi || c.hard) return !0;
        c.soft || (l.push(" "), r--);
        break;
      case ul:
        n = !0;
        break;
      case cl:
        if (n) return !1;
        break;
    }
  }
  return !1;
}
function Jv(t, e) {
  let r = {},
    n = e.printWidth,
    i = I7(e.endOfLine),
    o = 0,
    s = [{ ind: JO(), mode: Yi, doc: t }],
    a = [],
    l = !1,
    u = [],
    c = 0;
  for (kZ(t); s.length > 0; ) {
    let { ind: h, mode: d, doc: p } = s.pop();
    switch (B0(p)) {
      case $0: {
        let m =
          i !==
          `
`
            ? Kv(
                !1,
                p,
                `
`,
                i
              )
            : p;
        a.push(m), s.length > 0 && (o += N7(m));
        break;
      }
      case du:
        for (let m = p.length - 1; m >= 0; m--)
          s.push({ ind: h, mode: d, doc: p[m] });
        break;
      case O0:
        if (c >= 2) throw new Error("There are too many 'cursor' in doc.");
        a.push(Mh), c++;
        break;
      case sl:
        s.push({ ind: $Z(h, e), mode: d, doc: p.contents });
        break;
      case ol:
        s.push({ ind: OZ(h, p.n, e), mode: d, doc: p.contents });
        break;
      case al:
        o -= n6(a);
        break;
      case ls:
        switch (d) {
          case Wo:
            if (!l) {
              s.push({ ind: h, mode: p.break ? Yi : Wo, doc: p.contents });
              break;
            }
          case Yi: {
            l = !1;
            let m = { ind: h, mode: Wo, doc: p.contents },
              b = n - o,
              D = u.length > 0;
            if (!p.break && Bm(m, s, b, D, r)) s.push(m);
            else if (p.expandedStates) {
              let k = Qn(!1, p.expandedStates, -1);
              if (p.break) {
                s.push({ ind: h, mode: Yi, doc: k });
                break;
              } else
                for (let S = 1; S < p.expandedStates.length + 1; S++)
                  if (S >= p.expandedStates.length) {
                    s.push({ ind: h, mode: Yi, doc: k });
                    break;
                  } else {
                    let B = p.expandedStates[S],
                      $ = { ind: h, mode: Wo, doc: B };
                    if (Bm($, s, b, D, r)) {
                      s.push($);
                      break;
                    }
                  }
            } else s.push({ ind: h, mode: Yi, doc: p.contents });
            break;
          }
        }
        p.id && (r[p.id] = Qn(!1, s, -1).mode);
        break;
      case lo: {
        let m = n - o,
          { parts: b } = p;
        if (b.length === 0) break;
        let [D, k] = b,
          S = { ind: h, mode: Wo, doc: D },
          B = { ind: h, mode: Yi, doc: D },
          $ = Bm(S, [], m, u.length > 0, r, !0);
        if (b.length === 1) {
          $ ? s.push(S) : s.push(B);
          break;
        }
        let T = { ind: h, mode: Wo, doc: k },
          P = { ind: h, mode: Yi, doc: k };
        if (b.length === 2) {
          $ ? s.push(T, S) : s.push(P, B);
          break;
        }
        b.splice(0, 2);
        let te = { ind: h, mode: d, doc: HO(b) },
          ee = b[0];
        Bm({ ind: h, mode: Wo, doc: [D, k, ee] }, [], m, u.length > 0, r, !0)
          ? s.push(te, T, S)
          : $
            ? s.push(te, P, S)
            : s.push(te, P, B);
        break;
      }
      case xs:
      case ll: {
        let m = p.groupId ? r[p.groupId] : d;
        if (m === Yi) {
          let b =
            p.type === xs
              ? p.breakContents
              : p.negate
                ? p.contents
                : R1(p.contents);
          b && s.push({ ind: h, mode: d, doc: b });
        }
        if (m === Wo) {
          let b =
            p.type === xs
              ? p.flatContents
              : p.negate
                ? R1(p.contents)
                : p.contents;
          b && s.push({ ind: h, mode: d, doc: b });
        }
        break;
      }
      case ul:
        u.push({ ind: h, mode: d, doc: p.contents });
        break;
      case cl:
        u.length > 0 && s.push({ ind: h, mode: d, doc: R7 });
        break;
      case yi:
        switch (d) {
          case Wo:
            if (p.hard) l = !0;
            else {
              p.soft || (a.push(" "), (o += 1));
              break;
            }
          case Yi:
            if (u.length > 0) {
              s.push({ ind: h, mode: d, doc: p }, ...u.reverse()),
                (u.length = 0);
              break;
            }
            p.literal
              ? h.root
                ? (a.push(i, h.root.value), (o = h.root.length))
                : (a.push(i), (o = 0))
              : ((o -= n6(a)), a.push(i + h.value), (o = h.length));
            break;
        }
        break;
      case ga:
        s.push({ ind: h, mode: d, doc: p.contents });
        break;
      case uo:
        break;
      default:
        throw new hf(p);
    }
    s.length === 0 && u.length > 0 && (s.push(...u.reverse()), (u.length = 0));
  }
  let f = a.indexOf(Mh);
  if (f !== -1) {
    let h = a.indexOf(Mh, f + 1),
      d = a.slice(0, f).join(""),
      p = a.slice(f + 1, h).join(""),
      m = a.slice(h + 1).join("");
    return {
      formatted: d + p + m,
      cursorNodeStart: d.length,
      cursorNodeText: p,
    };
  }
  return { formatted: a.join("") };
}
function Ea(t) {
  var e;
  if (!t) return "";
  if (Array.isArray(t)) {
    let r = [];
    for (let n of t)
      if (Array.isArray(n)) r.push(...Ea(n));
      else {
        let i = Ea(n);
        i !== "" && r.push(i);
      }
    return r;
  }
  return t.type === xs
    ? {
        ...t,
        breakContents: Ea(t.breakContents),
        flatContents: Ea(t.flatContents),
      }
    : t.type === ls
      ? {
          ...t,
          contents: Ea(t.contents),
          expandedStates: (e = t.expandedStates) == null ? void 0 : e.map(Ea),
        }
      : t.type === lo
        ? { type: "fill", parts: t.parts.map(Ea) }
        : t.contents
          ? { ...t, contents: Ea(t.contents) }
          : t;
}
function BZ(t) {
  let e = Object.create(null),
    r = new Set();
  return n(Ea(t));
  function n(o, s, a) {
    var l, u;
    if (typeof o == "string") return JSON.stringify(o);
    if (Array.isArray(o)) {
      let c = o.map(n).filter(Boolean);
      return c.length === 1 ? c[0] : `[${c.join(", ")}]`;
    }
    if (o.type === yi) {
      let c =
        ((l = a == null ? void 0 : a[s + 1]) == null ? void 0 : l.type) === uo;
      return o.literal
        ? c
          ? "literalline"
          : "literallineWithoutBreakParent"
        : o.hard
          ? c
            ? "hardline"
            : "hardlineWithoutBreakParent"
          : o.soft
            ? "softline"
            : "line";
    }
    if (o.type === uo)
      return ((u = a == null ? void 0 : a[s - 1]) == null ? void 0 : u.type) ===
        yi && a[s - 1].hard
        ? void 0
        : "breakParent";
    if (o.type === al) return "trim";
    if (o.type === sl) return "indent(" + n(o.contents) + ")";
    if (o.type === ol)
      return o.n === Number.NEGATIVE_INFINITY
        ? "dedentToRoot(" + n(o.contents) + ")"
        : o.n < 0
          ? "dedent(" + n(o.contents) + ")"
          : o.n.type === "root"
            ? "markAsRoot(" + n(o.contents) + ")"
            : "align(" + JSON.stringify(o.n) + ", " + n(o.contents) + ")";
    if (o.type === xs)
      return (
        "ifBreak(" +
        n(o.breakContents) +
        (o.flatContents ? ", " + n(o.flatContents) : "") +
        (o.groupId
          ? (o.flatContents ? "" : ', ""') + `, { groupId: ${i(o.groupId)} }`
          : "") +
        ")"
      );
    if (o.type === ll) {
      let c = [];
      o.negate && c.push("negate: true"),
        o.groupId && c.push(`groupId: ${i(o.groupId)}`);
      let f = c.length > 0 ? `, { ${c.join(", ")} }` : "";
      return `indentIfBreak(${n(o.contents)}${f})`;
    }
    if (o.type === ls) {
      let c = [];
      o.break && o.break !== "propagated" && c.push("shouldBreak: true"),
        o.id && c.push(`id: ${i(o.id)}`);
      let f = c.length > 0 ? `, { ${c.join(", ")} }` : "";
      return o.expandedStates
        ? `conditionalGroup([${o.expandedStates.map((h) => n(h)).join(",")}]${f})`
        : `group(${n(o.contents)}${f})`;
    }
    if (o.type === lo) return `fill([${o.parts.map((c) => n(c)).join(", ")}])`;
    if (o.type === ul) return "lineSuffix(" + n(o.contents) + ")";
    if (o.type === cl) return "lineSuffixBoundary";
    if (o.type === ga)
      return `label(${JSON.stringify(o.label)}, ${n(o.contents)})`;
    throw new Error("Unknown doc type " + o.type);
  }
  function i(o) {
    if (typeof o != "symbol") return JSON.stringify(String(o));
    if (o in e) return e[o];
    let s = o.description || "symbol";
    for (let a = 0; ; a++) {
      let l = s + (a > 0 ? ` #${a}` : "");
      if (!r.has(l))
        return r.add(l), (e[o] = `Symbol.for(${JSON.stringify(l)})`);
    }
  }
}
function TZ(t, e, r = 0) {
  let n = 0;
  for (let i = r; i < t.length; ++i) t[i] === "	" ? (n = n + e - (n % e)) : n++;
  return n;
}
var z7 = TZ,
  QO = class extends Error {
    constructor() {
      super(...arguments), T7(this, "name", "ConfigError");
    }
  },
  yk = class extends Error {
    constructor() {
      super(...arguments), T7(this, "name", "UndefinedParserError");
    }
  },
  PZ = {
    cursorOffset: {
      category: "Special",
      type: "int",
      default: -1,
      range: { start: -1, end: 1 / 0, step: 1 },
      description: `Print (to stderr) where a cursor at the given position would move to after formatting.
This option cannot be used with --range-start and --range-end.`,
      cliCategory: "Editor",
    },
    endOfLine: {
      category: "Global",
      type: "choice",
      default: "lf",
      description: "Which end of line characters to apply.",
      choices: [
        {
          value: "lf",
          description:
            "Line Feed only (\\n), common on Linux and macOS as well as inside git repos",
        },
        {
          value: "crlf",
          description:
            "Carriage Return + Line Feed characters (\\r\\n), common on Windows",
        },
        {
          value: "cr",
          description: "Carriage Return character only (\\r), used very rarely",
        },
        {
          value: "auto",
          description: `Maintain existing
(mixed values within one file are normalised by looking at what's used after the first line)`,
        },
      ],
    },
    filepath: {
      category: "Special",
      type: "path",
      description:
        "Specify the input filepath. This will be used to do parser inference.",
      cliName: "stdin-filepath",
      cliCategory: "Other",
      cliDescription: "Path to the file to pretend that stdin comes from.",
    },
    insertPragma: {
      category: "Special",
      type: "boolean",
      default: !1,
      description: "Insert @format pragma into file's first docblock comment.",
      cliCategory: "Other",
    },
    parser: {
      category: "Global",
      type: "choice",
      default: void 0,
      description: "Which parser to use.",
      exception: (t) => typeof t == "string" || typeof t == "function",
      choices: [
        { value: "flow", description: "Flow" },
        { value: "babel", description: "JavaScript" },
        { value: "babel-flow", description: "Flow" },
        { value: "babel-ts", description: "TypeScript" },
        { value: "typescript", description: "TypeScript" },
        { value: "acorn", description: "JavaScript" },
        { value: "espree", description: "JavaScript" },
        { value: "meriyah", description: "JavaScript" },
        { value: "css", description: "CSS" },
        { value: "less", description: "Less" },
        { value: "scss", description: "SCSS" },
        { value: "json", description: "JSON" },
        { value: "json5", description: "JSON5" },
        { value: "json-stringify", description: "JSON.stringify" },
        { value: "graphql", description: "GraphQL" },
        { value: "markdown", description: "Markdown" },
        { value: "mdx", description: "MDX" },
        { value: "vue", description: "Vue" },
        { value: "yaml", description: "YAML" },
        { value: "glimmer", description: "Ember / Handlebars" },
        { value: "html", description: "HTML" },
        { value: "angular", description: "Angular" },
        { value: "lwc", description: "Lightning Web Components" },
      ],
    },
    plugins: {
      type: "path",
      array: !0,
      default: [{ value: [] }],
      category: "Global",
      description:
        "Add a plugin. Multiple plugins can be passed as separate `--plugin`s.",
      exception: (t) => typeof t == "string" || typeof t == "object",
      cliName: "plugin",
      cliCategory: "Config",
    },
    printWidth: {
      category: "Global",
      type: "int",
      default: 80,
      description: "The line length where Prettier will try wrap.",
      range: { start: 0, end: 1 / 0, step: 1 },
    },
    rangeEnd: {
      category: "Special",
      type: "int",
      default: 1 / 0,
      range: { start: 0, end: 1 / 0, step: 1 },
      description: `Format code ending at a given character offset (exclusive).
The range will extend forwards to the end of the selected statement.
This option cannot be used with --cursor-offset.`,
      cliCategory: "Editor",
    },
    rangeStart: {
      category: "Special",
      type: "int",
      default: 0,
      range: { start: 0, end: 1 / 0, step: 1 },
      description: `Format code starting at a given character offset.
The range will extend backwards to the start of the first line containing the selected statement.
This option cannot be used with --cursor-offset.`,
      cliCategory: "Editor",
    },
    requirePragma: {
      category: "Special",
      type: "boolean",
      default: !1,
      description: `Require either '@prettier' or '@format' to be present in the file's first docblock comment
in order for it to be formatted.`,
      cliCategory: "Other",
    },
    tabWidth: {
      type: "int",
      category: "Global",
      default: 2,
      description: "Number of spaces per indentation level.",
      range: { start: 0, end: 1 / 0, step: 1 },
    },
    useTabs: {
      category: "Global",
      type: "boolean",
      default: !1,
      description: "Indent with tabs instead of spaces.",
    },
    embeddedLanguageFormatting: {
      category: "Global",
      type: "choice",
      default: "auto",
      description:
        "Control how Prettier formats quoted code embedded in the file.",
      choices: [
        {
          value: "auto",
          description:
            "Format embedded code if Prettier can automatically identify it.",
        },
        {
          value: "off",
          description: "Never automatically format embedded code.",
        },
      ],
    },
  };
function ZO({ plugins: t = [], showDeprecated: e = !1 } = {}) {
  let r = t.flatMap((i) => i.languages ?? []),
    n = [];
  for (let i of IZ(Object.assign({}, ...t.map(({ options: o }) => o), PZ)))
    (!e && i.deprecated) ||
      (Array.isArray(i.choices) &&
        (e || (i.choices = i.choices.filter((o) => !o.deprecated)),
        i.name === "parser" &&
          (i.choices = [...i.choices, ...RZ(i.choices, r, t)])),
      (i.pluginDefaults = Object.fromEntries(
        t
          .filter((o) => {
            var s;
            return (
              ((s = o.defaultOptions) == null ? void 0 : s[i.name]) !== void 0
            );
          })
          .map((o) => [o.name, o.defaultOptions[i.name]])
      )),
      n.push(i));
  return { languages: r, options: n };
}
function* RZ(t, e, r) {
  let n = new Set(t.map((i) => i.value));
  for (let i of e)
    if (i.parsers) {
      for (let o of i.parsers)
        if (!n.has(o)) {
          n.add(o);
          let s = r.find(
              (l) =>
                l.parsers && Object.prototype.hasOwnProperty.call(l.parsers, o)
            ),
            a = i.name;
          s != null && s.name && (a += ` (plugin: ${s.name})`),
            yield { value: o, description: a };
        }
    }
}
function IZ(t) {
  let e = [];
  for (let [r, n] of Object.entries(t)) {
    let i = { name: r, ...n };
    Array.isArray(i.default) && (i.default = Qn(!1, i.default, -1).value),
      e.push(i);
  }
  return e;
}
var NZ = (t) => t.split(/[/\\]/).pop();
function bk(t, e) {
  if (!e) return;
  let r = NZ(e).toLowerCase();
  return t.find((n) => {
    var i, o;
    return (
      ((i = n.extensions) == null ? void 0 : i.some((s) => r.endsWith(s))) ||
      ((o = n.filenames) == null
        ? void 0
        : o.some((s) => s.toLowerCase() === r))
    );
  });
}
function LZ(t, e) {
  if (e)
    return (
      t.find(({ name: r }) => r.toLowerCase() === e) ??
      t.find(({ aliases: r }) => (r == null ? void 0 : r.includes(e))) ??
      t.find(({ extensions: r }) => (r == null ? void 0 : r.includes(`.${e}`)))
    );
}
function zZ(t, e) {
  let r = t.plugins.flatMap((i) => i.languages ?? []),
    n =
      LZ(r, e.language) ??
      bk(r, e.physicalFile) ??
      bk(r, e.file) ??
      (e.physicalFile, void 0);
  return n == null ? void 0 : n.parsers[0];
}
var jZ = zZ,
  Dc = {
    key: (t) => (/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t) ? t : JSON.stringify(t)),
    value(t) {
      if (t === null || typeof t != "object") return JSON.stringify(t);
      if (Array.isArray(t)) return `[${t.map((r) => Dc.value(r)).join(", ")}]`;
      let e = Object.keys(t);
      return e.length === 0
        ? "{}"
        : `{ ${e.map((r) => `${Dc.key(r)}: ${Dc.value(t[r])}`).join(", ")} }`;
    },
    pair: ({ key: t, value: e }) => Dc.value({ [t]: e }),
  },
  Dk = gp(Gv(), 1),
  HZ = (t, e, { descriptor: r }) => {
    let n = [
      `${Dk.default.yellow(typeof t == "string" ? r.key(t) : r.pair(t))} is deprecated`,
    ];
    return (
      e &&
        n.push(
          `we now treat it as ${Dk.default.blue(typeof e == "string" ? r.key(e) : r.pair(e))}`
        ),
      n.join("; ") + "."
    );
  },
  wc = gp(Gv(), 1),
  eB = Symbol.for("vnopts.VALUE_NOT_EXIST"),
  kg = Symbol.for("vnopts.VALUE_UNCHANGED"),
  wk = " ".repeat(2),
  VZ = (t, e, r) => {
    let { text: n, list: i } = r.normalizeExpectedResult(
        r.schemas[t].expected(r)
      ),
      o = [];
    return (
      n && o.push(xk(t, e, n, r.descriptor)),
      i &&
        o.push(
          [xk(t, e, i.title, r.descriptor)].concat(
            i.values.map((s) => tB(s, r.loggerPrintWidth))
          ).join(`
`)
        ),
      rB(o, r.loggerPrintWidth)
    );
  };
function xk(t, e, r, n) {
  return [
    `Invalid ${wc.default.red(n.key(t))} value.`,
    `Expected ${wc.default.blue(r)},`,
    `but received ${e === eB ? wc.default.gray("nothing") : wc.default.red(n.value(e))}.`,
  ].join(" ");
}
function tB({ text: t, list: e }, r) {
  let n = [];
  return (
    t && n.push(`- ${wc.default.blue(t)}`),
    e &&
      n.push(
        [`- ${wc.default.blue(e.title)}:`].concat(
          e.values.map((i) => tB(i, r - wk.length).replace(/^|\n/g, `$&${wk}`))
        ).join(`
`)
      ),
    rB(n, r)
  );
}
function rB(t, e) {
  if (t.length === 1) return t[0];
  let [r, n] = t,
    [i, o] = t.map(
      (s) =>
        s.split(
          `
`,
          1
        )[0].length
    );
  return i > e && i > o ? n : r;
}
var kk = gp(Gv(), 1),
  ay = [],
  Sk = [];
function WZ(t, e) {
  if (t === e) return 0;
  let r = t;
  t.length > e.length && ((t = e), (e = r));
  let n = t.length,
    i = e.length;
  for (; n > 0 && t.charCodeAt(~-n) === e.charCodeAt(~-i); ) n--, i--;
  let o = 0;
  for (; o < n && t.charCodeAt(o) === e.charCodeAt(o); ) o++;
  if (((n -= o), (i -= o), n === 0)) return i;
  let s,
    a,
    l,
    u,
    c = 0,
    f = 0;
  for (; c < n; ) (Sk[c] = t.charCodeAt(o + c)), (ay[c] = ++c);
  for (; f < i; )
    for (s = e.charCodeAt(o + f), l = f++, a = f, c = 0; c < n; c++)
      (u = s === Sk[c] ? l : l + 1),
        (l = ay[c]),
        (a = ay[c] = l > a ? (u > a ? a + 1 : u) : u > l ? l + 1 : u);
  return a;
}
var nB = (t, e, { descriptor: r, logger: n, schemas: i }) => {
    let o = [
        `Ignored unknown option ${kk.default.yellow(r.pair({ key: t, value: e }))}.`,
      ],
      s = Object.keys(i)
        .sort()
        .find((a) => WZ(t, a) < 3);
    s && o.push(`Did you mean ${kk.default.blue(r.key(s))}?`),
      n.warn(o.join(" "));
  },
  qZ = [
    "default",
    "expected",
    "validate",
    "deprecated",
    "forward",
    "redirect",
    "overlap",
    "preprocess",
    "postprocess",
  ];
function UZ(t, e) {
  let r = new t(e),
    n = Object.create(r);
  for (let i of qZ) i in e && (n[i] = GZ(e[i], r, Ou.prototype[i].length));
  return n;
}
var Ou = class {
  static create(t) {
    return UZ(this, t);
  }
  constructor(t) {
    this.name = t.name;
  }
  default(t) {}
  expected(t) {
    return "nothing";
  }
  validate(t, e) {
    return !1;
  }
  deprecated(t, e) {
    return !1;
  }
  forward(t, e) {}
  redirect(t, e) {}
  overlap(t, e, r) {
    return t;
  }
  preprocess(t, e) {
    return t;
  }
  postprocess(t, e) {
    return kg;
  }
};
function GZ(t, e, r) {
  return typeof t == "function"
    ? (...n) => t(...n.slice(0, r - 1), e, ...n.slice(r - 1))
    : () => t;
}
var KZ = class extends Ou {
    constructor(t) {
      super(t), (this._sourceName = t.sourceName);
    }
    expected(t) {
      return t.schemas[this._sourceName].expected(t);
    }
    validate(t, e) {
      return e.schemas[this._sourceName].validate(t, e);
    }
    redirect(t, e) {
      return this._sourceName;
    }
  },
  YZ = class extends Ou {
    expected() {
      return "anything";
    }
    validate() {
      return !0;
    }
  },
  XZ = class extends Ou {
    constructor({ valueSchema: t, name: e = t.name, ...r }) {
      super({ ...r, name: e }), (this._valueSchema = t);
    }
    expected(t) {
      let { text: e, list: r } = t.normalizeExpectedResult(
        this._valueSchema.expected(t)
      );
      return {
        text: e && `an array of ${e}`,
        list: r && {
          title: "an array of the following values",
          values: [{ list: r }],
        },
      };
    }
    validate(t, e) {
      if (!Array.isArray(t)) return !1;
      let r = [];
      for (let n of t) {
        let i = e.normalizeValidateResult(this._valueSchema.validate(n, e), n);
        i !== !0 && r.push(i.value);
      }
      return r.length === 0 ? !0 : { value: r };
    }
    deprecated(t, e) {
      let r = [];
      for (let n of t) {
        let i = e.normalizeDeprecatedResult(
          this._valueSchema.deprecated(n, e),
          n
        );
        i !== !1 && r.push(...i.map(({ value: o }) => ({ value: [o] })));
      }
      return r;
    }
    forward(t, e) {
      let r = [];
      for (let n of t) {
        let i = e.normalizeForwardResult(this._valueSchema.forward(n, e), n);
        r.push(...i.map(Ck));
      }
      return r;
    }
    redirect(t, e) {
      let r = [],
        n = [];
      for (let i of t) {
        let o = e.normalizeRedirectResult(this._valueSchema.redirect(i, e), i);
        "remain" in o && r.push(o.remain), n.push(...o.redirect.map(Ck));
      }
      return r.length === 0 ? { redirect: n } : { redirect: n, remain: r };
    }
    overlap(t, e) {
      return t.concat(e);
    }
  };
function Ck({ from: t, to: e }) {
  return { from: [t], to: e };
}
var JZ = class extends Ou {
  expected() {
    return "true or false";
  }
  validate(t) {
    return typeof t == "boolean";
  }
};
function QZ(t, e) {
  let r = Object.create(null);
  for (let n of t) {
    let i = n[e];
    if (r[i]) throw new Error(`Duplicate ${e} ${JSON.stringify(i)}`);
    r[i] = n;
  }
  return r;
}
function ZZ(t, e) {
  let r = new Map();
  for (let n of t) {
    let i = n[e];
    if (r.has(i)) throw new Error(`Duplicate ${e} ${JSON.stringify(i)}`);
    r.set(i, n);
  }
  return r;
}
function eee() {
  let t = Object.create(null);
  return (e) => {
    let r = JSON.stringify(e);
    return t[r] ? !0 : ((t[r] = !0), !1);
  };
}
function tee(t, e) {
  let r = [],
    n = [];
  for (let i of t) e(i) ? r.push(i) : n.push(i);
  return [r, n];
}
function ree(t) {
  return t === Math.floor(t);
}
function nee(t, e) {
  if (t === e) return 0;
  let r = typeof t,
    n = typeof e,
    i = ["undefined", "object", "boolean", "number", "string"];
  return r !== n
    ? i.indexOf(r) - i.indexOf(n)
    : r !== "string"
      ? Number(t) - Number(e)
      : t.localeCompare(e);
}
function iee(t) {
  return (...e) => {
    let r = t(...e);
    return typeof r == "string" ? new Error(r) : r;
  };
}
function Ak(t) {
  return t === void 0 ? {} : t;
}
function iB(t) {
  if (typeof t == "string") return { text: t };
  let { text: e, list: r } = t;
  return (
    see(
      (e || r) !== void 0,
      "Unexpected `expected` result, there should be at least one field."
    ),
    r
      ? { text: e, list: { title: r.title, values: r.values.map(iB) } }
      : { text: e }
  );
}
function Ek(t, e) {
  return t === !0 ? !0 : t === !1 ? { value: e } : t;
}
function Fk(t, e, r = !1) {
  return t === !1
    ? !1
    : t === !0
      ? r
        ? !0
        : [{ value: e }]
      : "value" in t
        ? [t]
        : t.length === 0
          ? !1
          : t;
}
function Mk(t, e) {
  return typeof t == "string" || "key" in t
    ? { from: e, to: t }
    : "from" in t
      ? { from: t.from, to: t.to }
      : { from: e, to: t.to };
}
function i6(t, e) {
  return t === void 0
    ? []
    : Array.isArray(t)
      ? t.map((r) => Mk(r, e))
      : [Mk(t, e)];
}
function _k(t, e) {
  let r = i6(typeof t == "object" && "redirect" in t ? t.redirect : t, e);
  return r.length === 0
    ? { remain: e, redirect: r }
    : typeof t == "object" && "remain" in t
      ? { remain: t.remain, redirect: r }
      : { redirect: r };
}
function see(t, e) {
  if (!t) throw new Error(e);
}
var oee = class extends Ou {
    constructor(t) {
      super(t),
        (this._choices = ZZ(
          t.choices.map((e) => (e && typeof e == "object" ? e : { value: e })),
          "value"
        ));
    }
    expected({ descriptor: t }) {
      let e = Array.from(this._choices.keys())
          .map((i) => this._choices.get(i))
          .filter(({ hidden: i }) => !i)
          .map((i) => i.value)
          .sort(nee)
          .map(t.value),
        r = e.slice(0, -2),
        n = e.slice(-2);
      return {
        text: r.concat(n.join(" or ")).join(", "),
        list: { title: "one of the following values", values: e },
      };
    }
    validate(t) {
      return this._choices.has(t);
    }
    deprecated(t) {
      let e = this._choices.get(t);
      return e && e.deprecated ? { value: t } : !1;
    }
    forward(t) {
      let e = this._choices.get(t);
      return e ? e.forward : void 0;
    }
    redirect(t) {
      let e = this._choices.get(t);
      return e ? e.redirect : void 0;
    }
  },
  aee = class extends Ou {
    expected() {
      return "a number";
    }
    validate(t, e) {
      return typeof t == "number";
    }
  },
  lee = class extends aee {
    expected() {
      return "an integer";
    }
    validate(t, e) {
      return (
        e.normalizeValidateResult(super.validate(t, e), t) === !0 && ree(t)
      );
    }
  },
  $k = class extends Ou {
    expected() {
      return "a string";
    }
    validate(t) {
      return typeof t == "string";
    }
  },
  uee = Dc,
  cee = nB,
  fee = VZ,
  hee = HZ,
  dee = class {
    constructor(t, e) {
      let {
        logger: r = console,
        loggerPrintWidth: n = 80,
        descriptor: i = uee,
        unknown: o = cee,
        invalid: s = fee,
        deprecated: a = hee,
        missing: l = () => !1,
        required: u = () => !1,
        preprocess: c = (h) => h,
        postprocess: f = () => kg,
      } = e || {};
      (this._utils = {
        descriptor: i,
        logger: r || { warn: () => {} },
        loggerPrintWidth: n,
        schemas: QZ(t, "name"),
        normalizeDefaultResult: Ak,
        normalizeExpectedResult: iB,
        normalizeDeprecatedResult: Fk,
        normalizeForwardResult: i6,
        normalizeRedirectResult: _k,
        normalizeValidateResult: Ek,
      }),
        (this._unknownHandler = o),
        (this._invalidHandler = iee(s)),
        (this._deprecatedHandler = a),
        (this._identifyMissing = (h, d) => !(h in d) || l(h, d)),
        (this._identifyRequired = u),
        (this._preprocess = c),
        (this._postprocess = f),
        this.cleanHistory();
    }
    cleanHistory() {
      this._hasDeprecationWarned = eee();
    }
    normalize(t) {
      let e = {},
        r = [this._preprocess(t, this._utils)],
        n = () => {
          for (; r.length !== 0; ) {
            let i = r.shift(),
              o = this._applyNormalization(i, e);
            r.push(...o);
          }
        };
      n();
      for (let i of Object.keys(this._utils.schemas)) {
        let o = this._utils.schemas[i];
        if (!(i in e)) {
          let s = Ak(o.default(this._utils));
          "value" in s && r.push({ [i]: s.value });
        }
      }
      n();
      for (let i of Object.keys(this._utils.schemas)) {
        if (!(i in e)) continue;
        let o = this._utils.schemas[i],
          s = e[i],
          a = o.postprocess(s, this._utils);
        a !== kg && (this._applyValidation(a, i, o), (e[i] = a));
      }
      return this._applyPostprocess(e), this._applyRequiredCheck(e), e;
    }
    _applyNormalization(t, e) {
      let r = [],
        { knownKeys: n, unknownKeys: i } = this._partitionOptionKeys(t);
      for (let o of n) {
        let s = this._utils.schemas[o],
          a = s.preprocess(t[o], this._utils);
        this._applyValidation(a, o, s);
        let l = ({ from: f, to: h }) => {
            r.push(typeof h == "string" ? { [h]: f } : { [h.key]: h.value });
          },
          u = ({ value: f, redirectTo: h }) => {
            let d = Fk(s.deprecated(f, this._utils), a, !0);
            if (d !== !1)
              if (d === !0)
                this._hasDeprecationWarned(o) ||
                  this._utils.logger.warn(
                    this._deprecatedHandler(o, h, this._utils)
                  );
              else
                for (let { value: p } of d) {
                  let m = { key: o, value: p };
                  if (!this._hasDeprecationWarned(m)) {
                    let b = typeof h == "string" ? { key: h, value: p } : h;
                    this._utils.logger.warn(
                      this._deprecatedHandler(m, b, this._utils)
                    );
                  }
                }
          };
        i6(s.forward(a, this._utils), a).forEach(l);
        let c = _k(s.redirect(a, this._utils), a);
        if ((c.redirect.forEach(l), "remain" in c)) {
          let f = c.remain;
          (e[o] = o in e ? s.overlap(e[o], f, this._utils) : f),
            u({ value: f });
        }
        for (let { from: f, to: h } of c.redirect)
          u({ value: f, redirectTo: h });
      }
      for (let o of i) {
        let s = t[o];
        this._applyUnknownHandler(o, s, e, (a, l) => {
          r.push({ [a]: l });
        });
      }
      return r;
    }
    _applyRequiredCheck(t) {
      for (let e of Object.keys(this._utils.schemas))
        if (this._identifyMissing(e, t) && this._identifyRequired(e))
          throw this._invalidHandler(e, eB, this._utils);
    }
    _partitionOptionKeys(t) {
      let [e, r] = tee(
        Object.keys(t).filter((n) => !this._identifyMissing(n, t)),
        (n) => n in this._utils.schemas
      );
      return { knownKeys: e, unknownKeys: r };
    }
    _applyValidation(t, e, r) {
      let n = Ek(r.validate(t, this._utils), t);
      if (n !== !0) throw this._invalidHandler(e, n.value, this._utils);
    }
    _applyUnknownHandler(t, e, r, n) {
      let i = this._unknownHandler(t, e, this._utils);
      if (i)
        for (let o of Object.keys(i)) {
          if (this._identifyMissing(o, i)) continue;
          let s = i[o];
          o in this._utils.schemas ? n(o, s) : (r[o] = s);
        }
    }
    _applyPostprocess(t) {
      let e = this._postprocess(t, this._utils);
      if (e !== kg) {
        if (e.delete) for (let r of e.delete) delete t[r];
        if (e.override) {
          let { knownKeys: r, unknownKeys: n } = this._partitionOptionKeys(
            e.override
          );
          for (let i of r) {
            let o = e.override[i];
            this._applyValidation(o, i, this._utils.schemas[i]), (t[i] = o);
          }
          for (let i of n) {
            let o = e.override[i];
            this._applyUnknownHandler(i, o, t, (s, a) => {
              let l = this._utils.schemas[s];
              this._applyValidation(a, s, l), (t[s] = a);
            });
          }
        }
      }
    }
  },
  ly;
function pee(
  t,
  e,
  {
    logger: r = !1,
    isCLI: n = !1,
    passThrough: i = !1,
    FlagSchema: o,
    descriptor: s,
  } = {}
) {
  if (n) {
    if (!o) throw new Error("'FlagSchema' option is required.");
    if (!s) throw new Error("'descriptor' option is required.");
  } else s = Dc;
  let a = i
      ? Array.isArray(i)
        ? (h, d) => (i.includes(h) ? { [h]: d } : void 0)
        : (h, d) => ({ [h]: d })
      : (h, d, p) => {
          let { _: m, ...b } = p.schemas;
          return nB(h, d, { ...p, schemas: b });
        },
    l = mee(e, { isCLI: n, FlagSchema: o }),
    u = new dee(l, { logger: r, unknown: a, descriptor: s }),
    c = r !== !1;
  c && ly && (u._hasDeprecationWarned = ly);
  let f = u.normalize(t);
  return c && (ly = u._hasDeprecationWarned), f;
}
function mee(t, { isCLI: e, FlagSchema: r }) {
  let n = [];
  e && n.push(YZ.create({ name: "_" }));
  for (let i of t)
    n.push(gee(i, { isCLI: e, optionInfos: t, FlagSchema: r })),
      i.alias && e && n.push(KZ.create({ name: i.alias, sourceName: i.name }));
  return n;
}
function gee(t, { isCLI: e, optionInfos: r, FlagSchema: n }) {
  let { name: i } = t,
    o = { name: i },
    s,
    a = {};
  switch (t.type) {
    case "int":
      (s = lee), e && (o.preprocess = Number);
      break;
    case "string":
      s = $k;
      break;
    case "choice":
      (s = oee),
        (o.choices = t.choices.map((l) =>
          l != null && l.redirect
            ? { ...l, redirect: { to: { key: t.name, value: l.redirect } } }
            : l
        ));
      break;
    case "boolean":
      s = JZ;
      break;
    case "flag":
      (s = n),
        (o.flags = r.flatMap((l) =>
          [
            l.alias,
            l.description && l.name,
            l.oppositeDescription && `no-${l.name}`,
          ].filter(Boolean)
        ));
      break;
    case "path":
      s = $k;
      break;
    default:
      throw new Error(`Unexpected type ${t.type}`);
  }
  if (
    (t.exception
      ? (o.validate = (l, u, c) => t.exception(l) || u.validate(l, c))
      : (o.validate = (l, u, c) => l === void 0 || u.validate(l, c)),
    t.redirect &&
      (a.redirect = (l) =>
        l
          ? { to: { key: t.redirect.option, value: t.redirect.value } }
          : void 0),
    t.deprecated && (a.deprecated = !0),
    e && !t.array)
  ) {
    let l = o.preprocess || ((u) => u);
    o.preprocess = (u, c, f) =>
      c.preprocess(l(Array.isArray(u) ? Qn(!1, u, -1) : u), f);
  }
  return t.array
    ? XZ.create({
        ...(e ? { preprocess: (l) => (Array.isArray(l) ? l : [l]) } : {}),
        ...a,
        valueSchema: s.create(o),
      })
    : s.create({ ...o, ...a });
}
var vee = pee;
function sB(t, e) {
  if (!e) throw new Error("parserName is required.");
  for (let n = t.length - 1; n >= 0; n--) {
    let i = t[n];
    if (i.parsers && Object.prototype.hasOwnProperty.call(i.parsers, e))
      return i;
  }
  let r = `Couldn't resolve parser "${e}".`;
  throw (
    ((r += " Plugins must be explicitly added to the standalone bundle."),
    new QO(r))
  );
}
function yee(t, e) {
  if (!e) throw new Error("astFormat is required.");
  for (let n = t.length - 1; n >= 0; n--) {
    let i = t[n];
    if (i.printers && Object.prototype.hasOwnProperty.call(i.printers, e))
      return i;
  }
  let r = `Couldn't find plugin for AST format "${e}".`;
  throw (
    ((r += " Plugins must be explicitly added to the standalone bundle."),
    new QO(r))
  );
}
function oB({ plugins: t, parser: e }) {
  let r = sB(t, e);
  return aB(r, e);
}
function aB(t, e) {
  let r = t.parsers[e];
  return typeof r == "function" ? r() : r;
}
function bee(t, e) {
  let r = t.printers[e];
  return typeof r == "function" ? r() : r;
}
var Ok = {
  astFormat: "estree",
  printer: {},
  originalText: void 0,
  locStart: null,
  locEnd: null,
};
async function Dee(t, e = {}) {
  var r;
  let n = { ...t };
  if (!n.parser)
    if (n.filepath) {
      if (((n.parser = jZ(n, { physicalFile: n.filepath })), !n.parser))
        throw new yk(`No parser could be inferred for file "${n.filepath}".`);
    } else
      throw new yk(
        "No parser and no file path given, couldn't infer a parser."
      );
  let i = ZO({ plugins: t.plugins, showDeprecated: !0 }).options,
    o = {
      ...Ok,
      ...Object.fromEntries(
        i.filter((h) => h.default !== void 0).map((h) => [h.name, h.default])
      ),
    },
    s = sB(n.plugins, n.parser),
    a = await aB(s, n.parser);
  (n.astFormat = a.astFormat), (n.locEnd = a.locEnd), (n.locStart = a.locStart);
  let l =
      (r = s.printers) != null && r[a.astFormat]
        ? s
        : yee(n.plugins, a.astFormat),
    u = await bee(l, a.astFormat);
  n.printer = u;
  let c = l.defaultOptions
      ? Object.fromEntries(
          Object.entries(l.defaultOptions).filter(([, h]) => h !== void 0)
        )
      : {},
    f = { ...o, ...c };
  for (let [h, d] of Object.entries(f))
    (n[h] === null || n[h] === void 0) && (n[h] = d);
  return (
    n.parser === "json" && (n.trailingComma = "none"),
    vee(n, i, { passThrough: Object.keys(Ok), ...e })
  );
}
var Af = Dee,
  lB = new Set([
    "tokens",
    "comments",
    "parent",
    "enclosingNode",
    "precedingNode",
    "followingNode",
  ]),
  wee = (t) => Object.keys(t).filter((e) => !lB.has(e));
function xee(t) {
  return t ? (e) => t(e, lB) : wee;
}
var Qv = xee;
function kee(t, e) {
  let {
    printer: { massageAstNode: r, getVisitorKeys: n },
  } = e;
  if (!r) return t;
  let i = Qv(n),
    o = r.ignoredProperties ?? new Set();
  return s(t);
  function s(a, l) {
    if (!(a !== null && typeof a == "object")) return a;
    if (Array.isArray(a)) return a.map((h) => s(h, l)).filter(Boolean);
    let u = {},
      c = new Set(i(a));
    for (let h in a)
      !Object.prototype.hasOwnProperty.call(a, h) ||
        o.has(h) ||
        (c.has(h) ? (u[h] = s(a[h], a)) : (u[h] = a[h]));
    let f = r(a, u, l);
    if (f !== null) return f ?? u;
  }
}
var See = kee,
  Cee = gp(UQ(), 1);
async function Aee(t, e) {
  let r = await oB(e),
    n = r.preprocess ? r.preprocess(t, e) : t;
  e.originalText = n;
  let i;
  try {
    i = await r.parse(n, e, e);
  } catch (o) {
    Eee(o, t);
  }
  return { text: n, ast: i };
}
function Eee(t, e) {
  let { loc: r } = t;
  if (r) {
    let n = (0, Cee.codeFrameColumns)(e, r, { highlightCode: !0 });
    throw (
      ((t.message +=
        `
` + n),
      (t.codeFrame = n),
      t)
    );
  }
  throw t;
}
var vp = Aee,
  Sg,
  s6,
  oh,
  Cg,
  Fee = class {
    constructor(t) {
      pk(this, Sg), pk(this, oh), (this.stack = [t]);
    }
    get key() {
      let { stack: t, siblings: e } = this;
      return Qn(!1, t, e === null ? -2 : -4) ?? null;
    }
    get index() {
      return this.siblings === null ? null : Qn(!1, this.stack, -2);
    }
    get node() {
      return Qn(!1, this.stack, -1);
    }
    get parent() {
      return this.getNode(1);
    }
    get grandparent() {
      return this.getNode(2);
    }
    get isInArray() {
      return this.siblings !== null;
    }
    get siblings() {
      let { stack: t } = this,
        e = Qn(!1, t, -3);
      return Array.isArray(e) ? e : null;
    }
    get next() {
      let { siblings: t } = this;
      return t === null ? null : t[this.index + 1];
    }
    get previous() {
      let { siblings: t } = this;
      return t === null ? null : t[this.index - 1];
    }
    get isFirst() {
      return this.index === 0;
    }
    get isLast() {
      let { siblings: t, index: e } = this;
      return t !== null && e === t.length - 1;
    }
    get isRoot() {
      return this.stack.length === 1;
    }
    get root() {
      return this.stack[0];
    }
    get ancestors() {
      return [...Yf(this, oh, Cg).call(this)];
    }
    getName() {
      let { stack: t } = this,
        { length: e } = t;
      return e > 1 ? Qn(!1, t, -2) : null;
    }
    getValue() {
      return Qn(!1, this.stack, -1);
    }
    getNode(t = 0) {
      let e = Yf(this, Sg, s6).call(this, t);
      return e === -1 ? null : this.stack[e];
    }
    getParentNode(t = 0) {
      return this.getNode(t + 1);
    }
    call(t, ...e) {
      let { stack: r } = this,
        { length: n } = r,
        i = Qn(!1, r, -1);
      for (let o of e) (i = i[o]), r.push(o, i);
      try {
        return t(this);
      } finally {
        r.length = n;
      }
    }
    callParent(t, e = 0) {
      let r = Yf(this, Sg, s6).call(this, e + 1),
        n = this.stack.splice(r + 1);
      try {
        return t(this);
      } finally {
        this.stack.push(...n);
      }
    }
    each(t, ...e) {
      let { stack: r } = this,
        { length: n } = r,
        i = Qn(!1, r, -1);
      for (let o of e) (i = i[o]), r.push(o, i);
      try {
        for (let o = 0; o < i.length; ++o)
          r.push(o, i[o]), t(this, o, i), (r.length -= 2);
      } finally {
        r.length = n;
      }
    }
    map(t, ...e) {
      let r = [];
      return (
        this.each(
          (n, i, o) => {
            r[i] = t(n, i, o);
          },
          ...e
        ),
        r
      );
    }
    match(...t) {
      let e = this.stack.length - 1,
        r = null,
        n = this.stack[e--];
      for (let i of t) {
        if (n === void 0) return !1;
        let o = null;
        if (
          (typeof r == "number" &&
            ((o = r), (r = this.stack[e--]), (n = this.stack[e--])),
          i && !i(n, r, o))
        )
          return !1;
        (r = this.stack[e--]), (n = this.stack[e--]);
      }
      return !0;
    }
    findAncestor(t) {
      for (let e of Yf(this, oh, Cg).call(this)) if (t(e)) return e;
    }
    hasAncestor(t) {
      for (let e of Yf(this, oh, Cg).call(this)) if (t(e)) return !0;
      return !1;
    }
  };
(Sg = new WeakSet()),
  (s6 = function (t) {
    let { stack: e } = this;
    for (let r = e.length - 1; r >= 0; r -= 2)
      if (!Array.isArray(e[r]) && --t < 0) return r;
    return -1;
  }),
  (oh = new WeakSet()),
  (Cg = function* () {
    let { stack: t } = this;
    for (let e = t.length - 3; e >= 0; e -= 2) {
      let r = t[e];
      Array.isArray(r) || (yield r);
    }
  });
var Mee = Fee,
  uB = new Proxy(() => {}, { get: () => uB }),
  o6 = uB;
function yp(t) {
  return (e, r, n) => {
    let i = !!(n != null && n.backwards);
    if (r === !1) return !1;
    let { length: o } = e,
      s = r;
    for (; s >= 0 && s < o; ) {
      let a = e.charAt(s);
      if (t instanceof RegExp) {
        if (!t.test(a)) return s;
      } else if (!t.includes(a)) return s;
      i ? s-- : s++;
    }
    return s === -1 || s === o ? s : !1;
  };
}
var _ee = yp(/\s/),
  pu = yp(" 	"),
  cB = yp(",; 	"),
  fB = yp(/[^\n\r]/);
function $ee(t, e, r) {
  let n = !!(r != null && r.backwards);
  if (e === !1) return !1;
  let i = t.charAt(e);
  if (n) {
    if (
      t.charAt(e - 1) === "\r" &&
      i ===
        `
`
    )
      return e - 2;
    if (
      i ===
        `
` ||
      i === "\r" ||
      i === "\u2028" ||
      i === "\u2029"
    )
      return e - 1;
  } else {
    if (
      i === "\r" &&
      t.charAt(e + 1) ===
        `
`
    )
      return e + 2;
    if (
      i ===
        `
` ||
      i === "\r" ||
      i === "\u2028" ||
      i === "\u2029"
    )
      return e + 1;
  }
  return e;
}
var b0 = $ee;
function Oee(t, e, r = {}) {
  let n = pu(t, r.backwards ? e - 1 : e, r),
    i = b0(t, n, r);
  return n !== i;
}
var tu = Oee;
function Bee(t) {
  return Array.isArray(t) && t.length > 0;
}
var Tee = Bee;
function Pee(t) {
  return t !== null && typeof t == "object";
}
var Ree = Pee;
function* hB(t, e) {
  let { getVisitorKeys: r, filter: n = () => !0 } = e,
    i = (o) => Ree(o) && n(o);
  for (let o of r(t)) {
    let s = t[o];
    if (Array.isArray(s)) for (let a of s) i(a) && (yield a);
    else i(s) && (yield s);
  }
}
function* Iee(t, e) {
  let r = [t];
  for (let n = 0; n < r.length; n++) {
    let i = r[n];
    for (let o of hB(i, e)) yield o, r.push(o);
  }
}
function Nee(t) {
  let e = t.type || t.kind || "(unknown type)",
    r = String(
      t.name ||
        (t.id && (typeof t.id == "object" ? t.id.name : t.id)) ||
        (t.key && (typeof t.key == "object" ? t.key.name : t.key)) ||
        (t.value && (typeof t.value == "object" ? "" : String(t.value))) ||
        t.operator ||
        ""
    );
  return r.length > 20 && (r = r.slice(0, 19) + "…"), e + (r ? " " + r : "");
}
function j7(t, e) {
  (t.comments ?? (t.comments = [])).push(e),
    (e.printed = !1),
    (e.nodeDescription = Nee(t));
}
function xc(t, e) {
  (e.leading = !0), (e.trailing = !1), j7(t, e);
}
function ju(t, e, r) {
  (e.leading = !1), (e.trailing = !1), r && (e.marker = r), j7(t, e);
}
function kc(t, e) {
  (e.leading = !1), (e.trailing = !0), j7(t, e);
}
var uy = new WeakMap();
function H7(t, e) {
  if (uy.has(t)) return uy.get(t);
  let {
    printer: {
      getCommentChildNodes: r,
      canAttachComment: n,
      getVisitorKeys: i,
    },
    locStart: o,
    locEnd: s,
  } = e;
  if (!n) return [];
  let a = (
    (r == null ? void 0 : r(t, e)) ?? [...hB(t, { getVisitorKeys: Qv(i) })]
  ).flatMap((l) => (n(l) ? [l] : H7(l, e)));
  return a.sort((l, u) => o(l) - o(u) || s(l) - s(u)), uy.set(t, a), a;
}
function dB(t, e, r, n) {
  let { locStart: i, locEnd: o } = r,
    s = i(e),
    a = o(e),
    l = H7(t, r),
    u,
    c,
    f = 0,
    h = l.length;
  for (; f < h; ) {
    let d = (f + h) >> 1,
      p = l[d],
      m = i(p),
      b = o(p);
    if (m <= s && a <= b) return dB(p, e, r, p);
    if (b <= s) {
      (u = p), (f = d + 1);
      continue;
    }
    if (a <= m) {
      (c = p), (h = d);
      continue;
    }
    throw new Error("Comment location overlaps with node location");
  }
  if ((n == null ? void 0 : n.type) === "TemplateLiteral") {
    let { quasis: d } = n,
      p = fy(d, e, r);
    u && fy(d, u, r) !== p && (u = null), c && fy(d, c, r) !== p && (c = null);
  }
  return { enclosingNode: n, precedingNode: u, followingNode: c };
}
var cy = () => !1;
function Lee(t, e) {
  let { comments: r } = t;
  if ((delete t.comments, !Tee(r) || !e.printer.canAttachComment)) return;
  let n = [],
    {
      locStart: i,
      locEnd: o,
      printer: {
        experimentalFeatures: { avoidAstMutation: s = !1 } = {},
        handleComments: a = {},
      },
      originalText: l,
    } = e,
    { ownLine: u = cy, endOfLine: c = cy, remaining: f = cy } = a,
    h = r.map((d, p) => ({
      ...dB(t, d, e),
      comment: d,
      text: l,
      options: e,
      ast: t,
      isLastComment: r.length - 1 === p,
    }));
  for (let [d, p] of h.entries()) {
    let {
      comment: m,
      precedingNode: b,
      enclosingNode: D,
      followingNode: k,
      text: S,
      options: B,
      ast: $,
      isLastComment: T,
    } = p;
    if (
      B.parser === "json" ||
      B.parser === "json5" ||
      B.parser === "__js_expression" ||
      B.parser === "__ts_expression" ||
      B.parser === "__vue_expression" ||
      B.parser === "__vue_ts_expression"
    ) {
      if (i(m) - i($) <= 0) {
        xc($, m);
        continue;
      }
      if (o(m) - o($) >= 0) {
        kc($, m);
        continue;
      }
    }
    let P;
    if (
      (s
        ? (P = [p])
        : ((m.enclosingNode = D),
          (m.precedingNode = b),
          (m.followingNode = k),
          (P = [m, S, B, $, T])),
      zee(S, B, h, d))
    )
      (m.placement = "ownLine"),
        u(...P) || (k ? xc(k, m) : b ? kc(b, m) : ju(D || $, m));
    else if (jee(S, B, h, d))
      (m.placement = "endOfLine"),
        c(...P) || (b ? kc(b, m) : k ? xc(k, m) : ju(D || $, m));
    else if (((m.placement = "remaining"), !f(...P)))
      if (b && k) {
        let te = n.length;
        te > 0 && n[te - 1].followingNode !== k && Bk(n, B), n.push(p);
      } else b ? kc(b, m) : k ? xc(k, m) : ju(D || $, m);
  }
  if ((Bk(n, e), !s))
    for (let d of r)
      delete d.precedingNode, delete d.enclosingNode, delete d.followingNode;
}
var pB = (t) => !/[\S\n\u2028\u2029]/.test(t);
function zee(t, e, r, n) {
  let { comment: i, precedingNode: o } = r[n],
    { locStart: s, locEnd: a } = e,
    l = s(i);
  if (o)
    for (let u = n - 1; u >= 0; u--) {
      let { comment: c, precedingNode: f } = r[u];
      if (f !== o || !pB(t.slice(a(c), l))) break;
      l = s(c);
    }
  return tu(t, l, { backwards: !0 });
}
function jee(t, e, r, n) {
  let { comment: i, followingNode: o } = r[n],
    { locStart: s, locEnd: a } = e,
    l = a(i);
  if (o)
    for (let u = n + 1; u < r.length; u++) {
      let { comment: c, followingNode: f } = r[u];
      if (f !== o || !pB(t.slice(l, s(c)))) break;
      l = a(c);
    }
  return tu(t, l);
}
function Bk(t, e) {
  var r, n;
  let i = t.length;
  if (i === 0) return;
  let { precedingNode: o, followingNode: s } = t[0],
    a = e.locStart(s),
    l;
  for (l = i; l > 0; --l) {
    let { comment: u, precedingNode: c, followingNode: f } = t[l - 1];
    o6.strictEqual(c, o), o6.strictEqual(f, s);
    let h = e.originalText.slice(e.locEnd(u), a);
    if (
      ((n = (r = e.printer).isGap) == null ? void 0 : n.call(r, h, e)) ??
      /^[\s(]*$/.test(h)
    )
      a = e.locStart(u);
    else break;
  }
  for (let [u, { comment: c }] of t.entries()) u < l ? kc(o, c) : xc(s, c);
  for (let u of [o, s])
    u.comments &&
      u.comments.length > 1 &&
      u.comments.sort((c, f) => e.locStart(c) - e.locStart(f));
  t.length = 0;
}
function fy(t, e, r) {
  let n = r.locStart(e) - 1;
  for (let i = 1; i < t.length; ++i) if (n < r.locStart(t[i])) return i - 1;
  return 0;
}
function Hee(t, e) {
  let r = e - 1;
  (r = pu(t, r, { backwards: !0 })),
    (r = b0(t, r, { backwards: !0 })),
    (r = pu(t, r, { backwards: !0 }));
  let n = b0(t, r, { backwards: !0 });
  return r !== n;
}
var V7 = Hee;
function mB(t, e) {
  let r = t.node;
  return (r.printed = !0), e.printer.printComment(t, e);
}
function Vee(t, e) {
  var r;
  let n = t.node,
    i = [mB(t, e)],
    { printer: o, originalText: s, locStart: a, locEnd: l } = e;
  if ((r = o.isBlockComment) != null && r.call(o, n)) {
    let c = tu(s, l(n)) ? (tu(s, a(n), { backwards: !0 }) ? r0 : WO) : " ";
    i.push(c);
  } else i.push(r0);
  let u = b0(s, pu(s, l(n)));
  return u !== !1 && tu(s, u) && i.push(r0), i;
}
function Wee(t, e, r) {
  var n;
  let i = t.node,
    o = mB(t, e),
    { printer: s, originalText: a, locStart: l } = e,
    u = (n = s.isBlockComment) == null ? void 0 : n.call(s, i);
  if (
    (r != null && r.hasLineSuffix && !(r != null && r.isBlock)) ||
    tu(a, l(i), { backwards: !0 })
  ) {
    let c = V7(a, l(i));
    return { doc: e6([r0, c ? r0 : "", o]), isBlock: u, hasLineSuffix: !0 };
  }
  return !u || (r != null && r.hasLineSuffix)
    ? { doc: [e6([" ", o]), Yv], isBlock: u, hasLineSuffix: !0 }
    : { doc: [" ", o], isBlock: u, hasLineSuffix: !1 };
}
function qee(t, e) {
  let r = t.node;
  if (!r) return {};
  let n = e[Symbol.for("printedComments")];
  if ((r.comments || []).filter((a) => !n.has(a)).length === 0)
    return { leading: "", trailing: "" };
  let i = [],
    o = [],
    s;
  return (
    t.each(() => {
      let a = t.node;
      if (n != null && n.has(a)) return;
      let { leading: l, trailing: u } = a;
      l ? i.push(Vee(t, e)) : u && ((s = Wee(t, e, s)), o.push(s.doc));
    }, "comments"),
    { leading: i, trailing: o }
  );
}
function Uee(t, e, r) {
  let { leading: n, trailing: i } = qee(t, r);
  return !n && !i ? e : XO(e, (o) => [n, o, i]);
}
function Gee(t) {
  let { [Symbol.for("comments")]: e, [Symbol.for("printedComments")]: r } = t;
  for (let n of e) {
    if (!n.printed && !r.has(n))
      throw new Error(
        'Comment "' +
          n.value.trim() +
          '" was not printed. Please report this error!'
      );
    delete n.printed;
  }
}
async function Kee(t, e, r, n, i) {
  let {
    embeddedLanguageFormatting: o,
    printer: { embed: s, hasPrettierIgnore: a = () => !1, getVisitorKeys: l },
  } = r;
  if (!s || o !== "auto") return;
  if (s.length > 2)
    throw new Error(
      "printer.embed has too many parameters. The API changed in Prettier v3. Please update your plugin. See https://prettier.io/docs/en/plugins.html#optional-embed"
    );
  let u = Qv(s.getVisitorKeys ?? l),
    c = [];
  d();
  let f = t.stack;
  for (let { print: p, node: m, pathStack: b } of c)
    try {
      t.stack = b;
      let D = await p(h, e, t, r);
      D && i.set(m, D);
    } catch (D) {
      if (globalThis.PRETTIER_DEBUG) throw D;
    }
  t.stack = f;
  function h(p, m) {
    return Yee(p, m, r, n);
  }
  function d() {
    let { node: p } = t;
    if (p === null || typeof p != "object" || a(t)) return;
    for (let b of u(p)) Array.isArray(p[b]) ? t.each(d, b) : t.call(d, b);
    let m = s(t, r);
    if (m) {
      if (typeof m == "function") {
        c.push({ print: m, node: p, pathStack: [...t.stack] });
        return;
      }
      i.set(p, m);
    }
  }
}
async function Yee(t, e, r, n) {
  let i = await Af(
      { ...r, ...e, parentParser: r.parser, originalText: t },
      { passThrough: !0 }
    ),
    { ast: o } = await vp(t, i),
    s = await n(o, i);
  return YO(s);
}
function Xee(t, e) {
  let {
      originalText: r,
      [Symbol.for("comments")]: n,
      locStart: i,
      locEnd: o,
      [Symbol.for("printedComments")]: s,
    } = e,
    { node: a } = t,
    l = i(a),
    u = o(a);
  for (let c of n) i(c) >= l && o(c) <= u && s.add(c);
  return r.slice(l, u);
}
var Jee = Xee;
async function Zv(t, e) {
  ({ ast: t } = await gB(t, e));
  let r = new Map(),
    n = new Mee(t),
    i = new Map();
  await Kee(n, s, e, Zv, i);
  let o = await Tk(n, e, s, void 0, i);
  return Gee(e), o;
  function s(l, u) {
    return l === void 0 || l === n
      ? a(u)
      : Array.isArray(l)
        ? n.call(() => a(u), ...l)
        : n.call(() => a(u), l);
  }
  function a(l) {
    let u = n.node;
    if (u == null) return "";
    let c = u && typeof u == "object" && l === void 0;
    if (c && r.has(u)) return r.get(u);
    let f = Tk(n, e, s, l, i);
    return c && r.set(u, f), f;
  }
}
function Tk(t, e, r, n, i) {
  var o;
  let { node: s } = t,
    { printer: a } = e,
    l;
  return (
    (o = a.hasPrettierIgnore) != null && o.call(a, t)
      ? (l = Jee(t, e))
      : i.has(s)
        ? (l = i.get(s))
        : (l = a.print(t, e, r, n)),
    s === e.cursorNode && (l = XO(l, (u) => [t6, u, t6])),
    a.printComment &&
      (!a.willPrintOwnComments || !a.willPrintOwnComments(t, e)) &&
      (l = Uee(t, l, e)),
    l
  );
}
async function gB(t, e) {
  let r = t.comments ?? [];
  (e[Symbol.for("comments")] = r),
    (e[Symbol.for("tokens")] = t.tokens ?? []),
    (e[Symbol.for("printedComments")] = new Set()),
    Lee(t, e);
  let {
    printer: { preprocess: n },
  } = e;
  return (t = n ? await n(t, e) : t), { ast: t, comments: r };
}
var Qee = ({ parser: t }) =>
  t === "json" || t === "json5" || t === "json-stringify";
function Zee(t, e) {
  let r = [t.node, ...t.parentNodes],
    n = new Set([e.node, ...e.parentNodes]);
  return r.find((i) => vB.has(i.type) && n.has(i));
}
function Pk(t) {
  let e = t.length - 1;
  for (;;) {
    let r = t[e];
    if (
      (r == null ? void 0 : r.type) === "Program" ||
      (r == null ? void 0 : r.type) === "File"
    )
      e--;
    else break;
  }
  return t.slice(0, e + 1);
}
function ete(t, e, { locStart: r, locEnd: n }) {
  let i = t.node,
    o = e.node;
  if (i === o) return { startNode: i, endNode: o };
  let s = r(t.node);
  for (let l of Pk(e.parentNodes))
    if (r(l) >= s) o = l;
    else break;
  let a = n(e.node);
  for (let l of Pk(t.parentNodes)) {
    if (n(l) <= a) i = l;
    else break;
    if (i === o) break;
  }
  return { startNode: i, endNode: o };
}
function a6(t, e, r, n, i = [], o) {
  let { locStart: s, locEnd: a } = r,
    l = s(t),
    u = a(t);
  if (
    !(
      e > u ||
      e < l ||
      (o === "rangeEnd" && e === l) ||
      (o === "rangeStart" && e === u)
    )
  ) {
    for (let c of H7(t, r)) {
      let f = a6(c, e, r, n, [t, ...i], o);
      if (f) return f;
    }
    if (!n || n(t, i[0])) return { node: t, parentNodes: i };
  }
}
function tte(t, e) {
  return (
    e !== "DeclareExportDeclaration" &&
    t !== "TypeParameterDeclaration" &&
    (t === "Directive" ||
      t === "TypeAlias" ||
      t === "TSExportAssignment" ||
      t.startsWith("Declare") ||
      t.startsWith("TSDeclare") ||
      t.endsWith("Statement") ||
      t.endsWith("Declaration"))
  );
}
var vB = new Set([
    "JsonRoot",
    "ObjectExpression",
    "ArrayExpression",
    "StringLiteral",
    "NumericLiteral",
    "BooleanLiteral",
    "NullLiteral",
    "UnaryExpression",
    "TemplateLiteral",
  ]),
  rte = new Set([
    "OperationDefinition",
    "FragmentDefinition",
    "VariableDefinition",
    "TypeExtensionDefinition",
    "ObjectTypeDefinition",
    "FieldDefinition",
    "DirectiveDefinition",
    "EnumTypeDefinition",
    "EnumValueDefinition",
    "InputValueDefinition",
    "InputObjectTypeDefinition",
    "SchemaDefinition",
    "OperationTypeDefinition",
    "InterfaceTypeDefinition",
    "UnionTypeDefinition",
    "ScalarTypeDefinition",
  ]);
function Rk(t, e, r) {
  if (!e) return !1;
  switch (t.parser) {
    case "flow":
    case "babel":
    case "babel-flow":
    case "babel-ts":
    case "typescript":
    case "acorn":
    case "espree":
    case "meriyah":
    case "__babel_estree":
      return tte(e.type, r == null ? void 0 : r.type);
    case "json":
    case "json5":
    case "json-stringify":
      return vB.has(e.type);
    case "graphql":
      return rte.has(e.kind);
    case "vue":
      return e.tag !== "root";
  }
  return !1;
}
function nte(t, e, r) {
  let { rangeStart: n, rangeEnd: i, locStart: o, locEnd: s } = e;
  o6.ok(i > n);
  let a = t.slice(n, i).search(/\S/),
    l = a === -1;
  if (!l) for (n += a; i > n && !/\S/.test(t[i - 1]); --i);
  let u = a6(r, n, e, (d, p) => Rk(e, d, p), [], "rangeStart"),
    c = l ? u : a6(r, i, e, (d) => Rk(e, d), [], "rangeEnd");
  if (!u || !c) return { rangeStart: 0, rangeEnd: 0 };
  let f, h;
  if (Qee(e)) {
    let d = Zee(u, c);
    (f = d), (h = d);
  } else ({ startNode: f, endNode: h } = ete(u, c, e));
  return { rangeStart: Math.min(o(f), o(h)), rangeEnd: Math.max(s(f), s(h)) };
}
function ite(t, e) {
  let { cursorOffset: r, locStart: n, locEnd: i } = e,
    o = Qv(e.printer.getVisitorKeys),
    s = (l) => n(l) <= r && i(l) >= r,
    a = t;
  for (let l of Iee(t, { getVisitorKeys: o, filter: s })) a = l;
  return a;
}
var ste = ite,
  yB = "\uFEFF",
  Ik = Symbol("cursor");
async function bB(t, e, r = 0) {
  if (!t || t.trim().length === 0)
    return { formatted: "", cursorOffset: -1, comments: [] };
  let { ast: n, text: i } = await vp(t, e);
  e.cursorOffset >= 0 && (e.cursorNode = ste(n, e));
  let o = await Zv(n, e);
  r > 0 && (o = GO([r0, o], r, e.tabWidth));
  let s = Jv(o, e);
  if (r > 0) {
    let l = s.formatted.trim();
    s.cursorNodeStart !== void 0 &&
      (s.cursorNodeStart -= s.formatted.indexOf(l)),
      (s.formatted = l + I7(e.endOfLine));
  }
  let a = e[Symbol.for("comments")];
  if (e.cursorOffset >= 0) {
    let l, u, c, f, h;
    if (
      (e.cursorNode && s.cursorNodeText
        ? ((l = e.locStart(e.cursorNode)),
          (u = i.slice(l, e.locEnd(e.cursorNode))),
          (c = e.cursorOffset - l),
          (f = s.cursorNodeStart),
          (h = s.cursorNodeText))
        : ((l = 0), (u = i), (c = e.cursorOffset), (f = 0), (h = s.formatted)),
      u === h)
    )
      return { formatted: s.formatted, cursorOffset: f + c, comments: a };
    let d = u.split("");
    d.splice(c, 0, Ik);
    let p = h.split(""),
      m = (0, YQ.diffArrays)(d, p),
      b = f;
    for (let D of m)
      if (D.removed) {
        if (D.value.includes(Ik)) break;
      } else b += D.count;
    return { formatted: s.formatted, cursorOffset: b, comments: a };
  }
  return { formatted: s.formatted, cursorOffset: -1, comments: a };
}
async function ote(t, e) {
  let { ast: r, text: n } = await vp(t, e),
    { rangeStart: i, rangeEnd: o } = nte(n, e, r),
    s = n.slice(i, o),
    a = Math.min(
      i,
      n.lastIndexOf(
        `
`,
        i
      ) + 1
    ),
    l = n.slice(a, i).match(/^\s*/)[0],
    u = z7(l, e.tabWidth),
    c = await bB(
      s,
      {
        ...e,
        rangeStart: 0,
        rangeEnd: Number.POSITIVE_INFINITY,
        cursorOffset:
          e.cursorOffset > i && e.cursorOffset <= o ? e.cursorOffset - i : -1,
        endOfLine: "lf",
      },
      u
    ),
    f = c.formatted.trimEnd(),
    { cursorOffset: h } = e;
  h > o
    ? (h += f.length - s.length)
    : c.cursorOffset >= 0 && (h = c.cursorOffset + i);
  let d = n.slice(0, i) + f + n.slice(o);
  if (e.endOfLine !== "lf") {
    let p = I7(e.endOfLine);
    h >= 0 &&
      p ===
        `\r
` &&
      (h += KO(
        d.slice(0, h),
        `
`
      )),
      (d = Kv(
        !1,
        d,
        `
`,
        p
      ));
  }
  return { formatted: d, cursorOffset: h, comments: c.comments };
}
function hy(t, e, r) {
  return typeof e != "number" || Number.isNaN(e) || e < 0 || e > t.length
    ? r
    : e;
}
function Nk(t, e) {
  let { cursorOffset: r, rangeStart: n, rangeEnd: i } = e;
  return (
    (r = hy(t, r, -1)),
    (n = hy(t, n, 0)),
    (i = hy(t, i, t.length)),
    { ...e, cursorOffset: r, rangeStart: n, rangeEnd: i }
  );
}
function DB(t, e) {
  let { cursorOffset: r, rangeStart: n, rangeEnd: i, endOfLine: o } = Nk(t, e),
    s = t.charAt(0) === yB;
  if (
    (s && ((t = t.slice(1)), r--, n--, i--),
    o === "auto" && (o = pZ(t)),
    t.includes("\r"))
  ) {
    let a = (l) =>
      KO(
        t.slice(0, Math.max(l, 0)),
        `\r
`
      );
    (r -= a(r)), (n -= a(n)), (i -= a(i)), (t = mZ(t));
  }
  return {
    hasBOM: s,
    text: t,
    options: Nk(t, {
      ...e,
      cursorOffset: r,
      rangeStart: n,
      rangeEnd: i,
      endOfLine: o,
    }),
  };
}
async function Lk(t, e) {
  let r = await oB(e);
  return !r.hasPragma || r.hasPragma(t);
}
async function wB(t, e) {
  let { hasBOM: r, text: n, options: i } = DB(t, await Af(e));
  if (
    (i.rangeStart >= i.rangeEnd && n !== "") ||
    (i.requirePragma && !(await Lk(n, i)))
  )
    return { formatted: t, cursorOffset: e.cursorOffset, comments: [] };
  let o;
  return (
    i.rangeStart > 0 || i.rangeEnd < n.length
      ? (o = await ote(n, i))
      : (!i.requirePragma &&
          i.insertPragma &&
          i.printer.insertPragma &&
          !(await Lk(n, i)) &&
          (n = i.printer.insertPragma(n)),
        (o = await bB(n, i))),
    r &&
      ((o.formatted = yB + o.formatted),
      o.cursorOffset >= 0 && o.cursorOffset++),
    o
  );
}
async function ate(t, e, r) {
  let { text: n, options: i } = DB(t, await Af(e)),
    o = await vp(n, i);
  return (
    r &&
      (r.preprocessForPrint && (o.ast = await gB(o.ast, i)),
      r.massage && (o.ast = See(o.ast, i))),
    o
  );
}
async function lte(t, e) {
  e = await Af(e);
  let r = await Zv(t, e);
  return Jv(r, e);
}
async function ute(t, e) {
  let r = BZ(t),
    { formatted: n } = await wB(r, { ...e, parser: "__js_expression" });
  return n;
}
async function cte(t, e) {
  e = await Af(e);
  let { ast: r } = await vp(t, e);
  return Zv(r, e);
}
async function fte(t, e) {
  return Jv(t, await Af(e));
}
var xB = {};
Uv(xB, {
  addDanglingComment: () => ju,
  addLeadingComment: () => xc,
  addTrailingComment: () => kc,
  getAlignmentSize: () => z7,
  getIndentSize: () => Dte,
  getMaxContinuousCount: () => yte,
  getNextNonSpaceNonCommentCharacter: () => Ate,
  getNextNonSpaceNonCommentCharacterIndex: () => _te,
  getStringWidth: () => N7,
  hasNewline: () => tu,
  hasNewlineInRange: () => xte,
  hasSpaces: () => Ste,
  isNextLineEmpty: () => Tte,
  isNextLineEmptyAfterIndex: () => G7,
  isPreviousLineEmpty: () => Ote,
  makeString: () => Fte,
  skip: () => yp,
  skipEverythingButNewLine: () => fB,
  skipInlineComment: () => W7,
  skipNewline: () => b0,
  skipSpaces: () => pu,
  skipToLineEnd: () => cB,
  skipTrailingComment: () => q7,
  skipWhitespace: () => _ee,
});
function hte(t, e) {
  if (e === !1) return !1;
  if (t.charAt(e) === "/" && t.charAt(e + 1) === "*") {
    for (let r = e + 2; r < t.length; ++r)
      if (t.charAt(r) === "*" && t.charAt(r + 1) === "/") return r + 2;
  }
  return e;
}
var W7 = hte;
function dte(t, e) {
  return e === !1
    ? !1
    : t.charAt(e) === "/" && t.charAt(e + 1) === "/"
      ? fB(t, e)
      : e;
}
var q7 = dte;
function pte(t, e) {
  let r = null,
    n = e;
  for (; n !== r; )
    (r = n), (n = pu(t, n)), (n = W7(t, n)), (n = q7(t, n)), (n = b0(t, n));
  return n;
}
var U7 = pte;
function mte(t, e) {
  let r = null,
    n = e;
  for (; n !== r; ) (r = n), (n = cB(t, n)), (n = W7(t, n)), (n = pu(t, n));
  return (n = q7(t, n)), (n = b0(t, n)), n !== !1 && tu(t, n);
}
var G7 = mte;
function gte(t) {
  if (typeof t != "string") throw new TypeError("Expected a string");
  return t.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d");
}
function vte(t, e) {
  let r = t.match(new RegExp(`(${gte(e)})+`, "g"));
  return r === null
    ? 0
    : r.reduce((n, i) => Math.max(n, i.length / e.length), 0);
}
var yte = vte;
function bte(t, e) {
  let r = t.lastIndexOf(`
`);
  return r === -1 ? 0 : z7(t.slice(r + 1).match(/^[\t ]*/)[0], e);
}
var Dte = bte;
function wte(t, e, r) {
  for (let n = e; n < r; ++n)
    if (
      t.charAt(n) ===
      `
`
    )
      return !0;
  return !1;
}
var xte = wte;
function kte(t, e, r = {}) {
  return pu(t, r.backwards ? e - 1 : e, r) !== e;
}
var Ste = kte;
function Cte(t, e) {
  let r = U7(t, e);
  return r === !1 ? "" : t.charAt(r);
}
var Ate = Cte;
function Ete(t, e, r) {
  let n = e === '"' ? "'" : '"',
    i = Kv(!1, t, /\\(.)|(["'])/gs, (o, s, a) =>
      s === n
        ? s
        : a === e
          ? "\\" + a
          : a ||
            (r && /^[^\n\r"'0-7\\bfnrt-vx\u2028\u2029]$/.test(s) ? s : "\\" + s)
    );
  return e + i + e;
}
var Fte = Ete;
function Mte(t, e, r) {
  return U7(t, r(e));
}
function _te(t, e) {
  return arguments.length === 2 || typeof e == "number"
    ? U7(t, e)
    : Mte(...arguments);
}
function $te(t, e, r) {
  return V7(t, r(e));
}
function Ote(t, e) {
  return arguments.length === 2 || typeof e == "number"
    ? V7(t, e)
    : $te(...arguments);
}
function Bte(t, e, r) {
  return G7(t, r(e));
}
function Tte(t, e) {
  return arguments.length === 2 || typeof e == "number"
    ? G7(t, e)
    : Bte(...arguments);
}
var kB = {};
Uv(kB, { builders: () => Pte, printer: () => Rte, utils: () => Ite });
var Pte = {
    join: UO,
    line: WO,
    softline: fZ,
    hardline: r0,
    literalline: qO,
    group: jO,
    conditionalGroup: oZ,
    fill: HO,
    lineSuffix: e6,
    lineSuffixBoundary: uZ,
    cursor: t6,
    breakParent: Yv,
    ifBreak: aZ,
    trim: cZ,
    indent: R1,
    indentIfBreak: lZ,
    align: df,
    addAlignmentToDoc: GO,
    markAsRoot: iZ,
    dedentToRoot: nZ,
    dedent: sZ,
    hardlineWithoutBreakParent: R7,
    literallineWithoutBreakParent: VO,
    label: hZ,
    concat: (t) => t,
  },
  Rte = { printDocToString: Jv },
  Ite = {
    willBreak: xZ,
    traverseDoc: P7,
    findInDoc: L7,
    mapDoc: Xv,
    removeLines: CZ,
    stripTrailingHardline: YO,
    replaceEndOfLine: FZ,
    canBreak: _Z,
  },
  Nte = "3.0.3";
function qu(t, e = 1) {
  return async (...r) => {
    let n = r[e] ?? {},
      i = n.plugins ?? [];
    return (
      (r[e] = { ...n, plugins: Array.isArray(i) ? i : Object.values(i) }),
      t(...r)
    );
  };
}
var SB = qu(wB);
async function K7(t, e) {
  let { formatted: r } = await SB(t, { ...e, cursorOffset: -1 });
  return r;
}
async function Lte(t, e) {
  return (await K7(t, e)) === t;
}
var zte = qu(ZO, 0),
  jte = {
    parse: qu(ate),
    formatAST: qu(lte),
    formatDoc: qu(ute),
    printToDoc: qu(cte),
    printDocToString: qu(fte),
  };
async function zk(t = "", e = {}) {
  return await K7(t, {
    printWidth: 80,
    useTabs: !0,
    ...e,
    parser: "latex-parser",
    plugins: [OQ],
  });
}
class Y7 {
  constructor(e) {
    (this.ranges = e), (this.ranges = this.combineUnstyledRanges(e));
  }
  combineUnstyledRanges(e) {
    return e.reduce(
      (r, n) => (
        n instanceof On
          ? r.push(
              new On(
                n.id,
                n.left,
                this.combineUnstyledRanges(n.children),
                n.right,
                n.hints
              )
            )
          : r.length > 0 && r[r.length - 1] instanceof Ht && n instanceof Ht
            ? (r[r.length - 1] = new Ht(r[r.length - 1].text + n.text))
            : r.push(n),
        r
      ),
      []
    );
  }
  getPositionRanges(e, r = !1) {
    const n = [],
      i = (s, a, l) => {
        if (s instanceof Ht)
          return (l > a && l < a + s.length) ||
            (r && (l === a || l === a + s.length))
            ? (n.push(s), [!0, a + s.length])
            : [!1, a + s.length];
        {
          const u = a;
          let c = !1;
          for (const f of s.children) {
            const [h, d] = i(f, a, l);
            (a = d), c || (c = h);
          }
          return c
            ? (n.push(s), [!0, a])
            : (l > u && l < a) || (r && (l === u || l === a))
              ? (n.push(s), [!0, a])
              : [!1, a];
        }
      };
    let o = 0;
    for (const s of this.ranges) {
      const [a, l] = i(s, o, e);
      o = l;
    }
    return n.reverse();
  }
  toLatex() {
    return this.ranges.map((e) => e.toLatex()).join("");
  }
  withContentChange(e, r) {
    const n = [],
      i = (a, l, u) => {
        if (l === null) return [[a], null, u + a.length];
        if (a instanceof Ht) {
          if (l.to <= u || u + a.length <= l.from)
            return [[a], l, u + a.length];
          if (l.type === "delete") {
            console.log(
              "Deleting from",
              a.text,
              "at",
              l.from - u,
              "to",
              l.to - u
            );
            const c = a.text.substring(0, l.from - u),
              f = a.text.substring(l.to - u);
            return [[new Ht(c + f)], null, u + a.length];
          } else {
            console.log("Inserting into", a.text, "at", l.from - u);
            const c = a.text.substring(0, l.from - u),
              f = a.text.substring(l.from - u);
            return [[new Ht(c + l.inserted + f)], null, u + a.length];
          }
        } else {
          if (
            l.type === "insert" &&
            l.from === u &&
            r.has(a.id) &&
            a.children.every((f) => f instanceof Ht || !r.has(f.id))
          ) {
            console.log("Left edge of active range");
            const f = a.children[0],
              h = u + a.children.reduce((d, p) => d + p.length, 0);
            if (f instanceof Ht) {
              const d = new Ht(l.inserted + f.text);
              return [
                [
                  new On(
                    a.id,
                    a.left,
                    [d, ...a.children.slice(1)],
                    a.right,
                    a.hints
                  ),
                ],
                null,
                h,
              ];
            } else {
              const d = new Ht(l.inserted);
              return [
                [new On(a.id, a.left, [d, ...a.children], a.right, a.hints)],
                null,
                h,
              ];
            }
          } else if (l.type === "insert" && l.from === u && !r.has(a.id))
            return [
              [new Ht(l.inserted), a],
              null,
              u + a.children.reduce((f, h) => f + h.length, 0),
            ];
          const c = [];
          for (const f of a.children) {
            const [h, d, p] = i(f, l, u);
            c.push(...h), (u = p), (l = d);
          }
          if (
            l !== null &&
            l.type === "insert" &&
            l.from === u &&
            r.has(a.id) &&
            a.children.every((f) => f instanceof Ht || !r.has(f.id))
          ) {
            console.log("Right edge of active range");
            const f = a.children[a.children.length - 1];
            if (f instanceof Ht) {
              const h = new Ht(f.text + l.inserted);
              return [
                [
                  new On(
                    a.id,
                    a.left,
                    [...a.children.slice(0, -1), h],
                    a.right,
                    a.hints
                  ),
                ],
                null,
                u,
              ];
            } else {
              const h = new Ht(l.inserted);
              return [
                [new On(a.id, a.left, [...a.children, h], a.right, a.hints)],
                null,
                u,
              ];
            }
          }
          return [[new On(a.id, a.left, c, a.right, a.hints)], s, u];
        }
      };
    let o = 0,
      s = e;
    for (const a of this.ranges) {
      const [l, u, c] = i(a, s, o);
      (o = c), (s = u), n.push(...l);
    }
    return new Y7(n);
  }
}
class On {
  constructor(e, r, n, i, o) {
    (this.id = e),
      (this.left = r),
      (this.children = n),
      (this.right = i),
      (this.hints = o);
  }
  get length() {
    return (
      this.left.length +
      this.children.reduce((e, r) => e + r.length, 0) +
      this.right.length
    );
  }
  equals(e) {
    return e instanceof On && this.id === e.id;
  }
  toLatex() {
    return (
      this.left + this.children.map((e) => e.toLatex()).join("") + this.right
    );
  }
}
class Ht {
  constructor(e) {
    this.text = e;
  }
  get length() {
    return this.text.length;
  }
  equals(e) {
    return e instanceof Ht && this.text === e.text;
  }
  toLatex() {
    return this.text;
  }
}
class ds {
  constructor(e, r, n) {
    (this.lexer = void 0),
      (this.start = void 0),
      (this.end = void 0),
      (this.lexer = e),
      (this.start = r),
      (this.end = n);
  }
  static range(e, r) {
    return r
      ? !e || !e.loc || !r.loc || e.loc.lexer !== r.loc.lexer
        ? null
        : new ds(e.loc.lexer, e.loc.start, r.loc.end)
      : e && e.loc;
  }
}
class ro {
  constructor(e, r) {
    (this.text = void 0),
      (this.loc = void 0),
      (this.noexpand = void 0),
      (this.treatAsRelax = void 0),
      (this.text = e),
      (this.loc = r);
  }
  range(e, r) {
    return new ro(r, ds.range(this, e));
  }
}
class qe {
  constructor(e, r) {
    (this.name = void 0),
      (this.position = void 0),
      (this.length = void 0),
      (this.rawMessage = void 0);
    var n = "KaTeX parse error: " + e,
      i,
      o,
      s = r && r.loc;
    if (s && s.start <= s.end) {
      var a = s.lexer.input;
      (i = s.start),
        (o = s.end),
        i === a.length
          ? (n += " at end of input: ")
          : (n += " at position " + (i + 1) + ": ");
      var l = a.slice(i, o).replace(/[^]/g, "$&̲"),
        u;
      i > 15 ? (u = "…" + a.slice(i - 15, i)) : (u = a.slice(0, i));
      var c;
      o + 15 < a.length ? (c = a.slice(o, o + 15) + "…") : (c = a.slice(o)),
        (n += u + l + c);
    }
    var f = new Error(n);
    return (
      (f.name = "ParseError"),
      (f.__proto__ = qe.prototype),
      (f.position = i),
      i != null && o != null && (f.length = o - i),
      (f.rawMessage = e),
      f
    );
  }
}
qe.prototype.__proto__ = Error.prototype;
var Hte = function (e, r) {
    return e.indexOf(r) !== -1;
  },
  Vte = function (e, r) {
    return e === void 0 ? r : e;
  },
  Wte = /([A-Z])/g,
  qte = function (e) {
    return e.replace(Wte, "-$1").toLowerCase();
  },
  Ute = {
    "&": "&amp;",
    ">": "&gt;",
    "<": "&lt;",
    '"': "&quot;",
    "'": "&#x27;",
  },
  Gte = /[&><"']/g;
function Kte(t) {
  return String(t).replace(Gte, (e) => Ute[e]);
}
var CB = function t(e) {
    return e.type === "ordgroup" || e.type === "color"
      ? e.body.length === 1
        ? t(e.body[0])
        : e
      : e.type === "font"
        ? t(e.body)
        : e;
  },
  Yte = function (e) {
    var r = CB(e);
    return r.type === "mathord" || r.type === "textord" || r.type === "atom";
  },
  Xte = function (e) {
    if (!e) throw new Error("Expected non-null, but got " + String(e));
    return e;
  },
  Jte = function (e) {
    var r = /^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);
    return r
      ? r[2] !== ":" || !/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])
        ? null
        : r[1].toLowerCase()
      : "_relative";
  },
  Ft = {
    contains: Hte,
    deflt: Vte,
    escape: Kte,
    hyphenate: qte,
    getBaseElem: CB,
    isCharacterBox: Yte,
    protocolFromUrl: Jte,
  },
  Ag = {
    displayMode: {
      type: "boolean",
      description:
        "Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",
      cli: "-d, --display-mode",
    },
    output: {
      type: { enum: ["htmlAndMathml", "html", "mathml"] },
      description: "Determines the markup language of the output.",
      cli: "-F, --format <type>",
    },
    leqno: {
      type: "boolean",
      description: "Render display math in leqno style (left-justified tags).",
    },
    fleqn: { type: "boolean", description: "Render display math flush left." },
    throwOnError: {
      type: "boolean",
      default: !0,
      cli: "-t, --no-throw-on-error",
      cliDescription:
        "Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error.",
    },
    errorColor: {
      type: "string",
      default: "#cc0000",
      cli: "-c, --error-color <color>",
      cliDescription:
        "A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",
      cliProcessor: (t) => "#" + t,
    },
    macros: {
      type: "object",
      cli: "-m, --macro <def>",
      cliDescription:
        "Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",
      cliDefault: [],
      cliProcessor: (t, e) => (e.push(t), e),
    },
    minRuleThickness: {
      type: "number",
      description:
        "Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",
      processor: (t) => Math.max(0, t),
      cli: "--min-rule-thickness <size>",
      cliProcessor: parseFloat,
    },
    colorIsTextColor: {
      type: "boolean",
      description:
        "Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",
      cli: "-b, --color-is-text-color",
    },
    strict: {
      type: [{ enum: ["warn", "ignore", "error"] }, "boolean", "function"],
      description:
        "Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",
      cli: "-S, --strict",
      cliDefault: !1,
    },
    trust: {
      type: ["boolean", "function"],
      description: "Trust the input, enabling all HTML features such as \\url.",
      cli: "-T, --trust",
    },
    maxSize: {
      type: "number",
      default: 1 / 0,
      description:
        "If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",
      processor: (t) => Math.max(0, t),
      cli: "-s, --max-size <n>",
      cliProcessor: parseInt,
    },
    maxExpand: {
      type: "number",
      default: 1e3,
      description:
        "Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",
      processor: (t) => Math.max(0, t),
      cli: "-e, --max-expand <n>",
      cliProcessor: (t) => (t === "Infinity" ? 1 / 0 : parseInt(t)),
    },
    globalGroup: { type: "boolean", cli: !1 },
  };
function Qte(t) {
  if (t.default) return t.default;
  var e = t.type,
    r = Array.isArray(e) ? e[0] : e;
  if (typeof r != "string") return r.enum[0];
  switch (r) {
    case "boolean":
      return !1;
    case "string":
      return "";
    case "number":
      return 0;
    case "object":
      return {};
  }
}
class X7 {
  constructor(e) {
    (this.displayMode = void 0),
      (this.output = void 0),
      (this.leqno = void 0),
      (this.fleqn = void 0),
      (this.throwOnError = void 0),
      (this.errorColor = void 0),
      (this.macros = void 0),
      (this.minRuleThickness = void 0),
      (this.colorIsTextColor = void 0),
      (this.strict = void 0),
      (this.trust = void 0),
      (this.maxSize = void 0),
      (this.maxExpand = void 0),
      (this.globalGroup = void 0),
      (e = e || {});
    for (var r in Ag)
      if (Ag.hasOwnProperty(r)) {
        var n = Ag[r];
        this[r] =
          e[r] !== void 0 ? (n.processor ? n.processor(e[r]) : e[r]) : Qte(n);
      }
  }
  reportNonstrict(e, r, n) {
    var i = this.strict;
    if ((typeof i == "function" && (i = i(e, r, n)), !(!i || i === "ignore"))) {
      if (i === !0 || i === "error")
        throw new qe(
          "LaTeX-incompatible input and strict mode is set to 'error': " +
            (r + " [" + e + "]"),
          n
        );
      i === "warn"
        ? typeof console < "u" &&
          console.warn(
            "LaTeX-incompatible input and strict mode is set to 'warn': " +
              (r + " [" + e + "]")
          )
        : typeof console < "u" &&
          console.warn(
            "LaTeX-incompatible input and strict mode is set to " +
              ("unrecognized '" + i + "': " + r + " [" + e + "]")
          );
    }
  }
  useStrictBehavior(e, r, n) {
    var i = this.strict;
    if (typeof i == "function")
      try {
        i = i(e, r, n);
      } catch {
        i = "error";
      }
    return !i || i === "ignore"
      ? !1
      : i === !0 || i === "error"
        ? !0
        : i === "warn"
          ? (typeof console < "u" &&
              console.warn(
                "LaTeX-incompatible input and strict mode is set to 'warn': " +
                  (r + " [" + e + "]")
              ),
            !1)
          : (typeof console < "u" &&
              console.warn(
                "LaTeX-incompatible input and strict mode is set to " +
                  ("unrecognized '" + i + "': " + r + " [" + e + "]")
              ),
            !1);
  }
  isTrusted(e) {
    if (e.url && !e.protocol) {
      var r = Ft.protocolFromUrl(e.url);
      if (r == null) return !1;
      e.protocol = r;
    }
    var n = typeof this.trust == "function" ? this.trust(e) : this.trust;
    return !!n;
  }
}
class kl {
  constructor(e, r, n) {
    (this.id = void 0),
      (this.size = void 0),
      (this.cramped = void 0),
      (this.id = e),
      (this.size = r),
      (this.cramped = n);
  }
  sup() {
    return Xo[Zte[this.id]];
  }
  sub() {
    return Xo[ere[this.id]];
  }
  fracNum() {
    return Xo[tre[this.id]];
  }
  fracDen() {
    return Xo[rre[this.id]];
  }
  cramp() {
    return Xo[nre[this.id]];
  }
  text() {
    return Xo[ire[this.id]];
  }
  isTight() {
    return this.size >= 2;
  }
}
var J7 = 0,
  I1 = 1,
  Nc = 2,
  za = 3,
  Dd = 4,
  Qs = 5,
  pf = 6,
  Ri = 7,
  Xo = [
    new kl(J7, 0, !1),
    new kl(I1, 0, !0),
    new kl(Nc, 1, !1),
    new kl(za, 1, !0),
    new kl(Dd, 2, !1),
    new kl(Qs, 2, !0),
    new kl(pf, 3, !1),
    new kl(Ri, 3, !0),
  ],
  Zte = [Dd, Qs, Dd, Qs, pf, Ri, pf, Ri],
  ere = [Qs, Qs, Qs, Qs, Ri, Ri, Ri, Ri],
  tre = [Nc, za, Dd, Qs, pf, Ri, pf, Ri],
  rre = [za, za, Qs, Qs, Ri, Ri, Ri, Ri],
  nre = [I1, I1, za, za, Qs, Qs, Ri, Ri],
  ire = [J7, I1, Nc, za, Nc, za, Nc, za],
  $t = { DISPLAY: Xo[J7], TEXT: Xo[Nc], SCRIPT: Xo[Dd], SCRIPTSCRIPT: Xo[pf] },
  l6 = [
    {
      name: "latin",
      blocks: [
        [256, 591],
        [768, 879],
      ],
    },
    { name: "cyrillic", blocks: [[1024, 1279]] },
    { name: "armenian", blocks: [[1328, 1423]] },
    { name: "brahmic", blocks: [[2304, 4255]] },
    { name: "georgian", blocks: [[4256, 4351]] },
    {
      name: "cjk",
      blocks: [
        [12288, 12543],
        [19968, 40879],
        [65280, 65376],
      ],
    },
    { name: "hangul", blocks: [[44032, 55215]] },
  ];
function sre(t) {
  for (var e = 0; e < l6.length; e++)
    for (var r = l6[e], n = 0; n < r.blocks.length; n++) {
      var i = r.blocks[n];
      if (t >= i[0] && t <= i[1]) return r.name;
    }
  return null;
}
var Eg = [];
l6.forEach((t) => t.blocks.forEach((e) => Eg.push(...e)));
function AB(t) {
  for (var e = 0; e < Eg.length; e += 2)
    if (t >= Eg[e] && t <= Eg[e + 1]) return !0;
  return !1;
}
var V0 = 80,
  ore = function (e, r) {
    return (
      "M95," +
      (622 + e + r) +
      `
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l` +
      e / 2.075 +
      " -" +
      e +
      `
c5.3,-9.3,12,-14,20,-14
H400000v` +
      (40 + e) +
      `H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M` +
      (834 + e) +
      " " +
      r +
      "h400000v" +
      (40 + e) +
      "h-400000z"
    );
  },
  are = function (e, r) {
    return (
      "M263," +
      (601 + e + r) +
      `c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l` +
      e / 2.084 +
      " -" +
      e +
      `
c4.7,-7.3,11,-11,19,-11
H40000v` +
      (40 + e) +
      `H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M` +
      (1001 + e) +
      " " +
      r +
      "h400000v" +
      (40 + e) +
      "h-400000z"
    );
  },
  lre = function (e, r) {
    return (
      "M983 " +
      (10 + e + r) +
      `
l` +
      e / 3.13 +
      " -" +
      e +
      `
c4,-6.7,10,-10,18,-10 H400000v` +
      (40 + e) +
      `
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M` +
      (1001 + e) +
      " " +
      r +
      "h400000v" +
      (40 + e) +
      "h-400000z"
    );
  },
  ure = function (e, r) {
    return (
      "M424," +
      (2398 + e + r) +
      `
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l` +
      e / 4.223 +
      " -" +
      e +
      `c4,-6.7,10,-10,18,-10 H400000
v` +
      (40 + e) +
      `H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M` +
      (1001 + e) +
      " " +
      r +
      `
h400000v` +
      (40 + e) +
      "h-400000z"
    );
  },
  cre = function (e, r) {
    return (
      "M473," +
      (2713 + e + r) +
      `
c339.3,-1799.3,509.3,-2700,510,-2702 l` +
      e / 5.298 +
      " -" +
      e +
      `
c3.3,-7.3,9.3,-11,18,-11 H400000v` +
      (40 + e) +
      `H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM` +
      (1001 + e) +
      " " +
      r +
      "h400000v" +
      (40 + e) +
      "H1017.7z"
    );
  },
  fre = function (e) {
    var r = e / 2;
    return (
      "M400000 " + e + " H0 L" + r + " 0 l65 45 L145 " + (e - 80) + " H400000z"
    );
  },
  hre = function (e, r, n) {
    var i = n - 54 - r - e;
    return (
      "M702 " +
      (e + r) +
      "H400000" +
      (40 + e) +
      `
H742v` +
      i +
      `l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 ` +
      r +
      "H400000v" +
      (40 + e) +
      "H742z"
    );
  },
  dre = function (e, r, n) {
    r = 1e3 * r;
    var i = "";
    switch (e) {
      case "sqrtMain":
        i = ore(r, V0);
        break;
      case "sqrtSize1":
        i = are(r, V0);
        break;
      case "sqrtSize2":
        i = lre(r, V0);
        break;
      case "sqrtSize3":
        i = ure(r, V0);
        break;
      case "sqrtSize4":
        i = cre(r, V0);
        break;
      case "sqrtTall":
        i = hre(r, V0, n);
    }
    return i;
  },
  pre = function (e, r) {
    switch (e) {
      case "⎜":
        return "M291 0 H417 V" + r + " H291z M291 0 H417 V" + r + " H291z";
      case "∣":
        return "M145 0 H188 V" + r + " H145z M145 0 H188 V" + r + " H145z";
      case "∥":
        return (
          "M145 0 H188 V" +
          r +
          " H145z M145 0 H188 V" +
          r +
          " H145z" +
          ("M367 0 H410 V" + r + " H367z M367 0 H410 V" + r + " H367z")
        );
      case "⎟":
        return "M457 0 H583 V" + r + " H457z M457 0 H583 V" + r + " H457z";
      case "⎢":
        return "M319 0 H403 V" + r + " H319z M319 0 H403 V" + r + " H319z";
      case "⎥":
        return "M263 0 H347 V" + r + " H263z M263 0 H347 V" + r + " H263z";
      case "⎪":
        return "M384 0 H504 V" + r + " H384z M384 0 H504 V" + r + " H384z";
      case "⏐":
        return "M312 0 H355 V" + r + " H312z M312 0 H355 V" + r + " H312z";
      case "‖":
        return (
          "M257 0 H300 V" +
          r +
          " H257z M257 0 H300 V" +
          r +
          " H257z" +
          ("M478 0 H521 V" + r + " H478z M478 0 H521 V" + r + " H478z")
        );
      default:
        return "";
    }
  },
  jk = {
    doubleleftarrow: `M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,
    doublerightarrow: `M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,
    leftarrow: `M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,
    leftbrace: `M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,
    leftbraceunder: `M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,
    leftgroup: `M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,
    leftgroupunder: `M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,
    leftharpoon: `M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,
    leftharpoonplus: `M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,
    leftharpoondown: `M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,
    leftharpoondownplus: `M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,
    lefthook: `M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,
    leftlinesegment: `M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,
    leftmapsto: `M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,
    leftToFrom: `M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,
    longequal: `M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,
    midbrace: `M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,
    midbraceunder: `M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,
    oiintSize1: `M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,
    oiintSize2: `M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,
    oiiintSize1: `M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,
    oiiintSize2: `M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,
    rightarrow: `M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,
    rightbrace: `M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,
    rightbraceunder: `M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,
    rightgroup: `M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,
    rightgroupunder: `M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,
    rightharpoon: `M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,
    rightharpoonplus: `M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,
    rightharpoondown: `M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,
    rightharpoondownplus: `M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,
    righthook: `M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,
    rightlinesegment: `M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,
    rightToFrom: `M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,
    twoheadleftarrow: `M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,
    twoheadrightarrow: `M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,
    tilde1: `M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,
    tilde2: `M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,
    tilde3: `M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,
    tilde4: `M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,
    vec: `M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,
    widehat1: `M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,
    widehat2: `M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,
    widehat3: `M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,
    widehat4: `M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,
    widecheck1: `M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,
    widecheck2: `M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,
    widecheck3: `M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,
    widecheck4: `M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,
    baraboveleftarrow: `M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,
    rightarrowabovebar: `M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,
    baraboveshortleftharpoon: `M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,
    rightharpoonaboveshortbar: `M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,
    shortbaraboveleftharpoon: `M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,
    shortrightharpoonabovebar: `M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`,
  },
  mre = function (e, r) {
    switch (e) {
      case "lbrack":
        return (
          "M403 1759 V84 H666 V0 H319 V1759 v" +
          r +
          ` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v` +
          r +
          " v1759 h84z"
        );
      case "rbrack":
        return (
          "M347 1759 V0 H0 V84 H263 V1759 v" +
          r +
          ` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v` +
          r +
          " v1759 h84z"
        );
      case "vert":
        return (
          "M145 15 v585 v" +
          r +
          ` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v` +
          -r +
          ` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v` +
          r +
          " v585 h43z"
        );
      case "doublevert":
        return (
          "M145 15 v585 v" +
          r +
          ` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v` +
          -r +
          ` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v` +
          r +
          ` v585 h43z
M367 15 v585 v` +
          r +
          ` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v` +
          -r +
          ` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v` +
          r +
          " v585 h43z"
        );
      case "lfloor":
        return (
          "M319 602 V0 H403 V602 v" +
          r +
          ` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v` +
          r +
          " v1715 H319z"
        );
      case "rfloor":
        return (
          "M319 602 V0 H403 V602 v" +
          r +
          ` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v` +
          r +
          " v1715 H319z"
        );
      case "lceil":
        return (
          "M403 1759 V84 H666 V0 H319 V1759 v" +
          r +
          ` v602 h84z
M403 1759 V0 H319 V1759 v` +
          r +
          " v602 h84z"
        );
      case "rceil":
        return (
          "M347 1759 V0 H0 V84 H263 V1759 v" +
          r +
          ` v602 h84z
M347 1759 V0 h-84 V1759 v` +
          r +
          " v602 h84z"
        );
      case "lparen":
        return (
          `M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,` +
          (r + 84) +
          `c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-` +
          (r + 92) +
          `c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`
        );
      case "rparen":
        return (
          `M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,` +
          (r + 9) +
          `
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-` +
          (r + 144) +
          `c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`
        );
      default:
        throw new Error("Unknown stretchy delimiter.");
    }
  };
class bp {
  constructor(e) {
    (this.children = void 0),
      (this.classes = void 0),
      (this.height = void 0),
      (this.depth = void 0),
      (this.maxFontSize = void 0),
      (this.style = void 0),
      (this.children = e),
      (this.classes = []),
      (this.height = 0),
      (this.depth = 0),
      (this.maxFontSize = 0),
      (this.style = {});
  }
  hasClass(e) {
    return Ft.contains(this.classes, e);
  }
  toNode() {
    for (
      var e = document.createDocumentFragment(), r = 0;
      r < this.children.length;
      r++
    )
      e.appendChild(this.children[r].toNode());
    return e;
  }
  toMarkup() {
    for (var e = "", r = 0; r < this.children.length; r++)
      e += this.children[r].toMarkup();
    return e;
  }
  toText() {
    var e = (r) => r.toText();
    return this.children.map(e).join("");
  }
}
var ra = {
    "AMS-Regular": {
      32: [0, 0, 0, 0, 0.25],
      65: [0, 0.68889, 0, 0, 0.72222],
      66: [0, 0.68889, 0, 0, 0.66667],
      67: [0, 0.68889, 0, 0, 0.72222],
      68: [0, 0.68889, 0, 0, 0.72222],
      69: [0, 0.68889, 0, 0, 0.66667],
      70: [0, 0.68889, 0, 0, 0.61111],
      71: [0, 0.68889, 0, 0, 0.77778],
      72: [0, 0.68889, 0, 0, 0.77778],
      73: [0, 0.68889, 0, 0, 0.38889],
      74: [0.16667, 0.68889, 0, 0, 0.5],
      75: [0, 0.68889, 0, 0, 0.77778],
      76: [0, 0.68889, 0, 0, 0.66667],
      77: [0, 0.68889, 0, 0, 0.94445],
      78: [0, 0.68889, 0, 0, 0.72222],
      79: [0.16667, 0.68889, 0, 0, 0.77778],
      80: [0, 0.68889, 0, 0, 0.61111],
      81: [0.16667, 0.68889, 0, 0, 0.77778],
      82: [0, 0.68889, 0, 0, 0.72222],
      83: [0, 0.68889, 0, 0, 0.55556],
      84: [0, 0.68889, 0, 0, 0.66667],
      85: [0, 0.68889, 0, 0, 0.72222],
      86: [0, 0.68889, 0, 0, 0.72222],
      87: [0, 0.68889, 0, 0, 1],
      88: [0, 0.68889, 0, 0, 0.72222],
      89: [0, 0.68889, 0, 0, 0.72222],
      90: [0, 0.68889, 0, 0, 0.66667],
      107: [0, 0.68889, 0, 0, 0.55556],
      160: [0, 0, 0, 0, 0.25],
      165: [0, 0.675, 0.025, 0, 0.75],
      174: [0.15559, 0.69224, 0, 0, 0.94666],
      240: [0, 0.68889, 0, 0, 0.55556],
      295: [0, 0.68889, 0, 0, 0.54028],
      710: [0, 0.825, 0, 0, 2.33334],
      732: [0, 0.9, 0, 0, 2.33334],
      770: [0, 0.825, 0, 0, 2.33334],
      771: [0, 0.9, 0, 0, 2.33334],
      989: [0.08167, 0.58167, 0, 0, 0.77778],
      1008: [0, 0.43056, 0.04028, 0, 0.66667],
      8245: [0, 0.54986, 0, 0, 0.275],
      8463: [0, 0.68889, 0, 0, 0.54028],
      8487: [0, 0.68889, 0, 0, 0.72222],
      8498: [0, 0.68889, 0, 0, 0.55556],
      8502: [0, 0.68889, 0, 0, 0.66667],
      8503: [0, 0.68889, 0, 0, 0.44445],
      8504: [0, 0.68889, 0, 0, 0.66667],
      8513: [0, 0.68889, 0, 0, 0.63889],
      8592: [-0.03598, 0.46402, 0, 0, 0.5],
      8594: [-0.03598, 0.46402, 0, 0, 0.5],
      8602: [-0.13313, 0.36687, 0, 0, 1],
      8603: [-0.13313, 0.36687, 0, 0, 1],
      8606: [0.01354, 0.52239, 0, 0, 1],
      8608: [0.01354, 0.52239, 0, 0, 1],
      8610: [0.01354, 0.52239, 0, 0, 1.11111],
      8611: [0.01354, 0.52239, 0, 0, 1.11111],
      8619: [0, 0.54986, 0, 0, 1],
      8620: [0, 0.54986, 0, 0, 1],
      8621: [-0.13313, 0.37788, 0, 0, 1.38889],
      8622: [-0.13313, 0.36687, 0, 0, 1],
      8624: [0, 0.69224, 0, 0, 0.5],
      8625: [0, 0.69224, 0, 0, 0.5],
      8630: [0, 0.43056, 0, 0, 1],
      8631: [0, 0.43056, 0, 0, 1],
      8634: [0.08198, 0.58198, 0, 0, 0.77778],
      8635: [0.08198, 0.58198, 0, 0, 0.77778],
      8638: [0.19444, 0.69224, 0, 0, 0.41667],
      8639: [0.19444, 0.69224, 0, 0, 0.41667],
      8642: [0.19444, 0.69224, 0, 0, 0.41667],
      8643: [0.19444, 0.69224, 0, 0, 0.41667],
      8644: [0.1808, 0.675, 0, 0, 1],
      8646: [0.1808, 0.675, 0, 0, 1],
      8647: [0.1808, 0.675, 0, 0, 1],
      8648: [0.19444, 0.69224, 0, 0, 0.83334],
      8649: [0.1808, 0.675, 0, 0, 1],
      8650: [0.19444, 0.69224, 0, 0, 0.83334],
      8651: [0.01354, 0.52239, 0, 0, 1],
      8652: [0.01354, 0.52239, 0, 0, 1],
      8653: [-0.13313, 0.36687, 0, 0, 1],
      8654: [-0.13313, 0.36687, 0, 0, 1],
      8655: [-0.13313, 0.36687, 0, 0, 1],
      8666: [0.13667, 0.63667, 0, 0, 1],
      8667: [0.13667, 0.63667, 0, 0, 1],
      8669: [-0.13313, 0.37788, 0, 0, 1],
      8672: [-0.064, 0.437, 0, 0, 1.334],
      8674: [-0.064, 0.437, 0, 0, 1.334],
      8705: [0, 0.825, 0, 0, 0.5],
      8708: [0, 0.68889, 0, 0, 0.55556],
      8709: [0.08167, 0.58167, 0, 0, 0.77778],
      8717: [0, 0.43056, 0, 0, 0.42917],
      8722: [-0.03598, 0.46402, 0, 0, 0.5],
      8724: [0.08198, 0.69224, 0, 0, 0.77778],
      8726: [0.08167, 0.58167, 0, 0, 0.77778],
      8733: [0, 0.69224, 0, 0, 0.77778],
      8736: [0, 0.69224, 0, 0, 0.72222],
      8737: [0, 0.69224, 0, 0, 0.72222],
      8738: [0.03517, 0.52239, 0, 0, 0.72222],
      8739: [0.08167, 0.58167, 0, 0, 0.22222],
      8740: [0.25142, 0.74111, 0, 0, 0.27778],
      8741: [0.08167, 0.58167, 0, 0, 0.38889],
      8742: [0.25142, 0.74111, 0, 0, 0.5],
      8756: [0, 0.69224, 0, 0, 0.66667],
      8757: [0, 0.69224, 0, 0, 0.66667],
      8764: [-0.13313, 0.36687, 0, 0, 0.77778],
      8765: [-0.13313, 0.37788, 0, 0, 0.77778],
      8769: [-0.13313, 0.36687, 0, 0, 0.77778],
      8770: [-0.03625, 0.46375, 0, 0, 0.77778],
      8774: [0.30274, 0.79383, 0, 0, 0.77778],
      8776: [-0.01688, 0.48312, 0, 0, 0.77778],
      8778: [0.08167, 0.58167, 0, 0, 0.77778],
      8782: [0.06062, 0.54986, 0, 0, 0.77778],
      8783: [0.06062, 0.54986, 0, 0, 0.77778],
      8785: [0.08198, 0.58198, 0, 0, 0.77778],
      8786: [0.08198, 0.58198, 0, 0, 0.77778],
      8787: [0.08198, 0.58198, 0, 0, 0.77778],
      8790: [0, 0.69224, 0, 0, 0.77778],
      8791: [0.22958, 0.72958, 0, 0, 0.77778],
      8796: [0.08198, 0.91667, 0, 0, 0.77778],
      8806: [0.25583, 0.75583, 0, 0, 0.77778],
      8807: [0.25583, 0.75583, 0, 0, 0.77778],
      8808: [0.25142, 0.75726, 0, 0, 0.77778],
      8809: [0.25142, 0.75726, 0, 0, 0.77778],
      8812: [0.25583, 0.75583, 0, 0, 0.5],
      8814: [0.20576, 0.70576, 0, 0, 0.77778],
      8815: [0.20576, 0.70576, 0, 0, 0.77778],
      8816: [0.30274, 0.79383, 0, 0, 0.77778],
      8817: [0.30274, 0.79383, 0, 0, 0.77778],
      8818: [0.22958, 0.72958, 0, 0, 0.77778],
      8819: [0.22958, 0.72958, 0, 0, 0.77778],
      8822: [0.1808, 0.675, 0, 0, 0.77778],
      8823: [0.1808, 0.675, 0, 0, 0.77778],
      8828: [0.13667, 0.63667, 0, 0, 0.77778],
      8829: [0.13667, 0.63667, 0, 0, 0.77778],
      8830: [0.22958, 0.72958, 0, 0, 0.77778],
      8831: [0.22958, 0.72958, 0, 0, 0.77778],
      8832: [0.20576, 0.70576, 0, 0, 0.77778],
      8833: [0.20576, 0.70576, 0, 0, 0.77778],
      8840: [0.30274, 0.79383, 0, 0, 0.77778],
      8841: [0.30274, 0.79383, 0, 0, 0.77778],
      8842: [0.13597, 0.63597, 0, 0, 0.77778],
      8843: [0.13597, 0.63597, 0, 0, 0.77778],
      8847: [0.03517, 0.54986, 0, 0, 0.77778],
      8848: [0.03517, 0.54986, 0, 0, 0.77778],
      8858: [0.08198, 0.58198, 0, 0, 0.77778],
      8859: [0.08198, 0.58198, 0, 0, 0.77778],
      8861: [0.08198, 0.58198, 0, 0, 0.77778],
      8862: [0, 0.675, 0, 0, 0.77778],
      8863: [0, 0.675, 0, 0, 0.77778],
      8864: [0, 0.675, 0, 0, 0.77778],
      8865: [0, 0.675, 0, 0, 0.77778],
      8872: [0, 0.69224, 0, 0, 0.61111],
      8873: [0, 0.69224, 0, 0, 0.72222],
      8874: [0, 0.69224, 0, 0, 0.88889],
      8876: [0, 0.68889, 0, 0, 0.61111],
      8877: [0, 0.68889, 0, 0, 0.61111],
      8878: [0, 0.68889, 0, 0, 0.72222],
      8879: [0, 0.68889, 0, 0, 0.72222],
      8882: [0.03517, 0.54986, 0, 0, 0.77778],
      8883: [0.03517, 0.54986, 0, 0, 0.77778],
      8884: [0.13667, 0.63667, 0, 0, 0.77778],
      8885: [0.13667, 0.63667, 0, 0, 0.77778],
      8888: [0, 0.54986, 0, 0, 1.11111],
      8890: [0.19444, 0.43056, 0, 0, 0.55556],
      8891: [0.19444, 0.69224, 0, 0, 0.61111],
      8892: [0.19444, 0.69224, 0, 0, 0.61111],
      8901: [0, 0.54986, 0, 0, 0.27778],
      8903: [0.08167, 0.58167, 0, 0, 0.77778],
      8905: [0.08167, 0.58167, 0, 0, 0.77778],
      8906: [0.08167, 0.58167, 0, 0, 0.77778],
      8907: [0, 0.69224, 0, 0, 0.77778],
      8908: [0, 0.69224, 0, 0, 0.77778],
      8909: [-0.03598, 0.46402, 0, 0, 0.77778],
      8910: [0, 0.54986, 0, 0, 0.76042],
      8911: [0, 0.54986, 0, 0, 0.76042],
      8912: [0.03517, 0.54986, 0, 0, 0.77778],
      8913: [0.03517, 0.54986, 0, 0, 0.77778],
      8914: [0, 0.54986, 0, 0, 0.66667],
      8915: [0, 0.54986, 0, 0, 0.66667],
      8916: [0, 0.69224, 0, 0, 0.66667],
      8918: [0.0391, 0.5391, 0, 0, 0.77778],
      8919: [0.0391, 0.5391, 0, 0, 0.77778],
      8920: [0.03517, 0.54986, 0, 0, 1.33334],
      8921: [0.03517, 0.54986, 0, 0, 1.33334],
      8922: [0.38569, 0.88569, 0, 0, 0.77778],
      8923: [0.38569, 0.88569, 0, 0, 0.77778],
      8926: [0.13667, 0.63667, 0, 0, 0.77778],
      8927: [0.13667, 0.63667, 0, 0, 0.77778],
      8928: [0.30274, 0.79383, 0, 0, 0.77778],
      8929: [0.30274, 0.79383, 0, 0, 0.77778],
      8934: [0.23222, 0.74111, 0, 0, 0.77778],
      8935: [0.23222, 0.74111, 0, 0, 0.77778],
      8936: [0.23222, 0.74111, 0, 0, 0.77778],
      8937: [0.23222, 0.74111, 0, 0, 0.77778],
      8938: [0.20576, 0.70576, 0, 0, 0.77778],
      8939: [0.20576, 0.70576, 0, 0, 0.77778],
      8940: [0.30274, 0.79383, 0, 0, 0.77778],
      8941: [0.30274, 0.79383, 0, 0, 0.77778],
      8994: [0.19444, 0.69224, 0, 0, 0.77778],
      8995: [0.19444, 0.69224, 0, 0, 0.77778],
      9416: [0.15559, 0.69224, 0, 0, 0.90222],
      9484: [0, 0.69224, 0, 0, 0.5],
      9488: [0, 0.69224, 0, 0, 0.5],
      9492: [0, 0.37788, 0, 0, 0.5],
      9496: [0, 0.37788, 0, 0, 0.5],
      9585: [0.19444, 0.68889, 0, 0, 0.88889],
      9586: [0.19444, 0.74111, 0, 0, 0.88889],
      9632: [0, 0.675, 0, 0, 0.77778],
      9633: [0, 0.675, 0, 0, 0.77778],
      9650: [0, 0.54986, 0, 0, 0.72222],
      9651: [0, 0.54986, 0, 0, 0.72222],
      9654: [0.03517, 0.54986, 0, 0, 0.77778],
      9660: [0, 0.54986, 0, 0, 0.72222],
      9661: [0, 0.54986, 0, 0, 0.72222],
      9664: [0.03517, 0.54986, 0, 0, 0.77778],
      9674: [0.11111, 0.69224, 0, 0, 0.66667],
      9733: [0.19444, 0.69224, 0, 0, 0.94445],
      10003: [0, 0.69224, 0, 0, 0.83334],
      10016: [0, 0.69224, 0, 0, 0.83334],
      10731: [0.11111, 0.69224, 0, 0, 0.66667],
      10846: [0.19444, 0.75583, 0, 0, 0.61111],
      10877: [0.13667, 0.63667, 0, 0, 0.77778],
      10878: [0.13667, 0.63667, 0, 0, 0.77778],
      10885: [0.25583, 0.75583, 0, 0, 0.77778],
      10886: [0.25583, 0.75583, 0, 0, 0.77778],
      10887: [0.13597, 0.63597, 0, 0, 0.77778],
      10888: [0.13597, 0.63597, 0, 0, 0.77778],
      10889: [0.26167, 0.75726, 0, 0, 0.77778],
      10890: [0.26167, 0.75726, 0, 0, 0.77778],
      10891: [0.48256, 0.98256, 0, 0, 0.77778],
      10892: [0.48256, 0.98256, 0, 0, 0.77778],
      10901: [0.13667, 0.63667, 0, 0, 0.77778],
      10902: [0.13667, 0.63667, 0, 0, 0.77778],
      10933: [0.25142, 0.75726, 0, 0, 0.77778],
      10934: [0.25142, 0.75726, 0, 0, 0.77778],
      10935: [0.26167, 0.75726, 0, 0, 0.77778],
      10936: [0.26167, 0.75726, 0, 0, 0.77778],
      10937: [0.26167, 0.75726, 0, 0, 0.77778],
      10938: [0.26167, 0.75726, 0, 0, 0.77778],
      10949: [0.25583, 0.75583, 0, 0, 0.77778],
      10950: [0.25583, 0.75583, 0, 0, 0.77778],
      10955: [0.28481, 0.79383, 0, 0, 0.77778],
      10956: [0.28481, 0.79383, 0, 0, 0.77778],
      57350: [0.08167, 0.58167, 0, 0, 0.22222],
      57351: [0.08167, 0.58167, 0, 0, 0.38889],
      57352: [0.08167, 0.58167, 0, 0, 0.77778],
      57353: [0, 0.43056, 0.04028, 0, 0.66667],
      57356: [0.25142, 0.75726, 0, 0, 0.77778],
      57357: [0.25142, 0.75726, 0, 0, 0.77778],
      57358: [0.41951, 0.91951, 0, 0, 0.77778],
      57359: [0.30274, 0.79383, 0, 0, 0.77778],
      57360: [0.30274, 0.79383, 0, 0, 0.77778],
      57361: [0.41951, 0.91951, 0, 0, 0.77778],
      57366: [0.25142, 0.75726, 0, 0, 0.77778],
      57367: [0.25142, 0.75726, 0, 0, 0.77778],
      57368: [0.25142, 0.75726, 0, 0, 0.77778],
      57369: [0.25142, 0.75726, 0, 0, 0.77778],
      57370: [0.13597, 0.63597, 0, 0, 0.77778],
      57371: [0.13597, 0.63597, 0, 0, 0.77778],
    },
    "Caligraphic-Regular": {
      32: [0, 0, 0, 0, 0.25],
      65: [0, 0.68333, 0, 0.19445, 0.79847],
      66: [0, 0.68333, 0.03041, 0.13889, 0.65681],
      67: [0, 0.68333, 0.05834, 0.13889, 0.52653],
      68: [0, 0.68333, 0.02778, 0.08334, 0.77139],
      69: [0, 0.68333, 0.08944, 0.11111, 0.52778],
      70: [0, 0.68333, 0.09931, 0.11111, 0.71875],
      71: [0.09722, 0.68333, 0.0593, 0.11111, 0.59487],
      72: [0, 0.68333, 0.00965, 0.11111, 0.84452],
      73: [0, 0.68333, 0.07382, 0, 0.54452],
      74: [0.09722, 0.68333, 0.18472, 0.16667, 0.67778],
      75: [0, 0.68333, 0.01445, 0.05556, 0.76195],
      76: [0, 0.68333, 0, 0.13889, 0.68972],
      77: [0, 0.68333, 0, 0.13889, 1.2009],
      78: [0, 0.68333, 0.14736, 0.08334, 0.82049],
      79: [0, 0.68333, 0.02778, 0.11111, 0.79611],
      80: [0, 0.68333, 0.08222, 0.08334, 0.69556],
      81: [0.09722, 0.68333, 0, 0.11111, 0.81667],
      82: [0, 0.68333, 0, 0.08334, 0.8475],
      83: [0, 0.68333, 0.075, 0.13889, 0.60556],
      84: [0, 0.68333, 0.25417, 0, 0.54464],
      85: [0, 0.68333, 0.09931, 0.08334, 0.62583],
      86: [0, 0.68333, 0.08222, 0, 0.61278],
      87: [0, 0.68333, 0.08222, 0.08334, 0.98778],
      88: [0, 0.68333, 0.14643, 0.13889, 0.7133],
      89: [0.09722, 0.68333, 0.08222, 0.08334, 0.66834],
      90: [0, 0.68333, 0.07944, 0.13889, 0.72473],
      160: [0, 0, 0, 0, 0.25],
    },
    "Fraktur-Regular": {
      32: [0, 0, 0, 0, 0.25],
      33: [0, 0.69141, 0, 0, 0.29574],
      34: [0, 0.69141, 0, 0, 0.21471],
      38: [0, 0.69141, 0, 0, 0.73786],
      39: [0, 0.69141, 0, 0, 0.21201],
      40: [0.24982, 0.74947, 0, 0, 0.38865],
      41: [0.24982, 0.74947, 0, 0, 0.38865],
      42: [0, 0.62119, 0, 0, 0.27764],
      43: [0.08319, 0.58283, 0, 0, 0.75623],
      44: [0, 0.10803, 0, 0, 0.27764],
      45: [0.08319, 0.58283, 0, 0, 0.75623],
      46: [0, 0.10803, 0, 0, 0.27764],
      47: [0.24982, 0.74947, 0, 0, 0.50181],
      48: [0, 0.47534, 0, 0, 0.50181],
      49: [0, 0.47534, 0, 0, 0.50181],
      50: [0, 0.47534, 0, 0, 0.50181],
      51: [0.18906, 0.47534, 0, 0, 0.50181],
      52: [0.18906, 0.47534, 0, 0, 0.50181],
      53: [0.18906, 0.47534, 0, 0, 0.50181],
      54: [0, 0.69141, 0, 0, 0.50181],
      55: [0.18906, 0.47534, 0, 0, 0.50181],
      56: [0, 0.69141, 0, 0, 0.50181],
      57: [0.18906, 0.47534, 0, 0, 0.50181],
      58: [0, 0.47534, 0, 0, 0.21606],
      59: [0.12604, 0.47534, 0, 0, 0.21606],
      61: [-0.13099, 0.36866, 0, 0, 0.75623],
      63: [0, 0.69141, 0, 0, 0.36245],
      65: [0, 0.69141, 0, 0, 0.7176],
      66: [0, 0.69141, 0, 0, 0.88397],
      67: [0, 0.69141, 0, 0, 0.61254],
      68: [0, 0.69141, 0, 0, 0.83158],
      69: [0, 0.69141, 0, 0, 0.66278],
      70: [0.12604, 0.69141, 0, 0, 0.61119],
      71: [0, 0.69141, 0, 0, 0.78539],
      72: [0.06302, 0.69141, 0, 0, 0.7203],
      73: [0, 0.69141, 0, 0, 0.55448],
      74: [0.12604, 0.69141, 0, 0, 0.55231],
      75: [0, 0.69141, 0, 0, 0.66845],
      76: [0, 0.69141, 0, 0, 0.66602],
      77: [0, 0.69141, 0, 0, 1.04953],
      78: [0, 0.69141, 0, 0, 0.83212],
      79: [0, 0.69141, 0, 0, 0.82699],
      80: [0.18906, 0.69141, 0, 0, 0.82753],
      81: [0.03781, 0.69141, 0, 0, 0.82699],
      82: [0, 0.69141, 0, 0, 0.82807],
      83: [0, 0.69141, 0, 0, 0.82861],
      84: [0, 0.69141, 0, 0, 0.66899],
      85: [0, 0.69141, 0, 0, 0.64576],
      86: [0, 0.69141, 0, 0, 0.83131],
      87: [0, 0.69141, 0, 0, 1.04602],
      88: [0, 0.69141, 0, 0, 0.71922],
      89: [0.18906, 0.69141, 0, 0, 0.83293],
      90: [0.12604, 0.69141, 0, 0, 0.60201],
      91: [0.24982, 0.74947, 0, 0, 0.27764],
      93: [0.24982, 0.74947, 0, 0, 0.27764],
      94: [0, 0.69141, 0, 0, 0.49965],
      97: [0, 0.47534, 0, 0, 0.50046],
      98: [0, 0.69141, 0, 0, 0.51315],
      99: [0, 0.47534, 0, 0, 0.38946],
      100: [0, 0.62119, 0, 0, 0.49857],
      101: [0, 0.47534, 0, 0, 0.40053],
      102: [0.18906, 0.69141, 0, 0, 0.32626],
      103: [0.18906, 0.47534, 0, 0, 0.5037],
      104: [0.18906, 0.69141, 0, 0, 0.52126],
      105: [0, 0.69141, 0, 0, 0.27899],
      106: [0, 0.69141, 0, 0, 0.28088],
      107: [0, 0.69141, 0, 0, 0.38946],
      108: [0, 0.69141, 0, 0, 0.27953],
      109: [0, 0.47534, 0, 0, 0.76676],
      110: [0, 0.47534, 0, 0, 0.52666],
      111: [0, 0.47534, 0, 0, 0.48885],
      112: [0.18906, 0.52396, 0, 0, 0.50046],
      113: [0.18906, 0.47534, 0, 0, 0.48912],
      114: [0, 0.47534, 0, 0, 0.38919],
      115: [0, 0.47534, 0, 0, 0.44266],
      116: [0, 0.62119, 0, 0, 0.33301],
      117: [0, 0.47534, 0, 0, 0.5172],
      118: [0, 0.52396, 0, 0, 0.5118],
      119: [0, 0.52396, 0, 0, 0.77351],
      120: [0.18906, 0.47534, 0, 0, 0.38865],
      121: [0.18906, 0.47534, 0, 0, 0.49884],
      122: [0.18906, 0.47534, 0, 0, 0.39054],
      160: [0, 0, 0, 0, 0.25],
      8216: [0, 0.69141, 0, 0, 0.21471],
      8217: [0, 0.69141, 0, 0, 0.21471],
      58112: [0, 0.62119, 0, 0, 0.49749],
      58113: [0, 0.62119, 0, 0, 0.4983],
      58114: [0.18906, 0.69141, 0, 0, 0.33328],
      58115: [0.18906, 0.69141, 0, 0, 0.32923],
      58116: [0.18906, 0.47534, 0, 0, 0.50343],
      58117: [0, 0.69141, 0, 0, 0.33301],
      58118: [0, 0.62119, 0, 0, 0.33409],
      58119: [0, 0.47534, 0, 0, 0.50073],
    },
    "Main-Bold": {
      32: [0, 0, 0, 0, 0.25],
      33: [0, 0.69444, 0, 0, 0.35],
      34: [0, 0.69444, 0, 0, 0.60278],
      35: [0.19444, 0.69444, 0, 0, 0.95833],
      36: [0.05556, 0.75, 0, 0, 0.575],
      37: [0.05556, 0.75, 0, 0, 0.95833],
      38: [0, 0.69444, 0, 0, 0.89444],
      39: [0, 0.69444, 0, 0, 0.31944],
      40: [0.25, 0.75, 0, 0, 0.44722],
      41: [0.25, 0.75, 0, 0, 0.44722],
      42: [0, 0.75, 0, 0, 0.575],
      43: [0.13333, 0.63333, 0, 0, 0.89444],
      44: [0.19444, 0.15556, 0, 0, 0.31944],
      45: [0, 0.44444, 0, 0, 0.38333],
      46: [0, 0.15556, 0, 0, 0.31944],
      47: [0.25, 0.75, 0, 0, 0.575],
      48: [0, 0.64444, 0, 0, 0.575],
      49: [0, 0.64444, 0, 0, 0.575],
      50: [0, 0.64444, 0, 0, 0.575],
      51: [0, 0.64444, 0, 0, 0.575],
      52: [0, 0.64444, 0, 0, 0.575],
      53: [0, 0.64444, 0, 0, 0.575],
      54: [0, 0.64444, 0, 0, 0.575],
      55: [0, 0.64444, 0, 0, 0.575],
      56: [0, 0.64444, 0, 0, 0.575],
      57: [0, 0.64444, 0, 0, 0.575],
      58: [0, 0.44444, 0, 0, 0.31944],
      59: [0.19444, 0.44444, 0, 0, 0.31944],
      60: [0.08556, 0.58556, 0, 0, 0.89444],
      61: [-0.10889, 0.39111, 0, 0, 0.89444],
      62: [0.08556, 0.58556, 0, 0, 0.89444],
      63: [0, 0.69444, 0, 0, 0.54305],
      64: [0, 0.69444, 0, 0, 0.89444],
      65: [0, 0.68611, 0, 0, 0.86944],
      66: [0, 0.68611, 0, 0, 0.81805],
      67: [0, 0.68611, 0, 0, 0.83055],
      68: [0, 0.68611, 0, 0, 0.88194],
      69: [0, 0.68611, 0, 0, 0.75555],
      70: [0, 0.68611, 0, 0, 0.72361],
      71: [0, 0.68611, 0, 0, 0.90416],
      72: [0, 0.68611, 0, 0, 0.9],
      73: [0, 0.68611, 0, 0, 0.43611],
      74: [0, 0.68611, 0, 0, 0.59444],
      75: [0, 0.68611, 0, 0, 0.90138],
      76: [0, 0.68611, 0, 0, 0.69166],
      77: [0, 0.68611, 0, 0, 1.09166],
      78: [0, 0.68611, 0, 0, 0.9],
      79: [0, 0.68611, 0, 0, 0.86388],
      80: [0, 0.68611, 0, 0, 0.78611],
      81: [0.19444, 0.68611, 0, 0, 0.86388],
      82: [0, 0.68611, 0, 0, 0.8625],
      83: [0, 0.68611, 0, 0, 0.63889],
      84: [0, 0.68611, 0, 0, 0.8],
      85: [0, 0.68611, 0, 0, 0.88472],
      86: [0, 0.68611, 0.01597, 0, 0.86944],
      87: [0, 0.68611, 0.01597, 0, 1.18888],
      88: [0, 0.68611, 0, 0, 0.86944],
      89: [0, 0.68611, 0.02875, 0, 0.86944],
      90: [0, 0.68611, 0, 0, 0.70277],
      91: [0.25, 0.75, 0, 0, 0.31944],
      92: [0.25, 0.75, 0, 0, 0.575],
      93: [0.25, 0.75, 0, 0, 0.31944],
      94: [0, 0.69444, 0, 0, 0.575],
      95: [0.31, 0.13444, 0.03194, 0, 0.575],
      97: [0, 0.44444, 0, 0, 0.55902],
      98: [0, 0.69444, 0, 0, 0.63889],
      99: [0, 0.44444, 0, 0, 0.51111],
      100: [0, 0.69444, 0, 0, 0.63889],
      101: [0, 0.44444, 0, 0, 0.52708],
      102: [0, 0.69444, 0.10903, 0, 0.35139],
      103: [0.19444, 0.44444, 0.01597, 0, 0.575],
      104: [0, 0.69444, 0, 0, 0.63889],
      105: [0, 0.69444, 0, 0, 0.31944],
      106: [0.19444, 0.69444, 0, 0, 0.35139],
      107: [0, 0.69444, 0, 0, 0.60694],
      108: [0, 0.69444, 0, 0, 0.31944],
      109: [0, 0.44444, 0, 0, 0.95833],
      110: [0, 0.44444, 0, 0, 0.63889],
      111: [0, 0.44444, 0, 0, 0.575],
      112: [0.19444, 0.44444, 0, 0, 0.63889],
      113: [0.19444, 0.44444, 0, 0, 0.60694],
      114: [0, 0.44444, 0, 0, 0.47361],
      115: [0, 0.44444, 0, 0, 0.45361],
      116: [0, 0.63492, 0, 0, 0.44722],
      117: [0, 0.44444, 0, 0, 0.63889],
      118: [0, 0.44444, 0.01597, 0, 0.60694],
      119: [0, 0.44444, 0.01597, 0, 0.83055],
      120: [0, 0.44444, 0, 0, 0.60694],
      121: [0.19444, 0.44444, 0.01597, 0, 0.60694],
      122: [0, 0.44444, 0, 0, 0.51111],
      123: [0.25, 0.75, 0, 0, 0.575],
      124: [0.25, 0.75, 0, 0, 0.31944],
      125: [0.25, 0.75, 0, 0, 0.575],
      126: [0.35, 0.34444, 0, 0, 0.575],
      160: [0, 0, 0, 0, 0.25],
      163: [0, 0.69444, 0, 0, 0.86853],
      168: [0, 0.69444, 0, 0, 0.575],
      172: [0, 0.44444, 0, 0, 0.76666],
      176: [0, 0.69444, 0, 0, 0.86944],
      177: [0.13333, 0.63333, 0, 0, 0.89444],
      184: [0.17014, 0, 0, 0, 0.51111],
      198: [0, 0.68611, 0, 0, 1.04166],
      215: [0.13333, 0.63333, 0, 0, 0.89444],
      216: [0.04861, 0.73472, 0, 0, 0.89444],
      223: [0, 0.69444, 0, 0, 0.59722],
      230: [0, 0.44444, 0, 0, 0.83055],
      247: [0.13333, 0.63333, 0, 0, 0.89444],
      248: [0.09722, 0.54167, 0, 0, 0.575],
      305: [0, 0.44444, 0, 0, 0.31944],
      338: [0, 0.68611, 0, 0, 1.16944],
      339: [0, 0.44444, 0, 0, 0.89444],
      567: [0.19444, 0.44444, 0, 0, 0.35139],
      710: [0, 0.69444, 0, 0, 0.575],
      711: [0, 0.63194, 0, 0, 0.575],
      713: [0, 0.59611, 0, 0, 0.575],
      714: [0, 0.69444, 0, 0, 0.575],
      715: [0, 0.69444, 0, 0, 0.575],
      728: [0, 0.69444, 0, 0, 0.575],
      729: [0, 0.69444, 0, 0, 0.31944],
      730: [0, 0.69444, 0, 0, 0.86944],
      732: [0, 0.69444, 0, 0, 0.575],
      733: [0, 0.69444, 0, 0, 0.575],
      915: [0, 0.68611, 0, 0, 0.69166],
      916: [0, 0.68611, 0, 0, 0.95833],
      920: [0, 0.68611, 0, 0, 0.89444],
      923: [0, 0.68611, 0, 0, 0.80555],
      926: [0, 0.68611, 0, 0, 0.76666],
      928: [0, 0.68611, 0, 0, 0.9],
      931: [0, 0.68611, 0, 0, 0.83055],
      933: [0, 0.68611, 0, 0, 0.89444],
      934: [0, 0.68611, 0, 0, 0.83055],
      936: [0, 0.68611, 0, 0, 0.89444],
      937: [0, 0.68611, 0, 0, 0.83055],
      8211: [0, 0.44444, 0.03194, 0, 0.575],
      8212: [0, 0.44444, 0.03194, 0, 1.14999],
      8216: [0, 0.69444, 0, 0, 0.31944],
      8217: [0, 0.69444, 0, 0, 0.31944],
      8220: [0, 0.69444, 0, 0, 0.60278],
      8221: [0, 0.69444, 0, 0, 0.60278],
      8224: [0.19444, 0.69444, 0, 0, 0.51111],
      8225: [0.19444, 0.69444, 0, 0, 0.51111],
      8242: [0, 0.55556, 0, 0, 0.34444],
      8407: [0, 0.72444, 0.15486, 0, 0.575],
      8463: [0, 0.69444, 0, 0, 0.66759],
      8465: [0, 0.69444, 0, 0, 0.83055],
      8467: [0, 0.69444, 0, 0, 0.47361],
      8472: [0.19444, 0.44444, 0, 0, 0.74027],
      8476: [0, 0.69444, 0, 0, 0.83055],
      8501: [0, 0.69444, 0, 0, 0.70277],
      8592: [-0.10889, 0.39111, 0, 0, 1.14999],
      8593: [0.19444, 0.69444, 0, 0, 0.575],
      8594: [-0.10889, 0.39111, 0, 0, 1.14999],
      8595: [0.19444, 0.69444, 0, 0, 0.575],
      8596: [-0.10889, 0.39111, 0, 0, 1.14999],
      8597: [0.25, 0.75, 0, 0, 0.575],
      8598: [0.19444, 0.69444, 0, 0, 1.14999],
      8599: [0.19444, 0.69444, 0, 0, 1.14999],
      8600: [0.19444, 0.69444, 0, 0, 1.14999],
      8601: [0.19444, 0.69444, 0, 0, 1.14999],
      8636: [-0.10889, 0.39111, 0, 0, 1.14999],
      8637: [-0.10889, 0.39111, 0, 0, 1.14999],
      8640: [-0.10889, 0.39111, 0, 0, 1.14999],
      8641: [-0.10889, 0.39111, 0, 0, 1.14999],
      8656: [-0.10889, 0.39111, 0, 0, 1.14999],
      8657: [0.19444, 0.69444, 0, 0, 0.70277],
      8658: [-0.10889, 0.39111, 0, 0, 1.14999],
      8659: [0.19444, 0.69444, 0, 0, 0.70277],
      8660: [-0.10889, 0.39111, 0, 0, 1.14999],
      8661: [0.25, 0.75, 0, 0, 0.70277],
      8704: [0, 0.69444, 0, 0, 0.63889],
      8706: [0, 0.69444, 0.06389, 0, 0.62847],
      8707: [0, 0.69444, 0, 0, 0.63889],
      8709: [0.05556, 0.75, 0, 0, 0.575],
      8711: [0, 0.68611, 0, 0, 0.95833],
      8712: [0.08556, 0.58556, 0, 0, 0.76666],
      8715: [0.08556, 0.58556, 0, 0, 0.76666],
      8722: [0.13333, 0.63333, 0, 0, 0.89444],
      8723: [0.13333, 0.63333, 0, 0, 0.89444],
      8725: [0.25, 0.75, 0, 0, 0.575],
      8726: [0.25, 0.75, 0, 0, 0.575],
      8727: [-0.02778, 0.47222, 0, 0, 0.575],
      8728: [-0.02639, 0.47361, 0, 0, 0.575],
      8729: [-0.02639, 0.47361, 0, 0, 0.575],
      8730: [0.18, 0.82, 0, 0, 0.95833],
      8733: [0, 0.44444, 0, 0, 0.89444],
      8734: [0, 0.44444, 0, 0, 1.14999],
      8736: [0, 0.69224, 0, 0, 0.72222],
      8739: [0.25, 0.75, 0, 0, 0.31944],
      8741: [0.25, 0.75, 0, 0, 0.575],
      8743: [0, 0.55556, 0, 0, 0.76666],
      8744: [0, 0.55556, 0, 0, 0.76666],
      8745: [0, 0.55556, 0, 0, 0.76666],
      8746: [0, 0.55556, 0, 0, 0.76666],
      8747: [0.19444, 0.69444, 0.12778, 0, 0.56875],
      8764: [-0.10889, 0.39111, 0, 0, 0.89444],
      8768: [0.19444, 0.69444, 0, 0, 0.31944],
      8771: [0.00222, 0.50222, 0, 0, 0.89444],
      8773: [0.027, 0.638, 0, 0, 0.894],
      8776: [0.02444, 0.52444, 0, 0, 0.89444],
      8781: [0.00222, 0.50222, 0, 0, 0.89444],
      8801: [0.00222, 0.50222, 0, 0, 0.89444],
      8804: [0.19667, 0.69667, 0, 0, 0.89444],
      8805: [0.19667, 0.69667, 0, 0, 0.89444],
      8810: [0.08556, 0.58556, 0, 0, 1.14999],
      8811: [0.08556, 0.58556, 0, 0, 1.14999],
      8826: [0.08556, 0.58556, 0, 0, 0.89444],
      8827: [0.08556, 0.58556, 0, 0, 0.89444],
      8834: [0.08556, 0.58556, 0, 0, 0.89444],
      8835: [0.08556, 0.58556, 0, 0, 0.89444],
      8838: [0.19667, 0.69667, 0, 0, 0.89444],
      8839: [0.19667, 0.69667, 0, 0, 0.89444],
      8846: [0, 0.55556, 0, 0, 0.76666],
      8849: [0.19667, 0.69667, 0, 0, 0.89444],
      8850: [0.19667, 0.69667, 0, 0, 0.89444],
      8851: [0, 0.55556, 0, 0, 0.76666],
      8852: [0, 0.55556, 0, 0, 0.76666],
      8853: [0.13333, 0.63333, 0, 0, 0.89444],
      8854: [0.13333, 0.63333, 0, 0, 0.89444],
      8855: [0.13333, 0.63333, 0, 0, 0.89444],
      8856: [0.13333, 0.63333, 0, 0, 0.89444],
      8857: [0.13333, 0.63333, 0, 0, 0.89444],
      8866: [0, 0.69444, 0, 0, 0.70277],
      8867: [0, 0.69444, 0, 0, 0.70277],
      8868: [0, 0.69444, 0, 0, 0.89444],
      8869: [0, 0.69444, 0, 0, 0.89444],
      8900: [-0.02639, 0.47361, 0, 0, 0.575],
      8901: [-0.02639, 0.47361, 0, 0, 0.31944],
      8902: [-0.02778, 0.47222, 0, 0, 0.575],
      8968: [0.25, 0.75, 0, 0, 0.51111],
      8969: [0.25, 0.75, 0, 0, 0.51111],
      8970: [0.25, 0.75, 0, 0, 0.51111],
      8971: [0.25, 0.75, 0, 0, 0.51111],
      8994: [-0.13889, 0.36111, 0, 0, 1.14999],
      8995: [-0.13889, 0.36111, 0, 0, 1.14999],
      9651: [0.19444, 0.69444, 0, 0, 1.02222],
      9657: [-0.02778, 0.47222, 0, 0, 0.575],
      9661: [0.19444, 0.69444, 0, 0, 1.02222],
      9667: [-0.02778, 0.47222, 0, 0, 0.575],
      9711: [0.19444, 0.69444, 0, 0, 1.14999],
      9824: [0.12963, 0.69444, 0, 0, 0.89444],
      9825: [0.12963, 0.69444, 0, 0, 0.89444],
      9826: [0.12963, 0.69444, 0, 0, 0.89444],
      9827: [0.12963, 0.69444, 0, 0, 0.89444],
      9837: [0, 0.75, 0, 0, 0.44722],
      9838: [0.19444, 0.69444, 0, 0, 0.44722],
      9839: [0.19444, 0.69444, 0, 0, 0.44722],
      10216: [0.25, 0.75, 0, 0, 0.44722],
      10217: [0.25, 0.75, 0, 0, 0.44722],
      10815: [0, 0.68611, 0, 0, 0.9],
      10927: [0.19667, 0.69667, 0, 0, 0.89444],
      10928: [0.19667, 0.69667, 0, 0, 0.89444],
      57376: [0.19444, 0.69444, 0, 0, 0],
    },
    "Main-BoldItalic": {
      32: [0, 0, 0, 0, 0.25],
      33: [0, 0.69444, 0.11417, 0, 0.38611],
      34: [0, 0.69444, 0.07939, 0, 0.62055],
      35: [0.19444, 0.69444, 0.06833, 0, 0.94444],
      37: [0.05556, 0.75, 0.12861, 0, 0.94444],
      38: [0, 0.69444, 0.08528, 0, 0.88555],
      39: [0, 0.69444, 0.12945, 0, 0.35555],
      40: [0.25, 0.75, 0.15806, 0, 0.47333],
      41: [0.25, 0.75, 0.03306, 0, 0.47333],
      42: [0, 0.75, 0.14333, 0, 0.59111],
      43: [0.10333, 0.60333, 0.03306, 0, 0.88555],
      44: [0.19444, 0.14722, 0, 0, 0.35555],
      45: [0, 0.44444, 0.02611, 0, 0.41444],
      46: [0, 0.14722, 0, 0, 0.35555],
      47: [0.25, 0.75, 0.15806, 0, 0.59111],
      48: [0, 0.64444, 0.13167, 0, 0.59111],
      49: [0, 0.64444, 0.13167, 0, 0.59111],
      50: [0, 0.64444, 0.13167, 0, 0.59111],
      51: [0, 0.64444, 0.13167, 0, 0.59111],
      52: [0.19444, 0.64444, 0.13167, 0, 0.59111],
      53: [0, 0.64444, 0.13167, 0, 0.59111],
      54: [0, 0.64444, 0.13167, 0, 0.59111],
      55: [0.19444, 0.64444, 0.13167, 0, 0.59111],
      56: [0, 0.64444, 0.13167, 0, 0.59111],
      57: [0, 0.64444, 0.13167, 0, 0.59111],
      58: [0, 0.44444, 0.06695, 0, 0.35555],
      59: [0.19444, 0.44444, 0.06695, 0, 0.35555],
      61: [-0.10889, 0.39111, 0.06833, 0, 0.88555],
      63: [0, 0.69444, 0.11472, 0, 0.59111],
      64: [0, 0.69444, 0.09208, 0, 0.88555],
      65: [0, 0.68611, 0, 0, 0.86555],
      66: [0, 0.68611, 0.0992, 0, 0.81666],
      67: [0, 0.68611, 0.14208, 0, 0.82666],
      68: [0, 0.68611, 0.09062, 0, 0.87555],
      69: [0, 0.68611, 0.11431, 0, 0.75666],
      70: [0, 0.68611, 0.12903, 0, 0.72722],
      71: [0, 0.68611, 0.07347, 0, 0.89527],
      72: [0, 0.68611, 0.17208, 0, 0.8961],
      73: [0, 0.68611, 0.15681, 0, 0.47166],
      74: [0, 0.68611, 0.145, 0, 0.61055],
      75: [0, 0.68611, 0.14208, 0, 0.89499],
      76: [0, 0.68611, 0, 0, 0.69777],
      77: [0, 0.68611, 0.17208, 0, 1.07277],
      78: [0, 0.68611, 0.17208, 0, 0.8961],
      79: [0, 0.68611, 0.09062, 0, 0.85499],
      80: [0, 0.68611, 0.0992, 0, 0.78721],
      81: [0.19444, 0.68611, 0.09062, 0, 0.85499],
      82: [0, 0.68611, 0.02559, 0, 0.85944],
      83: [0, 0.68611, 0.11264, 0, 0.64999],
      84: [0, 0.68611, 0.12903, 0, 0.7961],
      85: [0, 0.68611, 0.17208, 0, 0.88083],
      86: [0, 0.68611, 0.18625, 0, 0.86555],
      87: [0, 0.68611, 0.18625, 0, 1.15999],
      88: [0, 0.68611, 0.15681, 0, 0.86555],
      89: [0, 0.68611, 0.19803, 0, 0.86555],
      90: [0, 0.68611, 0.14208, 0, 0.70888],
      91: [0.25, 0.75, 0.1875, 0, 0.35611],
      93: [0.25, 0.75, 0.09972, 0, 0.35611],
      94: [0, 0.69444, 0.06709, 0, 0.59111],
      95: [0.31, 0.13444, 0.09811, 0, 0.59111],
      97: [0, 0.44444, 0.09426, 0, 0.59111],
      98: [0, 0.69444, 0.07861, 0, 0.53222],
      99: [0, 0.44444, 0.05222, 0, 0.53222],
      100: [0, 0.69444, 0.10861, 0, 0.59111],
      101: [0, 0.44444, 0.085, 0, 0.53222],
      102: [0.19444, 0.69444, 0.21778, 0, 0.4],
      103: [0.19444, 0.44444, 0.105, 0, 0.53222],
      104: [0, 0.69444, 0.09426, 0, 0.59111],
      105: [0, 0.69326, 0.11387, 0, 0.35555],
      106: [0.19444, 0.69326, 0.1672, 0, 0.35555],
      107: [0, 0.69444, 0.11111, 0, 0.53222],
      108: [0, 0.69444, 0.10861, 0, 0.29666],
      109: [0, 0.44444, 0.09426, 0, 0.94444],
      110: [0, 0.44444, 0.09426, 0, 0.64999],
      111: [0, 0.44444, 0.07861, 0, 0.59111],
      112: [0.19444, 0.44444, 0.07861, 0, 0.59111],
      113: [0.19444, 0.44444, 0.105, 0, 0.53222],
      114: [0, 0.44444, 0.11111, 0, 0.50167],
      115: [0, 0.44444, 0.08167, 0, 0.48694],
      116: [0, 0.63492, 0.09639, 0, 0.385],
      117: [0, 0.44444, 0.09426, 0, 0.62055],
      118: [0, 0.44444, 0.11111, 0, 0.53222],
      119: [0, 0.44444, 0.11111, 0, 0.76777],
      120: [0, 0.44444, 0.12583, 0, 0.56055],
      121: [0.19444, 0.44444, 0.105, 0, 0.56166],
      122: [0, 0.44444, 0.13889, 0, 0.49055],
      126: [0.35, 0.34444, 0.11472, 0, 0.59111],
      160: [0, 0, 0, 0, 0.25],
      168: [0, 0.69444, 0.11473, 0, 0.59111],
      176: [0, 0.69444, 0, 0, 0.94888],
      184: [0.17014, 0, 0, 0, 0.53222],
      198: [0, 0.68611, 0.11431, 0, 1.02277],
      216: [0.04861, 0.73472, 0.09062, 0, 0.88555],
      223: [0.19444, 0.69444, 0.09736, 0, 0.665],
      230: [0, 0.44444, 0.085, 0, 0.82666],
      248: [0.09722, 0.54167, 0.09458, 0, 0.59111],
      305: [0, 0.44444, 0.09426, 0, 0.35555],
      338: [0, 0.68611, 0.11431, 0, 1.14054],
      339: [0, 0.44444, 0.085, 0, 0.82666],
      567: [0.19444, 0.44444, 0.04611, 0, 0.385],
      710: [0, 0.69444, 0.06709, 0, 0.59111],
      711: [0, 0.63194, 0.08271, 0, 0.59111],
      713: [0, 0.59444, 0.10444, 0, 0.59111],
      714: [0, 0.69444, 0.08528, 0, 0.59111],
      715: [0, 0.69444, 0, 0, 0.59111],
      728: [0, 0.69444, 0.10333, 0, 0.59111],
      729: [0, 0.69444, 0.12945, 0, 0.35555],
      730: [0, 0.69444, 0, 0, 0.94888],
      732: [0, 0.69444, 0.11472, 0, 0.59111],
      733: [0, 0.69444, 0.11472, 0, 0.59111],
      915: [0, 0.68611, 0.12903, 0, 0.69777],
      916: [0, 0.68611, 0, 0, 0.94444],
      920: [0, 0.68611, 0.09062, 0, 0.88555],
      923: [0, 0.68611, 0, 0, 0.80666],
      926: [0, 0.68611, 0.15092, 0, 0.76777],
      928: [0, 0.68611, 0.17208, 0, 0.8961],
      931: [0, 0.68611, 0.11431, 0, 0.82666],
      933: [0, 0.68611, 0.10778, 0, 0.88555],
      934: [0, 0.68611, 0.05632, 0, 0.82666],
      936: [0, 0.68611, 0.10778, 0, 0.88555],
      937: [0, 0.68611, 0.0992, 0, 0.82666],
      8211: [0, 0.44444, 0.09811, 0, 0.59111],
      8212: [0, 0.44444, 0.09811, 0, 1.18221],
      8216: [0, 0.69444, 0.12945, 0, 0.35555],
      8217: [0, 0.69444, 0.12945, 0, 0.35555],
      8220: [0, 0.69444, 0.16772, 0, 0.62055],
      8221: [0, 0.69444, 0.07939, 0, 0.62055],
    },
    "Main-Italic": {
      32: [0, 0, 0, 0, 0.25],
      33: [0, 0.69444, 0.12417, 0, 0.30667],
      34: [0, 0.69444, 0.06961, 0, 0.51444],
      35: [0.19444, 0.69444, 0.06616, 0, 0.81777],
      37: [0.05556, 0.75, 0.13639, 0, 0.81777],
      38: [0, 0.69444, 0.09694, 0, 0.76666],
      39: [0, 0.69444, 0.12417, 0, 0.30667],
      40: [0.25, 0.75, 0.16194, 0, 0.40889],
      41: [0.25, 0.75, 0.03694, 0, 0.40889],
      42: [0, 0.75, 0.14917, 0, 0.51111],
      43: [0.05667, 0.56167, 0.03694, 0, 0.76666],
      44: [0.19444, 0.10556, 0, 0, 0.30667],
      45: [0, 0.43056, 0.02826, 0, 0.35778],
      46: [0, 0.10556, 0, 0, 0.30667],
      47: [0.25, 0.75, 0.16194, 0, 0.51111],
      48: [0, 0.64444, 0.13556, 0, 0.51111],
      49: [0, 0.64444, 0.13556, 0, 0.51111],
      50: [0, 0.64444, 0.13556, 0, 0.51111],
      51: [0, 0.64444, 0.13556, 0, 0.51111],
      52: [0.19444, 0.64444, 0.13556, 0, 0.51111],
      53: [0, 0.64444, 0.13556, 0, 0.51111],
      54: [0, 0.64444, 0.13556, 0, 0.51111],
      55: [0.19444, 0.64444, 0.13556, 0, 0.51111],
      56: [0, 0.64444, 0.13556, 0, 0.51111],
      57: [0, 0.64444, 0.13556, 0, 0.51111],
      58: [0, 0.43056, 0.0582, 0, 0.30667],
      59: [0.19444, 0.43056, 0.0582, 0, 0.30667],
      61: [-0.13313, 0.36687, 0.06616, 0, 0.76666],
      63: [0, 0.69444, 0.1225, 0, 0.51111],
      64: [0, 0.69444, 0.09597, 0, 0.76666],
      65: [0, 0.68333, 0, 0, 0.74333],
      66: [0, 0.68333, 0.10257, 0, 0.70389],
      67: [0, 0.68333, 0.14528, 0, 0.71555],
      68: [0, 0.68333, 0.09403, 0, 0.755],
      69: [0, 0.68333, 0.12028, 0, 0.67833],
      70: [0, 0.68333, 0.13305, 0, 0.65277],
      71: [0, 0.68333, 0.08722, 0, 0.77361],
      72: [0, 0.68333, 0.16389, 0, 0.74333],
      73: [0, 0.68333, 0.15806, 0, 0.38555],
      74: [0, 0.68333, 0.14028, 0, 0.525],
      75: [0, 0.68333, 0.14528, 0, 0.76888],
      76: [0, 0.68333, 0, 0, 0.62722],
      77: [0, 0.68333, 0.16389, 0, 0.89666],
      78: [0, 0.68333, 0.16389, 0, 0.74333],
      79: [0, 0.68333, 0.09403, 0, 0.76666],
      80: [0, 0.68333, 0.10257, 0, 0.67833],
      81: [0.19444, 0.68333, 0.09403, 0, 0.76666],
      82: [0, 0.68333, 0.03868, 0, 0.72944],
      83: [0, 0.68333, 0.11972, 0, 0.56222],
      84: [0, 0.68333, 0.13305, 0, 0.71555],
      85: [0, 0.68333, 0.16389, 0, 0.74333],
      86: [0, 0.68333, 0.18361, 0, 0.74333],
      87: [0, 0.68333, 0.18361, 0, 0.99888],
      88: [0, 0.68333, 0.15806, 0, 0.74333],
      89: [0, 0.68333, 0.19383, 0, 0.74333],
      90: [0, 0.68333, 0.14528, 0, 0.61333],
      91: [0.25, 0.75, 0.1875, 0, 0.30667],
      93: [0.25, 0.75, 0.10528, 0, 0.30667],
      94: [0, 0.69444, 0.06646, 0, 0.51111],
      95: [0.31, 0.12056, 0.09208, 0, 0.51111],
      97: [0, 0.43056, 0.07671, 0, 0.51111],
      98: [0, 0.69444, 0.06312, 0, 0.46],
      99: [0, 0.43056, 0.05653, 0, 0.46],
      100: [0, 0.69444, 0.10333, 0, 0.51111],
      101: [0, 0.43056, 0.07514, 0, 0.46],
      102: [0.19444, 0.69444, 0.21194, 0, 0.30667],
      103: [0.19444, 0.43056, 0.08847, 0, 0.46],
      104: [0, 0.69444, 0.07671, 0, 0.51111],
      105: [0, 0.65536, 0.1019, 0, 0.30667],
      106: [0.19444, 0.65536, 0.14467, 0, 0.30667],
      107: [0, 0.69444, 0.10764, 0, 0.46],
      108: [0, 0.69444, 0.10333, 0, 0.25555],
      109: [0, 0.43056, 0.07671, 0, 0.81777],
      110: [0, 0.43056, 0.07671, 0, 0.56222],
      111: [0, 0.43056, 0.06312, 0, 0.51111],
      112: [0.19444, 0.43056, 0.06312, 0, 0.51111],
      113: [0.19444, 0.43056, 0.08847, 0, 0.46],
      114: [0, 0.43056, 0.10764, 0, 0.42166],
      115: [0, 0.43056, 0.08208, 0, 0.40889],
      116: [0, 0.61508, 0.09486, 0, 0.33222],
      117: [0, 0.43056, 0.07671, 0, 0.53666],
      118: [0, 0.43056, 0.10764, 0, 0.46],
      119: [0, 0.43056, 0.10764, 0, 0.66444],
      120: [0, 0.43056, 0.12042, 0, 0.46389],
      121: [0.19444, 0.43056, 0.08847, 0, 0.48555],
      122: [0, 0.43056, 0.12292, 0, 0.40889],
      126: [0.35, 0.31786, 0.11585, 0, 0.51111],
      160: [0, 0, 0, 0, 0.25],
      168: [0, 0.66786, 0.10474, 0, 0.51111],
      176: [0, 0.69444, 0, 0, 0.83129],
      184: [0.17014, 0, 0, 0, 0.46],
      198: [0, 0.68333, 0.12028, 0, 0.88277],
      216: [0.04861, 0.73194, 0.09403, 0, 0.76666],
      223: [0.19444, 0.69444, 0.10514, 0, 0.53666],
      230: [0, 0.43056, 0.07514, 0, 0.71555],
      248: [0.09722, 0.52778, 0.09194, 0, 0.51111],
      338: [0, 0.68333, 0.12028, 0, 0.98499],
      339: [0, 0.43056, 0.07514, 0, 0.71555],
      710: [0, 0.69444, 0.06646, 0, 0.51111],
      711: [0, 0.62847, 0.08295, 0, 0.51111],
      713: [0, 0.56167, 0.10333, 0, 0.51111],
      714: [0, 0.69444, 0.09694, 0, 0.51111],
      715: [0, 0.69444, 0, 0, 0.51111],
      728: [0, 0.69444, 0.10806, 0, 0.51111],
      729: [0, 0.66786, 0.11752, 0, 0.30667],
      730: [0, 0.69444, 0, 0, 0.83129],
      732: [0, 0.66786, 0.11585, 0, 0.51111],
      733: [0, 0.69444, 0.1225, 0, 0.51111],
      915: [0, 0.68333, 0.13305, 0, 0.62722],
      916: [0, 0.68333, 0, 0, 0.81777],
      920: [0, 0.68333, 0.09403, 0, 0.76666],
      923: [0, 0.68333, 0, 0, 0.69222],
      926: [0, 0.68333, 0.15294, 0, 0.66444],
      928: [0, 0.68333, 0.16389, 0, 0.74333],
      931: [0, 0.68333, 0.12028, 0, 0.71555],
      933: [0, 0.68333, 0.11111, 0, 0.76666],
      934: [0, 0.68333, 0.05986, 0, 0.71555],
      936: [0, 0.68333, 0.11111, 0, 0.76666],
      937: [0, 0.68333, 0.10257, 0, 0.71555],
      8211: [0, 0.43056, 0.09208, 0, 0.51111],
      8212: [0, 0.43056, 0.09208, 0, 1.02222],
      8216: [0, 0.69444, 0.12417, 0, 0.30667],
      8217: [0, 0.69444, 0.12417, 0, 0.30667],
      8220: [0, 0.69444, 0.1685, 0, 0.51444],
      8221: [0, 0.69444, 0.06961, 0, 0.51444],
      8463: [0, 0.68889, 0, 0, 0.54028],
    },
    "Main-Regular": {
      32: [0, 0, 0, 0, 0.25],
      33: [0, 0.69444, 0, 0, 0.27778],
      34: [0, 0.69444, 0, 0, 0.5],
      35: [0.19444, 0.69444, 0, 0, 0.83334],
      36: [0.05556, 0.75, 0, 0, 0.5],
      37: [0.05556, 0.75, 0, 0, 0.83334],
      38: [0, 0.69444, 0, 0, 0.77778],
      39: [0, 0.69444, 0, 0, 0.27778],
      40: [0.25, 0.75, 0, 0, 0.38889],
      41: [0.25, 0.75, 0, 0, 0.38889],
      42: [0, 0.75, 0, 0, 0.5],
      43: [0.08333, 0.58333, 0, 0, 0.77778],
      44: [0.19444, 0.10556, 0, 0, 0.27778],
      45: [0, 0.43056, 0, 0, 0.33333],
      46: [0, 0.10556, 0, 0, 0.27778],
      47: [0.25, 0.75, 0, 0, 0.5],
      48: [0, 0.64444, 0, 0, 0.5],
      49: [0, 0.64444, 0, 0, 0.5],
      50: [0, 0.64444, 0, 0, 0.5],
      51: [0, 0.64444, 0, 0, 0.5],
      52: [0, 0.64444, 0, 0, 0.5],
      53: [0, 0.64444, 0, 0, 0.5],
      54: [0, 0.64444, 0, 0, 0.5],
      55: [0, 0.64444, 0, 0, 0.5],
      56: [0, 0.64444, 0, 0, 0.5],
      57: [0, 0.64444, 0, 0, 0.5],
      58: [0, 0.43056, 0, 0, 0.27778],
      59: [0.19444, 0.43056, 0, 0, 0.27778],
      60: [0.0391, 0.5391, 0, 0, 0.77778],
      61: [-0.13313, 0.36687, 0, 0, 0.77778],
      62: [0.0391, 0.5391, 0, 0, 0.77778],
      63: [0, 0.69444, 0, 0, 0.47222],
      64: [0, 0.69444, 0, 0, 0.77778],
      65: [0, 0.68333, 0, 0, 0.75],
      66: [0, 0.68333, 0, 0, 0.70834],
      67: [0, 0.68333, 0, 0, 0.72222],
      68: [0, 0.68333, 0, 0, 0.76389],
      69: [0, 0.68333, 0, 0, 0.68056],
      70: [0, 0.68333, 0, 0, 0.65278],
      71: [0, 0.68333, 0, 0, 0.78472],
      72: [0, 0.68333, 0, 0, 0.75],
      73: [0, 0.68333, 0, 0, 0.36111],
      74: [0, 0.68333, 0, 0, 0.51389],
      75: [0, 0.68333, 0, 0, 0.77778],
      76: [0, 0.68333, 0, 0, 0.625],
      77: [0, 0.68333, 0, 0, 0.91667],
      78: [0, 0.68333, 0, 0, 0.75],
      79: [0, 0.68333, 0, 0, 0.77778],
      80: [0, 0.68333, 0, 0, 0.68056],
      81: [0.19444, 0.68333, 0, 0, 0.77778],
      82: [0, 0.68333, 0, 0, 0.73611],
      83: [0, 0.68333, 0, 0, 0.55556],
      84: [0, 0.68333, 0, 0, 0.72222],
      85: [0, 0.68333, 0, 0, 0.75],
      86: [0, 0.68333, 0.01389, 0, 0.75],
      87: [0, 0.68333, 0.01389, 0, 1.02778],
      88: [0, 0.68333, 0, 0, 0.75],
      89: [0, 0.68333, 0.025, 0, 0.75],
      90: [0, 0.68333, 0, 0, 0.61111],
      91: [0.25, 0.75, 0, 0, 0.27778],
      92: [0.25, 0.75, 0, 0, 0.5],
      93: [0.25, 0.75, 0, 0, 0.27778],
      94: [0, 0.69444, 0, 0, 0.5],
      95: [0.31, 0.12056, 0.02778, 0, 0.5],
      97: [0, 0.43056, 0, 0, 0.5],
      98: [0, 0.69444, 0, 0, 0.55556],
      99: [0, 0.43056, 0, 0, 0.44445],
      100: [0, 0.69444, 0, 0, 0.55556],
      101: [0, 0.43056, 0, 0, 0.44445],
      102: [0, 0.69444, 0.07778, 0, 0.30556],
      103: [0.19444, 0.43056, 0.01389, 0, 0.5],
      104: [0, 0.69444, 0, 0, 0.55556],
      105: [0, 0.66786, 0, 0, 0.27778],
      106: [0.19444, 0.66786, 0, 0, 0.30556],
      107: [0, 0.69444, 0, 0, 0.52778],
      108: [0, 0.69444, 0, 0, 0.27778],
      109: [0, 0.43056, 0, 0, 0.83334],
      110: [0, 0.43056, 0, 0, 0.55556],
      111: [0, 0.43056, 0, 0, 0.5],
      112: [0.19444, 0.43056, 0, 0, 0.55556],
      113: [0.19444, 0.43056, 0, 0, 0.52778],
      114: [0, 0.43056, 0, 0, 0.39167],
      115: [0, 0.43056, 0, 0, 0.39445],
      116: [0, 0.61508, 0, 0, 0.38889],
      117: [0, 0.43056, 0, 0, 0.55556],
      118: [0, 0.43056, 0.01389, 0, 0.52778],
      119: [0, 0.43056, 0.01389, 0, 0.72222],
      120: [0, 0.43056, 0, 0, 0.52778],
      121: [0.19444, 0.43056, 0.01389, 0, 0.52778],
      122: [0, 0.43056, 0, 0, 0.44445],
      123: [0.25, 0.75, 0, 0, 0.5],
      124: [0.25, 0.75, 0, 0, 0.27778],
      125: [0.25, 0.75, 0, 0, 0.5],
      126: [0.35, 0.31786, 0, 0, 0.5],
      160: [0, 0, 0, 0, 0.25],
      163: [0, 0.69444, 0, 0, 0.76909],
      167: [0.19444, 0.69444, 0, 0, 0.44445],
      168: [0, 0.66786, 0, 0, 0.5],
      172: [0, 0.43056, 0, 0, 0.66667],
      176: [0, 0.69444, 0, 0, 0.75],
      177: [0.08333, 0.58333, 0, 0, 0.77778],
      182: [0.19444, 0.69444, 0, 0, 0.61111],
      184: [0.17014, 0, 0, 0, 0.44445],
      198: [0, 0.68333, 0, 0, 0.90278],
      215: [0.08333, 0.58333, 0, 0, 0.77778],
      216: [0.04861, 0.73194, 0, 0, 0.77778],
      223: [0, 0.69444, 0, 0, 0.5],
      230: [0, 0.43056, 0, 0, 0.72222],
      247: [0.08333, 0.58333, 0, 0, 0.77778],
      248: [0.09722, 0.52778, 0, 0, 0.5],
      305: [0, 0.43056, 0, 0, 0.27778],
      338: [0, 0.68333, 0, 0, 1.01389],
      339: [0, 0.43056, 0, 0, 0.77778],
      567: [0.19444, 0.43056, 0, 0, 0.30556],
      710: [0, 0.69444, 0, 0, 0.5],
      711: [0, 0.62847, 0, 0, 0.5],
      713: [0, 0.56778, 0, 0, 0.5],
      714: [0, 0.69444, 0, 0, 0.5],
      715: [0, 0.69444, 0, 0, 0.5],
      728: [0, 0.69444, 0, 0, 0.5],
      729: [0, 0.66786, 0, 0, 0.27778],
      730: [0, 0.69444, 0, 0, 0.75],
      732: [0, 0.66786, 0, 0, 0.5],
      733: [0, 0.69444, 0, 0, 0.5],
      915: [0, 0.68333, 0, 0, 0.625],
      916: [0, 0.68333, 0, 0, 0.83334],
      920: [0, 0.68333, 0, 0, 0.77778],
      923: [0, 0.68333, 0, 0, 0.69445],
      926: [0, 0.68333, 0, 0, 0.66667],
      928: [0, 0.68333, 0, 0, 0.75],
      931: [0, 0.68333, 0, 0, 0.72222],
      933: [0, 0.68333, 0, 0, 0.77778],
      934: [0, 0.68333, 0, 0, 0.72222],
      936: [0, 0.68333, 0, 0, 0.77778],
      937: [0, 0.68333, 0, 0, 0.72222],
      8211: [0, 0.43056, 0.02778, 0, 0.5],
      8212: [0, 0.43056, 0.02778, 0, 1],
      8216: [0, 0.69444, 0, 0, 0.27778],
      8217: [0, 0.69444, 0, 0, 0.27778],
      8220: [0, 0.69444, 0, 0, 0.5],
      8221: [0, 0.69444, 0, 0, 0.5],
      8224: [0.19444, 0.69444, 0, 0, 0.44445],
      8225: [0.19444, 0.69444, 0, 0, 0.44445],
      8230: [0, 0.123, 0, 0, 1.172],
      8242: [0, 0.55556, 0, 0, 0.275],
      8407: [0, 0.71444, 0.15382, 0, 0.5],
      8463: [0, 0.68889, 0, 0, 0.54028],
      8465: [0, 0.69444, 0, 0, 0.72222],
      8467: [0, 0.69444, 0, 0.11111, 0.41667],
      8472: [0.19444, 0.43056, 0, 0.11111, 0.63646],
      8476: [0, 0.69444, 0, 0, 0.72222],
      8501: [0, 0.69444, 0, 0, 0.61111],
      8592: [-0.13313, 0.36687, 0, 0, 1],
      8593: [0.19444, 0.69444, 0, 0, 0.5],
      8594: [-0.13313, 0.36687, 0, 0, 1],
      8595: [0.19444, 0.69444, 0, 0, 0.5],
      8596: [-0.13313, 0.36687, 0, 0, 1],
      8597: [0.25, 0.75, 0, 0, 0.5],
      8598: [0.19444, 0.69444, 0, 0, 1],
      8599: [0.19444, 0.69444, 0, 0, 1],
      8600: [0.19444, 0.69444, 0, 0, 1],
      8601: [0.19444, 0.69444, 0, 0, 1],
      8614: [0.011, 0.511, 0, 0, 1],
      8617: [0.011, 0.511, 0, 0, 1.126],
      8618: [0.011, 0.511, 0, 0, 1.126],
      8636: [-0.13313, 0.36687, 0, 0, 1],
      8637: [-0.13313, 0.36687, 0, 0, 1],
      8640: [-0.13313, 0.36687, 0, 0, 1],
      8641: [-0.13313, 0.36687, 0, 0, 1],
      8652: [0.011, 0.671, 0, 0, 1],
      8656: [-0.13313, 0.36687, 0, 0, 1],
      8657: [0.19444, 0.69444, 0, 0, 0.61111],
      8658: [-0.13313, 0.36687, 0, 0, 1],
      8659: [0.19444, 0.69444, 0, 0, 0.61111],
      8660: [-0.13313, 0.36687, 0, 0, 1],
      8661: [0.25, 0.75, 0, 0, 0.61111],
      8704: [0, 0.69444, 0, 0, 0.55556],
      8706: [0, 0.69444, 0.05556, 0.08334, 0.5309],
      8707: [0, 0.69444, 0, 0, 0.55556],
      8709: [0.05556, 0.75, 0, 0, 0.5],
      8711: [0, 0.68333, 0, 0, 0.83334],
      8712: [0.0391, 0.5391, 0, 0, 0.66667],
      8715: [0.0391, 0.5391, 0, 0, 0.66667],
      8722: [0.08333, 0.58333, 0, 0, 0.77778],
      8723: [0.08333, 0.58333, 0, 0, 0.77778],
      8725: [0.25, 0.75, 0, 0, 0.5],
      8726: [0.25, 0.75, 0, 0, 0.5],
      8727: [-0.03472, 0.46528, 0, 0, 0.5],
      8728: [-0.05555, 0.44445, 0, 0, 0.5],
      8729: [-0.05555, 0.44445, 0, 0, 0.5],
      8730: [0.2, 0.8, 0, 0, 0.83334],
      8733: [0, 0.43056, 0, 0, 0.77778],
      8734: [0, 0.43056, 0, 0, 1],
      8736: [0, 0.69224, 0, 0, 0.72222],
      8739: [0.25, 0.75, 0, 0, 0.27778],
      8741: [0.25, 0.75, 0, 0, 0.5],
      8743: [0, 0.55556, 0, 0, 0.66667],
      8744: [0, 0.55556, 0, 0, 0.66667],
      8745: [0, 0.55556, 0, 0, 0.66667],
      8746: [0, 0.55556, 0, 0, 0.66667],
      8747: [0.19444, 0.69444, 0.11111, 0, 0.41667],
      8764: [-0.13313, 0.36687, 0, 0, 0.77778],
      8768: [0.19444, 0.69444, 0, 0, 0.27778],
      8771: [-0.03625, 0.46375, 0, 0, 0.77778],
      8773: [-0.022, 0.589, 0, 0, 0.778],
      8776: [-0.01688, 0.48312, 0, 0, 0.77778],
      8781: [-0.03625, 0.46375, 0, 0, 0.77778],
      8784: [-0.133, 0.673, 0, 0, 0.778],
      8801: [-0.03625, 0.46375, 0, 0, 0.77778],
      8804: [0.13597, 0.63597, 0, 0, 0.77778],
      8805: [0.13597, 0.63597, 0, 0, 0.77778],
      8810: [0.0391, 0.5391, 0, 0, 1],
      8811: [0.0391, 0.5391, 0, 0, 1],
      8826: [0.0391, 0.5391, 0, 0, 0.77778],
      8827: [0.0391, 0.5391, 0, 0, 0.77778],
      8834: [0.0391, 0.5391, 0, 0, 0.77778],
      8835: [0.0391, 0.5391, 0, 0, 0.77778],
      8838: [0.13597, 0.63597, 0, 0, 0.77778],
      8839: [0.13597, 0.63597, 0, 0, 0.77778],
      8846: [0, 0.55556, 0, 0, 0.66667],
      8849: [0.13597, 0.63597, 0, 0, 0.77778],
      8850: [0.13597, 0.63597, 0, 0, 0.77778],
      8851: [0, 0.55556, 0, 0, 0.66667],
      8852: [0, 0.55556, 0, 0, 0.66667],
      8853: [0.08333, 0.58333, 0, 0, 0.77778],
      8854: [0.08333, 0.58333, 0, 0, 0.77778],
      8855: [0.08333, 0.58333, 0, 0, 0.77778],
      8856: [0.08333, 0.58333, 0, 0, 0.77778],
      8857: [0.08333, 0.58333, 0, 0, 0.77778],
      8866: [0, 0.69444, 0, 0, 0.61111],
      8867: [0, 0.69444, 0, 0, 0.61111],
      8868: [0, 0.69444, 0, 0, 0.77778],
      8869: [0, 0.69444, 0, 0, 0.77778],
      8872: [0.249, 0.75, 0, 0, 0.867],
      8900: [-0.05555, 0.44445, 0, 0, 0.5],
      8901: [-0.05555, 0.44445, 0, 0, 0.27778],
      8902: [-0.03472, 0.46528, 0, 0, 0.5],
      8904: [0.005, 0.505, 0, 0, 0.9],
      8942: [0.03, 0.903, 0, 0, 0.278],
      8943: [-0.19, 0.313, 0, 0, 1.172],
      8945: [-0.1, 0.823, 0, 0, 1.282],
      8968: [0.25, 0.75, 0, 0, 0.44445],
      8969: [0.25, 0.75, 0, 0, 0.44445],
      8970: [0.25, 0.75, 0, 0, 0.44445],
      8971: [0.25, 0.75, 0, 0, 0.44445],
      8994: [-0.14236, 0.35764, 0, 0, 1],
      8995: [-0.14236, 0.35764, 0, 0, 1],
      9136: [0.244, 0.744, 0, 0, 0.412],
      9137: [0.244, 0.745, 0, 0, 0.412],
      9651: [0.19444, 0.69444, 0, 0, 0.88889],
      9657: [-0.03472, 0.46528, 0, 0, 0.5],
      9661: [0.19444, 0.69444, 0, 0, 0.88889],
      9667: [-0.03472, 0.46528, 0, 0, 0.5],
      9711: [0.19444, 0.69444, 0, 0, 1],
      9824: [0.12963, 0.69444, 0, 0, 0.77778],
      9825: [0.12963, 0.69444, 0, 0, 0.77778],
      9826: [0.12963, 0.69444, 0, 0, 0.77778],
      9827: [0.12963, 0.69444, 0, 0, 0.77778],
      9837: [0, 0.75, 0, 0, 0.38889],
      9838: [0.19444, 0.69444, 0, 0, 0.38889],
      9839: [0.19444, 0.69444, 0, 0, 0.38889],
      10216: [0.25, 0.75, 0, 0, 0.38889],
      10217: [0.25, 0.75, 0, 0, 0.38889],
      10222: [0.244, 0.744, 0, 0, 0.412],
      10223: [0.244, 0.745, 0, 0, 0.412],
      10229: [0.011, 0.511, 0, 0, 1.609],
      10230: [0.011, 0.511, 0, 0, 1.638],
      10231: [0.011, 0.511, 0, 0, 1.859],
      10232: [0.024, 0.525, 0, 0, 1.609],
      10233: [0.024, 0.525, 0, 0, 1.638],
      10234: [0.024, 0.525, 0, 0, 1.858],
      10236: [0.011, 0.511, 0, 0, 1.638],
      10815: [0, 0.68333, 0, 0, 0.75],
      10927: [0.13597, 0.63597, 0, 0, 0.77778],
      10928: [0.13597, 0.63597, 0, 0, 0.77778],
      57376: [0.19444, 0.69444, 0, 0, 0],
    },
    "Math-BoldItalic": {
      32: [0, 0, 0, 0, 0.25],
      48: [0, 0.44444, 0, 0, 0.575],
      49: [0, 0.44444, 0, 0, 0.575],
      50: [0, 0.44444, 0, 0, 0.575],
      51: [0.19444, 0.44444, 0, 0, 0.575],
      52: [0.19444, 0.44444, 0, 0, 0.575],
      53: [0.19444, 0.44444, 0, 0, 0.575],
      54: [0, 0.64444, 0, 0, 0.575],
      55: [0.19444, 0.44444, 0, 0, 0.575],
      56: [0, 0.64444, 0, 0, 0.575],
      57: [0.19444, 0.44444, 0, 0, 0.575],
      65: [0, 0.68611, 0, 0, 0.86944],
      66: [0, 0.68611, 0.04835, 0, 0.8664],
      67: [0, 0.68611, 0.06979, 0, 0.81694],
      68: [0, 0.68611, 0.03194, 0, 0.93812],
      69: [0, 0.68611, 0.05451, 0, 0.81007],
      70: [0, 0.68611, 0.15972, 0, 0.68889],
      71: [0, 0.68611, 0, 0, 0.88673],
      72: [0, 0.68611, 0.08229, 0, 0.98229],
      73: [0, 0.68611, 0.07778, 0, 0.51111],
      74: [0, 0.68611, 0.10069, 0, 0.63125],
      75: [0, 0.68611, 0.06979, 0, 0.97118],
      76: [0, 0.68611, 0, 0, 0.75555],
      77: [0, 0.68611, 0.11424, 0, 1.14201],
      78: [0, 0.68611, 0.11424, 0, 0.95034],
      79: [0, 0.68611, 0.03194, 0, 0.83666],
      80: [0, 0.68611, 0.15972, 0, 0.72309],
      81: [0.19444, 0.68611, 0, 0, 0.86861],
      82: [0, 0.68611, 0.00421, 0, 0.87235],
      83: [0, 0.68611, 0.05382, 0, 0.69271],
      84: [0, 0.68611, 0.15972, 0, 0.63663],
      85: [0, 0.68611, 0.11424, 0, 0.80027],
      86: [0, 0.68611, 0.25555, 0, 0.67778],
      87: [0, 0.68611, 0.15972, 0, 1.09305],
      88: [0, 0.68611, 0.07778, 0, 0.94722],
      89: [0, 0.68611, 0.25555, 0, 0.67458],
      90: [0, 0.68611, 0.06979, 0, 0.77257],
      97: [0, 0.44444, 0, 0, 0.63287],
      98: [0, 0.69444, 0, 0, 0.52083],
      99: [0, 0.44444, 0, 0, 0.51342],
      100: [0, 0.69444, 0, 0, 0.60972],
      101: [0, 0.44444, 0, 0, 0.55361],
      102: [0.19444, 0.69444, 0.11042, 0, 0.56806],
      103: [0.19444, 0.44444, 0.03704, 0, 0.5449],
      104: [0, 0.69444, 0, 0, 0.66759],
      105: [0, 0.69326, 0, 0, 0.4048],
      106: [0.19444, 0.69326, 0.0622, 0, 0.47083],
      107: [0, 0.69444, 0.01852, 0, 0.6037],
      108: [0, 0.69444, 0.0088, 0, 0.34815],
      109: [0, 0.44444, 0, 0, 1.0324],
      110: [0, 0.44444, 0, 0, 0.71296],
      111: [0, 0.44444, 0, 0, 0.58472],
      112: [0.19444, 0.44444, 0, 0, 0.60092],
      113: [0.19444, 0.44444, 0.03704, 0, 0.54213],
      114: [0, 0.44444, 0.03194, 0, 0.5287],
      115: [0, 0.44444, 0, 0, 0.53125],
      116: [0, 0.63492, 0, 0, 0.41528],
      117: [0, 0.44444, 0, 0, 0.68102],
      118: [0, 0.44444, 0.03704, 0, 0.56666],
      119: [0, 0.44444, 0.02778, 0, 0.83148],
      120: [0, 0.44444, 0, 0, 0.65903],
      121: [0.19444, 0.44444, 0.03704, 0, 0.59028],
      122: [0, 0.44444, 0.04213, 0, 0.55509],
      160: [0, 0, 0, 0, 0.25],
      915: [0, 0.68611, 0.15972, 0, 0.65694],
      916: [0, 0.68611, 0, 0, 0.95833],
      920: [0, 0.68611, 0.03194, 0, 0.86722],
      923: [0, 0.68611, 0, 0, 0.80555],
      926: [0, 0.68611, 0.07458, 0, 0.84125],
      928: [0, 0.68611, 0.08229, 0, 0.98229],
      931: [0, 0.68611, 0.05451, 0, 0.88507],
      933: [0, 0.68611, 0.15972, 0, 0.67083],
      934: [0, 0.68611, 0, 0, 0.76666],
      936: [0, 0.68611, 0.11653, 0, 0.71402],
      937: [0, 0.68611, 0.04835, 0, 0.8789],
      945: [0, 0.44444, 0, 0, 0.76064],
      946: [0.19444, 0.69444, 0.03403, 0, 0.65972],
      947: [0.19444, 0.44444, 0.06389, 0, 0.59003],
      948: [0, 0.69444, 0.03819, 0, 0.52222],
      949: [0, 0.44444, 0, 0, 0.52882],
      950: [0.19444, 0.69444, 0.06215, 0, 0.50833],
      951: [0.19444, 0.44444, 0.03704, 0, 0.6],
      952: [0, 0.69444, 0.03194, 0, 0.5618],
      953: [0, 0.44444, 0, 0, 0.41204],
      954: [0, 0.44444, 0, 0, 0.66759],
      955: [0, 0.69444, 0, 0, 0.67083],
      956: [0.19444, 0.44444, 0, 0, 0.70787],
      957: [0, 0.44444, 0.06898, 0, 0.57685],
      958: [0.19444, 0.69444, 0.03021, 0, 0.50833],
      959: [0, 0.44444, 0, 0, 0.58472],
      960: [0, 0.44444, 0.03704, 0, 0.68241],
      961: [0.19444, 0.44444, 0, 0, 0.6118],
      962: [0.09722, 0.44444, 0.07917, 0, 0.42361],
      963: [0, 0.44444, 0.03704, 0, 0.68588],
      964: [0, 0.44444, 0.13472, 0, 0.52083],
      965: [0, 0.44444, 0.03704, 0, 0.63055],
      966: [0.19444, 0.44444, 0, 0, 0.74722],
      967: [0.19444, 0.44444, 0, 0, 0.71805],
      968: [0.19444, 0.69444, 0.03704, 0, 0.75833],
      969: [0, 0.44444, 0.03704, 0, 0.71782],
      977: [0, 0.69444, 0, 0, 0.69155],
      981: [0.19444, 0.69444, 0, 0, 0.7125],
      982: [0, 0.44444, 0.03194, 0, 0.975],
      1009: [0.19444, 0.44444, 0, 0, 0.6118],
      1013: [0, 0.44444, 0, 0, 0.48333],
      57649: [0, 0.44444, 0, 0, 0.39352],
      57911: [0.19444, 0.44444, 0, 0, 0.43889],
    },
    "Math-Italic": {
      32: [0, 0, 0, 0, 0.25],
      48: [0, 0.43056, 0, 0, 0.5],
      49: [0, 0.43056, 0, 0, 0.5],
      50: [0, 0.43056, 0, 0, 0.5],
      51: [0.19444, 0.43056, 0, 0, 0.5],
      52: [0.19444, 0.43056, 0, 0, 0.5],
      53: [0.19444, 0.43056, 0, 0, 0.5],
      54: [0, 0.64444, 0, 0, 0.5],
      55: [0.19444, 0.43056, 0, 0, 0.5],
      56: [0, 0.64444, 0, 0, 0.5],
      57: [0.19444, 0.43056, 0, 0, 0.5],
      65: [0, 0.68333, 0, 0.13889, 0.75],
      66: [0, 0.68333, 0.05017, 0.08334, 0.75851],
      67: [0, 0.68333, 0.07153, 0.08334, 0.71472],
      68: [0, 0.68333, 0.02778, 0.05556, 0.82792],
      69: [0, 0.68333, 0.05764, 0.08334, 0.7382],
      70: [0, 0.68333, 0.13889, 0.08334, 0.64306],
      71: [0, 0.68333, 0, 0.08334, 0.78625],
      72: [0, 0.68333, 0.08125, 0.05556, 0.83125],
      73: [0, 0.68333, 0.07847, 0.11111, 0.43958],
      74: [0, 0.68333, 0.09618, 0.16667, 0.55451],
      75: [0, 0.68333, 0.07153, 0.05556, 0.84931],
      76: [0, 0.68333, 0, 0.02778, 0.68056],
      77: [0, 0.68333, 0.10903, 0.08334, 0.97014],
      78: [0, 0.68333, 0.10903, 0.08334, 0.80347],
      79: [0, 0.68333, 0.02778, 0.08334, 0.76278],
      80: [0, 0.68333, 0.13889, 0.08334, 0.64201],
      81: [0.19444, 0.68333, 0, 0.08334, 0.79056],
      82: [0, 0.68333, 0.00773, 0.08334, 0.75929],
      83: [0, 0.68333, 0.05764, 0.08334, 0.6132],
      84: [0, 0.68333, 0.13889, 0.08334, 0.58438],
      85: [0, 0.68333, 0.10903, 0.02778, 0.68278],
      86: [0, 0.68333, 0.22222, 0, 0.58333],
      87: [0, 0.68333, 0.13889, 0, 0.94445],
      88: [0, 0.68333, 0.07847, 0.08334, 0.82847],
      89: [0, 0.68333, 0.22222, 0, 0.58056],
      90: [0, 0.68333, 0.07153, 0.08334, 0.68264],
      97: [0, 0.43056, 0, 0, 0.52859],
      98: [0, 0.69444, 0, 0, 0.42917],
      99: [0, 0.43056, 0, 0.05556, 0.43276],
      100: [0, 0.69444, 0, 0.16667, 0.52049],
      101: [0, 0.43056, 0, 0.05556, 0.46563],
      102: [0.19444, 0.69444, 0.10764, 0.16667, 0.48959],
      103: [0.19444, 0.43056, 0.03588, 0.02778, 0.47697],
      104: [0, 0.69444, 0, 0, 0.57616],
      105: [0, 0.65952, 0, 0, 0.34451],
      106: [0.19444, 0.65952, 0.05724, 0, 0.41181],
      107: [0, 0.69444, 0.03148, 0, 0.5206],
      108: [0, 0.69444, 0.01968, 0.08334, 0.29838],
      109: [0, 0.43056, 0, 0, 0.87801],
      110: [0, 0.43056, 0, 0, 0.60023],
      111: [0, 0.43056, 0, 0.05556, 0.48472],
      112: [0.19444, 0.43056, 0, 0.08334, 0.50313],
      113: [0.19444, 0.43056, 0.03588, 0.08334, 0.44641],
      114: [0, 0.43056, 0.02778, 0.05556, 0.45116],
      115: [0, 0.43056, 0, 0.05556, 0.46875],
      116: [0, 0.61508, 0, 0.08334, 0.36111],
      117: [0, 0.43056, 0, 0.02778, 0.57246],
      118: [0, 0.43056, 0.03588, 0.02778, 0.48472],
      119: [0, 0.43056, 0.02691, 0.08334, 0.71592],
      120: [0, 0.43056, 0, 0.02778, 0.57153],
      121: [0.19444, 0.43056, 0.03588, 0.05556, 0.49028],
      122: [0, 0.43056, 0.04398, 0.05556, 0.46505],
      160: [0, 0, 0, 0, 0.25],
      915: [0, 0.68333, 0.13889, 0.08334, 0.61528],
      916: [0, 0.68333, 0, 0.16667, 0.83334],
      920: [0, 0.68333, 0.02778, 0.08334, 0.76278],
      923: [0, 0.68333, 0, 0.16667, 0.69445],
      926: [0, 0.68333, 0.07569, 0.08334, 0.74236],
      928: [0, 0.68333, 0.08125, 0.05556, 0.83125],
      931: [0, 0.68333, 0.05764, 0.08334, 0.77986],
      933: [0, 0.68333, 0.13889, 0.05556, 0.58333],
      934: [0, 0.68333, 0, 0.08334, 0.66667],
      936: [0, 0.68333, 0.11, 0.05556, 0.61222],
      937: [0, 0.68333, 0.05017, 0.08334, 0.7724],
      945: [0, 0.43056, 0.0037, 0.02778, 0.6397],
      946: [0.19444, 0.69444, 0.05278, 0.08334, 0.56563],
      947: [0.19444, 0.43056, 0.05556, 0, 0.51773],
      948: [0, 0.69444, 0.03785, 0.05556, 0.44444],
      949: [0, 0.43056, 0, 0.08334, 0.46632],
      950: [0.19444, 0.69444, 0.07378, 0.08334, 0.4375],
      951: [0.19444, 0.43056, 0.03588, 0.05556, 0.49653],
      952: [0, 0.69444, 0.02778, 0.08334, 0.46944],
      953: [0, 0.43056, 0, 0.05556, 0.35394],
      954: [0, 0.43056, 0, 0, 0.57616],
      955: [0, 0.69444, 0, 0, 0.58334],
      956: [0.19444, 0.43056, 0, 0.02778, 0.60255],
      957: [0, 0.43056, 0.06366, 0.02778, 0.49398],
      958: [0.19444, 0.69444, 0.04601, 0.11111, 0.4375],
      959: [0, 0.43056, 0, 0.05556, 0.48472],
      960: [0, 0.43056, 0.03588, 0, 0.57003],
      961: [0.19444, 0.43056, 0, 0.08334, 0.51702],
      962: [0.09722, 0.43056, 0.07986, 0.08334, 0.36285],
      963: [0, 0.43056, 0.03588, 0, 0.57141],
      964: [0, 0.43056, 0.1132, 0.02778, 0.43715],
      965: [0, 0.43056, 0.03588, 0.02778, 0.54028],
      966: [0.19444, 0.43056, 0, 0.08334, 0.65417],
      967: [0.19444, 0.43056, 0, 0.05556, 0.62569],
      968: [0.19444, 0.69444, 0.03588, 0.11111, 0.65139],
      969: [0, 0.43056, 0.03588, 0, 0.62245],
      977: [0, 0.69444, 0, 0.08334, 0.59144],
      981: [0.19444, 0.69444, 0, 0.08334, 0.59583],
      982: [0, 0.43056, 0.02778, 0, 0.82813],
      1009: [0.19444, 0.43056, 0, 0.08334, 0.51702],
      1013: [0, 0.43056, 0, 0.05556, 0.4059],
      57649: [0, 0.43056, 0, 0.02778, 0.32246],
      57911: [0.19444, 0.43056, 0, 0.08334, 0.38403],
    },
    "SansSerif-Bold": {
      32: [0, 0, 0, 0, 0.25],
      33: [0, 0.69444, 0, 0, 0.36667],
      34: [0, 0.69444, 0, 0, 0.55834],
      35: [0.19444, 0.69444, 0, 0, 0.91667],
      36: [0.05556, 0.75, 0, 0, 0.55],
      37: [0.05556, 0.75, 0, 0, 1.02912],
      38: [0, 0.69444, 0, 0, 0.83056],
      39: [0, 0.69444, 0, 0, 0.30556],
      40: [0.25, 0.75, 0, 0, 0.42778],
      41: [0.25, 0.75, 0, 0, 0.42778],
      42: [0, 0.75, 0, 0, 0.55],
      43: [0.11667, 0.61667, 0, 0, 0.85556],
      44: [0.10556, 0.13056, 0, 0, 0.30556],
      45: [0, 0.45833, 0, 0, 0.36667],
      46: [0, 0.13056, 0, 0, 0.30556],
      47: [0.25, 0.75, 0, 0, 0.55],
      48: [0, 0.69444, 0, 0, 0.55],
      49: [0, 0.69444, 0, 0, 0.55],
      50: [0, 0.69444, 0, 0, 0.55],
      51: [0, 0.69444, 0, 0, 0.55],
      52: [0, 0.69444, 0, 0, 0.55],
      53: [0, 0.69444, 0, 0, 0.55],
      54: [0, 0.69444, 0, 0, 0.55],
      55: [0, 0.69444, 0, 0, 0.55],
      56: [0, 0.69444, 0, 0, 0.55],
      57: [0, 0.69444, 0, 0, 0.55],
      58: [0, 0.45833, 0, 0, 0.30556],
      59: [0.10556, 0.45833, 0, 0, 0.30556],
      61: [-0.09375, 0.40625, 0, 0, 0.85556],
      63: [0, 0.69444, 0, 0, 0.51945],
      64: [0, 0.69444, 0, 0, 0.73334],
      65: [0, 0.69444, 0, 0, 0.73334],
      66: [0, 0.69444, 0, 0, 0.73334],
      67: [0, 0.69444, 0, 0, 0.70278],
      68: [0, 0.69444, 0, 0, 0.79445],
      69: [0, 0.69444, 0, 0, 0.64167],
      70: [0, 0.69444, 0, 0, 0.61111],
      71: [0, 0.69444, 0, 0, 0.73334],
      72: [0, 0.69444, 0, 0, 0.79445],
      73: [0, 0.69444, 0, 0, 0.33056],
      74: [0, 0.69444, 0, 0, 0.51945],
      75: [0, 0.69444, 0, 0, 0.76389],
      76: [0, 0.69444, 0, 0, 0.58056],
      77: [0, 0.69444, 0, 0, 0.97778],
      78: [0, 0.69444, 0, 0, 0.79445],
      79: [0, 0.69444, 0, 0, 0.79445],
      80: [0, 0.69444, 0, 0, 0.70278],
      81: [0.10556, 0.69444, 0, 0, 0.79445],
      82: [0, 0.69444, 0, 0, 0.70278],
      83: [0, 0.69444, 0, 0, 0.61111],
      84: [0, 0.69444, 0, 0, 0.73334],
      85: [0, 0.69444, 0, 0, 0.76389],
      86: [0, 0.69444, 0.01528, 0, 0.73334],
      87: [0, 0.69444, 0.01528, 0, 1.03889],
      88: [0, 0.69444, 0, 0, 0.73334],
      89: [0, 0.69444, 0.0275, 0, 0.73334],
      90: [0, 0.69444, 0, 0, 0.67223],
      91: [0.25, 0.75, 0, 0, 0.34306],
      93: [0.25, 0.75, 0, 0, 0.34306],
      94: [0, 0.69444, 0, 0, 0.55],
      95: [0.35, 0.10833, 0.03056, 0, 0.55],
      97: [0, 0.45833, 0, 0, 0.525],
      98: [0, 0.69444, 0, 0, 0.56111],
      99: [0, 0.45833, 0, 0, 0.48889],
      100: [0, 0.69444, 0, 0, 0.56111],
      101: [0, 0.45833, 0, 0, 0.51111],
      102: [0, 0.69444, 0.07639, 0, 0.33611],
      103: [0.19444, 0.45833, 0.01528, 0, 0.55],
      104: [0, 0.69444, 0, 0, 0.56111],
      105: [0, 0.69444, 0, 0, 0.25556],
      106: [0.19444, 0.69444, 0, 0, 0.28611],
      107: [0, 0.69444, 0, 0, 0.53056],
      108: [0, 0.69444, 0, 0, 0.25556],
      109: [0, 0.45833, 0, 0, 0.86667],
      110: [0, 0.45833, 0, 0, 0.56111],
      111: [0, 0.45833, 0, 0, 0.55],
      112: [0.19444, 0.45833, 0, 0, 0.56111],
      113: [0.19444, 0.45833, 0, 0, 0.56111],
      114: [0, 0.45833, 0.01528, 0, 0.37222],
      115: [0, 0.45833, 0, 0, 0.42167],
      116: [0, 0.58929, 0, 0, 0.40417],
      117: [0, 0.45833, 0, 0, 0.56111],
      118: [0, 0.45833, 0.01528, 0, 0.5],
      119: [0, 0.45833, 0.01528, 0, 0.74445],
      120: [0, 0.45833, 0, 0, 0.5],
      121: [0.19444, 0.45833, 0.01528, 0, 0.5],
      122: [0, 0.45833, 0, 0, 0.47639],
      126: [0.35, 0.34444, 0, 0, 0.55],
      160: [0, 0, 0, 0, 0.25],
      168: [0, 0.69444, 0, 0, 0.55],
      176: [0, 0.69444, 0, 0, 0.73334],
      180: [0, 0.69444, 0, 0, 0.55],
      184: [0.17014, 0, 0, 0, 0.48889],
      305: [0, 0.45833, 0, 0, 0.25556],
      567: [0.19444, 0.45833, 0, 0, 0.28611],
      710: [0, 0.69444, 0, 0, 0.55],
      711: [0, 0.63542, 0, 0, 0.55],
      713: [0, 0.63778, 0, 0, 0.55],
      728: [0, 0.69444, 0, 0, 0.55],
      729: [0, 0.69444, 0, 0, 0.30556],
      730: [0, 0.69444, 0, 0, 0.73334],
      732: [0, 0.69444, 0, 0, 0.55],
      733: [0, 0.69444, 0, 0, 0.55],
      915: [0, 0.69444, 0, 0, 0.58056],
      916: [0, 0.69444, 0, 0, 0.91667],
      920: [0, 0.69444, 0, 0, 0.85556],
      923: [0, 0.69444, 0, 0, 0.67223],
      926: [0, 0.69444, 0, 0, 0.73334],
      928: [0, 0.69444, 0, 0, 0.79445],
      931: [0, 0.69444, 0, 0, 0.79445],
      933: [0, 0.69444, 0, 0, 0.85556],
      934: [0, 0.69444, 0, 0, 0.79445],
      936: [0, 0.69444, 0, 0, 0.85556],
      937: [0, 0.69444, 0, 0, 0.79445],
      8211: [0, 0.45833, 0.03056, 0, 0.55],
      8212: [0, 0.45833, 0.03056, 0, 1.10001],
      8216: [0, 0.69444, 0, 0, 0.30556],
      8217: [0, 0.69444, 0, 0, 0.30556],
      8220: [0, 0.69444, 0, 0, 0.55834],
      8221: [0, 0.69444, 0, 0, 0.55834],
    },
    "SansSerif-Italic": {
      32: [0, 0, 0, 0, 0.25],
      33: [0, 0.69444, 0.05733, 0, 0.31945],
      34: [0, 0.69444, 0.00316, 0, 0.5],
      35: [0.19444, 0.69444, 0.05087, 0, 0.83334],
      36: [0.05556, 0.75, 0.11156, 0, 0.5],
      37: [0.05556, 0.75, 0.03126, 0, 0.83334],
      38: [0, 0.69444, 0.03058, 0, 0.75834],
      39: [0, 0.69444, 0.07816, 0, 0.27778],
      40: [0.25, 0.75, 0.13164, 0, 0.38889],
      41: [0.25, 0.75, 0.02536, 0, 0.38889],
      42: [0, 0.75, 0.11775, 0, 0.5],
      43: [0.08333, 0.58333, 0.02536, 0, 0.77778],
      44: [0.125, 0.08333, 0, 0, 0.27778],
      45: [0, 0.44444, 0.01946, 0, 0.33333],
      46: [0, 0.08333, 0, 0, 0.27778],
      47: [0.25, 0.75, 0.13164, 0, 0.5],
      48: [0, 0.65556, 0.11156, 0, 0.5],
      49: [0, 0.65556, 0.11156, 0, 0.5],
      50: [0, 0.65556, 0.11156, 0, 0.5],
      51: [0, 0.65556, 0.11156, 0, 0.5],
      52: [0, 0.65556, 0.11156, 0, 0.5],
      53: [0, 0.65556, 0.11156, 0, 0.5],
      54: [0, 0.65556, 0.11156, 0, 0.5],
      55: [0, 0.65556, 0.11156, 0, 0.5],
      56: [0, 0.65556, 0.11156, 0, 0.5],
      57: [0, 0.65556, 0.11156, 0, 0.5],
      58: [0, 0.44444, 0.02502, 0, 0.27778],
      59: [0.125, 0.44444, 0.02502, 0, 0.27778],
      61: [-0.13, 0.37, 0.05087, 0, 0.77778],
      63: [0, 0.69444, 0.11809, 0, 0.47222],
      64: [0, 0.69444, 0.07555, 0, 0.66667],
      65: [0, 0.69444, 0, 0, 0.66667],
      66: [0, 0.69444, 0.08293, 0, 0.66667],
      67: [0, 0.69444, 0.11983, 0, 0.63889],
      68: [0, 0.69444, 0.07555, 0, 0.72223],
      69: [0, 0.69444, 0.11983, 0, 0.59722],
      70: [0, 0.69444, 0.13372, 0, 0.56945],
      71: [0, 0.69444, 0.11983, 0, 0.66667],
      72: [0, 0.69444, 0.08094, 0, 0.70834],
      73: [0, 0.69444, 0.13372, 0, 0.27778],
      74: [0, 0.69444, 0.08094, 0, 0.47222],
      75: [0, 0.69444, 0.11983, 0, 0.69445],
      76: [0, 0.69444, 0, 0, 0.54167],
      77: [0, 0.69444, 0.08094, 0, 0.875],
      78: [0, 0.69444, 0.08094, 0, 0.70834],
      79: [0, 0.69444, 0.07555, 0, 0.73611],
      80: [0, 0.69444, 0.08293, 0, 0.63889],
      81: [0.125, 0.69444, 0.07555, 0, 0.73611],
      82: [0, 0.69444, 0.08293, 0, 0.64584],
      83: [0, 0.69444, 0.09205, 0, 0.55556],
      84: [0, 0.69444, 0.13372, 0, 0.68056],
      85: [0, 0.69444, 0.08094, 0, 0.6875],
      86: [0, 0.69444, 0.1615, 0, 0.66667],
      87: [0, 0.69444, 0.1615, 0, 0.94445],
      88: [0, 0.69444, 0.13372, 0, 0.66667],
      89: [0, 0.69444, 0.17261, 0, 0.66667],
      90: [0, 0.69444, 0.11983, 0, 0.61111],
      91: [0.25, 0.75, 0.15942, 0, 0.28889],
      93: [0.25, 0.75, 0.08719, 0, 0.28889],
      94: [0, 0.69444, 0.0799, 0, 0.5],
      95: [0.35, 0.09444, 0.08616, 0, 0.5],
      97: [0, 0.44444, 0.00981, 0, 0.48056],
      98: [0, 0.69444, 0.03057, 0, 0.51667],
      99: [0, 0.44444, 0.08336, 0, 0.44445],
      100: [0, 0.69444, 0.09483, 0, 0.51667],
      101: [0, 0.44444, 0.06778, 0, 0.44445],
      102: [0, 0.69444, 0.21705, 0, 0.30556],
      103: [0.19444, 0.44444, 0.10836, 0, 0.5],
      104: [0, 0.69444, 0.01778, 0, 0.51667],
      105: [0, 0.67937, 0.09718, 0, 0.23889],
      106: [0.19444, 0.67937, 0.09162, 0, 0.26667],
      107: [0, 0.69444, 0.08336, 0, 0.48889],
      108: [0, 0.69444, 0.09483, 0, 0.23889],
      109: [0, 0.44444, 0.01778, 0, 0.79445],
      110: [0, 0.44444, 0.01778, 0, 0.51667],
      111: [0, 0.44444, 0.06613, 0, 0.5],
      112: [0.19444, 0.44444, 0.0389, 0, 0.51667],
      113: [0.19444, 0.44444, 0.04169, 0, 0.51667],
      114: [0, 0.44444, 0.10836, 0, 0.34167],
      115: [0, 0.44444, 0.0778, 0, 0.38333],
      116: [0, 0.57143, 0.07225, 0, 0.36111],
      117: [0, 0.44444, 0.04169, 0, 0.51667],
      118: [0, 0.44444, 0.10836, 0, 0.46111],
      119: [0, 0.44444, 0.10836, 0, 0.68334],
      120: [0, 0.44444, 0.09169, 0, 0.46111],
      121: [0.19444, 0.44444, 0.10836, 0, 0.46111],
      122: [0, 0.44444, 0.08752, 0, 0.43472],
      126: [0.35, 0.32659, 0.08826, 0, 0.5],
      160: [0, 0, 0, 0, 0.25],
      168: [0, 0.67937, 0.06385, 0, 0.5],
      176: [0, 0.69444, 0, 0, 0.73752],
      184: [0.17014, 0, 0, 0, 0.44445],
      305: [0, 0.44444, 0.04169, 0, 0.23889],
      567: [0.19444, 0.44444, 0.04169, 0, 0.26667],
      710: [0, 0.69444, 0.0799, 0, 0.5],
      711: [0, 0.63194, 0.08432, 0, 0.5],
      713: [0, 0.60889, 0.08776, 0, 0.5],
      714: [0, 0.69444, 0.09205, 0, 0.5],
      715: [0, 0.69444, 0, 0, 0.5],
      728: [0, 0.69444, 0.09483, 0, 0.5],
      729: [0, 0.67937, 0.07774, 0, 0.27778],
      730: [0, 0.69444, 0, 0, 0.73752],
      732: [0, 0.67659, 0.08826, 0, 0.5],
      733: [0, 0.69444, 0.09205, 0, 0.5],
      915: [0, 0.69444, 0.13372, 0, 0.54167],
      916: [0, 0.69444, 0, 0, 0.83334],
      920: [0, 0.69444, 0.07555, 0, 0.77778],
      923: [0, 0.69444, 0, 0, 0.61111],
      926: [0, 0.69444, 0.12816, 0, 0.66667],
      928: [0, 0.69444, 0.08094, 0, 0.70834],
      931: [0, 0.69444, 0.11983, 0, 0.72222],
      933: [0, 0.69444, 0.09031, 0, 0.77778],
      934: [0, 0.69444, 0.04603, 0, 0.72222],
      936: [0, 0.69444, 0.09031, 0, 0.77778],
      937: [0, 0.69444, 0.08293, 0, 0.72222],
      8211: [0, 0.44444, 0.08616, 0, 0.5],
      8212: [0, 0.44444, 0.08616, 0, 1],
      8216: [0, 0.69444, 0.07816, 0, 0.27778],
      8217: [0, 0.69444, 0.07816, 0, 0.27778],
      8220: [0, 0.69444, 0.14205, 0, 0.5],
      8221: [0, 0.69444, 0.00316, 0, 0.5],
    },
    "SansSerif-Regular": {
      32: [0, 0, 0, 0, 0.25],
      33: [0, 0.69444, 0, 0, 0.31945],
      34: [0, 0.69444, 0, 0, 0.5],
      35: [0.19444, 0.69444, 0, 0, 0.83334],
      36: [0.05556, 0.75, 0, 0, 0.5],
      37: [0.05556, 0.75, 0, 0, 0.83334],
      38: [0, 0.69444, 0, 0, 0.75834],
      39: [0, 0.69444, 0, 0, 0.27778],
      40: [0.25, 0.75, 0, 0, 0.38889],
      41: [0.25, 0.75, 0, 0, 0.38889],
      42: [0, 0.75, 0, 0, 0.5],
      43: [0.08333, 0.58333, 0, 0, 0.77778],
      44: [0.125, 0.08333, 0, 0, 0.27778],
      45: [0, 0.44444, 0, 0, 0.33333],
      46: [0, 0.08333, 0, 0, 0.27778],
      47: [0.25, 0.75, 0, 0, 0.5],
      48: [0, 0.65556, 0, 0, 0.5],
      49: [0, 0.65556, 0, 0, 0.5],
      50: [0, 0.65556, 0, 0, 0.5],
      51: [0, 0.65556, 0, 0, 0.5],
      52: [0, 0.65556, 0, 0, 0.5],
      53: [0, 0.65556, 0, 0, 0.5],
      54: [0, 0.65556, 0, 0, 0.5],
      55: [0, 0.65556, 0, 0, 0.5],
      56: [0, 0.65556, 0, 0, 0.5],
      57: [0, 0.65556, 0, 0, 0.5],
      58: [0, 0.44444, 0, 0, 0.27778],
      59: [0.125, 0.44444, 0, 0, 0.27778],
      61: [-0.13, 0.37, 0, 0, 0.77778],
      63: [0, 0.69444, 0, 0, 0.47222],
      64: [0, 0.69444, 0, 0, 0.66667],
      65: [0, 0.69444, 0, 0, 0.66667],
      66: [0, 0.69444, 0, 0, 0.66667],
      67: [0, 0.69444, 0, 0, 0.63889],
      68: [0, 0.69444, 0, 0, 0.72223],
      69: [0, 0.69444, 0, 0, 0.59722],
      70: [0, 0.69444, 0, 0, 0.56945],
      71: [0, 0.69444, 0, 0, 0.66667],
      72: [0, 0.69444, 0, 0, 0.70834],
      73: [0, 0.69444, 0, 0, 0.27778],
      74: [0, 0.69444, 0, 0, 0.47222],
      75: [0, 0.69444, 0, 0, 0.69445],
      76: [0, 0.69444, 0, 0, 0.54167],
      77: [0, 0.69444, 0, 0, 0.875],
      78: [0, 0.69444, 0, 0, 0.70834],
      79: [0, 0.69444, 0, 0, 0.73611],
      80: [0, 0.69444, 0, 0, 0.63889],
      81: [0.125, 0.69444, 0, 0, 0.73611],
      82: [0, 0.69444, 0, 0, 0.64584],
      83: [0, 0.69444, 0, 0, 0.55556],
      84: [0, 0.69444, 0, 0, 0.68056],
      85: [0, 0.69444, 0, 0, 0.6875],
      86: [0, 0.69444, 0.01389, 0, 0.66667],
      87: [0, 0.69444, 0.01389, 0, 0.94445],
      88: [0, 0.69444, 0, 0, 0.66667],
      89: [0, 0.69444, 0.025, 0, 0.66667],
      90: [0, 0.69444, 0, 0, 0.61111],
      91: [0.25, 0.75, 0, 0, 0.28889],
      93: [0.25, 0.75, 0, 0, 0.28889],
      94: [0, 0.69444, 0, 0, 0.5],
      95: [0.35, 0.09444, 0.02778, 0, 0.5],
      97: [0, 0.44444, 0, 0, 0.48056],
      98: [0, 0.69444, 0, 0, 0.51667],
      99: [0, 0.44444, 0, 0, 0.44445],
      100: [0, 0.69444, 0, 0, 0.51667],
      101: [0, 0.44444, 0, 0, 0.44445],
      102: [0, 0.69444, 0.06944, 0, 0.30556],
      103: [0.19444, 0.44444, 0.01389, 0, 0.5],
      104: [0, 0.69444, 0, 0, 0.51667],
      105: [0, 0.67937, 0, 0, 0.23889],
      106: [0.19444, 0.67937, 0, 0, 0.26667],
      107: [0, 0.69444, 0, 0, 0.48889],
      108: [0, 0.69444, 0, 0, 0.23889],
      109: [0, 0.44444, 0, 0, 0.79445],
      110: [0, 0.44444, 0, 0, 0.51667],
      111: [0, 0.44444, 0, 0, 0.5],
      112: [0.19444, 0.44444, 0, 0, 0.51667],
      113: [0.19444, 0.44444, 0, 0, 0.51667],
      114: [0, 0.44444, 0.01389, 0, 0.34167],
      115: [0, 0.44444, 0, 0, 0.38333],
      116: [0, 0.57143, 0, 0, 0.36111],
      117: [0, 0.44444, 0, 0, 0.51667],
      118: [0, 0.44444, 0.01389, 0, 0.46111],
      119: [0, 0.44444, 0.01389, 0, 0.68334],
      120: [0, 0.44444, 0, 0, 0.46111],
      121: [0.19444, 0.44444, 0.01389, 0, 0.46111],
      122: [0, 0.44444, 0, 0, 0.43472],
      126: [0.35, 0.32659, 0, 0, 0.5],
      160: [0, 0, 0, 0, 0.25],
      168: [0, 0.67937, 0, 0, 0.5],
      176: [0, 0.69444, 0, 0, 0.66667],
      184: [0.17014, 0, 0, 0, 0.44445],
      305: [0, 0.44444, 0, 0, 0.23889],
      567: [0.19444, 0.44444, 0, 0, 0.26667],
      710: [0, 0.69444, 0, 0, 0.5],
      711: [0, 0.63194, 0, 0, 0.5],
      713: [0, 0.60889, 0, 0, 0.5],
      714: [0, 0.69444, 0, 0, 0.5],
      715: [0, 0.69444, 0, 0, 0.5],
      728: [0, 0.69444, 0, 0, 0.5],
      729: [0, 0.67937, 0, 0, 0.27778],
      730: [0, 0.69444, 0, 0, 0.66667],
      732: [0, 0.67659, 0, 0, 0.5],
      733: [0, 0.69444, 0, 0, 0.5],
      915: [0, 0.69444, 0, 0, 0.54167],
      916: [0, 0.69444, 0, 0, 0.83334],
      920: [0, 0.69444, 0, 0, 0.77778],
      923: [0, 0.69444, 0, 0, 0.61111],
      926: [0, 0.69444, 0, 0, 0.66667],
      928: [0, 0.69444, 0, 0, 0.70834],
      931: [0, 0.69444, 0, 0, 0.72222],
      933: [0, 0.69444, 0, 0, 0.77778],
      934: [0, 0.69444, 0, 0, 0.72222],
      936: [0, 0.69444, 0, 0, 0.77778],
      937: [0, 0.69444, 0, 0, 0.72222],
      8211: [0, 0.44444, 0.02778, 0, 0.5],
      8212: [0, 0.44444, 0.02778, 0, 1],
      8216: [0, 0.69444, 0, 0, 0.27778],
      8217: [0, 0.69444, 0, 0, 0.27778],
      8220: [0, 0.69444, 0, 0, 0.5],
      8221: [0, 0.69444, 0, 0, 0.5],
    },
    "Script-Regular": {
      32: [0, 0, 0, 0, 0.25],
      65: [0, 0.7, 0.22925, 0, 0.80253],
      66: [0, 0.7, 0.04087, 0, 0.90757],
      67: [0, 0.7, 0.1689, 0, 0.66619],
      68: [0, 0.7, 0.09371, 0, 0.77443],
      69: [0, 0.7, 0.18583, 0, 0.56162],
      70: [0, 0.7, 0.13634, 0, 0.89544],
      71: [0, 0.7, 0.17322, 0, 0.60961],
      72: [0, 0.7, 0.29694, 0, 0.96919],
      73: [0, 0.7, 0.19189, 0, 0.80907],
      74: [0.27778, 0.7, 0.19189, 0, 1.05159],
      75: [0, 0.7, 0.31259, 0, 0.91364],
      76: [0, 0.7, 0.19189, 0, 0.87373],
      77: [0, 0.7, 0.15981, 0, 1.08031],
      78: [0, 0.7, 0.3525, 0, 0.9015],
      79: [0, 0.7, 0.08078, 0, 0.73787],
      80: [0, 0.7, 0.08078, 0, 1.01262],
      81: [0, 0.7, 0.03305, 0, 0.88282],
      82: [0, 0.7, 0.06259, 0, 0.85],
      83: [0, 0.7, 0.19189, 0, 0.86767],
      84: [0, 0.7, 0.29087, 0, 0.74697],
      85: [0, 0.7, 0.25815, 0, 0.79996],
      86: [0, 0.7, 0.27523, 0, 0.62204],
      87: [0, 0.7, 0.27523, 0, 0.80532],
      88: [0, 0.7, 0.26006, 0, 0.94445],
      89: [0, 0.7, 0.2939, 0, 0.70961],
      90: [0, 0.7, 0.24037, 0, 0.8212],
      160: [0, 0, 0, 0, 0.25],
    },
    "Size1-Regular": {
      32: [0, 0, 0, 0, 0.25],
      40: [0.35001, 0.85, 0, 0, 0.45834],
      41: [0.35001, 0.85, 0, 0, 0.45834],
      47: [0.35001, 0.85, 0, 0, 0.57778],
      91: [0.35001, 0.85, 0, 0, 0.41667],
      92: [0.35001, 0.85, 0, 0, 0.57778],
      93: [0.35001, 0.85, 0, 0, 0.41667],
      123: [0.35001, 0.85, 0, 0, 0.58334],
      125: [0.35001, 0.85, 0, 0, 0.58334],
      160: [0, 0, 0, 0, 0.25],
      710: [0, 0.72222, 0, 0, 0.55556],
      732: [0, 0.72222, 0, 0, 0.55556],
      770: [0, 0.72222, 0, 0, 0.55556],
      771: [0, 0.72222, 0, 0, 0.55556],
      8214: [-99e-5, 0.601, 0, 0, 0.77778],
      8593: [1e-5, 0.6, 0, 0, 0.66667],
      8595: [1e-5, 0.6, 0, 0, 0.66667],
      8657: [1e-5, 0.6, 0, 0, 0.77778],
      8659: [1e-5, 0.6, 0, 0, 0.77778],
      8719: [0.25001, 0.75, 0, 0, 0.94445],
      8720: [0.25001, 0.75, 0, 0, 0.94445],
      8721: [0.25001, 0.75, 0, 0, 1.05556],
      8730: [0.35001, 0.85, 0, 0, 1],
      8739: [-0.00599, 0.606, 0, 0, 0.33333],
      8741: [-0.00599, 0.606, 0, 0, 0.55556],
      8747: [0.30612, 0.805, 0.19445, 0, 0.47222],
      8748: [0.306, 0.805, 0.19445, 0, 0.47222],
      8749: [0.306, 0.805, 0.19445, 0, 0.47222],
      8750: [0.30612, 0.805, 0.19445, 0, 0.47222],
      8896: [0.25001, 0.75, 0, 0, 0.83334],
      8897: [0.25001, 0.75, 0, 0, 0.83334],
      8898: [0.25001, 0.75, 0, 0, 0.83334],
      8899: [0.25001, 0.75, 0, 0, 0.83334],
      8968: [0.35001, 0.85, 0, 0, 0.47222],
      8969: [0.35001, 0.85, 0, 0, 0.47222],
      8970: [0.35001, 0.85, 0, 0, 0.47222],
      8971: [0.35001, 0.85, 0, 0, 0.47222],
      9168: [-99e-5, 0.601, 0, 0, 0.66667],
      10216: [0.35001, 0.85, 0, 0, 0.47222],
      10217: [0.35001, 0.85, 0, 0, 0.47222],
      10752: [0.25001, 0.75, 0, 0, 1.11111],
      10753: [0.25001, 0.75, 0, 0, 1.11111],
      10754: [0.25001, 0.75, 0, 0, 1.11111],
      10756: [0.25001, 0.75, 0, 0, 0.83334],
      10758: [0.25001, 0.75, 0, 0, 0.83334],
    },
    "Size2-Regular": {
      32: [0, 0, 0, 0, 0.25],
      40: [0.65002, 1.15, 0, 0, 0.59722],
      41: [0.65002, 1.15, 0, 0, 0.59722],
      47: [0.65002, 1.15, 0, 0, 0.81111],
      91: [0.65002, 1.15, 0, 0, 0.47222],
      92: [0.65002, 1.15, 0, 0, 0.81111],
      93: [0.65002, 1.15, 0, 0, 0.47222],
      123: [0.65002, 1.15, 0, 0, 0.66667],
      125: [0.65002, 1.15, 0, 0, 0.66667],
      160: [0, 0, 0, 0, 0.25],
      710: [0, 0.75, 0, 0, 1],
      732: [0, 0.75, 0, 0, 1],
      770: [0, 0.75, 0, 0, 1],
      771: [0, 0.75, 0, 0, 1],
      8719: [0.55001, 1.05, 0, 0, 1.27778],
      8720: [0.55001, 1.05, 0, 0, 1.27778],
      8721: [0.55001, 1.05, 0, 0, 1.44445],
      8730: [0.65002, 1.15, 0, 0, 1],
      8747: [0.86225, 1.36, 0.44445, 0, 0.55556],
      8748: [0.862, 1.36, 0.44445, 0, 0.55556],
      8749: [0.862, 1.36, 0.44445, 0, 0.55556],
      8750: [0.86225, 1.36, 0.44445, 0, 0.55556],
      8896: [0.55001, 1.05, 0, 0, 1.11111],
      8897: [0.55001, 1.05, 0, 0, 1.11111],
      8898: [0.55001, 1.05, 0, 0, 1.11111],
      8899: [0.55001, 1.05, 0, 0, 1.11111],
      8968: [0.65002, 1.15, 0, 0, 0.52778],
      8969: [0.65002, 1.15, 0, 0, 0.52778],
      8970: [0.65002, 1.15, 0, 0, 0.52778],
      8971: [0.65002, 1.15, 0, 0, 0.52778],
      10216: [0.65002, 1.15, 0, 0, 0.61111],
      10217: [0.65002, 1.15, 0, 0, 0.61111],
      10752: [0.55001, 1.05, 0, 0, 1.51112],
      10753: [0.55001, 1.05, 0, 0, 1.51112],
      10754: [0.55001, 1.05, 0, 0, 1.51112],
      10756: [0.55001, 1.05, 0, 0, 1.11111],
      10758: [0.55001, 1.05, 0, 0, 1.11111],
    },
    "Size3-Regular": {
      32: [0, 0, 0, 0, 0.25],
      40: [0.95003, 1.45, 0, 0, 0.73611],
      41: [0.95003, 1.45, 0, 0, 0.73611],
      47: [0.95003, 1.45, 0, 0, 1.04445],
      91: [0.95003, 1.45, 0, 0, 0.52778],
      92: [0.95003, 1.45, 0, 0, 1.04445],
      93: [0.95003, 1.45, 0, 0, 0.52778],
      123: [0.95003, 1.45, 0, 0, 0.75],
      125: [0.95003, 1.45, 0, 0, 0.75],
      160: [0, 0, 0, 0, 0.25],
      710: [0, 0.75, 0, 0, 1.44445],
      732: [0, 0.75, 0, 0, 1.44445],
      770: [0, 0.75, 0, 0, 1.44445],
      771: [0, 0.75, 0, 0, 1.44445],
      8730: [0.95003, 1.45, 0, 0, 1],
      8968: [0.95003, 1.45, 0, 0, 0.58334],
      8969: [0.95003, 1.45, 0, 0, 0.58334],
      8970: [0.95003, 1.45, 0, 0, 0.58334],
      8971: [0.95003, 1.45, 0, 0, 0.58334],
      10216: [0.95003, 1.45, 0, 0, 0.75],
      10217: [0.95003, 1.45, 0, 0, 0.75],
    },
    "Size4-Regular": {
      32: [0, 0, 0, 0, 0.25],
      40: [1.25003, 1.75, 0, 0, 0.79167],
      41: [1.25003, 1.75, 0, 0, 0.79167],
      47: [1.25003, 1.75, 0, 0, 1.27778],
      91: [1.25003, 1.75, 0, 0, 0.58334],
      92: [1.25003, 1.75, 0, 0, 1.27778],
      93: [1.25003, 1.75, 0, 0, 0.58334],
      123: [1.25003, 1.75, 0, 0, 0.80556],
      125: [1.25003, 1.75, 0, 0, 0.80556],
      160: [0, 0, 0, 0, 0.25],
      710: [0, 0.825, 0, 0, 1.8889],
      732: [0, 0.825, 0, 0, 1.8889],
      770: [0, 0.825, 0, 0, 1.8889],
      771: [0, 0.825, 0, 0, 1.8889],
      8730: [1.25003, 1.75, 0, 0, 1],
      8968: [1.25003, 1.75, 0, 0, 0.63889],
      8969: [1.25003, 1.75, 0, 0, 0.63889],
      8970: [1.25003, 1.75, 0, 0, 0.63889],
      8971: [1.25003, 1.75, 0, 0, 0.63889],
      9115: [0.64502, 1.155, 0, 0, 0.875],
      9116: [1e-5, 0.6, 0, 0, 0.875],
      9117: [0.64502, 1.155, 0, 0, 0.875],
      9118: [0.64502, 1.155, 0, 0, 0.875],
      9119: [1e-5, 0.6, 0, 0, 0.875],
      9120: [0.64502, 1.155, 0, 0, 0.875],
      9121: [0.64502, 1.155, 0, 0, 0.66667],
      9122: [-99e-5, 0.601, 0, 0, 0.66667],
      9123: [0.64502, 1.155, 0, 0, 0.66667],
      9124: [0.64502, 1.155, 0, 0, 0.66667],
      9125: [-99e-5, 0.601, 0, 0, 0.66667],
      9126: [0.64502, 1.155, 0, 0, 0.66667],
      9127: [1e-5, 0.9, 0, 0, 0.88889],
      9128: [0.65002, 1.15, 0, 0, 0.88889],
      9129: [0.90001, 0, 0, 0, 0.88889],
      9130: [0, 0.3, 0, 0, 0.88889],
      9131: [1e-5, 0.9, 0, 0, 0.88889],
      9132: [0.65002, 1.15, 0, 0, 0.88889],
      9133: [0.90001, 0, 0, 0, 0.88889],
      9143: [0.88502, 0.915, 0, 0, 1.05556],
      10216: [1.25003, 1.75, 0, 0, 0.80556],
      10217: [1.25003, 1.75, 0, 0, 0.80556],
      57344: [-0.00499, 0.605, 0, 0, 1.05556],
      57345: [-0.00499, 0.605, 0, 0, 1.05556],
      57680: [0, 0.12, 0, 0, 0.45],
      57681: [0, 0.12, 0, 0, 0.45],
      57682: [0, 0.12, 0, 0, 0.45],
      57683: [0, 0.12, 0, 0, 0.45],
    },
    "Typewriter-Regular": {
      32: [0, 0, 0, 0, 0.525],
      33: [0, 0.61111, 0, 0, 0.525],
      34: [0, 0.61111, 0, 0, 0.525],
      35: [0, 0.61111, 0, 0, 0.525],
      36: [0.08333, 0.69444, 0, 0, 0.525],
      37: [0.08333, 0.69444, 0, 0, 0.525],
      38: [0, 0.61111, 0, 0, 0.525],
      39: [0, 0.61111, 0, 0, 0.525],
      40: [0.08333, 0.69444, 0, 0, 0.525],
      41: [0.08333, 0.69444, 0, 0, 0.525],
      42: [0, 0.52083, 0, 0, 0.525],
      43: [-0.08056, 0.53055, 0, 0, 0.525],
      44: [0.13889, 0.125, 0, 0, 0.525],
      45: [-0.08056, 0.53055, 0, 0, 0.525],
      46: [0, 0.125, 0, 0, 0.525],
      47: [0.08333, 0.69444, 0, 0, 0.525],
      48: [0, 0.61111, 0, 0, 0.525],
      49: [0, 0.61111, 0, 0, 0.525],
      50: [0, 0.61111, 0, 0, 0.525],
      51: [0, 0.61111, 0, 0, 0.525],
      52: [0, 0.61111, 0, 0, 0.525],
      53: [0, 0.61111, 0, 0, 0.525],
      54: [0, 0.61111, 0, 0, 0.525],
      55: [0, 0.61111, 0, 0, 0.525],
      56: [0, 0.61111, 0, 0, 0.525],
      57: [0, 0.61111, 0, 0, 0.525],
      58: [0, 0.43056, 0, 0, 0.525],
      59: [0.13889, 0.43056, 0, 0, 0.525],
      60: [-0.05556, 0.55556, 0, 0, 0.525],
      61: [-0.19549, 0.41562, 0, 0, 0.525],
      62: [-0.05556, 0.55556, 0, 0, 0.525],
      63: [0, 0.61111, 0, 0, 0.525],
      64: [0, 0.61111, 0, 0, 0.525],
      65: [0, 0.61111, 0, 0, 0.525],
      66: [0, 0.61111, 0, 0, 0.525],
      67: [0, 0.61111, 0, 0, 0.525],
      68: [0, 0.61111, 0, 0, 0.525],
      69: [0, 0.61111, 0, 0, 0.525],
      70: [0, 0.61111, 0, 0, 0.525],
      71: [0, 0.61111, 0, 0, 0.525],
      72: [0, 0.61111, 0, 0, 0.525],
      73: [0, 0.61111, 0, 0, 0.525],
      74: [0, 0.61111, 0, 0, 0.525],
      75: [0, 0.61111, 0, 0, 0.525],
      76: [0, 0.61111, 0, 0, 0.525],
      77: [0, 0.61111, 0, 0, 0.525],
      78: [0, 0.61111, 0, 0, 0.525],
      79: [0, 0.61111, 0, 0, 0.525],
      80: [0, 0.61111, 0, 0, 0.525],
      81: [0.13889, 0.61111, 0, 0, 0.525],
      82: [0, 0.61111, 0, 0, 0.525],
      83: [0, 0.61111, 0, 0, 0.525],
      84: [0, 0.61111, 0, 0, 0.525],
      85: [0, 0.61111, 0, 0, 0.525],
      86: [0, 0.61111, 0, 0, 0.525],
      87: [0, 0.61111, 0, 0, 0.525],
      88: [0, 0.61111, 0, 0, 0.525],
      89: [0, 0.61111, 0, 0, 0.525],
      90: [0, 0.61111, 0, 0, 0.525],
      91: [0.08333, 0.69444, 0, 0, 0.525],
      92: [0.08333, 0.69444, 0, 0, 0.525],
      93: [0.08333, 0.69444, 0, 0, 0.525],
      94: [0, 0.61111, 0, 0, 0.525],
      95: [0.09514, 0, 0, 0, 0.525],
      96: [0, 0.61111, 0, 0, 0.525],
      97: [0, 0.43056, 0, 0, 0.525],
      98: [0, 0.61111, 0, 0, 0.525],
      99: [0, 0.43056, 0, 0, 0.525],
      100: [0, 0.61111, 0, 0, 0.525],
      101: [0, 0.43056, 0, 0, 0.525],
      102: [0, 0.61111, 0, 0, 0.525],
      103: [0.22222, 0.43056, 0, 0, 0.525],
      104: [0, 0.61111, 0, 0, 0.525],
      105: [0, 0.61111, 0, 0, 0.525],
      106: [0.22222, 0.61111, 0, 0, 0.525],
      107: [0, 0.61111, 0, 0, 0.525],
      108: [0, 0.61111, 0, 0, 0.525],
      109: [0, 0.43056, 0, 0, 0.525],
      110: [0, 0.43056, 0, 0, 0.525],
      111: [0, 0.43056, 0, 0, 0.525],
      112: [0.22222, 0.43056, 0, 0, 0.525],
      113: [0.22222, 0.43056, 0, 0, 0.525],
      114: [0, 0.43056, 0, 0, 0.525],
      115: [0, 0.43056, 0, 0, 0.525],
      116: [0, 0.55358, 0, 0, 0.525],
      117: [0, 0.43056, 0, 0, 0.525],
      118: [0, 0.43056, 0, 0, 0.525],
      119: [0, 0.43056, 0, 0, 0.525],
      120: [0, 0.43056, 0, 0, 0.525],
      121: [0.22222, 0.43056, 0, 0, 0.525],
      122: [0, 0.43056, 0, 0, 0.525],
      123: [0.08333, 0.69444, 0, 0, 0.525],
      124: [0.08333, 0.69444, 0, 0, 0.525],
      125: [0.08333, 0.69444, 0, 0, 0.525],
      126: [0, 0.61111, 0, 0, 0.525],
      127: [0, 0.61111, 0, 0, 0.525],
      160: [0, 0, 0, 0, 0.525],
      176: [0, 0.61111, 0, 0, 0.525],
      184: [0.19445, 0, 0, 0, 0.525],
      305: [0, 0.43056, 0, 0, 0.525],
      567: [0.22222, 0.43056, 0, 0, 0.525],
      711: [0, 0.56597, 0, 0, 0.525],
      713: [0, 0.56555, 0, 0, 0.525],
      714: [0, 0.61111, 0, 0, 0.525],
      715: [0, 0.61111, 0, 0, 0.525],
      728: [0, 0.61111, 0, 0, 0.525],
      730: [0, 0.61111, 0, 0, 0.525],
      770: [0, 0.61111, 0, 0, 0.525],
      771: [0, 0.61111, 0, 0, 0.525],
      776: [0, 0.61111, 0, 0, 0.525],
      915: [0, 0.61111, 0, 0, 0.525],
      916: [0, 0.61111, 0, 0, 0.525],
      920: [0, 0.61111, 0, 0, 0.525],
      923: [0, 0.61111, 0, 0, 0.525],
      926: [0, 0.61111, 0, 0, 0.525],
      928: [0, 0.61111, 0, 0, 0.525],
      931: [0, 0.61111, 0, 0, 0.525],
      933: [0, 0.61111, 0, 0, 0.525],
      934: [0, 0.61111, 0, 0, 0.525],
      936: [0, 0.61111, 0, 0, 0.525],
      937: [0, 0.61111, 0, 0, 0.525],
      8216: [0, 0.61111, 0, 0, 0.525],
      8217: [0, 0.61111, 0, 0, 0.525],
      8242: [0, 0.61111, 0, 0, 0.525],
      9251: [0.11111, 0.21944, 0, 0, 0.525],
    },
  },
  Tm = {
    slant: [0.25, 0.25, 0.25],
    space: [0, 0, 0],
    stretch: [0, 0, 0],
    shrink: [0, 0, 0],
    xHeight: [0.431, 0.431, 0.431],
    quad: [1, 1.171, 1.472],
    extraSpace: [0, 0, 0],
    num1: [0.677, 0.732, 0.925],
    num2: [0.394, 0.384, 0.387],
    num3: [0.444, 0.471, 0.504],
    denom1: [0.686, 0.752, 1.025],
    denom2: [0.345, 0.344, 0.532],
    sup1: [0.413, 0.503, 0.504],
    sup2: [0.363, 0.431, 0.404],
    sup3: [0.289, 0.286, 0.294],
    sub1: [0.15, 0.143, 0.2],
    sub2: [0.247, 0.286, 0.4],
    supDrop: [0.386, 0.353, 0.494],
    subDrop: [0.05, 0.071, 0.1],
    delim1: [2.39, 1.7, 1.98],
    delim2: [1.01, 1.157, 1.42],
    axisHeight: [0.25, 0.25, 0.25],
    defaultRuleThickness: [0.04, 0.049, 0.049],
    bigOpSpacing1: [0.111, 0.111, 0.111],
    bigOpSpacing2: [0.166, 0.166, 0.166],
    bigOpSpacing3: [0.2, 0.2, 0.2],
    bigOpSpacing4: [0.6, 0.611, 0.611],
    bigOpSpacing5: [0.1, 0.143, 0.143],
    sqrtRuleThickness: [0.04, 0.04, 0.04],
    ptPerEm: [10, 10, 10],
    doubleRuleSep: [0.2, 0.2, 0.2],
    arrayRuleWidth: [0.04, 0.04, 0.04],
    fboxsep: [0.3, 0.3, 0.3],
    fboxrule: [0.04, 0.04, 0.04],
  },
  Hk = {
    Å: "A",
    Ð: "D",
    Þ: "o",
    å: "a",
    ð: "d",
    þ: "o",
    А: "A",
    Б: "B",
    В: "B",
    Г: "F",
    Д: "A",
    Е: "E",
    Ж: "K",
    З: "3",
    И: "N",
    Й: "N",
    К: "K",
    Л: "N",
    М: "M",
    Н: "H",
    О: "O",
    П: "N",
    Р: "P",
    С: "C",
    Т: "T",
    У: "y",
    Ф: "O",
    Х: "X",
    Ц: "U",
    Ч: "h",
    Ш: "W",
    Щ: "W",
    Ъ: "B",
    Ы: "X",
    Ь: "B",
    Э: "3",
    Ю: "X",
    Я: "R",
    а: "a",
    б: "b",
    в: "a",
    г: "r",
    д: "y",
    е: "e",
    ж: "m",
    з: "e",
    и: "n",
    й: "n",
    к: "n",
    л: "n",
    м: "m",
    н: "n",
    о: "o",
    п: "n",
    р: "p",
    с: "c",
    т: "o",
    у: "y",
    ф: "b",
    х: "x",
    ц: "n",
    ч: "n",
    ш: "w",
    щ: "w",
    ъ: "a",
    ы: "m",
    ь: "a",
    э: "e",
    ю: "m",
    я: "r",
  };
function gre(t, e) {
  ra[t] = e;
}
function Q7(t, e, r) {
  if (!ra[e]) throw new Error("Font metrics not found for font: " + e + ".");
  var n = t.charCodeAt(0),
    i = ra[e][n];
  if (
    (!i && t[0] in Hk && ((n = Hk[t[0]].charCodeAt(0)), (i = ra[e][n])),
    !i && r === "text" && AB(n) && (i = ra[e][77]),
    i)
  )
    return { depth: i[0], height: i[1], italic: i[2], skew: i[3], width: i[4] };
}
var dy = {};
function vre(t) {
  var e;
  if ((t >= 5 ? (e = 0) : t >= 3 ? (e = 1) : (e = 2), !dy[e])) {
    var r = (dy[e] = { cssEmPerMu: Tm.quad[e] / 18 });
    for (var n in Tm) Tm.hasOwnProperty(n) && (r[n] = Tm[n][e]);
  }
  return dy[e];
}
var yre = [
    [1, 1, 1],
    [2, 1, 1],
    [3, 1, 1],
    [4, 2, 1],
    [5, 2, 1],
    [6, 3, 1],
    [7, 4, 2],
    [8, 6, 3],
    [9, 7, 6],
    [10, 8, 7],
    [11, 10, 9],
  ],
  Vk = [0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.2, 1.44, 1.728, 2.074, 2.488],
  Wk = function (e, r) {
    return r.size < 2 ? e : yre[e - 1][r.size - 1];
  };
class _a {
  constructor(e) {
    (this.style = void 0),
      (this.color = void 0),
      (this.size = void 0),
      (this.textSize = void 0),
      (this.phantom = void 0),
      (this.font = void 0),
      (this.fontFamily = void 0),
      (this.fontWeight = void 0),
      (this.fontShape = void 0),
      (this.sizeMultiplier = void 0),
      (this.maxSize = void 0),
      (this.minRuleThickness = void 0),
      (this._fontMetrics = void 0),
      (this.style = e.style),
      (this.color = e.color),
      (this.size = e.size || _a.BASESIZE),
      (this.textSize = e.textSize || this.size),
      (this.phantom = !!e.phantom),
      (this.font = e.font || ""),
      (this.fontFamily = e.fontFamily || ""),
      (this.fontWeight = e.fontWeight || ""),
      (this.fontShape = e.fontShape || ""),
      (this.sizeMultiplier = Vk[this.size - 1]),
      (this.maxSize = e.maxSize),
      (this.minRuleThickness = e.minRuleThickness),
      (this._fontMetrics = void 0);
  }
  extend(e) {
    var r = {
      style: this.style,
      size: this.size,
      textSize: this.textSize,
      color: this.color,
      phantom: this.phantom,
      font: this.font,
      fontFamily: this.fontFamily,
      fontWeight: this.fontWeight,
      fontShape: this.fontShape,
      maxSize: this.maxSize,
      minRuleThickness: this.minRuleThickness,
    };
    for (var n in e) e.hasOwnProperty(n) && (r[n] = e[n]);
    return new _a(r);
  }
  havingStyle(e) {
    return this.style === e
      ? this
      : this.extend({ style: e, size: Wk(this.textSize, e) });
  }
  havingCrampedStyle() {
    return this.havingStyle(this.style.cramp());
  }
  havingSize(e) {
    return this.size === e && this.textSize === e
      ? this
      : this.extend({
          style: this.style.text(),
          size: e,
          textSize: e,
          sizeMultiplier: Vk[e - 1],
        });
  }
  havingBaseStyle(e) {
    e = e || this.style.text();
    var r = Wk(_a.BASESIZE, e);
    return this.size === r && this.textSize === _a.BASESIZE && this.style === e
      ? this
      : this.extend({ style: e, size: r });
  }
  havingBaseSizing() {
    var e;
    switch (this.style.id) {
      case 4:
      case 5:
        e = 3;
        break;
      case 6:
      case 7:
        e = 1;
        break;
      default:
        e = 6;
    }
    return this.extend({ style: this.style.text(), size: e });
  }
  withColor(e) {
    return this.extend({ color: e });
  }
  withPhantom() {
    return this.extend({ phantom: !0 });
  }
  withFont(e) {
    return this.extend({ font: e });
  }
  withTextFontFamily(e) {
    return this.extend({ fontFamily: e, font: "" });
  }
  withTextFontWeight(e) {
    return this.extend({ fontWeight: e, font: "" });
  }
  withTextFontShape(e) {
    return this.extend({ fontShape: e, font: "" });
  }
  sizingClasses(e) {
    return e.size !== this.size
      ? ["sizing", "reset-size" + e.size, "size" + this.size]
      : [];
  }
  baseSizingClasses() {
    return this.size !== _a.BASESIZE
      ? ["sizing", "reset-size" + this.size, "size" + _a.BASESIZE]
      : [];
  }
  fontMetrics() {
    return (
      this._fontMetrics || (this._fontMetrics = vre(this.size)),
      this._fontMetrics
    );
  }
  getColor() {
    return this.phantom ? "transparent" : this.color;
  }
}
_a.BASESIZE = 6;
var u6 = {
    pt: 1,
    mm: 7227 / 2540,
    cm: 7227 / 254,
    in: 72.27,
    bp: 803 / 800,
    pc: 12,
    dd: 1238 / 1157,
    cc: 14856 / 1157,
    nd: 685 / 642,
    nc: 1370 / 107,
    sp: 1 / 65536,
    px: 803 / 800,
  },
  bre = { ex: !0, em: !0, mu: !0 },
  EB = function (e) {
    return (
      typeof e != "string" && (e = e.unit), e in u6 || e in bre || e === "ex"
    );
  },
  ln = function (e, r) {
    var n;
    if (e.unit in u6)
      n = u6[e.unit] / r.fontMetrics().ptPerEm / r.sizeMultiplier;
    else if (e.unit === "mu") n = r.fontMetrics().cssEmPerMu;
    else {
      var i;
      if (
        (r.style.isTight() ? (i = r.havingStyle(r.style.text())) : (i = r),
        e.unit === "ex")
      )
        n = i.fontMetrics().xHeight;
      else if (e.unit === "em") n = i.fontMetrics().quad;
      else throw new qe("Invalid unit: '" + e.unit + "'");
      i !== r && (n *= i.sizeMultiplier / r.sizeMultiplier);
    }
    return Math.min(e.number * n, r.maxSize);
  },
  Qe = function (e) {
    return +e.toFixed(4) + "em";
  },
  mu = function (e) {
    return e.filter((r) => r).join(" ");
  },
  FB = function (e, r, n) {
    if (
      ((this.classes = e || []),
      (this.attributes = {}),
      (this.height = 0),
      (this.depth = 0),
      (this.maxFontSize = 0),
      (this.style = n || {}),
      r)
    ) {
      r.style.isTight() && this.classes.push("mtight");
      var i = r.getColor();
      i && (this.style.color = i);
    }
  },
  MB = function (e) {
    var r = document.createElement(e);
    r.className = mu(this.classes);
    for (var n in this.style)
      this.style.hasOwnProperty(n) && (r.style[n] = this.style[n]);
    for (var i in this.attributes)
      this.attributes.hasOwnProperty(i) &&
        r.setAttribute(i, this.attributes[i]);
    for (var o = 0; o < this.children.length; o++)
      r.appendChild(this.children[o].toNode());
    return r;
  },
  _B = function (e) {
    var r = "<" + e;
    this.classes.length &&
      (r += ' class="' + Ft.escape(mu(this.classes)) + '"');
    var n = "";
    for (var i in this.style)
      this.style.hasOwnProperty(i) &&
        (n += Ft.hyphenate(i) + ":" + this.style[i] + ";");
    n && (r += ' style="' + Ft.escape(n) + '"');
    for (var o in this.attributes)
      this.attributes.hasOwnProperty(o) &&
        (r += " " + o + '="' + Ft.escape(this.attributes[o]) + '"');
    r += ">";
    for (var s = 0; s < this.children.length; s++)
      r += this.children[s].toMarkup();
    return (r += "</" + e + ">"), r;
  };
class Dp {
  constructor(e, r, n, i) {
    (this.children = void 0),
      (this.attributes = void 0),
      (this.classes = void 0),
      (this.height = void 0),
      (this.depth = void 0),
      (this.width = void 0),
      (this.maxFontSize = void 0),
      (this.style = void 0),
      FB.call(this, e, n, i),
      (this.children = r || []);
  }
  setAttribute(e, r) {
    this.attributes[e] = r;
  }
  hasClass(e) {
    return Ft.contains(this.classes, e);
  }
  toNode() {
    return MB.call(this, "span");
  }
  toMarkup() {
    return _B.call(this, "span");
  }
}
class Z7 {
  constructor(e, r, n, i) {
    (this.children = void 0),
      (this.attributes = void 0),
      (this.classes = void 0),
      (this.height = void 0),
      (this.depth = void 0),
      (this.maxFontSize = void 0),
      (this.style = void 0),
      FB.call(this, r, i),
      (this.children = n || []),
      this.setAttribute("href", e);
  }
  setAttribute(e, r) {
    this.attributes[e] = r;
  }
  hasClass(e) {
    return Ft.contains(this.classes, e);
  }
  toNode() {
    return MB.call(this, "a");
  }
  toMarkup() {
    return _B.call(this, "a");
  }
}
class Dre {
  constructor(e, r, n) {
    (this.src = void 0),
      (this.alt = void 0),
      (this.classes = void 0),
      (this.height = void 0),
      (this.depth = void 0),
      (this.maxFontSize = void 0),
      (this.style = void 0),
      (this.alt = r),
      (this.src = e),
      (this.classes = ["mord"]),
      (this.style = n);
  }
  hasClass(e) {
    return Ft.contains(this.classes, e);
  }
  toNode() {
    var e = document.createElement("img");
    (e.src = this.src), (e.alt = this.alt), (e.className = "mord");
    for (var r in this.style)
      this.style.hasOwnProperty(r) && (e.style[r] = this.style[r]);
    return e;
  }
  toMarkup() {
    var e =
        '<img src="' +
        Ft.escape(this.src) +
        '"' +
        (' alt="' + Ft.escape(this.alt) + '"'),
      r = "";
    for (var n in this.style)
      this.style.hasOwnProperty(n) &&
        (r += Ft.hyphenate(n) + ":" + this.style[n] + ";");
    return r && (e += ' style="' + Ft.escape(r) + '"'), (e += "'/>"), e;
  }
}
var wre = { î: "ı̂", ï: "ı̈", í: "ı́", ì: "ı̀" };
class co {
  constructor(e, r, n, i, o, s, a, l) {
    (this.text = void 0),
      (this.height = void 0),
      (this.depth = void 0),
      (this.italic = void 0),
      (this.skew = void 0),
      (this.width = void 0),
      (this.maxFontSize = void 0),
      (this.classes = void 0),
      (this.style = void 0),
      (this.text = e),
      (this.height = r || 0),
      (this.depth = n || 0),
      (this.italic = i || 0),
      (this.skew = o || 0),
      (this.width = s || 0),
      (this.classes = a || []),
      (this.style = l || {}),
      (this.maxFontSize = 0);
    var u = sre(this.text.charCodeAt(0));
    u && this.classes.push(u + "_fallback"),
      /[îïíì]/.test(this.text) && (this.text = wre[this.text]);
  }
  hasClass(e) {
    return Ft.contains(this.classes, e);
  }
  toNode() {
    var e = document.createTextNode(this.text),
      r = null;
    this.italic > 0 &&
      ((r = document.createElement("span")),
      (r.style.marginRight = Qe(this.italic))),
      this.classes.length > 0 &&
        ((r = r || document.createElement("span")),
        (r.className = mu(this.classes)));
    for (var n in this.style)
      this.style.hasOwnProperty(n) &&
        ((r = r || document.createElement("span")),
        (r.style[n] = this.style[n]));
    return r ? (r.appendChild(e), r) : e;
  }
  toMarkup() {
    var e = !1,
      r = "<span";
    this.classes.length &&
      ((e = !0),
      (r += ' class="'),
      (r += Ft.escape(mu(this.classes))),
      (r += '"'));
    var n = "";
    this.italic > 0 && (n += "margin-right:" + this.italic + "em;");
    for (var i in this.style)
      this.style.hasOwnProperty(i) &&
        (n += Ft.hyphenate(i) + ":" + this.style[i] + ";");
    n && ((e = !0), (r += ' style="' + Ft.escape(n) + '"'));
    var o = Ft.escape(this.text);
    return e ? ((r += ">"), (r += o), (r += "</span>"), r) : o;
  }
}
class Ja {
  constructor(e, r) {
    (this.children = void 0),
      (this.attributes = void 0),
      (this.children = e || []),
      (this.attributes = r || {});
  }
  toNode() {
    var e = "http://www.w3.org/2000/svg",
      r = document.createElementNS(e, "svg");
    for (var n in this.attributes)
      Object.prototype.hasOwnProperty.call(this.attributes, n) &&
        r.setAttribute(n, this.attributes[n]);
    for (var i = 0; i < this.children.length; i++)
      r.appendChild(this.children[i].toNode());
    return r;
  }
  toMarkup() {
    var e = '<svg xmlns="http://www.w3.org/2000/svg"';
    for (var r in this.attributes)
      Object.prototype.hasOwnProperty.call(this.attributes, r) &&
        (e += " " + r + '="' + Ft.escape(this.attributes[r]) + '"');
    e += ">";
    for (var n = 0; n < this.children.length; n++)
      e += this.children[n].toMarkup();
    return (e += "</svg>"), e;
  }
}
class gu {
  constructor(e, r) {
    (this.pathName = void 0),
      (this.alternate = void 0),
      (this.pathName = e),
      (this.alternate = r);
  }
  toNode() {
    var e = "http://www.w3.org/2000/svg",
      r = document.createElementNS(e, "path");
    return (
      this.alternate
        ? r.setAttribute("d", this.alternate)
        : r.setAttribute("d", jk[this.pathName]),
      r
    );
  }
  toMarkup() {
    return this.alternate
      ? '<path d="' + Ft.escape(this.alternate) + '"/>'
      : '<path d="' + Ft.escape(jk[this.pathName]) + '"/>';
  }
}
class c6 {
  constructor(e) {
    (this.attributes = void 0), (this.attributes = e || {});
  }
  toNode() {
    var e = "http://www.w3.org/2000/svg",
      r = document.createElementNS(e, "line");
    for (var n in this.attributes)
      Object.prototype.hasOwnProperty.call(this.attributes, n) &&
        r.setAttribute(n, this.attributes[n]);
    return r;
  }
  toMarkup() {
    var e = "<line";
    for (var r in this.attributes)
      Object.prototype.hasOwnProperty.call(this.attributes, r) &&
        (e += " " + r + '="' + Ft.escape(this.attributes[r]) + '"');
    return (e += "/>"), e;
  }
}
function qk(t) {
  if (t instanceof co) return t;
  throw new Error("Expected symbolNode but got " + String(t) + ".");
}
function xre(t) {
  if (t instanceof Dp) return t;
  throw new Error("Expected span<HtmlDomNode> but got " + String(t) + ".");
}
var kre = { bin: 1, close: 1, inner: 1, open: 1, punct: 1, rel: 1 },
  Sre = {
    "accent-token": 1,
    mathord: 1,
    "op-token": 1,
    spacing: 1,
    textord: 1,
  },
  qr = { math: {}, text: {} };
function v(t, e, r, n, i, o) {
  (qr[t][i] = { font: e, group: r, replace: n }),
    o && n && (qr[t][n] = qr[t][i]);
}
var w = "math",
  Ie = "text",
  F = "main",
  W = "ams",
  rn = "accent-token",
  ft = "bin",
  Wi = "close",
  Ef = "inner",
  _t = "mathord",
  Pn = "op-token",
  Fs = "open",
  e2 = "punct",
  U = "rel",
  fl = "spacing",
  se = "textord";
v(w, F, U, "≡", "\\equiv", !0);
v(w, F, U, "≺", "\\prec", !0);
v(w, F, U, "≻", "\\succ", !0);
v(w, F, U, "∼", "\\sim", !0);
v(w, F, U, "⊥", "\\perp");
v(w, F, U, "⪯", "\\preceq", !0);
v(w, F, U, "⪰", "\\succeq", !0);
v(w, F, U, "≃", "\\simeq", !0);
v(w, F, U, "∣", "\\mid", !0);
v(w, F, U, "≪", "\\ll", !0);
v(w, F, U, "≫", "\\gg", !0);
v(w, F, U, "≍", "\\asymp", !0);
v(w, F, U, "∥", "\\parallel");
v(w, F, U, "⋈", "\\bowtie", !0);
v(w, F, U, "⌣", "\\smile", !0);
v(w, F, U, "⊑", "\\sqsubseteq", !0);
v(w, F, U, "⊒", "\\sqsupseteq", !0);
v(w, F, U, "≐", "\\doteq", !0);
v(w, F, U, "⌢", "\\frown", !0);
v(w, F, U, "∋", "\\ni", !0);
v(w, F, U, "∝", "\\propto", !0);
v(w, F, U, "⊢", "\\vdash", !0);
v(w, F, U, "⊣", "\\dashv", !0);
v(w, F, U, "∋", "\\owns");
v(w, F, e2, ".", "\\ldotp");
v(w, F, e2, "⋅", "\\cdotp");
v(w, F, se, "#", "\\#");
v(Ie, F, se, "#", "\\#");
v(w, F, se, "&", "\\&");
v(Ie, F, se, "&", "\\&");
v(w, F, se, "ℵ", "\\aleph", !0);
v(w, F, se, "∀", "\\forall", !0);
v(w, F, se, "ℏ", "\\hbar", !0);
v(w, F, se, "∃", "\\exists", !0);
v(w, F, se, "∇", "\\nabla", !0);
v(w, F, se, "♭", "\\flat", !0);
v(w, F, se, "ℓ", "\\ell", !0);
v(w, F, se, "♮", "\\natural", !0);
v(w, F, se, "♣", "\\clubsuit", !0);
v(w, F, se, "℘", "\\wp", !0);
v(w, F, se, "♯", "\\sharp", !0);
v(w, F, se, "♢", "\\diamondsuit", !0);
v(w, F, se, "ℜ", "\\Re", !0);
v(w, F, se, "♡", "\\heartsuit", !0);
v(w, F, se, "ℑ", "\\Im", !0);
v(w, F, se, "♠", "\\spadesuit", !0);
v(w, F, se, "§", "\\S", !0);
v(Ie, F, se, "§", "\\S");
v(w, F, se, "¶", "\\P", !0);
v(Ie, F, se, "¶", "\\P");
v(w, F, se, "†", "\\dag");
v(Ie, F, se, "†", "\\dag");
v(Ie, F, se, "†", "\\textdagger");
v(w, F, se, "‡", "\\ddag");
v(Ie, F, se, "‡", "\\ddag");
v(Ie, F, se, "‡", "\\textdaggerdbl");
v(w, F, Wi, "⎱", "\\rmoustache", !0);
v(w, F, Fs, "⎰", "\\lmoustache", !0);
v(w, F, Wi, "⟯", "\\rgroup", !0);
v(w, F, Fs, "⟮", "\\lgroup", !0);
v(w, F, ft, "∓", "\\mp", !0);
v(w, F, ft, "⊖", "\\ominus", !0);
v(w, F, ft, "⊎", "\\uplus", !0);
v(w, F, ft, "⊓", "\\sqcap", !0);
v(w, F, ft, "∗", "\\ast");
v(w, F, ft, "⊔", "\\sqcup", !0);
v(w, F, ft, "◯", "\\bigcirc", !0);
v(w, F, ft, "∙", "\\bullet", !0);
v(w, F, ft, "‡", "\\ddagger");
v(w, F, ft, "≀", "\\wr", !0);
v(w, F, ft, "⨿", "\\amalg");
v(w, F, ft, "&", "\\And");
v(w, F, U, "⟵", "\\longleftarrow", !0);
v(w, F, U, "⇐", "\\Leftarrow", !0);
v(w, F, U, "⟸", "\\Longleftarrow", !0);
v(w, F, U, "⟶", "\\longrightarrow", !0);
v(w, F, U, "⇒", "\\Rightarrow", !0);
v(w, F, U, "⟹", "\\Longrightarrow", !0);
v(w, F, U, "↔", "\\leftrightarrow", !0);
v(w, F, U, "⟷", "\\longleftrightarrow", !0);
v(w, F, U, "⇔", "\\Leftrightarrow", !0);
v(w, F, U, "⟺", "\\Longleftrightarrow", !0);
v(w, F, U, "↦", "\\mapsto", !0);
v(w, F, U, "⟼", "\\longmapsto", !0);
v(w, F, U, "↗", "\\nearrow", !0);
v(w, F, U, "↩", "\\hookleftarrow", !0);
v(w, F, U, "↪", "\\hookrightarrow", !0);
v(w, F, U, "↘", "\\searrow", !0);
v(w, F, U, "↼", "\\leftharpoonup", !0);
v(w, F, U, "⇀", "\\rightharpoonup", !0);
v(w, F, U, "↙", "\\swarrow", !0);
v(w, F, U, "↽", "\\leftharpoondown", !0);
v(w, F, U, "⇁", "\\rightharpoondown", !0);
v(w, F, U, "↖", "\\nwarrow", !0);
v(w, F, U, "⇌", "\\rightleftharpoons", !0);
v(w, W, U, "≮", "\\nless", !0);
v(w, W, U, "", "\\@nleqslant");
v(w, W, U, "", "\\@nleqq");
v(w, W, U, "⪇", "\\lneq", !0);
v(w, W, U, "≨", "\\lneqq", !0);
v(w, W, U, "", "\\@lvertneqq");
v(w, W, U, "⋦", "\\lnsim", !0);
v(w, W, U, "⪉", "\\lnapprox", !0);
v(w, W, U, "⊀", "\\nprec", !0);
v(w, W, U, "⋠", "\\npreceq", !0);
v(w, W, U, "⋨", "\\precnsim", !0);
v(w, W, U, "⪹", "\\precnapprox", !0);
v(w, W, U, "≁", "\\nsim", !0);
v(w, W, U, "", "\\@nshortmid");
v(w, W, U, "∤", "\\nmid", !0);
v(w, W, U, "⊬", "\\nvdash", !0);
v(w, W, U, "⊭", "\\nvDash", !0);
v(w, W, U, "⋪", "\\ntriangleleft");
v(w, W, U, "⋬", "\\ntrianglelefteq", !0);
v(w, W, U, "⊊", "\\subsetneq", !0);
v(w, W, U, "", "\\@varsubsetneq");
v(w, W, U, "⫋", "\\subsetneqq", !0);
v(w, W, U, "", "\\@varsubsetneqq");
v(w, W, U, "≯", "\\ngtr", !0);
v(w, W, U, "", "\\@ngeqslant");
v(w, W, U, "", "\\@ngeqq");
v(w, W, U, "⪈", "\\gneq", !0);
v(w, W, U, "≩", "\\gneqq", !0);
v(w, W, U, "", "\\@gvertneqq");
v(w, W, U, "⋧", "\\gnsim", !0);
v(w, W, U, "⪊", "\\gnapprox", !0);
v(w, W, U, "⊁", "\\nsucc", !0);
v(w, W, U, "⋡", "\\nsucceq", !0);
v(w, W, U, "⋩", "\\succnsim", !0);
v(w, W, U, "⪺", "\\succnapprox", !0);
v(w, W, U, "≆", "\\ncong", !0);
v(w, W, U, "", "\\@nshortparallel");
v(w, W, U, "∦", "\\nparallel", !0);
v(w, W, U, "⊯", "\\nVDash", !0);
v(w, W, U, "⋫", "\\ntriangleright");
v(w, W, U, "⋭", "\\ntrianglerighteq", !0);
v(w, W, U, "", "\\@nsupseteqq");
v(w, W, U, "⊋", "\\supsetneq", !0);
v(w, W, U, "", "\\@varsupsetneq");
v(w, W, U, "⫌", "\\supsetneqq", !0);
v(w, W, U, "", "\\@varsupsetneqq");
v(w, W, U, "⊮", "\\nVdash", !0);
v(w, W, U, "⪵", "\\precneqq", !0);
v(w, W, U, "⪶", "\\succneqq", !0);
v(w, W, U, "", "\\@nsubseteqq");
v(w, W, ft, "⊴", "\\unlhd");
v(w, W, ft, "⊵", "\\unrhd");
v(w, W, U, "↚", "\\nleftarrow", !0);
v(w, W, U, "↛", "\\nrightarrow", !0);
v(w, W, U, "⇍", "\\nLeftarrow", !0);
v(w, W, U, "⇏", "\\nRightarrow", !0);
v(w, W, U, "↮", "\\nleftrightarrow", !0);
v(w, W, U, "⇎", "\\nLeftrightarrow", !0);
v(w, W, U, "△", "\\vartriangle");
v(w, W, se, "ℏ", "\\hslash");
v(w, W, se, "▽", "\\triangledown");
v(w, W, se, "◊", "\\lozenge");
v(w, W, se, "Ⓢ", "\\circledS");
v(w, W, se, "®", "\\circledR");
v(Ie, W, se, "®", "\\circledR");
v(w, W, se, "∡", "\\measuredangle", !0);
v(w, W, se, "∄", "\\nexists");
v(w, W, se, "℧", "\\mho");
v(w, W, se, "Ⅎ", "\\Finv", !0);
v(w, W, se, "⅁", "\\Game", !0);
v(w, W, se, "‵", "\\backprime");
v(w, W, se, "▲", "\\blacktriangle");
v(w, W, se, "▼", "\\blacktriangledown");
v(w, W, se, "■", "\\blacksquare");
v(w, W, se, "⧫", "\\blacklozenge");
v(w, W, se, "★", "\\bigstar");
v(w, W, se, "∢", "\\sphericalangle", !0);
v(w, W, se, "∁", "\\complement", !0);
v(w, W, se, "ð", "\\eth", !0);
v(Ie, F, se, "ð", "ð");
v(w, W, se, "╱", "\\diagup");
v(w, W, se, "╲", "\\diagdown");
v(w, W, se, "□", "\\square");
v(w, W, se, "□", "\\Box");
v(w, W, se, "◊", "\\Diamond");
v(w, W, se, "¥", "\\yen", !0);
v(Ie, W, se, "¥", "\\yen", !0);
v(w, W, se, "✓", "\\checkmark", !0);
v(Ie, W, se, "✓", "\\checkmark");
v(w, W, se, "ℶ", "\\beth", !0);
v(w, W, se, "ℸ", "\\daleth", !0);
v(w, W, se, "ℷ", "\\gimel", !0);
v(w, W, se, "ϝ", "\\digamma", !0);
v(w, W, se, "ϰ", "\\varkappa");
v(w, W, Fs, "┌", "\\@ulcorner", !0);
v(w, W, Wi, "┐", "\\@urcorner", !0);
v(w, W, Fs, "└", "\\@llcorner", !0);
v(w, W, Wi, "┘", "\\@lrcorner", !0);
v(w, W, U, "≦", "\\leqq", !0);
v(w, W, U, "⩽", "\\leqslant", !0);
v(w, W, U, "⪕", "\\eqslantless", !0);
v(w, W, U, "≲", "\\lesssim", !0);
v(w, W, U, "⪅", "\\lessapprox", !0);
v(w, W, U, "≊", "\\approxeq", !0);
v(w, W, ft, "⋖", "\\lessdot");
v(w, W, U, "⋘", "\\lll", !0);
v(w, W, U, "≶", "\\lessgtr", !0);
v(w, W, U, "⋚", "\\lesseqgtr", !0);
v(w, W, U, "⪋", "\\lesseqqgtr", !0);
v(w, W, U, "≑", "\\doteqdot");
v(w, W, U, "≓", "\\risingdotseq", !0);
v(w, W, U, "≒", "\\fallingdotseq", !0);
v(w, W, U, "∽", "\\backsim", !0);
v(w, W, U, "⋍", "\\backsimeq", !0);
v(w, W, U, "⫅", "\\subseteqq", !0);
v(w, W, U, "⋐", "\\Subset", !0);
v(w, W, U, "⊏", "\\sqsubset", !0);
v(w, W, U, "≼", "\\preccurlyeq", !0);
v(w, W, U, "⋞", "\\curlyeqprec", !0);
v(w, W, U, "≾", "\\precsim", !0);
v(w, W, U, "⪷", "\\precapprox", !0);
v(w, W, U, "⊲", "\\vartriangleleft");
v(w, W, U, "⊴", "\\trianglelefteq");
v(w, W, U, "⊨", "\\vDash", !0);
v(w, W, U, "⊪", "\\Vvdash", !0);
v(w, W, U, "⌣", "\\smallsmile");
v(w, W, U, "⌢", "\\smallfrown");
v(w, W, U, "≏", "\\bumpeq", !0);
v(w, W, U, "≎", "\\Bumpeq", !0);
v(w, W, U, "≧", "\\geqq", !0);
v(w, W, U, "⩾", "\\geqslant", !0);
v(w, W, U, "⪖", "\\eqslantgtr", !0);
v(w, W, U, "≳", "\\gtrsim", !0);
v(w, W, U, "⪆", "\\gtrapprox", !0);
v(w, W, ft, "⋗", "\\gtrdot");
v(w, W, U, "⋙", "\\ggg", !0);
v(w, W, U, "≷", "\\gtrless", !0);
v(w, W, U, "⋛", "\\gtreqless", !0);
v(w, W, U, "⪌", "\\gtreqqless", !0);
v(w, W, U, "≖", "\\eqcirc", !0);
v(w, W, U, "≗", "\\circeq", !0);
v(w, W, U, "≜", "\\triangleq", !0);
v(w, W, U, "∼", "\\thicksim");
v(w, W, U, "≈", "\\thickapprox");
v(w, W, U, "⫆", "\\supseteqq", !0);
v(w, W, U, "⋑", "\\Supset", !0);
v(w, W, U, "⊐", "\\sqsupset", !0);
v(w, W, U, "≽", "\\succcurlyeq", !0);
v(w, W, U, "⋟", "\\curlyeqsucc", !0);
v(w, W, U, "≿", "\\succsim", !0);
v(w, W, U, "⪸", "\\succapprox", !0);
v(w, W, U, "⊳", "\\vartriangleright");
v(w, W, U, "⊵", "\\trianglerighteq");
v(w, W, U, "⊩", "\\Vdash", !0);
v(w, W, U, "∣", "\\shortmid");
v(w, W, U, "∥", "\\shortparallel");
v(w, W, U, "≬", "\\between", !0);
v(w, W, U, "⋔", "\\pitchfork", !0);
v(w, W, U, "∝", "\\varpropto");
v(w, W, U, "◀", "\\blacktriangleleft");
v(w, W, U, "∴", "\\therefore", !0);
v(w, W, U, "∍", "\\backepsilon");
v(w, W, U, "▶", "\\blacktriangleright");
v(w, W, U, "∵", "\\because", !0);
v(w, W, U, "⋘", "\\llless");
v(w, W, U, "⋙", "\\gggtr");
v(w, W, ft, "⊲", "\\lhd");
v(w, W, ft, "⊳", "\\rhd");
v(w, W, U, "≂", "\\eqsim", !0);
v(w, F, U, "⋈", "\\Join");
v(w, W, U, "≑", "\\Doteq", !0);
v(w, W, ft, "∔", "\\dotplus", !0);
v(w, W, ft, "∖", "\\smallsetminus");
v(w, W, ft, "⋒", "\\Cap", !0);
v(w, W, ft, "⋓", "\\Cup", !0);
v(w, W, ft, "⩞", "\\doublebarwedge", !0);
v(w, W, ft, "⊟", "\\boxminus", !0);
v(w, W, ft, "⊞", "\\boxplus", !0);
v(w, W, ft, "⋇", "\\divideontimes", !0);
v(w, W, ft, "⋉", "\\ltimes", !0);
v(w, W, ft, "⋊", "\\rtimes", !0);
v(w, W, ft, "⋋", "\\leftthreetimes", !0);
v(w, W, ft, "⋌", "\\rightthreetimes", !0);
v(w, W, ft, "⋏", "\\curlywedge", !0);
v(w, W, ft, "⋎", "\\curlyvee", !0);
v(w, W, ft, "⊝", "\\circleddash", !0);
v(w, W, ft, "⊛", "\\circledast", !0);
v(w, W, ft, "⋅", "\\centerdot");
v(w, W, ft, "⊺", "\\intercal", !0);
v(w, W, ft, "⋒", "\\doublecap");
v(w, W, ft, "⋓", "\\doublecup");
v(w, W, ft, "⊠", "\\boxtimes", !0);
v(w, W, U, "⇢", "\\dashrightarrow", !0);
v(w, W, U, "⇠", "\\dashleftarrow", !0);
v(w, W, U, "⇇", "\\leftleftarrows", !0);
v(w, W, U, "⇆", "\\leftrightarrows", !0);
v(w, W, U, "⇚", "\\Lleftarrow", !0);
v(w, W, U, "↞", "\\twoheadleftarrow", !0);
v(w, W, U, "↢", "\\leftarrowtail", !0);
v(w, W, U, "↫", "\\looparrowleft", !0);
v(w, W, U, "⇋", "\\leftrightharpoons", !0);
v(w, W, U, "↶", "\\curvearrowleft", !0);
v(w, W, U, "↺", "\\circlearrowleft", !0);
v(w, W, U, "↰", "\\Lsh", !0);
v(w, W, U, "⇈", "\\upuparrows", !0);
v(w, W, U, "↿", "\\upharpoonleft", !0);
v(w, W, U, "⇃", "\\downharpoonleft", !0);
v(w, F, U, "⊶", "\\origof", !0);
v(w, F, U, "⊷", "\\imageof", !0);
v(w, W, U, "⊸", "\\multimap", !0);
v(w, W, U, "↭", "\\leftrightsquigarrow", !0);
v(w, W, U, "⇉", "\\rightrightarrows", !0);
v(w, W, U, "⇄", "\\rightleftarrows", !0);
v(w, W, U, "↠", "\\twoheadrightarrow", !0);
v(w, W, U, "↣", "\\rightarrowtail", !0);
v(w, W, U, "↬", "\\looparrowright", !0);
v(w, W, U, "↷", "\\curvearrowright", !0);
v(w, W, U, "↻", "\\circlearrowright", !0);
v(w, W, U, "↱", "\\Rsh", !0);
v(w, W, U, "⇊", "\\downdownarrows", !0);
v(w, W, U, "↾", "\\upharpoonright", !0);
v(w, W, U, "⇂", "\\downharpoonright", !0);
v(w, W, U, "⇝", "\\rightsquigarrow", !0);
v(w, W, U, "⇝", "\\leadsto");
v(w, W, U, "⇛", "\\Rrightarrow", !0);
v(w, W, U, "↾", "\\restriction");
v(w, F, se, "‘", "`");
v(w, F, se, "$", "\\$");
v(Ie, F, se, "$", "\\$");
v(Ie, F, se, "$", "\\textdollar");
v(w, F, se, "%", "\\%");
v(Ie, F, se, "%", "\\%");
v(w, F, se, "_", "\\_");
v(Ie, F, se, "_", "\\_");
v(Ie, F, se, "_", "\\textunderscore");
v(w, F, se, "∠", "\\angle", !0);
v(w, F, se, "∞", "\\infty", !0);
v(w, F, se, "′", "\\prime");
v(w, F, se, "△", "\\triangle");
v(w, F, se, "Γ", "\\Gamma", !0);
v(w, F, se, "Δ", "\\Delta", !0);
v(w, F, se, "Θ", "\\Theta", !0);
v(w, F, se, "Λ", "\\Lambda", !0);
v(w, F, se, "Ξ", "\\Xi", !0);
v(w, F, se, "Π", "\\Pi", !0);
v(w, F, se, "Σ", "\\Sigma", !0);
v(w, F, se, "Υ", "\\Upsilon", !0);
v(w, F, se, "Φ", "\\Phi", !0);
v(w, F, se, "Ψ", "\\Psi", !0);
v(w, F, se, "Ω", "\\Omega", !0);
v(w, F, se, "A", "Α");
v(w, F, se, "B", "Β");
v(w, F, se, "E", "Ε");
v(w, F, se, "Z", "Ζ");
v(w, F, se, "H", "Η");
v(w, F, se, "I", "Ι");
v(w, F, se, "K", "Κ");
v(w, F, se, "M", "Μ");
v(w, F, se, "N", "Ν");
v(w, F, se, "O", "Ο");
v(w, F, se, "P", "Ρ");
v(w, F, se, "T", "Τ");
v(w, F, se, "X", "Χ");
v(w, F, se, "¬", "\\neg", !0);
v(w, F, se, "¬", "\\lnot");
v(w, F, se, "⊤", "\\top");
v(w, F, se, "⊥", "\\bot");
v(w, F, se, "∅", "\\emptyset");
v(w, W, se, "∅", "\\varnothing");
v(w, F, _t, "α", "\\alpha", !0);
v(w, F, _t, "β", "\\beta", !0);
v(w, F, _t, "γ", "\\gamma", !0);
v(w, F, _t, "δ", "\\delta", !0);
v(w, F, _t, "ϵ", "\\epsilon", !0);
v(w, F, _t, "ζ", "\\zeta", !0);
v(w, F, _t, "η", "\\eta", !0);
v(w, F, _t, "θ", "\\theta", !0);
v(w, F, _t, "ι", "\\iota", !0);
v(w, F, _t, "κ", "\\kappa", !0);
v(w, F, _t, "λ", "\\lambda", !0);
v(w, F, _t, "μ", "\\mu", !0);
v(w, F, _t, "ν", "\\nu", !0);
v(w, F, _t, "ξ", "\\xi", !0);
v(w, F, _t, "ο", "\\omicron", !0);
v(w, F, _t, "π", "\\pi", !0);
v(w, F, _t, "ρ", "\\rho", !0);
v(w, F, _t, "σ", "\\sigma", !0);
v(w, F, _t, "τ", "\\tau", !0);
v(w, F, _t, "υ", "\\upsilon", !0);
v(w, F, _t, "ϕ", "\\phi", !0);
v(w, F, _t, "χ", "\\chi", !0);
v(w, F, _t, "ψ", "\\psi", !0);
v(w, F, _t, "ω", "\\omega", !0);
v(w, F, _t, "ε", "\\varepsilon", !0);
v(w, F, _t, "ϑ", "\\vartheta", !0);
v(w, F, _t, "ϖ", "\\varpi", !0);
v(w, F, _t, "ϱ", "\\varrho", !0);
v(w, F, _t, "ς", "\\varsigma", !0);
v(w, F, _t, "φ", "\\varphi", !0);
v(w, F, ft, "∗", "*", !0);
v(w, F, ft, "+", "+");
v(w, F, ft, "−", "-", !0);
v(w, F, ft, "⋅", "\\cdot", !0);
v(w, F, ft, "∘", "\\circ", !0);
v(w, F, ft, "÷", "\\div", !0);
v(w, F, ft, "±", "\\pm", !0);
v(w, F, ft, "×", "\\times", !0);
v(w, F, ft, "∩", "\\cap", !0);
v(w, F, ft, "∪", "\\cup", !0);
v(w, F, ft, "∖", "\\setminus", !0);
v(w, F, ft, "∧", "\\land");
v(w, F, ft, "∨", "\\lor");
v(w, F, ft, "∧", "\\wedge", !0);
v(w, F, ft, "∨", "\\vee", !0);
v(w, F, se, "√", "\\surd");
v(w, F, Fs, "⟨", "\\langle", !0);
v(w, F, Fs, "∣", "\\lvert");
v(w, F, Fs, "∥", "\\lVert");
v(w, F, Wi, "?", "?");
v(w, F, Wi, "!", "!");
v(w, F, Wi, "⟩", "\\rangle", !0);
v(w, F, Wi, "∣", "\\rvert");
v(w, F, Wi, "∥", "\\rVert");
v(w, F, U, "=", "=");
v(w, F, U, ":", ":");
v(w, F, U, "≈", "\\approx", !0);
v(w, F, U, "≅", "\\cong", !0);
v(w, F, U, "≥", "\\ge");
v(w, F, U, "≥", "\\geq", !0);
v(w, F, U, "←", "\\gets");
v(w, F, U, ">", "\\gt", !0);
v(w, F, U, "∈", "\\in", !0);
v(w, F, U, "", "\\@not");
v(w, F, U, "⊂", "\\subset", !0);
v(w, F, U, "⊃", "\\supset", !0);
v(w, F, U, "⊆", "\\subseteq", !0);
v(w, F, U, "⊇", "\\supseteq", !0);
v(w, W, U, "⊈", "\\nsubseteq", !0);
v(w, W, U, "⊉", "\\nsupseteq", !0);
v(w, F, U, "⊨", "\\models");
v(w, F, U, "←", "\\leftarrow", !0);
v(w, F, U, "≤", "\\le");
v(w, F, U, "≤", "\\leq", !0);
v(w, F, U, "<", "\\lt", !0);
v(w, F, U, "→", "\\rightarrow", !0);
v(w, F, U, "→", "\\to");
v(w, W, U, "≱", "\\ngeq", !0);
v(w, W, U, "≰", "\\nleq", !0);
v(w, F, fl, " ", "\\ ");
v(w, F, fl, " ", "\\space");
v(w, F, fl, " ", "\\nobreakspace");
v(Ie, F, fl, " ", "\\ ");
v(Ie, F, fl, " ", " ");
v(Ie, F, fl, " ", "\\space");
v(Ie, F, fl, " ", "\\nobreakspace");
v(w, F, fl, null, "\\nobreak");
v(w, F, fl, null, "\\allowbreak");
v(w, F, e2, ",", ",");
v(w, F, e2, ";", ";");
v(w, W, ft, "⊼", "\\barwedge", !0);
v(w, W, ft, "⊻", "\\veebar", !0);
v(w, F, ft, "⊙", "\\odot", !0);
v(w, F, ft, "⊕", "\\oplus", !0);
v(w, F, ft, "⊗", "\\otimes", !0);
v(w, F, se, "∂", "\\partial", !0);
v(w, F, ft, "⊘", "\\oslash", !0);
v(w, W, ft, "⊚", "\\circledcirc", !0);
v(w, W, ft, "⊡", "\\boxdot", !0);
v(w, F, ft, "△", "\\bigtriangleup");
v(w, F, ft, "▽", "\\bigtriangledown");
v(w, F, ft, "†", "\\dagger");
v(w, F, ft, "⋄", "\\diamond");
v(w, F, ft, "⋆", "\\star");
v(w, F, ft, "◃", "\\triangleleft");
v(w, F, ft, "▹", "\\triangleright");
v(w, F, Fs, "{", "\\{");
v(Ie, F, se, "{", "\\{");
v(Ie, F, se, "{", "\\textbraceleft");
v(w, F, Wi, "}", "\\}");
v(Ie, F, se, "}", "\\}");
v(Ie, F, se, "}", "\\textbraceright");
v(w, F, Fs, "{", "\\lbrace");
v(w, F, Wi, "}", "\\rbrace");
v(w, F, Fs, "[", "\\lbrack", !0);
v(Ie, F, se, "[", "\\lbrack", !0);
v(w, F, Wi, "]", "\\rbrack", !0);
v(Ie, F, se, "]", "\\rbrack", !0);
v(w, F, Fs, "(", "\\lparen", !0);
v(w, F, Wi, ")", "\\rparen", !0);
v(Ie, F, se, "<", "\\textless", !0);
v(Ie, F, se, ">", "\\textgreater", !0);
v(w, F, Fs, "⌊", "\\lfloor", !0);
v(w, F, Wi, "⌋", "\\rfloor", !0);
v(w, F, Fs, "⌈", "\\lceil", !0);
v(w, F, Wi, "⌉", "\\rceil", !0);
v(w, F, se, "\\", "\\backslash");
v(w, F, se, "∣", "|");
v(w, F, se, "∣", "\\vert");
v(Ie, F, se, "|", "\\textbar", !0);
v(w, F, se, "∥", "\\|");
v(w, F, se, "∥", "\\Vert");
v(Ie, F, se, "∥", "\\textbardbl");
v(Ie, F, se, "~", "\\textasciitilde");
v(Ie, F, se, "\\", "\\textbackslash");
v(Ie, F, se, "^", "\\textasciicircum");
v(w, F, U, "↑", "\\uparrow", !0);
v(w, F, U, "⇑", "\\Uparrow", !0);
v(w, F, U, "↓", "\\downarrow", !0);
v(w, F, U, "⇓", "\\Downarrow", !0);
v(w, F, U, "↕", "\\updownarrow", !0);
v(w, F, U, "⇕", "\\Updownarrow", !0);
v(w, F, Pn, "∐", "\\coprod");
v(w, F, Pn, "⋁", "\\bigvee");
v(w, F, Pn, "⋀", "\\bigwedge");
v(w, F, Pn, "⨄", "\\biguplus");
v(w, F, Pn, "⋂", "\\bigcap");
v(w, F, Pn, "⋃", "\\bigcup");
v(w, F, Pn, "∫", "\\int");
v(w, F, Pn, "∫", "\\intop");
v(w, F, Pn, "∬", "\\iint");
v(w, F, Pn, "∭", "\\iiint");
v(w, F, Pn, "∏", "\\prod");
v(w, F, Pn, "∑", "\\sum");
v(w, F, Pn, "⨂", "\\bigotimes");
v(w, F, Pn, "⨁", "\\bigoplus");
v(w, F, Pn, "⨀", "\\bigodot");
v(w, F, Pn, "∮", "\\oint");
v(w, F, Pn, "∯", "\\oiint");
v(w, F, Pn, "∰", "\\oiiint");
v(w, F, Pn, "⨆", "\\bigsqcup");
v(w, F, Pn, "∫", "\\smallint");
v(Ie, F, Ef, "…", "\\textellipsis");
v(w, F, Ef, "…", "\\mathellipsis");
v(Ie, F, Ef, "…", "\\ldots", !0);
v(w, F, Ef, "…", "\\ldots", !0);
v(w, F, Ef, "⋯", "\\@cdots", !0);
v(w, F, Ef, "⋱", "\\ddots", !0);
v(w, F, se, "⋮", "\\varvdots");
v(w, F, rn, "ˊ", "\\acute");
v(w, F, rn, "ˋ", "\\grave");
v(w, F, rn, "¨", "\\ddot");
v(w, F, rn, "~", "\\tilde");
v(w, F, rn, "ˉ", "\\bar");
v(w, F, rn, "˘", "\\breve");
v(w, F, rn, "ˇ", "\\check");
v(w, F, rn, "^", "\\hat");
v(w, F, rn, "⃗", "\\vec");
v(w, F, rn, "˙", "\\dot");
v(w, F, rn, "˚", "\\mathring");
v(w, F, _t, "", "\\@imath");
v(w, F, _t, "", "\\@jmath");
v(w, F, se, "ı", "ı");
v(w, F, se, "ȷ", "ȷ");
v(Ie, F, se, "ı", "\\i", !0);
v(Ie, F, se, "ȷ", "\\j", !0);
v(Ie, F, se, "ß", "\\ss", !0);
v(Ie, F, se, "æ", "\\ae", !0);
v(Ie, F, se, "œ", "\\oe", !0);
v(Ie, F, se, "ø", "\\o", !0);
v(Ie, F, se, "Æ", "\\AE", !0);
v(Ie, F, se, "Œ", "\\OE", !0);
v(Ie, F, se, "Ø", "\\O", !0);
v(Ie, F, rn, "ˊ", "\\'");
v(Ie, F, rn, "ˋ", "\\`");
v(Ie, F, rn, "ˆ", "\\^");
v(Ie, F, rn, "˜", "\\~");
v(Ie, F, rn, "ˉ", "\\=");
v(Ie, F, rn, "˘", "\\u");
v(Ie, F, rn, "˙", "\\.");
v(Ie, F, rn, "¸", "\\c");
v(Ie, F, rn, "˚", "\\r");
v(Ie, F, rn, "ˇ", "\\v");
v(Ie, F, rn, "¨", '\\"');
v(Ie, F, rn, "˝", "\\H");
v(Ie, F, rn, "◯", "\\textcircled");
var $B = { "--": !0, "---": !0, "``": !0, "''": !0 };
v(Ie, F, se, "–", "--", !0);
v(Ie, F, se, "–", "\\textendash");
v(Ie, F, se, "—", "---", !0);
v(Ie, F, se, "—", "\\textemdash");
v(Ie, F, se, "‘", "`", !0);
v(Ie, F, se, "‘", "\\textquoteleft");
v(Ie, F, se, "’", "'", !0);
v(Ie, F, se, "’", "\\textquoteright");
v(Ie, F, se, "“", "``", !0);
v(Ie, F, se, "“", "\\textquotedblleft");
v(Ie, F, se, "”", "''", !0);
v(Ie, F, se, "”", "\\textquotedblright");
v(w, F, se, "°", "\\degree", !0);
v(Ie, F, se, "°", "\\degree");
v(Ie, F, se, "°", "\\textdegree", !0);
v(w, F, se, "£", "\\pounds");
v(w, F, se, "£", "\\mathsterling", !0);
v(Ie, F, se, "£", "\\pounds");
v(Ie, F, se, "£", "\\textsterling", !0);
v(w, W, se, "✠", "\\maltese");
v(Ie, W, se, "✠", "\\maltese");
var Uk = '0123456789/@."';
for (var py = 0; py < Uk.length; py++) {
  var Gk = Uk.charAt(py);
  v(w, F, se, Gk, Gk);
}
var Kk = '0123456789!@*()-=+";:?/.,';
for (var my = 0; my < Kk.length; my++) {
  var Yk = Kk.charAt(my);
  v(Ie, F, se, Yk, Yk);
}
var N1 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
for (var gy = 0; gy < N1.length; gy++) {
  var Pm = N1.charAt(gy);
  v(w, F, _t, Pm, Pm), v(Ie, F, se, Pm, Pm);
}
v(w, W, se, "C", "ℂ");
v(Ie, W, se, "C", "ℂ");
v(w, W, se, "H", "ℍ");
v(Ie, W, se, "H", "ℍ");
v(w, W, se, "N", "ℕ");
v(Ie, W, se, "N", "ℕ");
v(w, W, se, "P", "ℙ");
v(Ie, W, se, "P", "ℙ");
v(w, W, se, "Q", "ℚ");
v(Ie, W, se, "Q", "ℚ");
v(w, W, se, "R", "ℝ");
v(Ie, W, se, "R", "ℝ");
v(w, W, se, "Z", "ℤ");
v(Ie, W, se, "Z", "ℤ");
v(w, F, _t, "h", "ℎ");
v(Ie, F, _t, "h", "ℎ");
var It = "";
for (var _i = 0; _i < N1.length; _i++) {
  var mn = N1.charAt(_i);
  (It = String.fromCharCode(55349, 56320 + _i)),
    v(w, F, _t, mn, It),
    v(Ie, F, se, mn, It),
    (It = String.fromCharCode(55349, 56372 + _i)),
    v(w, F, _t, mn, It),
    v(Ie, F, se, mn, It),
    (It = String.fromCharCode(55349, 56424 + _i)),
    v(w, F, _t, mn, It),
    v(Ie, F, se, mn, It),
    (It = String.fromCharCode(55349, 56580 + _i)),
    v(w, F, _t, mn, It),
    v(Ie, F, se, mn, It),
    (It = String.fromCharCode(55349, 56684 + _i)),
    v(w, F, _t, mn, It),
    v(Ie, F, se, mn, It),
    (It = String.fromCharCode(55349, 56736 + _i)),
    v(w, F, _t, mn, It),
    v(Ie, F, se, mn, It),
    (It = String.fromCharCode(55349, 56788 + _i)),
    v(w, F, _t, mn, It),
    v(Ie, F, se, mn, It),
    (It = String.fromCharCode(55349, 56840 + _i)),
    v(w, F, _t, mn, It),
    v(Ie, F, se, mn, It),
    (It = String.fromCharCode(55349, 56944 + _i)),
    v(w, F, _t, mn, It),
    v(Ie, F, se, mn, It),
    _i < 26 &&
      ((It = String.fromCharCode(55349, 56632 + _i)),
      v(w, F, _t, mn, It),
      v(Ie, F, se, mn, It),
      (It = String.fromCharCode(55349, 56476 + _i)),
      v(w, F, _t, mn, It),
      v(Ie, F, se, mn, It));
}
It = "𝕜";
v(w, F, _t, "k", It);
v(Ie, F, se, "k", It);
for (var Iu = 0; Iu < 10; Iu++) {
  var Sl = Iu.toString();
  (It = String.fromCharCode(55349, 57294 + Iu)),
    v(w, F, _t, Sl, It),
    v(Ie, F, se, Sl, It),
    (It = String.fromCharCode(55349, 57314 + Iu)),
    v(w, F, _t, Sl, It),
    v(Ie, F, se, Sl, It),
    (It = String.fromCharCode(55349, 57324 + Iu)),
    v(w, F, _t, Sl, It),
    v(Ie, F, se, Sl, It),
    (It = String.fromCharCode(55349, 57334 + Iu)),
    v(w, F, _t, Sl, It),
    v(Ie, F, se, Sl, It);
}
var f6 = "ÐÞþ";
for (var vy = 0; vy < f6.length; vy++) {
  var Rm = f6.charAt(vy);
  v(w, F, _t, Rm, Rm), v(Ie, F, se, Rm, Rm);
}
var Im = [
    ["mathbf", "textbf", "Main-Bold"],
    ["mathbf", "textbf", "Main-Bold"],
    ["mathnormal", "textit", "Math-Italic"],
    ["mathnormal", "textit", "Math-Italic"],
    ["boldsymbol", "boldsymbol", "Main-BoldItalic"],
    ["boldsymbol", "boldsymbol", "Main-BoldItalic"],
    ["mathscr", "textscr", "Script-Regular"],
    ["", "", ""],
    ["", "", ""],
    ["", "", ""],
    ["mathfrak", "textfrak", "Fraktur-Regular"],
    ["mathfrak", "textfrak", "Fraktur-Regular"],
    ["mathbb", "textbb", "AMS-Regular"],
    ["mathbb", "textbb", "AMS-Regular"],
    ["mathboldfrak", "textboldfrak", "Fraktur-Regular"],
    ["mathboldfrak", "textboldfrak", "Fraktur-Regular"],
    ["mathsf", "textsf", "SansSerif-Regular"],
    ["mathsf", "textsf", "SansSerif-Regular"],
    ["mathboldsf", "textboldsf", "SansSerif-Bold"],
    ["mathboldsf", "textboldsf", "SansSerif-Bold"],
    ["mathitsf", "textitsf", "SansSerif-Italic"],
    ["mathitsf", "textitsf", "SansSerif-Italic"],
    ["", "", ""],
    ["", "", ""],
    ["mathtt", "texttt", "Typewriter-Regular"],
    ["mathtt", "texttt", "Typewriter-Regular"],
  ],
  Xk = [
    ["mathbf", "textbf", "Main-Bold"],
    ["", "", ""],
    ["mathsf", "textsf", "SansSerif-Regular"],
    ["mathboldsf", "textboldsf", "SansSerif-Bold"],
    ["mathtt", "texttt", "Typewriter-Regular"],
  ],
  Cre = function (e, r) {
    var n = e.charCodeAt(0),
      i = e.charCodeAt(1),
      o = (n - 55296) * 1024 + (i - 56320) + 65536,
      s = r === "math" ? 0 : 1;
    if (119808 <= o && o < 120484) {
      var a = Math.floor((o - 119808) / 26);
      return [Im[a][2], Im[a][s]];
    } else if (120782 <= o && o <= 120831) {
      var l = Math.floor((o - 120782) / 10);
      return [Xk[l][2], Xk[l][s]];
    } else {
      if (o === 120485 || o === 120486) return [Im[0][2], Im[0][s]];
      if (120486 < o && o < 120782) return ["", ""];
      throw new qe("Unsupported character: " + e);
    }
  },
  t2 = function (e, r, n) {
    return (
      qr[n][e] && qr[n][e].replace && (e = qr[n][e].replace),
      { value: e, metrics: Q7(e, r, n) }
    );
  },
  wo = function (e, r, n, i, o) {
    var s = t2(e, r, n),
      a = s.metrics;
    e = s.value;
    var l;
    if (a) {
      var u = a.italic;
      (n === "text" || (i && i.font === "mathit")) && (u = 0),
        (l = new co(e, a.height, a.depth, u, a.skew, a.width, o));
    } else
      typeof console < "u" &&
        console.warn(
          "No character metrics " +
            ("for '" + e + "' in style '" + r + "' and mode '" + n + "'")
        ),
        (l = new co(e, 0, 0, 0, 0, 0, o));
    if (i) {
      (l.maxFontSize = i.sizeMultiplier),
        i.style.isTight() && l.classes.push("mtight");
      var c = i.getColor();
      c && (l.style.color = c);
    }
    return l;
  },
  Are = function (e, r, n, i) {
    return (
      i === void 0 && (i = []),
      n.font === "boldsymbol" && t2(e, "Main-Bold", r).metrics
        ? wo(e, "Main-Bold", r, n, i.concat(["mathbf"]))
        : e === "\\" || qr[r][e].font === "main"
          ? wo(e, "Main-Regular", r, n, i)
          : wo(e, "AMS-Regular", r, n, i.concat(["amsrm"]))
    );
  },
  Ere = function (e, r, n, i, o) {
    return o !== "textord" && t2(e, "Math-BoldItalic", r).metrics
      ? { fontName: "Math-BoldItalic", fontClass: "boldsymbol" }
      : { fontName: "Main-Bold", fontClass: "mathbf" };
  },
  Fre = function (e, r, n) {
    var i = e.mode,
      o = e.text,
      s = ["mord"],
      a = i === "math" || (i === "text" && r.font),
      l = a ? r.font : r.fontFamily,
      u = "",
      c = "";
    if ((o.charCodeAt(0) === 55349 && ([u, c] = Cre(o, i)), u.length > 0))
      return wo(o, u, i, r, s.concat(c));
    if (l) {
      var f, h;
      if (l === "boldsymbol") {
        var d = Ere(o, i, r, s, n);
        (f = d.fontName), (h = [d.fontClass]);
      } else
        a
          ? ((f = TB[l].fontName), (h = [l]))
          : ((f = Nm(l, r.fontWeight, r.fontShape)),
            (h = [l, r.fontWeight, r.fontShape]));
      if (t2(o, f, i).metrics) return wo(o, f, i, r, s.concat(h));
      if ($B.hasOwnProperty(o) && f.slice(0, 10) === "Typewriter") {
        for (var p = [], m = 0; m < o.length; m++)
          p.push(wo(o[m], f, i, r, s.concat(h)));
        return BB(p);
      }
    }
    if (n === "mathord")
      return wo(o, "Math-Italic", i, r, s.concat(["mathnormal"]));
    if (n === "textord") {
      var b = qr[i][o] && qr[i][o].font;
      if (b === "ams") {
        var D = Nm("amsrm", r.fontWeight, r.fontShape);
        return wo(o, D, i, r, s.concat("amsrm", r.fontWeight, r.fontShape));
      } else if (b === "main" || !b) {
        var k = Nm("textrm", r.fontWeight, r.fontShape);
        return wo(o, k, i, r, s.concat(r.fontWeight, r.fontShape));
      } else {
        var S = Nm(b, r.fontWeight, r.fontShape);
        return wo(o, S, i, r, s.concat(S, r.fontWeight, r.fontShape));
      }
    } else throw new Error("unexpected type: " + n + " in makeOrd");
  },
  Mre = (t, e) => {
    if (
      mu(t.classes) !== mu(e.classes) ||
      t.skew !== e.skew ||
      t.maxFontSize !== e.maxFontSize
    )
      return !1;
    if (t.classes.length === 1) {
      var r = t.classes[0];
      if (r === "mbin" || r === "mord") return !1;
    }
    for (var n in t.style)
      if (t.style.hasOwnProperty(n) && t.style[n] !== e.style[n]) return !1;
    for (var i in e.style)
      if (e.style.hasOwnProperty(i) && t.style[i] !== e.style[i]) return !1;
    return !0;
  },
  _re = (t) => {
    for (var e = 0; e < t.length - 1; e++) {
      var r = t[e],
        n = t[e + 1];
      r instanceof co &&
        n instanceof co &&
        Mre(r, n) &&
        ((r.text += n.text),
        (r.height = Math.max(r.height, n.height)),
        (r.depth = Math.max(r.depth, n.depth)),
        (r.italic = n.italic),
        t.splice(e + 1, 1),
        e--);
    }
    return t;
  },
  eb = function (e) {
    for (var r = 0, n = 0, i = 0, o = 0; o < e.children.length; o++) {
      var s = e.children[o];
      s.height > r && (r = s.height),
        s.depth > n && (n = s.depth),
        s.maxFontSize > i && (i = s.maxFontSize);
    }
    (e.height = r), (e.depth = n), (e.maxFontSize = i);
  },
  Xi = function (e, r, n, i) {
    var o = new Dp(e, r, n, i);
    return eb(o), o;
  },
  OB = (t, e, r, n) => new Dp(t, e, r, n),
  $re = function (e, r, n) {
    var i = Xi([e], [], r);
    return (
      (i.height = Math.max(
        n || r.fontMetrics().defaultRuleThickness,
        r.minRuleThickness
      )),
      (i.style.borderBottomWidth = Qe(i.height)),
      (i.maxFontSize = 1),
      i
    );
  },
  Ore = function (e, r, n, i) {
    var o = new Z7(e, r, n, i);
    return eb(o), o;
  },
  BB = function (e) {
    var r = new bp(e);
    return eb(r), r;
  },
  Bre = function (e, r) {
    return e instanceof bp ? Xi([], [e], r) : e;
  },
  Tre = function (e) {
    if (e.positionType === "individualShift") {
      for (
        var r = e.children,
          n = [r[0]],
          i = -r[0].shift - r[0].elem.depth,
          o = i,
          s = 1;
        s < r.length;
        s++
      ) {
        var a = -r[s].shift - o - r[s].elem.depth,
          l = a - (r[s - 1].elem.height + r[s - 1].elem.depth);
        (o = o + a), n.push({ type: "kern", size: l }), n.push(r[s]);
      }
      return { children: n, depth: i };
    }
    var u;
    if (e.positionType === "top") {
      for (var c = e.positionData, f = 0; f < e.children.length; f++) {
        var h = e.children[f];
        c -= h.type === "kern" ? h.size : h.elem.height + h.elem.depth;
      }
      u = c;
    } else if (e.positionType === "bottom") u = -e.positionData;
    else {
      var d = e.children[0];
      if (d.type !== "elem")
        throw new Error('First child must have type "elem".');
      if (e.positionType === "shift") u = -d.elem.depth - e.positionData;
      else if (e.positionType === "firstBaseline") u = -d.elem.depth;
      else throw new Error("Invalid positionType " + e.positionType + ".");
    }
    return { children: e.children, depth: u };
  },
  Pre = function (e, r) {
    for (
      var { children: n, depth: i } = Tre(e), o = 0, s = 0;
      s < n.length;
      s++
    ) {
      var a = n[s];
      if (a.type === "elem") {
        var l = a.elem;
        o = Math.max(o, l.maxFontSize, l.height);
      }
    }
    o += 2;
    var u = Xi(["pstrut"], []);
    u.style.height = Qe(o);
    for (var c = [], f = i, h = i, d = i, p = 0; p < n.length; p++) {
      var m = n[p];
      if (m.type === "kern") d += m.size;
      else {
        var b = m.elem,
          D = m.wrapperClasses || [],
          k = m.wrapperStyle || {},
          S = Xi(D, [u, b], void 0, k);
        (S.style.top = Qe(-o - d - b.depth)),
          m.marginLeft && (S.style.marginLeft = m.marginLeft),
          m.marginRight && (S.style.marginRight = m.marginRight),
          c.push(S),
          (d += b.height + b.depth);
      }
      (f = Math.min(f, d)), (h = Math.max(h, d));
    }
    var B = Xi(["vlist"], c);
    B.style.height = Qe(h);
    var $;
    if (f < 0) {
      var T = Xi([], []),
        P = Xi(["vlist"], [T]);
      P.style.height = Qe(-f);
      var te = Xi(["vlist-s"], [new co("​")]);
      $ = [Xi(["vlist-r"], [B, te]), Xi(["vlist-r"], [P])];
    } else $ = [Xi(["vlist-r"], [B])];
    var ee = Xi(["vlist-t"], $);
    return (
      $.length === 2 && ee.classes.push("vlist-t2"),
      (ee.height = h),
      (ee.depth = -f),
      ee
    );
  },
  Rre = (t, e) => {
    var r = Xi(["mspace"], [], e),
      n = ln(t, e);
    return (r.style.marginRight = Qe(n)), r;
  },
  Nm = function (e, r, n) {
    var i = "";
    switch (e) {
      case "amsrm":
        i = "AMS";
        break;
      case "textrm":
        i = "Main";
        break;
      case "textsf":
        i = "SansSerif";
        break;
      case "texttt":
        i = "Typewriter";
        break;
      default:
        i = e;
    }
    var o;
    return (
      r === "textbf" && n === "textit"
        ? (o = "BoldItalic")
        : r === "textbf"
          ? (o = "Bold")
          : r === "textit"
            ? (o = "Italic")
            : (o = "Regular"),
      i + "-" + o
    );
  },
  TB = {
    mathbf: { variant: "bold", fontName: "Main-Bold" },
    mathrm: { variant: "normal", fontName: "Main-Regular" },
    textit: { variant: "italic", fontName: "Main-Italic" },
    mathit: { variant: "italic", fontName: "Main-Italic" },
    mathnormal: { variant: "italic", fontName: "Math-Italic" },
    mathbb: { variant: "double-struck", fontName: "AMS-Regular" },
    mathcal: { variant: "script", fontName: "Caligraphic-Regular" },
    mathfrak: { variant: "fraktur", fontName: "Fraktur-Regular" },
    mathscr: { variant: "script", fontName: "Script-Regular" },
    mathsf: { variant: "sans-serif", fontName: "SansSerif-Regular" },
    mathtt: { variant: "monospace", fontName: "Typewriter-Regular" },
  },
  PB = {
    vec: ["vec", 0.471, 0.714],
    oiintSize1: ["oiintSize1", 0.957, 0.499],
    oiintSize2: ["oiintSize2", 1.472, 0.659],
    oiiintSize1: ["oiiintSize1", 1.304, 0.499],
    oiiintSize2: ["oiiintSize2", 1.98, 0.659],
  },
  Ire = function (e, r) {
    var [n, i, o] = PB[e],
      s = new gu(n),
      a = new Ja([s], {
        width: Qe(i),
        height: Qe(o),
        style: "width:" + Qe(i),
        viewBox: "0 0 " + 1e3 * i + " " + 1e3 * o,
        preserveAspectRatio: "xMinYMin",
      }),
      l = OB(["overlay"], [a], r);
    return (l.height = o), (l.style.height = Qe(o)), (l.style.width = Qe(i)), l;
  },
  me = {
    fontMap: TB,
    makeSymbol: wo,
    mathsym: Are,
    makeSpan: Xi,
    makeSvgSpan: OB,
    makeLineSpan: $re,
    makeAnchor: Ore,
    makeFragment: BB,
    wrapFragment: Bre,
    makeVList: Pre,
    makeOrd: Fre,
    makeGlue: Rre,
    staticSvg: Ire,
    svgData: PB,
    tryCombineChars: _re,
  },
  on = { number: 3, unit: "mu" },
  Nu = { number: 4, unit: "mu" },
  Sa = { number: 5, unit: "mu" },
  Nre = {
    mord: { mop: on, mbin: Nu, mrel: Sa, minner: on },
    mop: { mord: on, mop: on, mrel: Sa, minner: on },
    mbin: { mord: Nu, mop: Nu, mopen: Nu, minner: Nu },
    mrel: { mord: Sa, mop: Sa, mopen: Sa, minner: Sa },
    mopen: {},
    mclose: { mop: on, mbin: Nu, mrel: Sa, minner: on },
    mpunct: {
      mord: on,
      mop: on,
      mrel: Sa,
      mopen: on,
      mclose: on,
      mpunct: on,
      minner: on,
    },
    minner: {
      mord: on,
      mop: on,
      mbin: Nu,
      mrel: Sa,
      mopen: on,
      mpunct: on,
      minner: on,
    },
  },
  Lre = {
    mord: { mop: on },
    mop: { mord: on, mop: on },
    mbin: {},
    mrel: {},
    mopen: {},
    mclose: { mop: on },
    mpunct: {},
    minner: { mop: on },
  },
  RB = {},
  L1 = {},
  z1 = {};
function at(t) {
  for (
    var {
        type: e,
        names: r,
        props: n,
        handler: i,
        htmlBuilder: o,
        mathmlBuilder: s,
      } = t,
      a = {
        type: e,
        numArgs: n.numArgs,
        argTypes: n.argTypes,
        allowedInArgument: !!n.allowedInArgument,
        allowedInText: !!n.allowedInText,
        allowedInMath: n.allowedInMath === void 0 ? !0 : n.allowedInMath,
        numOptionalArgs: n.numOptionalArgs || 0,
        infix: !!n.infix,
        primitive: !!n.primitive,
        handler: i,
      },
      l = 0;
    l < r.length;
    ++l
  )
    RB[r[l]] = a;
  e && (o && (L1[e] = o), s && (z1[e] = s));
}
function T0(t) {
  var { type: e, htmlBuilder: r, mathmlBuilder: n } = t;
  at({
    type: e,
    names: [],
    props: { numArgs: 0 },
    handler() {
      throw new Error("Should never be called.");
    },
    htmlBuilder: r,
    mathmlBuilder: n,
  });
}
var j1 = function (e) {
    return e.type === "ordgroup" && e.body.length === 1 ? e.body[0] : e;
  },
  Sn = function (e) {
    return e.type === "ordgroup" ? e.body : [e];
  },
  Qa = me.makeSpan,
  zre = ["leftmost", "mbin", "mopen", "mrel", "mop", "mpunct"],
  jre = ["rightmost", "mrel", "mclose", "mpunct"],
  Hre = {
    display: $t.DISPLAY,
    text: $t.TEXT,
    script: $t.SCRIPT,
    scriptscript: $t.SCRIPTSCRIPT,
  },
  Vre = {
    mord: "mord",
    mop: "mop",
    mbin: "mbin",
    mrel: "mrel",
    mopen: "mopen",
    mclose: "mclose",
    mpunct: "mpunct",
    minner: "minner",
  },
  Vn = function (e, r, n, i) {
    i === void 0 && (i = [null, null]);
    for (var o = [], s = 0; s < e.length; s++) {
      var a = mr(e[s], r);
      if (a instanceof bp) {
        var l = a.children;
        o.push(...l);
      } else o.push(a);
    }
    if ((me.tryCombineChars(o), !n)) return o;
    var u = r;
    if (e.length === 1) {
      var c = e[0];
      c.type === "sizing"
        ? (u = r.havingSize(c.size))
        : c.type === "styling" && (u = r.havingStyle(Hre[c.style]));
    }
    var f = Qa([i[0] || "leftmost"], [], r),
      h = Qa([i[1] || "rightmost"], [], r),
      d = n === "root";
    return (
      Jk(
        o,
        (p, m) => {
          var b = m.classes[0],
            D = p.classes[0];
          b === "mbin" && Ft.contains(jre, D)
            ? (m.classes[0] = "mord")
            : D === "mbin" && Ft.contains(zre, b) && (p.classes[0] = "mord");
        },
        { node: f },
        h,
        d
      ),
      Jk(
        o,
        (p, m) => {
          var b = h6(m),
            D = h6(p),
            k = b && D ? (p.hasClass("mtight") ? Lre[b][D] : Nre[b][D]) : null;
          if (k) return me.makeGlue(k, u);
        },
        { node: f },
        h,
        d
      ),
      o
    );
  },
  Jk = function t(e, r, n, i, o) {
    i && e.push(i);
    for (var s = 0; s < e.length; s++) {
      var a = e[s],
        l = IB(a);
      if (l) {
        t(l.children, r, n, null, o);
        continue;
      }
      var u = !a.hasClass("mspace");
      if (u) {
        var c = r(a, n.node);
        c && (n.insertAfter ? n.insertAfter(c) : (e.unshift(c), s++));
      }
      u
        ? (n.node = a)
        : o && a.hasClass("newline") && (n.node = Qa(["leftmost"])),
        (n.insertAfter = ((f) => (h) => {
          e.splice(f + 1, 0, h), s++;
        })(s));
    }
    i && e.pop();
  },
  IB = function (e) {
    return e instanceof bp ||
      e instanceof Z7 ||
      (e instanceof Dp && e.hasClass("enclosing"))
      ? e
      : null;
  },
  Wre = function t(e, r) {
    var n = IB(e);
    if (n) {
      var i = n.children;
      if (i.length) {
        if (r === "right") return t(i[i.length - 1], "right");
        if (r === "left") return t(i[0], "left");
      }
    }
    return e;
  },
  h6 = function (e, r) {
    return e ? (r && (e = Wre(e, r)), Vre[e.classes[0]] || null) : null;
  },
  wd = function (e, r) {
    var n = ["nulldelimiter"].concat(e.baseSizingClasses());
    return Qa(r.concat(n));
  },
  mr = function (e, r, n) {
    if (!e) return Qa();
    if (L1[e.type]) {
      var i = L1[e.type](e, r);
      if (n && r.size !== n.size) {
        i = Qa(r.sizingClasses(n), [i], r);
        var o = r.sizeMultiplier / n.sizeMultiplier;
        (i.height *= o), (i.depth *= o);
      }
      return i;
    } else throw new qe("Got group of unknown type: '" + e.type + "'");
  };
function Lm(t, e) {
  var r = Qa(["base"], t, e),
    n = Qa(["strut"]);
  return (
    (n.style.height = Qe(r.height + r.depth)),
    r.depth && (n.style.verticalAlign = Qe(-r.depth)),
    r.children.unshift(n),
    r
  );
}
function d6(t, e) {
  var r = null;
  t.length === 1 && t[0].type === "tag" && ((r = t[0].tag), (t = t[0].body));
  var n = Vn(t, e, "root"),
    i;
  n.length === 2 && n[1].hasClass("tag") && (i = n.pop());
  for (var o = [], s = [], a = 0; a < n.length; a++)
    if (
      (s.push(n[a]),
      n[a].hasClass("mbin") ||
        n[a].hasClass("mrel") ||
        n[a].hasClass("allowbreak"))
    ) {
      for (
        var l = !1;
        a < n.length - 1 &&
        n[a + 1].hasClass("mspace") &&
        !n[a + 1].hasClass("newline");

      )
        a++, s.push(n[a]), n[a].hasClass("nobreak") && (l = !0);
      l || (o.push(Lm(s, e)), (s = []));
    } else
      n[a].hasClass("newline") &&
        (s.pop(), s.length > 0 && (o.push(Lm(s, e)), (s = [])), o.push(n[a]));
  s.length > 0 && o.push(Lm(s, e));
  var u;
  r
    ? ((u = Lm(Vn(r, e, !0))), (u.classes = ["tag"]), o.push(u))
    : i && o.push(i);
  var c = Qa(["katex-html"], o);
  if ((c.setAttribute("aria-hidden", "true"), u)) {
    var f = u.children[0];
    (f.style.height = Qe(c.height + c.depth)),
      c.depth && (f.style.verticalAlign = Qe(-c.depth));
  }
  return c;
}
function NB(t) {
  return new bp(t);
}
class Gs {
  constructor(e, r, n) {
    (this.type = void 0),
      (this.attributes = void 0),
      (this.children = void 0),
      (this.classes = void 0),
      (this.type = e),
      (this.attributes = {}),
      (this.children = r || []),
      (this.classes = n || []);
  }
  setAttribute(e, r) {
    this.attributes[e] = r;
  }
  getAttribute(e) {
    return this.attributes[e];
  }
  toNode() {
    var e = document.createElementNS(
      "http://www.w3.org/1998/Math/MathML",
      this.type
    );
    for (var r in this.attributes)
      Object.prototype.hasOwnProperty.call(this.attributes, r) &&
        e.setAttribute(r, this.attributes[r]);
    this.classes.length > 0 && (e.className = mu(this.classes));
    for (var n = 0; n < this.children.length; n++)
      e.appendChild(this.children[n].toNode());
    return e;
  }
  toMarkup() {
    var e = "<" + this.type;
    for (var r in this.attributes)
      Object.prototype.hasOwnProperty.call(this.attributes, r) &&
        ((e += " " + r + '="'),
        (e += Ft.escape(this.attributes[r])),
        (e += '"'));
    this.classes.length > 0 &&
      (e += ' class ="' + Ft.escape(mu(this.classes)) + '"'),
      (e += ">");
    for (var n = 0; n < this.children.length; n++)
      e += this.children[n].toMarkup();
    return (e += "</" + this.type + ">"), e;
  }
  toText() {
    return this.children.map((e) => e.toText()).join("");
  }
}
class _h {
  constructor(e) {
    (this.text = void 0), (this.text = e);
  }
  toNode() {
    return document.createTextNode(this.text);
  }
  toMarkup() {
    return Ft.escape(this.toText());
  }
  toText() {
    return this.text;
  }
}
class qre {
  constructor(e) {
    (this.width = void 0),
      (this.character = void 0),
      (this.width = e),
      e >= 0.05555 && e <= 0.05556
        ? (this.character = " ")
        : e >= 0.1666 && e <= 0.1667
          ? (this.character = " ")
          : e >= 0.2222 && e <= 0.2223
            ? (this.character = " ")
            : e >= 0.2777 && e <= 0.2778
              ? (this.character = "  ")
              : e >= -0.05556 && e <= -0.05555
                ? (this.character = " ⁣")
                : e >= -0.1667 && e <= -0.1666
                  ? (this.character = " ⁣")
                  : e >= -0.2223 && e <= -0.2222
                    ? (this.character = " ⁣")
                    : e >= -0.2778 && e <= -0.2777
                      ? (this.character = " ⁣")
                      : (this.character = null);
  }
  toNode() {
    if (this.character) return document.createTextNode(this.character);
    var e = document.createElementNS(
      "http://www.w3.org/1998/Math/MathML",
      "mspace"
    );
    return e.setAttribute("width", Qe(this.width)), e;
  }
  toMarkup() {
    return this.character
      ? "<mtext>" + this.character + "</mtext>"
      : '<mspace width="' + Qe(this.width) + '"/>';
  }
  toText() {
    return this.character ? this.character : " ";
  }
}
var je = {
    MathNode: Gs,
    TextNode: _h,
    SpaceNode: qre,
    newDocumentFragment: NB,
  },
  fo = function (e, r, n) {
    return (
      qr[r][e] &&
        qr[r][e].replace &&
        e.charCodeAt(0) !== 55349 &&
        !(
          $B.hasOwnProperty(e) &&
          n &&
          ((n.fontFamily && n.fontFamily.slice(4, 6) === "tt") ||
            (n.font && n.font.slice(4, 6) === "tt"))
        ) &&
        (e = qr[r][e].replace),
      new je.TextNode(e)
    );
  },
  tb = function (e) {
    return e.length === 1 ? e[0] : new je.MathNode("mrow", e);
  },
  rb = function (e, r) {
    if (r.fontFamily === "texttt") return "monospace";
    if (r.fontFamily === "textsf")
      return r.fontShape === "textit" && r.fontWeight === "textbf"
        ? "sans-serif-bold-italic"
        : r.fontShape === "textit"
          ? "sans-serif-italic"
          : r.fontWeight === "textbf"
            ? "bold-sans-serif"
            : "sans-serif";
    if (r.fontShape === "textit" && r.fontWeight === "textbf")
      return "bold-italic";
    if (r.fontShape === "textit") return "italic";
    if (r.fontWeight === "textbf") return "bold";
    var n = r.font;
    if (!n || n === "mathnormal") return null;
    var i = e.mode;
    if (n === "mathit") return "italic";
    if (n === "boldsymbol")
      return e.type === "textord" ? "bold" : "bold-italic";
    if (n === "mathbf") return "bold";
    if (n === "mathbb") return "double-struck";
    if (n === "mathfrak") return "fraktur";
    if (n === "mathscr" || n === "mathcal") return "script";
    if (n === "mathsf") return "sans-serif";
    if (n === "mathtt") return "monospace";
    var o = e.text;
    if (Ft.contains(["\\imath", "\\jmath"], o)) return null;
    qr[i][o] && qr[i][o].replace && (o = qr[i][o].replace);
    var s = me.fontMap[n].fontName;
    return Q7(o, s, i) ? me.fontMap[n].variant : null;
  },
  us = function (e, r, n) {
    if (e.length === 1) {
      var i = Nr(e[0], r);
      return (
        n &&
          i instanceof Gs &&
          i.type === "mo" &&
          (i.setAttribute("lspace", "0em"), i.setAttribute("rspace", "0em")),
        [i]
      );
    }
    for (var o = [], s, a = 0; a < e.length; a++) {
      var l = Nr(e[a], r);
      if (l instanceof Gs && s instanceof Gs) {
        if (
          l.type === "mtext" &&
          s.type === "mtext" &&
          l.getAttribute("mathvariant") === s.getAttribute("mathvariant")
        ) {
          s.children.push(...l.children);
          continue;
        } else if (l.type === "mn" && s.type === "mn") {
          s.children.push(...l.children);
          continue;
        } else if (
          l.type === "mi" &&
          l.children.length === 1 &&
          s.type === "mn"
        ) {
          var u = l.children[0];
          if (u instanceof _h && u.text === ".") {
            s.children.push(...l.children);
            continue;
          }
        } else if (s.type === "mi" && s.children.length === 1) {
          var c = s.children[0];
          if (
            c instanceof _h &&
            c.text === "̸" &&
            (l.type === "mo" || l.type === "mi" || l.type === "mn")
          ) {
            var f = l.children[0];
            f instanceof _h &&
              f.text.length > 0 &&
              ((f.text = f.text.slice(0, 1) + "̸" + f.text.slice(1)), o.pop());
          }
        }
      }
      o.push(l), (s = l);
    }
    return o;
  },
  vu = function (e, r, n) {
    return tb(us(e, r, n));
  },
  Nr = function (e, r) {
    if (!e) return new je.MathNode("mrow");
    if (z1[e.type]) {
      var n = z1[e.type](e, r);
      return n;
    } else throw new qe("Got group of unknown type: '" + e.type + "'");
  };
function Qk(t, e, r, n, i) {
  var o = us(t, r),
    s;
  o.length === 1 &&
  o[0] instanceof Gs &&
  Ft.contains(["mrow", "mtable"], o[0].type)
    ? (s = o[0])
    : (s = new je.MathNode("mrow", o));
  var a = new je.MathNode("annotation", [new je.TextNode(e)]);
  a.setAttribute("encoding", "application/x-tex");
  var l = new je.MathNode("semantics", [s, a]),
    u = new je.MathNode("math", [l]);
  u.setAttribute("xmlns", "http://www.w3.org/1998/Math/MathML"),
    n && u.setAttribute("display", "block");
  var c = i ? "katex" : "katex-mathml";
  return me.makeSpan([c], [u]);
}
var LB = function (e) {
    return new _a({
      style: e.displayMode ? $t.DISPLAY : $t.TEXT,
      maxSize: e.maxSize,
      minRuleThickness: e.minRuleThickness,
    });
  },
  zB = function (e, r) {
    if (r.displayMode) {
      var n = ["katex-display"];
      r.leqno && n.push("leqno"),
        r.fleqn && n.push("fleqn"),
        (e = me.makeSpan(n, [e]));
    }
    return e;
  },
  Ure = function (e, r, n) {
    var i = LB(n),
      o;
    if (n.output === "mathml") return Qk(e, r, i, n.displayMode, !0);
    if (n.output === "html") {
      var s = d6(e, i);
      o = me.makeSpan(["katex"], [s]);
    } else {
      var a = Qk(e, r, i, n.displayMode, !1),
        l = d6(e, i);
      o = me.makeSpan(["katex"], [a, l]);
    }
    return zB(o, n);
  },
  Gre = function (e, r, n) {
    var i = LB(n),
      o = d6(e, i),
      s = me.makeSpan(["katex"], [o]);
    return zB(s, n);
  },
  Kre = {
    widehat: "^",
    widecheck: "ˇ",
    widetilde: "~",
    utilde: "~",
    overleftarrow: "←",
    underleftarrow: "←",
    xleftarrow: "←",
    overrightarrow: "→",
    underrightarrow: "→",
    xrightarrow: "→",
    underbrace: "⏟",
    overbrace: "⏞",
    overgroup: "⏠",
    undergroup: "⏡",
    overleftrightarrow: "↔",
    underleftrightarrow: "↔",
    xleftrightarrow: "↔",
    Overrightarrow: "⇒",
    xRightarrow: "⇒",
    overleftharpoon: "↼",
    xleftharpoonup: "↼",
    overrightharpoon: "⇀",
    xrightharpoonup: "⇀",
    xLeftarrow: "⇐",
    xLeftrightarrow: "⇔",
    xhookleftarrow: "↩",
    xhookrightarrow: "↪",
    xmapsto: "↦",
    xrightharpoondown: "⇁",
    xleftharpoondown: "↽",
    xrightleftharpoons: "⇌",
    xleftrightharpoons: "⇋",
    xtwoheadleftarrow: "↞",
    xtwoheadrightarrow: "↠",
    xlongequal: "=",
    xtofrom: "⇄",
    xrightleftarrows: "⇄",
    xrightequilibrium: "⇌",
    xleftequilibrium: "⇋",
    "\\cdrightarrow": "→",
    "\\cdleftarrow": "←",
    "\\cdlongequal": "=",
  },
  Yre = function (e) {
    var r = new je.MathNode("mo", [new je.TextNode(Kre[e.replace(/^\\/, "")])]);
    return r.setAttribute("stretchy", "true"), r;
  },
  Xre = {
    overrightarrow: [["rightarrow"], 0.888, 522, "xMaxYMin"],
    overleftarrow: [["leftarrow"], 0.888, 522, "xMinYMin"],
    underrightarrow: [["rightarrow"], 0.888, 522, "xMaxYMin"],
    underleftarrow: [["leftarrow"], 0.888, 522, "xMinYMin"],
    xrightarrow: [["rightarrow"], 1.469, 522, "xMaxYMin"],
    "\\cdrightarrow": [["rightarrow"], 3, 522, "xMaxYMin"],
    xleftarrow: [["leftarrow"], 1.469, 522, "xMinYMin"],
    "\\cdleftarrow": [["leftarrow"], 3, 522, "xMinYMin"],
    Overrightarrow: [["doublerightarrow"], 0.888, 560, "xMaxYMin"],
    xRightarrow: [["doublerightarrow"], 1.526, 560, "xMaxYMin"],
    xLeftarrow: [["doubleleftarrow"], 1.526, 560, "xMinYMin"],
    overleftharpoon: [["leftharpoon"], 0.888, 522, "xMinYMin"],
    xleftharpoonup: [["leftharpoon"], 0.888, 522, "xMinYMin"],
    xleftharpoondown: [["leftharpoondown"], 0.888, 522, "xMinYMin"],
    overrightharpoon: [["rightharpoon"], 0.888, 522, "xMaxYMin"],
    xrightharpoonup: [["rightharpoon"], 0.888, 522, "xMaxYMin"],
    xrightharpoondown: [["rightharpoondown"], 0.888, 522, "xMaxYMin"],
    xlongequal: [["longequal"], 0.888, 334, "xMinYMin"],
    "\\cdlongequal": [["longequal"], 3, 334, "xMinYMin"],
    xtwoheadleftarrow: [["twoheadleftarrow"], 0.888, 334, "xMinYMin"],
    xtwoheadrightarrow: [["twoheadrightarrow"], 0.888, 334, "xMaxYMin"],
    overleftrightarrow: [["leftarrow", "rightarrow"], 0.888, 522],
    overbrace: [["leftbrace", "midbrace", "rightbrace"], 1.6, 548],
    underbrace: [
      ["leftbraceunder", "midbraceunder", "rightbraceunder"],
      1.6,
      548,
    ],
    underleftrightarrow: [["leftarrow", "rightarrow"], 0.888, 522],
    xleftrightarrow: [["leftarrow", "rightarrow"], 1.75, 522],
    xLeftrightarrow: [["doubleleftarrow", "doublerightarrow"], 1.75, 560],
    xrightleftharpoons: [
      ["leftharpoondownplus", "rightharpoonplus"],
      1.75,
      716,
    ],
    xleftrightharpoons: [
      ["leftharpoonplus", "rightharpoondownplus"],
      1.75,
      716,
    ],
    xhookleftarrow: [["leftarrow", "righthook"], 1.08, 522],
    xhookrightarrow: [["lefthook", "rightarrow"], 1.08, 522],
    overlinesegment: [["leftlinesegment", "rightlinesegment"], 0.888, 522],
    underlinesegment: [["leftlinesegment", "rightlinesegment"], 0.888, 522],
    overgroup: [["leftgroup", "rightgroup"], 0.888, 342],
    undergroup: [["leftgroupunder", "rightgroupunder"], 0.888, 342],
    xmapsto: [["leftmapsto", "rightarrow"], 1.5, 522],
    xtofrom: [["leftToFrom", "rightToFrom"], 1.75, 528],
    xrightleftarrows: [["baraboveleftarrow", "rightarrowabovebar"], 1.75, 901],
    xrightequilibrium: [
      ["baraboveshortleftharpoon", "rightharpoonaboveshortbar"],
      1.75,
      716,
    ],
    xleftequilibrium: [
      ["shortbaraboveleftharpoon", "shortrightharpoonabovebar"],
      1.75,
      716,
    ],
  },
  Jre = function (e) {
    return e.type === "ordgroup" ? e.body.length : 1;
  },
  Qre = function (e, r) {
    function n() {
      var a = 4e5,
        l = e.label.slice(1);
      if (Ft.contains(["widehat", "widecheck", "widetilde", "utilde"], l)) {
        var u = e,
          c = Jre(u.base),
          f,
          h,
          d;
        if (c > 5)
          l === "widehat" || l === "widecheck"
            ? ((f = 420), (a = 2364), (d = 0.42), (h = l + "4"))
            : ((f = 312), (a = 2340), (d = 0.34), (h = "tilde4"));
        else {
          var p = [1, 1, 2, 2, 3, 3][c];
          l === "widehat" || l === "widecheck"
            ? ((a = [0, 1062, 2364, 2364, 2364][p]),
              (f = [0, 239, 300, 360, 420][p]),
              (d = [0, 0.24, 0.3, 0.3, 0.36, 0.42][p]),
              (h = l + p))
            : ((a = [0, 600, 1033, 2339, 2340][p]),
              (f = [0, 260, 286, 306, 312][p]),
              (d = [0, 0.26, 0.286, 0.3, 0.306, 0.34][p]),
              (h = "tilde" + p));
        }
        var m = new gu(h),
          b = new Ja([m], {
            width: "100%",
            height: Qe(d),
            viewBox: "0 0 " + a + " " + f,
            preserveAspectRatio: "none",
          });
        return { span: me.makeSvgSpan([], [b], r), minWidth: 0, height: d };
      } else {
        var D = [],
          k = Xre[l],
          [S, B, $] = k,
          T = $ / 1e3,
          P = S.length,
          te,
          ee;
        if (P === 1) {
          var de = k[3];
          (te = ["hide-tail"]), (ee = [de]);
        } else if (P === 2)
          (te = ["halfarrow-left", "halfarrow-right"]),
            (ee = ["xMinYMin", "xMaxYMin"]);
        else if (P === 3)
          (te = ["brace-left", "brace-center", "brace-right"]),
            (ee = ["xMinYMin", "xMidYMin", "xMaxYMin"]);
        else
          throw new Error(
            `Correct katexImagesData or update code here to support
                    ` +
              P +
              " children."
          );
        for (var ke = 0; ke < P; ke++) {
          var Ce = new gu(S[ke]),
            he = new Ja([Ce], {
              width: "400em",
              height: Qe(T),
              viewBox: "0 0 " + a + " " + $,
              preserveAspectRatio: ee[ke] + " slice",
            }),
            ze = me.makeSvgSpan([te[ke]], [he], r);
          if (P === 1) return { span: ze, minWidth: B, height: T };
          (ze.style.height = Qe(T)), D.push(ze);
        }
        return {
          span: me.makeSpan(["stretchy"], D, r),
          minWidth: B,
          height: T,
        };
      }
    }
    var { span: i, minWidth: o, height: s } = n();
    return (
      (i.height = s),
      (i.style.height = Qe(s)),
      o > 0 && (i.style.minWidth = Qe(o)),
      i
    );
  },
  Zre = function (e, r, n, i, o) {
    var s,
      a = e.height + e.depth + n + i;
    if (/fbox|color|angl/.test(r)) {
      if (((s = me.makeSpan(["stretchy", r], [], o)), r === "fbox")) {
        var l = o.color && o.getColor();
        l && (s.style.borderColor = l);
      }
    } else {
      var u = [];
      /^[bx]cancel$/.test(r) &&
        u.push(
          new c6({
            x1: "0",
            y1: "0",
            x2: "100%",
            y2: "100%",
            "stroke-width": "0.046em",
          })
        ),
        /^x?cancel$/.test(r) &&
          u.push(
            new c6({
              x1: "0",
              y1: "100%",
              x2: "100%",
              y2: "0",
              "stroke-width": "0.046em",
            })
          );
      var c = new Ja(u, { width: "100%", height: Qe(a) });
      s = me.makeSvgSpan([], [c], o);
    }
    return (s.height = a), (s.style.height = Qe(a)), s;
  },
  Za = { encloseSpan: Zre, mathMLnode: Yre, svgSpan: Qre };
function Yt(t, e) {
  if (!t || t.type !== e)
    throw new Error(
      "Expected node of type " +
        e +
        ", but got " +
        (t ? "node of type " + t.type : String(t))
    );
  return t;
}
function nb(t) {
  var e = r2(t);
  if (!e)
    throw new Error(
      "Expected node of symbol group type, but got " +
        (t ? "node of type " + t.type : String(t))
    );
  return e;
}
function r2(t) {
  return t && (t.type === "atom" || Sre.hasOwnProperty(t.type)) ? t : null;
}
var ib = (t, e) => {
    var r, n, i;
    t && t.type === "supsub"
      ? ((n = Yt(t.base, "accent")),
        (r = n.base),
        (t.base = r),
        (i = xre(mr(t, e))),
        (t.base = n))
      : ((n = Yt(t, "accent")), (r = n.base));
    var o = mr(r, e.havingCrampedStyle()),
      s = n.isShifty && Ft.isCharacterBox(r),
      a = 0;
    if (s) {
      var l = Ft.getBaseElem(r),
        u = mr(l, e.havingCrampedStyle());
      a = qk(u).skew;
    }
    var c = n.label === "\\c",
      f = c ? o.height + o.depth : Math.min(o.height, e.fontMetrics().xHeight),
      h;
    if (n.isStretchy)
      (h = Za.svgSpan(n, e)),
        (h = me.makeVList(
          {
            positionType: "firstBaseline",
            children: [
              { type: "elem", elem: o },
              {
                type: "elem",
                elem: h,
                wrapperClasses: ["svg-align"],
                wrapperStyle:
                  a > 0
                    ? {
                        width: "calc(100% - " + Qe(2 * a) + ")",
                        marginLeft: Qe(2 * a),
                      }
                    : void 0,
              },
            ],
          },
          e
        ));
    else {
      var d, p;
      n.label === "\\vec"
        ? ((d = me.staticSvg("vec", e)), (p = me.svgData.vec[1]))
        : ((d = me.makeOrd({ mode: n.mode, text: n.label }, e, "textord")),
          (d = qk(d)),
          (d.italic = 0),
          (p = d.width),
          c && (f += d.depth)),
        (h = me.makeSpan(["accent-body"], [d]));
      var m = n.label === "\\textcircled";
      m && (h.classes.push("accent-full"), (f = o.height));
      var b = a;
      m || (b -= p / 2),
        (h.style.left = Qe(b)),
        n.label === "\\textcircled" && (h.style.top = ".2em"),
        (h = me.makeVList(
          {
            positionType: "firstBaseline",
            children: [
              { type: "elem", elem: o },
              { type: "kern", size: -f },
              { type: "elem", elem: h },
            ],
          },
          e
        ));
    }
    var D = me.makeSpan(["mord", "accent"], [h], e);
    return i
      ? ((i.children[0] = D),
        (i.height = Math.max(D.height, i.height)),
        (i.classes[0] = "mord"),
        i)
      : D;
  },
  jB = (t, e) => {
    var r = t.isStretchy
        ? Za.mathMLnode(t.label)
        : new je.MathNode("mo", [fo(t.label, t.mode)]),
      n = new je.MathNode("mover", [Nr(t.base, e), r]);
    return n.setAttribute("accent", "true"), n;
  },
  ene = new RegExp(
    [
      "\\acute",
      "\\grave",
      "\\ddot",
      "\\tilde",
      "\\bar",
      "\\breve",
      "\\check",
      "\\hat",
      "\\vec",
      "\\dot",
      "\\mathring",
    ]
      .map((t) => "\\" + t)
      .join("|")
  );
at({
  type: "accent",
  names: [
    "\\acute",
    "\\grave",
    "\\ddot",
    "\\tilde",
    "\\bar",
    "\\breve",
    "\\check",
    "\\hat",
    "\\vec",
    "\\dot",
    "\\mathring",
    "\\widecheck",
    "\\widehat",
    "\\widetilde",
    "\\overrightarrow",
    "\\overleftarrow",
    "\\Overrightarrow",
    "\\overleftrightarrow",
    "\\overgroup",
    "\\overlinesegment",
    "\\overleftharpoon",
    "\\overrightharpoon",
  ],
  props: { numArgs: 1 },
  handler: (t, e) => {
    var r = j1(e[0]),
      n = !ene.test(t.funcName),
      i =
        !n ||
        t.funcName === "\\widehat" ||
        t.funcName === "\\widetilde" ||
        t.funcName === "\\widecheck";
    return {
      type: "accent",
      mode: t.parser.mode,
      label: t.funcName,
      isStretchy: n,
      isShifty: i,
      base: r,
    };
  },
  htmlBuilder: ib,
  mathmlBuilder: jB,
});
at({
  type: "accent",
  names: [
    "\\'",
    "\\`",
    "\\^",
    "\\~",
    "\\=",
    "\\u",
    "\\.",
    '\\"',
    "\\c",
    "\\r",
    "\\H",
    "\\v",
    "\\textcircled",
  ],
  props: {
    numArgs: 1,
    allowedInText: !0,
    allowedInMath: !0,
    argTypes: ["primitive"],
  },
  handler: (t, e) => {
    var r = e[0],
      n = t.parser.mode;
    return (
      n === "math" &&
        (t.parser.settings.reportNonstrict(
          "mathVsTextAccents",
          "LaTeX's accent " + t.funcName + " works only in text mode"
        ),
        (n = "text")),
      {
        type: "accent",
        mode: n,
        label: t.funcName,
        isStretchy: !1,
        isShifty: !0,
        base: r,
      }
    );
  },
  htmlBuilder: ib,
  mathmlBuilder: jB,
});
at({
  type: "accentUnder",
  names: [
    "\\underleftarrow",
    "\\underrightarrow",
    "\\underleftrightarrow",
    "\\undergroup",
    "\\underlinesegment",
    "\\utilde",
  ],
  props: { numArgs: 1 },
  handler: (t, e) => {
    var { parser: r, funcName: n } = t,
      i = e[0];
    return { type: "accentUnder", mode: r.mode, label: n, base: i };
  },
  htmlBuilder: (t, e) => {
    var r = mr(t.base, e),
      n = Za.svgSpan(t, e),
      i = t.label === "\\utilde" ? 0.12 : 0,
      o = me.makeVList(
        {
          positionType: "top",
          positionData: r.height,
          children: [
            { type: "elem", elem: n, wrapperClasses: ["svg-align"] },
            { type: "kern", size: i },
            { type: "elem", elem: r },
          ],
        },
        e
      );
    return me.makeSpan(["mord", "accentunder"], [o], e);
  },
  mathmlBuilder: (t, e) => {
    var r = Za.mathMLnode(t.label),
      n = new je.MathNode("munder", [Nr(t.base, e), r]);
    return n.setAttribute("accentunder", "true"), n;
  },
});
var zm = (t) => {
  var e = new je.MathNode("mpadded", t ? [t] : []);
  return (
    e.setAttribute("width", "+0.6em"), e.setAttribute("lspace", "0.3em"), e
  );
};
at({
  type: "xArrow",
  names: [
    "\\xleftarrow",
    "\\xrightarrow",
    "\\xLeftarrow",
    "\\xRightarrow",
    "\\xleftrightarrow",
    "\\xLeftrightarrow",
    "\\xhookleftarrow",
    "\\xhookrightarrow",
    "\\xmapsto",
    "\\xrightharpoondown",
    "\\xrightharpoonup",
    "\\xleftharpoondown",
    "\\xleftharpoonup",
    "\\xrightleftharpoons",
    "\\xleftrightharpoons",
    "\\xlongequal",
    "\\xtwoheadrightarrow",
    "\\xtwoheadleftarrow",
    "\\xtofrom",
    "\\xrightleftarrows",
    "\\xrightequilibrium",
    "\\xleftequilibrium",
    "\\\\cdrightarrow",
    "\\\\cdleftarrow",
    "\\\\cdlongequal",
  ],
  props: { numArgs: 1, numOptionalArgs: 1 },
  handler(t, e, r) {
    var { parser: n, funcName: i } = t;
    return { type: "xArrow", mode: n.mode, label: i, body: e[0], below: r[0] };
  },
  htmlBuilder(t, e) {
    var r = e.style,
      n = e.havingStyle(r.sup()),
      i = me.wrapFragment(mr(t.body, n, e), e),
      o = t.label.slice(0, 2) === "\\x" ? "x" : "cd";
    i.classes.push(o + "-arrow-pad");
    var s;
    t.below &&
      ((n = e.havingStyle(r.sub())),
      (s = me.wrapFragment(mr(t.below, n, e), e)),
      s.classes.push(o + "-arrow-pad"));
    var a = Za.svgSpan(t, e),
      l = -e.fontMetrics().axisHeight + 0.5 * a.height,
      u = -e.fontMetrics().axisHeight - 0.5 * a.height - 0.111;
    (i.depth > 0.25 || t.label === "\\xleftequilibrium") && (u -= i.depth);
    var c;
    if (s) {
      var f = -e.fontMetrics().axisHeight + s.height + 0.5 * a.height + 0.111;
      c = me.makeVList(
        {
          positionType: "individualShift",
          children: [
            { type: "elem", elem: i, shift: u },
            { type: "elem", elem: a, shift: l },
            { type: "elem", elem: s, shift: f },
          ],
        },
        e
      );
    } else
      c = me.makeVList(
        {
          positionType: "individualShift",
          children: [
            { type: "elem", elem: i, shift: u },
            { type: "elem", elem: a, shift: l },
          ],
        },
        e
      );
    return (
      c.children[0].children[0].children[1].classes.push("svg-align"),
      me.makeSpan(["mrel", "x-arrow"], [c], e)
    );
  },
  mathmlBuilder(t, e) {
    var r = Za.mathMLnode(t.label);
    r.setAttribute("minsize", t.label.charAt(0) === "x" ? "1.75em" : "3.0em");
    var n;
    if (t.body) {
      var i = zm(Nr(t.body, e));
      if (t.below) {
        var o = zm(Nr(t.below, e));
        n = new je.MathNode("munderover", [r, o, i]);
      } else n = new je.MathNode("mover", [r, i]);
    } else if (t.below) {
      var s = zm(Nr(t.below, e));
      n = new je.MathNode("munder", [r, s]);
    } else (n = zm()), (n = new je.MathNode("mover", [r, n]));
    return n;
  },
});
var tne = me.makeSpan;
function HB(t, e) {
  var r = Vn(t.body, e, !0);
  return tne([t.mclass], r, e);
}
function VB(t, e) {
  var r,
    n = us(t.body, e);
  return (
    t.mclass === "minner"
      ? (r = new je.MathNode("mpadded", n))
      : t.mclass === "mord"
        ? t.isCharacterBox
          ? ((r = n[0]), (r.type = "mi"))
          : (r = new je.MathNode("mi", n))
        : (t.isCharacterBox
            ? ((r = n[0]), (r.type = "mo"))
            : (r = new je.MathNode("mo", n)),
          t.mclass === "mbin"
            ? ((r.attributes.lspace = "0.22em"),
              (r.attributes.rspace = "0.22em"))
            : t.mclass === "mpunct"
              ? ((r.attributes.lspace = "0em"),
                (r.attributes.rspace = "0.17em"))
              : t.mclass === "mopen" || t.mclass === "mclose"
                ? ((r.attributes.lspace = "0em"), (r.attributes.rspace = "0em"))
                : t.mclass === "minner" &&
                  ((r.attributes.lspace = "0.0556em"),
                  (r.attributes.width = "+0.1111em"))),
    r
  );
}
at({
  type: "mclass",
  names: [
    "\\mathord",
    "\\mathbin",
    "\\mathrel",
    "\\mathopen",
    "\\mathclose",
    "\\mathpunct",
    "\\mathinner",
  ],
  props: { numArgs: 1, primitive: !0 },
  handler(t, e) {
    var { parser: r, funcName: n } = t,
      i = e[0];
    return {
      type: "mclass",
      mode: r.mode,
      mclass: "m" + n.slice(5),
      body: Sn(i),
      isCharacterBox: Ft.isCharacterBox(i),
    };
  },
  htmlBuilder: HB,
  mathmlBuilder: VB,
});
var n2 = (t) => {
  var e = t.type === "ordgroup" && t.body.length ? t.body[0] : t;
  return e.type === "atom" && (e.family === "bin" || e.family === "rel")
    ? "m" + e.family
    : "mord";
};
at({
  type: "mclass",
  names: ["\\@binrel"],
  props: { numArgs: 2 },
  handler(t, e) {
    var { parser: r } = t;
    return {
      type: "mclass",
      mode: r.mode,
      mclass: n2(e[0]),
      body: Sn(e[1]),
      isCharacterBox: Ft.isCharacterBox(e[1]),
    };
  },
});
at({
  type: "mclass",
  names: ["\\stackrel", "\\overset", "\\underset"],
  props: { numArgs: 2 },
  handler(t, e) {
    var { parser: r, funcName: n } = t,
      i = e[1],
      o = e[0],
      s;
    n !== "\\stackrel" ? (s = n2(i)) : (s = "mrel");
    var a = {
        type: "op",
        mode: i.mode,
        limits: !0,
        alwaysHandleSupSub: !0,
        parentIsSupSub: !1,
        symbol: !1,
        suppressBaseShift: n !== "\\stackrel",
        body: Sn(i),
      },
      l = {
        type: "supsub",
        mode: o.mode,
        base: a,
        sup: n === "\\underset" ? null : o,
        sub: n === "\\underset" ? o : null,
      };
    return {
      type: "mclass",
      mode: r.mode,
      mclass: s,
      body: [l],
      isCharacterBox: Ft.isCharacterBox(l),
    };
  },
  htmlBuilder: HB,
  mathmlBuilder: VB,
});
at({
  type: "pmb",
  names: ["\\pmb"],
  props: { numArgs: 1, allowedInText: !0 },
  handler(t, e) {
    var { parser: r } = t;
    return { type: "pmb", mode: r.mode, mclass: n2(e[0]), body: Sn(e[0]) };
  },
  htmlBuilder(t, e) {
    var r = Vn(t.body, e, !0),
      n = me.makeSpan([t.mclass], r, e);
    return (n.style.textShadow = "0.02em 0.01em 0.04px"), n;
  },
  mathmlBuilder(t, e) {
    var r = us(t.body, e),
      n = new je.MathNode("mstyle", r);
    return n.setAttribute("style", "text-shadow: 0.02em 0.01em 0.04px"), n;
  },
});
var rne = {
    ">": "\\\\cdrightarrow",
    "<": "\\\\cdleftarrow",
    "=": "\\\\cdlongequal",
    A: "\\uparrow",
    V: "\\downarrow",
    "|": "\\Vert",
    ".": "no arrow",
  },
  Zk = () => ({ type: "styling", body: [], mode: "math", style: "display" }),
  eS = (t) => t.type === "textord" && t.text === "@",
  nne = (t, e) => (t.type === "mathord" || t.type === "atom") && t.text === e;
function ine(t, e, r) {
  var n = rne[t];
  switch (n) {
    case "\\\\cdrightarrow":
    case "\\\\cdleftarrow":
      return r.callFunction(n, [e[0]], [e[1]]);
    case "\\uparrow":
    case "\\downarrow": {
      var i = r.callFunction("\\\\cdleft", [e[0]], []),
        o = { type: "atom", text: n, mode: "math", family: "rel" },
        s = r.callFunction("\\Big", [o], []),
        a = r.callFunction("\\\\cdright", [e[1]], []),
        l = { type: "ordgroup", mode: "math", body: [i, s, a] };
      return r.callFunction("\\\\cdparent", [l], []);
    }
    case "\\\\cdlongequal":
      return r.callFunction("\\\\cdlongequal", [], []);
    case "\\Vert": {
      var u = { type: "textord", text: "\\Vert", mode: "math" };
      return r.callFunction("\\Big", [u], []);
    }
    default:
      return { type: "textord", text: " ", mode: "math" };
  }
}
function sne(t) {
  var e = [];
  for (
    t.gullet.beginGroup(),
      t.gullet.macros.set("\\cr", "\\\\\\relax"),
      t.gullet.beginGroup();
    ;

  ) {
    e.push(t.parseExpression(!1, "\\\\")),
      t.gullet.endGroup(),
      t.gullet.beginGroup();
    var r = t.fetch().text;
    if (r === "&" || r === "\\\\") t.consume();
    else if (r === "\\end") {
      e[e.length - 1].length === 0 && e.pop();
      break;
    } else throw new qe("Expected \\\\ or \\cr or \\end", t.nextToken);
  }
  for (var n = [], i = [n], o = 0; o < e.length; o++) {
    for (var s = e[o], a = Zk(), l = 0; l < s.length; l++)
      if (!eS(s[l])) a.body.push(s[l]);
      else {
        n.push(a), (l += 1);
        var u = nb(s[l]).text,
          c = new Array(2);
        if (
          ((c[0] = { type: "ordgroup", mode: "math", body: [] }),
          (c[1] = { type: "ordgroup", mode: "math", body: [] }),
          !("=|.".indexOf(u) > -1))
        )
          if ("<>AV".indexOf(u) > -1)
            for (var f = 0; f < 2; f++) {
              for (var h = !0, d = l + 1; d < s.length; d++) {
                if (nne(s[d], u)) {
                  (h = !1), (l = d);
                  break;
                }
                if (eS(s[d]))
                  throw new qe(
                    "Missing a " + u + " character to complete a CD arrow.",
                    s[d]
                  );
                c[f].body.push(s[d]);
              }
              if (h)
                throw new qe(
                  "Missing a " + u + " character to complete a CD arrow.",
                  s[l]
                );
            }
          else throw new qe('Expected one of "<>AV=|." after @', s[l]);
        var p = ine(u, c, t),
          m = { type: "styling", body: [p], mode: "math", style: "display" };
        n.push(m), (a = Zk());
      }
    o % 2 === 0 ? n.push(a) : n.shift(), (n = []), i.push(n);
  }
  t.gullet.endGroup(), t.gullet.endGroup();
  var b = new Array(i[0].length).fill({
    type: "align",
    align: "c",
    pregap: 0.25,
    postgap: 0.25,
  });
  return {
    type: "array",
    mode: "math",
    body: i,
    arraystretch: 1,
    addJot: !0,
    rowGaps: [null],
    cols: b,
    colSeparationType: "CD",
    hLinesBeforeRow: new Array(i.length + 1).fill([]),
  };
}
at({
  type: "cdlabel",
  names: ["\\\\cdleft", "\\\\cdright"],
  props: { numArgs: 1 },
  handler(t, e) {
    var { parser: r, funcName: n } = t;
    return { type: "cdlabel", mode: r.mode, side: n.slice(4), label: e[0] };
  },
  htmlBuilder(t, e) {
    var r = e.havingStyle(e.style.sup()),
      n = me.wrapFragment(mr(t.label, r, e), e);
    return (
      n.classes.push("cd-label-" + t.side),
      (n.style.bottom = Qe(0.8 - n.depth)),
      (n.height = 0),
      (n.depth = 0),
      n
    );
  },
  mathmlBuilder(t, e) {
    var r = new je.MathNode("mrow", [Nr(t.label, e)]);
    return (
      (r = new je.MathNode("mpadded", [r])),
      r.setAttribute("width", "0"),
      t.side === "left" && r.setAttribute("lspace", "-1width"),
      r.setAttribute("voffset", "0.7em"),
      (r = new je.MathNode("mstyle", [r])),
      r.setAttribute("displaystyle", "false"),
      r.setAttribute("scriptlevel", "1"),
      r
    );
  },
});
at({
  type: "cdlabelparent",
  names: ["\\\\cdparent"],
  props: { numArgs: 1 },
  handler(t, e) {
    var { parser: r } = t;
    return { type: "cdlabelparent", mode: r.mode, fragment: e[0] };
  },
  htmlBuilder(t, e) {
    var r = me.wrapFragment(mr(t.fragment, e), e);
    return r.classes.push("cd-vert-arrow"), r;
  },
  mathmlBuilder(t, e) {
    return new je.MathNode("mrow", [Nr(t.fragment, e)]);
  },
});
at({
  type: "textord",
  names: ["\\@char"],
  props: { numArgs: 1, allowedInText: !0 },
  handler(t, e) {
    for (
      var { parser: r } = t,
        n = Yt(e[0], "ordgroup"),
        i = n.body,
        o = "",
        s = 0;
      s < i.length;
      s++
    ) {
      var a = Yt(i[s], "textord");
      o += a.text;
    }
    var l = parseInt(o),
      u;
    if (isNaN(l)) throw new qe("\\@char has non-numeric argument " + o);
    if (l < 0 || l >= 1114111)
      throw new qe("\\@char with invalid code point " + o);
    return (
      l <= 65535
        ? (u = String.fromCharCode(l))
        : ((l -= 65536),
          (u = String.fromCharCode((l >> 10) + 55296, (l & 1023) + 56320))),
      { type: "textord", mode: r.mode, text: u }
    );
  },
});
var WB = (t, e) => {
    var r = Vn(t.body, e.withColor(t.color), !1);
    return me.makeFragment(r);
  },
  qB = (t, e) => {
    var r = us(t.body, e.withColor(t.color)),
      n = new je.MathNode("mstyle", r);
    return n.setAttribute("mathcolor", t.color), n;
  };
at({
  type: "color",
  names: ["\\textcolor"],
  props: { numArgs: 2, allowedInText: !0, argTypes: ["color", "original"] },
  handler(t, e) {
    var { parser: r } = t,
      n = Yt(e[0], "color-token").color,
      i = e[1];
    return { type: "color", mode: r.mode, color: n, body: Sn(i) };
  },
  htmlBuilder: WB,
  mathmlBuilder: qB,
});
at({
  type: "color",
  names: ["\\color"],
  props: { numArgs: 1, allowedInText: !0, argTypes: ["color"] },
  handler(t, e) {
    var { parser: r, breakOnTokenText: n } = t,
      i = Yt(e[0], "color-token").color;
    r.gullet.macros.set("\\current@color", i);
    var o = r.parseExpression(!0, n);
    return { type: "color", mode: r.mode, color: i, body: o };
  },
  htmlBuilder: WB,
  mathmlBuilder: qB,
});
at({
  type: "cr",
  names: ["\\\\"],
  props: { numArgs: 0, numOptionalArgs: 0, allowedInText: !0 },
  handler(t, e, r) {
    var { parser: n } = t,
      i = n.gullet.future().text === "[" ? n.parseSizeGroup(!0) : null,
      o =
        !n.settings.displayMode ||
        !n.settings.useStrictBehavior(
          "newLineInDisplayMode",
          "In LaTeX, \\\\ or \\newline does nothing in display mode"
        );
    return {
      type: "cr",
      mode: n.mode,
      newLine: o,
      size: i && Yt(i, "size").value,
    };
  },
  htmlBuilder(t, e) {
    var r = me.makeSpan(["mspace"], [], e);
    return (
      t.newLine &&
        (r.classes.push("newline"),
        t.size && (r.style.marginTop = Qe(ln(t.size, e)))),
      r
    );
  },
  mathmlBuilder(t, e) {
    var r = new je.MathNode("mspace");
    return (
      t.newLine &&
        (r.setAttribute("linebreak", "newline"),
        t.size && r.setAttribute("height", Qe(ln(t.size, e)))),
      r
    );
  },
});
var p6 = {
    "\\global": "\\global",
    "\\long": "\\\\globallong",
    "\\\\globallong": "\\\\globallong",
    "\\def": "\\gdef",
    "\\gdef": "\\gdef",
    "\\edef": "\\xdef",
    "\\xdef": "\\xdef",
    "\\let": "\\\\globallet",
    "\\futurelet": "\\\\globalfuture",
  },
  UB = (t) => {
    var e = t.text;
    if (/^(?:[\\{}$&#^_]|EOF)$/.test(e))
      throw new qe("Expected a control sequence", t);
    return e;
  },
  one = (t) => {
    var e = t.gullet.popToken();
    return (
      e.text === "=" &&
        ((e = t.gullet.popToken()),
        e.text === " " && (e = t.gullet.popToken())),
      e
    );
  },
  GB = (t, e, r, n) => {
    var i = t.gullet.macros.get(r.text);
    i == null &&
      ((r.noexpand = !0),
      (i = {
        tokens: [r],
        numArgs: 0,
        unexpandable: !t.gullet.isExpandable(r.text),
      })),
      t.gullet.macros.set(e, i, n);
  };
at({
  type: "internal",
  names: ["\\global", "\\long", "\\\\globallong"],
  props: { numArgs: 0, allowedInText: !0 },
  handler(t) {
    var { parser: e, funcName: r } = t;
    e.consumeSpaces();
    var n = e.fetch();
    if (p6[n.text])
      return (
        (r === "\\global" || r === "\\\\globallong") && (n.text = p6[n.text]),
        Yt(e.parseFunction(), "internal")
      );
    throw new qe("Invalid token after macro prefix", n);
  },
});
at({
  type: "internal",
  names: ["\\def", "\\gdef", "\\edef", "\\xdef"],
  props: { numArgs: 0, allowedInText: !0, primitive: !0 },
  handler(t) {
    var { parser: e, funcName: r } = t,
      n = e.gullet.popToken(),
      i = n.text;
    if (/^(?:[\\{}$&#^_]|EOF)$/.test(i))
      throw new qe("Expected a control sequence", n);
    for (var o = 0, s, a = [[]]; e.gullet.future().text !== "{"; )
      if (((n = e.gullet.popToken()), n.text === "#")) {
        if (e.gullet.future().text === "{") {
          (s = e.gullet.future()), a[o].push("{");
          break;
        }
        if (((n = e.gullet.popToken()), !/^[1-9]$/.test(n.text)))
          throw new qe('Invalid argument number "' + n.text + '"');
        if (parseInt(n.text) !== o + 1)
          throw new qe('Argument number "' + n.text + '" out of order');
        o++, a.push([]);
      } else {
        if (n.text === "EOF") throw new qe("Expected a macro definition");
        a[o].push(n.text);
      }
    var { tokens: l } = e.gullet.consumeArg();
    return (
      s && l.unshift(s),
      (r === "\\edef" || r === "\\xdef") &&
        ((l = e.gullet.expandTokens(l)), l.reverse()),
      e.gullet.macros.set(
        i,
        { tokens: l, numArgs: o, delimiters: a },
        r === p6[r]
      ),
      { type: "internal", mode: e.mode }
    );
  },
});
at({
  type: "internal",
  names: ["\\let", "\\\\globallet"],
  props: { numArgs: 0, allowedInText: !0, primitive: !0 },
  handler(t) {
    var { parser: e, funcName: r } = t,
      n = UB(e.gullet.popToken());
    e.gullet.consumeSpaces();
    var i = one(e);
    return (
      GB(e, n, i, r === "\\\\globallet"), { type: "internal", mode: e.mode }
    );
  },
});
at({
  type: "internal",
  names: ["\\futurelet", "\\\\globalfuture"],
  props: { numArgs: 0, allowedInText: !0, primitive: !0 },
  handler(t) {
    var { parser: e, funcName: r } = t,
      n = UB(e.gullet.popToken()),
      i = e.gullet.popToken(),
      o = e.gullet.popToken();
    return (
      GB(e, n, o, r === "\\\\globalfuture"),
      e.gullet.pushToken(o),
      e.gullet.pushToken(i),
      { type: "internal", mode: e.mode }
    );
  },
});
var ah = function (e, r, n) {
    var i = qr.math[e] && qr.math[e].replace,
      o = Q7(i || e, r, n);
    if (!o)
      throw new Error("Unsupported symbol " + e + " and font size " + r + ".");
    return o;
  },
  sb = function (e, r, n, i) {
    var o = n.havingBaseStyle(r),
      s = me.makeSpan(i.concat(o.sizingClasses(n)), [e], n),
      a = o.sizeMultiplier / n.sizeMultiplier;
    return (
      (s.height *= a), (s.depth *= a), (s.maxFontSize = o.sizeMultiplier), s
    );
  },
  KB = function (e, r, n) {
    var i = r.havingBaseStyle(n),
      o =
        (1 - r.sizeMultiplier / i.sizeMultiplier) * r.fontMetrics().axisHeight;
    e.classes.push("delimcenter"),
      (e.style.top = Qe(o)),
      (e.height -= o),
      (e.depth += o);
  },
  ane = function (e, r, n, i, o, s) {
    var a = me.makeSymbol(e, "Main-Regular", o, i),
      l = sb(a, r, i, s);
    return n && KB(l, i, r), l;
  },
  lne = function (e, r, n, i) {
    return me.makeSymbol(e, "Size" + r + "-Regular", n, i);
  },
  YB = function (e, r, n, i, o, s) {
    var a = lne(e, r, o, i),
      l = sb(me.makeSpan(["delimsizing", "size" + r], [a], i), $t.TEXT, i, s);
    return n && KB(l, i, $t.TEXT), l;
  },
  yy = function (e, r, n) {
    var i;
    r === "Size1-Regular" ? (i = "delim-size1") : (i = "delim-size4");
    var o = me.makeSpan(
      ["delimsizinginner", i],
      [me.makeSpan([], [me.makeSymbol(e, r, n)])]
    );
    return { type: "elem", elem: o };
  },
  by = function (e, r, n) {
    var i = ra["Size4-Regular"][e.charCodeAt(0)]
        ? ra["Size4-Regular"][e.charCodeAt(0)][4]
        : ra["Size1-Regular"][e.charCodeAt(0)][4],
      o = new gu("inner", pre(e, Math.round(1e3 * r))),
      s = new Ja([o], {
        width: Qe(i),
        height: Qe(r),
        style: "width:" + Qe(i),
        viewBox: "0 0 " + 1e3 * i + " " + Math.round(1e3 * r),
        preserveAspectRatio: "xMinYMin",
      }),
      a = me.makeSvgSpan([], [s], n);
    return (
      (a.height = r),
      (a.style.height = Qe(r)),
      (a.style.width = Qe(i)),
      { type: "elem", elem: a }
    );
  },
  m6 = 0.008,
  jm = { type: "kern", size: -1 * m6 },
  une = ["|", "\\lvert", "\\rvert", "\\vert"],
  cne = ["\\|", "\\lVert", "\\rVert", "\\Vert"],
  XB = function (e, r, n, i, o, s) {
    var a,
      l,
      u,
      c,
      f = "",
      h = 0;
    (a = u = c = e), (l = null);
    var d = "Size1-Regular";
    e === "\\uparrow"
      ? (u = c = "⏐")
      : e === "\\Uparrow"
        ? (u = c = "‖")
        : e === "\\downarrow"
          ? (a = u = "⏐")
          : e === "\\Downarrow"
            ? (a = u = "‖")
            : e === "\\updownarrow"
              ? ((a = "\\uparrow"), (u = "⏐"), (c = "\\downarrow"))
              : e === "\\Updownarrow"
                ? ((a = "\\Uparrow"), (u = "‖"), (c = "\\Downarrow"))
                : Ft.contains(une, e)
                  ? ((u = "∣"), (f = "vert"), (h = 333))
                  : Ft.contains(cne, e)
                    ? ((u = "∥"), (f = "doublevert"), (h = 556))
                    : e === "[" || e === "\\lbrack"
                      ? ((a = "⎡"),
                        (u = "⎢"),
                        (c = "⎣"),
                        (d = "Size4-Regular"),
                        (f = "lbrack"),
                        (h = 667))
                      : e === "]" || e === "\\rbrack"
                        ? ((a = "⎤"),
                          (u = "⎥"),
                          (c = "⎦"),
                          (d = "Size4-Regular"),
                          (f = "rbrack"),
                          (h = 667))
                        : e === "\\lfloor" || e === "⌊"
                          ? ((u = a = "⎢"),
                            (c = "⎣"),
                            (d = "Size4-Regular"),
                            (f = "lfloor"),
                            (h = 667))
                          : e === "\\lceil" || e === "⌈"
                            ? ((a = "⎡"),
                              (u = c = "⎢"),
                              (d = "Size4-Regular"),
                              (f = "lceil"),
                              (h = 667))
                            : e === "\\rfloor" || e === "⌋"
                              ? ((u = a = "⎥"),
                                (c = "⎦"),
                                (d = "Size4-Regular"),
                                (f = "rfloor"),
                                (h = 667))
                              : e === "\\rceil" || e === "⌉"
                                ? ((a = "⎤"),
                                  (u = c = "⎥"),
                                  (d = "Size4-Regular"),
                                  (f = "rceil"),
                                  (h = 667))
                                : e === "(" || e === "\\lparen"
                                  ? ((a = "⎛"),
                                    (u = "⎜"),
                                    (c = "⎝"),
                                    (d = "Size4-Regular"),
                                    (f = "lparen"),
                                    (h = 875))
                                  : e === ")" || e === "\\rparen"
                                    ? ((a = "⎞"),
                                      (u = "⎟"),
                                      (c = "⎠"),
                                      (d = "Size4-Regular"),
                                      (f = "rparen"),
                                      (h = 875))
                                    : e === "\\{" || e === "\\lbrace"
                                      ? ((a = "⎧"),
                                        (l = "⎨"),
                                        (c = "⎩"),
                                        (u = "⎪"),
                                        (d = "Size4-Regular"))
                                      : e === "\\}" || e === "\\rbrace"
                                        ? ((a = "⎫"),
                                          (l = "⎬"),
                                          (c = "⎭"),
                                          (u = "⎪"),
                                          (d = "Size4-Regular"))
                                        : e === "\\lgroup" || e === "⟮"
                                          ? ((a = "⎧"),
                                            (c = "⎩"),
                                            (u = "⎪"),
                                            (d = "Size4-Regular"))
                                          : e === "\\rgroup" || e === "⟯"
                                            ? ((a = "⎫"),
                                              (c = "⎭"),
                                              (u = "⎪"),
                                              (d = "Size4-Regular"))
                                            : e === "\\lmoustache" || e === "⎰"
                                              ? ((a = "⎧"),
                                                (c = "⎭"),
                                                (u = "⎪"),
                                                (d = "Size4-Regular"))
                                              : (e === "\\rmoustache" ||
                                                  e === "⎱") &&
                                                ((a = "⎫"),
                                                (c = "⎩"),
                                                (u = "⎪"),
                                                (d = "Size4-Regular"));
    var p = ah(a, d, o),
      m = p.height + p.depth,
      b = ah(u, d, o),
      D = b.height + b.depth,
      k = ah(c, d, o),
      S = k.height + k.depth,
      B = 0,
      $ = 1;
    if (l !== null) {
      var T = ah(l, d, o);
      (B = T.height + T.depth), ($ = 2);
    }
    var P = m + S + B,
      te = Math.max(0, Math.ceil((r - P) / ($ * D))),
      ee = P + te * $ * D,
      de = i.fontMetrics().axisHeight;
    n && (de *= i.sizeMultiplier);
    var ke = ee / 2 - de,
      Ce = [];
    if (f.length > 0) {
      var he = ee - m - S,
        ze = Math.round(ee * 1e3),
        Ve = mre(f, Math.round(he * 1e3)),
        Ae = new gu(f, Ve),
        tt = (h / 1e3).toFixed(3) + "em",
        Ee = (ze / 1e3).toFixed(3) + "em",
        Je = new Ja([Ae], {
          width: tt,
          height: Ee,
          viewBox: "0 0 " + h + " " + ze,
        }),
        Re = me.makeSvgSpan([], [Je], i);
      (Re.height = ze / 1e3),
        (Re.style.width = tt),
        (Re.style.height = Ee),
        Ce.push({ type: "elem", elem: Re });
    } else {
      if ((Ce.push(yy(c, d, o)), Ce.push(jm), l === null)) {
        var ve = ee - m - S + 2 * m6;
        Ce.push(by(u, ve, i));
      } else {
        var Fe = (ee - m - S - B) / 2 + 2 * m6;
        Ce.push(by(u, Fe, i)),
          Ce.push(jm),
          Ce.push(yy(l, d, o)),
          Ce.push(jm),
          Ce.push(by(u, Fe, i));
      }
      Ce.push(jm), Ce.push(yy(a, d, o));
    }
    var q = i.havingBaseStyle($t.TEXT),
      Ot = me.makeVList(
        { positionType: "bottom", positionData: ke, children: Ce },
        q
      );
    return sb(me.makeSpan(["delimsizing", "mult"], [Ot], q), $t.TEXT, i, s);
  },
  Dy = 80,
  wy = 0.08,
  xy = function (e, r, n, i, o) {
    var s = dre(e, i, n),
      a = new gu(e, s),
      l = new Ja([a], {
        width: "400em",
        height: Qe(r),
        viewBox: "0 0 400000 " + n,
        preserveAspectRatio: "xMinYMin slice",
      });
    return me.makeSvgSpan(["hide-tail"], [l], o);
  },
  fne = function (e, r) {
    var n = r.havingBaseSizing(),
      i = eT("\\surd", e * n.sizeMultiplier, ZB, n),
      o = n.sizeMultiplier,
      s = Math.max(0, r.minRuleThickness - r.fontMetrics().sqrtRuleThickness),
      a,
      l = 0,
      u = 0,
      c = 0,
      f;
    return (
      i.type === "small"
        ? ((c = 1e3 + 1e3 * s + Dy),
          e < 1 ? (o = 1) : e < 1.4 && (o = 0.7),
          (l = (1 + s + wy) / o),
          (u = (1 + s) / o),
          (a = xy("sqrtMain", l, c, s, r)),
          (a.style.minWidth = "0.853em"),
          (f = 0.833 / o))
        : i.type === "large"
          ? ((c = (1e3 + Dy) * $h[i.size]),
            (u = ($h[i.size] + s) / o),
            (l = ($h[i.size] + s + wy) / o),
            (a = xy("sqrtSize" + i.size, l, c, s, r)),
            (a.style.minWidth = "1.02em"),
            (f = 1 / o))
          : ((l = e + s + wy),
            (u = e + s),
            (c = Math.floor(1e3 * e + s) + Dy),
            (a = xy("sqrtTall", l, c, s, r)),
            (a.style.minWidth = "0.742em"),
            (f = 1.056)),
      (a.height = u),
      (a.style.height = Qe(l)),
      {
        span: a,
        advanceWidth: f,
        ruleWidth: (r.fontMetrics().sqrtRuleThickness + s) * o,
      }
    );
  },
  JB = [
    "(",
    "\\lparen",
    ")",
    "\\rparen",
    "[",
    "\\lbrack",
    "]",
    "\\rbrack",
    "\\{",
    "\\lbrace",
    "\\}",
    "\\rbrace",
    "\\lfloor",
    "\\rfloor",
    "⌊",
    "⌋",
    "\\lceil",
    "\\rceil",
    "⌈",
    "⌉",
    "\\surd",
  ],
  hne = [
    "\\uparrow",
    "\\downarrow",
    "\\updownarrow",
    "\\Uparrow",
    "\\Downarrow",
    "\\Updownarrow",
    "|",
    "\\|",
    "\\vert",
    "\\Vert",
    "\\lvert",
    "\\rvert",
    "\\lVert",
    "\\rVert",
    "\\lgroup",
    "\\rgroup",
    "⟮",
    "⟯",
    "\\lmoustache",
    "\\rmoustache",
    "⎰",
    "⎱",
  ],
  QB = ["<", ">", "\\langle", "\\rangle", "/", "\\backslash", "\\lt", "\\gt"],
  $h = [0, 1.2, 1.8, 2.4, 3],
  dne = function (e, r, n, i, o) {
    if (
      (e === "<" || e === "\\lt" || e === "⟨"
        ? (e = "\\langle")
        : (e === ">" || e === "\\gt" || e === "⟩") && (e = "\\rangle"),
      Ft.contains(JB, e) || Ft.contains(QB, e))
    )
      return YB(e, r, !1, n, i, o);
    if (Ft.contains(hne, e)) return XB(e, $h[r], !1, n, i, o);
    throw new qe("Illegal delimiter: '" + e + "'");
  },
  pne = [
    { type: "small", style: $t.SCRIPTSCRIPT },
    { type: "small", style: $t.SCRIPT },
    { type: "small", style: $t.TEXT },
    { type: "large", size: 1 },
    { type: "large", size: 2 },
    { type: "large", size: 3 },
    { type: "large", size: 4 },
  ],
  mne = [
    { type: "small", style: $t.SCRIPTSCRIPT },
    { type: "small", style: $t.SCRIPT },
    { type: "small", style: $t.TEXT },
    { type: "stack" },
  ],
  ZB = [
    { type: "small", style: $t.SCRIPTSCRIPT },
    { type: "small", style: $t.SCRIPT },
    { type: "small", style: $t.TEXT },
    { type: "large", size: 1 },
    { type: "large", size: 2 },
    { type: "large", size: 3 },
    { type: "large", size: 4 },
    { type: "stack" },
  ],
  gne = function (e) {
    if (e.type === "small") return "Main-Regular";
    if (e.type === "large") return "Size" + e.size + "-Regular";
    if (e.type === "stack") return "Size4-Regular";
    throw new Error("Add support for delim type '" + e.type + "' here.");
  },
  eT = function (e, r, n, i) {
    for (
      var o = Math.min(2, 3 - i.style.size), s = o;
      s < n.length && n[s].type !== "stack";
      s++
    ) {
      var a = ah(e, gne(n[s]), "math"),
        l = a.height + a.depth;
      if (n[s].type === "small") {
        var u = i.havingBaseStyle(n[s].style);
        l *= u.sizeMultiplier;
      }
      if (l > r) return n[s];
    }
    return n[n.length - 1];
  },
  tT = function (e, r, n, i, o, s) {
    e === "<" || e === "\\lt" || e === "⟨"
      ? (e = "\\langle")
      : (e === ">" || e === "\\gt" || e === "⟩") && (e = "\\rangle");
    var a;
    Ft.contains(QB, e) ? (a = pne) : Ft.contains(JB, e) ? (a = ZB) : (a = mne);
    var l = eT(e, r, a, i);
    return l.type === "small"
      ? ane(e, l.style, n, i, o, s)
      : l.type === "large"
        ? YB(e, l.size, n, i, o, s)
        : XB(e, r, n, i, o, s);
  },
  vne = function (e, r, n, i, o, s) {
    var a = i.fontMetrics().axisHeight * i.sizeMultiplier,
      l = 901,
      u = 5 / i.fontMetrics().ptPerEm,
      c = Math.max(r - a, n + a),
      f = Math.max((c / 500) * l, 2 * c - u);
    return tT(e, f, !0, i, o, s);
  },
  ja = {
    sqrtImage: fne,
    sizedDelim: dne,
    sizeToMaxHeight: $h,
    customSizedDelim: tT,
    leftRightDelim: vne,
  },
  tS = {
    "\\bigl": { mclass: "mopen", size: 1 },
    "\\Bigl": { mclass: "mopen", size: 2 },
    "\\biggl": { mclass: "mopen", size: 3 },
    "\\Biggl": { mclass: "mopen", size: 4 },
    "\\bigr": { mclass: "mclose", size: 1 },
    "\\Bigr": { mclass: "mclose", size: 2 },
    "\\biggr": { mclass: "mclose", size: 3 },
    "\\Biggr": { mclass: "mclose", size: 4 },
    "\\bigm": { mclass: "mrel", size: 1 },
    "\\Bigm": { mclass: "mrel", size: 2 },
    "\\biggm": { mclass: "mrel", size: 3 },
    "\\Biggm": { mclass: "mrel", size: 4 },
    "\\big": { mclass: "mord", size: 1 },
    "\\Big": { mclass: "mord", size: 2 },
    "\\bigg": { mclass: "mord", size: 3 },
    "\\Bigg": { mclass: "mord", size: 4 },
  },
  yne = [
    "(",
    "\\lparen",
    ")",
    "\\rparen",
    "[",
    "\\lbrack",
    "]",
    "\\rbrack",
    "\\{",
    "\\lbrace",
    "\\}",
    "\\rbrace",
    "\\lfloor",
    "\\rfloor",
    "⌊",
    "⌋",
    "\\lceil",
    "\\rceil",
    "⌈",
    "⌉",
    "<",
    ">",
    "\\langle",
    "⟨",
    "\\rangle",
    "⟩",
    "\\lt",
    "\\gt",
    "\\lvert",
    "\\rvert",
    "\\lVert",
    "\\rVert",
    "\\lgroup",
    "\\rgroup",
    "⟮",
    "⟯",
    "\\lmoustache",
    "\\rmoustache",
    "⎰",
    "⎱",
    "/",
    "\\backslash",
    "|",
    "\\vert",
    "\\|",
    "\\Vert",
    "\\uparrow",
    "\\Uparrow",
    "\\downarrow",
    "\\Downarrow",
    "\\updownarrow",
    "\\Updownarrow",
    ".",
  ];
function i2(t, e) {
  var r = r2(t);
  if (r && Ft.contains(yne, r.text)) return r;
  throw r
    ? new qe("Invalid delimiter '" + r.text + "' after '" + e.funcName + "'", t)
    : new qe("Invalid delimiter type '" + t.type + "'", t);
}
at({
  type: "delimsizing",
  names: [
    "\\bigl",
    "\\Bigl",
    "\\biggl",
    "\\Biggl",
    "\\bigr",
    "\\Bigr",
    "\\biggr",
    "\\Biggr",
    "\\bigm",
    "\\Bigm",
    "\\biggm",
    "\\Biggm",
    "\\big",
    "\\Big",
    "\\bigg",
    "\\Bigg",
  ],
  props: { numArgs: 1, argTypes: ["primitive"] },
  handler: (t, e) => {
    var r = i2(e[0], t);
    return {
      type: "delimsizing",
      mode: t.parser.mode,
      size: tS[t.funcName].size,
      mclass: tS[t.funcName].mclass,
      delim: r.text,
    };
  },
  htmlBuilder: (t, e) =>
    t.delim === "."
      ? me.makeSpan([t.mclass])
      : ja.sizedDelim(t.delim, t.size, e, t.mode, [t.mclass]),
  mathmlBuilder: (t) => {
    var e = [];
    t.delim !== "." && e.push(fo(t.delim, t.mode));
    var r = new je.MathNode("mo", e);
    t.mclass === "mopen" || t.mclass === "mclose"
      ? r.setAttribute("fence", "true")
      : r.setAttribute("fence", "false"),
      r.setAttribute("stretchy", "true");
    var n = Qe(ja.sizeToMaxHeight[t.size]);
    return r.setAttribute("minsize", n), r.setAttribute("maxsize", n), r;
  },
});
function rS(t) {
  if (!t.body)
    throw new Error("Bug: The leftright ParseNode wasn't fully parsed.");
}
at({
  type: "leftright-right",
  names: ["\\right"],
  props: { numArgs: 1, primitive: !0 },
  handler: (t, e) => {
    var r = t.parser.gullet.macros.get("\\current@color");
    if (r && typeof r != "string")
      throw new qe("\\current@color set to non-string in \\right");
    return {
      type: "leftright-right",
      mode: t.parser.mode,
      delim: i2(e[0], t).text,
      color: r,
    };
  },
});
at({
  type: "leftright",
  names: ["\\left"],
  props: { numArgs: 1, primitive: !0 },
  handler: (t, e) => {
    var r = i2(e[0], t),
      n = t.parser;
    ++n.leftrightDepth;
    var i = n.parseExpression(!1);
    --n.leftrightDepth, n.expect("\\right", !1);
    var o = Yt(n.parseFunction(), "leftright-right");
    return {
      type: "leftright",
      mode: n.mode,
      body: i,
      left: r.text,
      right: o.delim,
      rightColor: o.color,
    };
  },
  htmlBuilder: (t, e) => {
    rS(t);
    for (
      var r = Vn(t.body, e, !0, ["mopen", "mclose"]),
        n = 0,
        i = 0,
        o = !1,
        s = 0;
      s < r.length;
      s++
    )
      r[s].isMiddle
        ? (o = !0)
        : ((n = Math.max(r[s].height, n)), (i = Math.max(r[s].depth, i)));
    (n *= e.sizeMultiplier), (i *= e.sizeMultiplier);
    var a;
    if (
      (t.left === "."
        ? (a = wd(e, ["mopen"]))
        : (a = ja.leftRightDelim(t.left, n, i, e, t.mode, ["mopen"])),
      r.unshift(a),
      o)
    )
      for (var l = 1; l < r.length; l++) {
        var u = r[l],
          c = u.isMiddle;
        c && (r[l] = ja.leftRightDelim(c.delim, n, i, c.options, t.mode, []));
      }
    var f;
    if (t.right === ".") f = wd(e, ["mclose"]);
    else {
      var h = t.rightColor ? e.withColor(t.rightColor) : e;
      f = ja.leftRightDelim(t.right, n, i, h, t.mode, ["mclose"]);
    }
    return r.push(f), me.makeSpan(["minner"], r, e);
  },
  mathmlBuilder: (t, e) => {
    rS(t);
    var r = us(t.body, e);
    if (t.left !== ".") {
      var n = new je.MathNode("mo", [fo(t.left, t.mode)]);
      n.setAttribute("fence", "true"), r.unshift(n);
    }
    if (t.right !== ".") {
      var i = new je.MathNode("mo", [fo(t.right, t.mode)]);
      i.setAttribute("fence", "true"),
        t.rightColor && i.setAttribute("mathcolor", t.rightColor),
        r.push(i);
    }
    return tb(r);
  },
});
at({
  type: "middle",
  names: ["\\middle"],
  props: { numArgs: 1, primitive: !0 },
  handler: (t, e) => {
    var r = i2(e[0], t);
    if (!t.parser.leftrightDepth)
      throw new qe("\\middle without preceding \\left", r);
    return { type: "middle", mode: t.parser.mode, delim: r.text };
  },
  htmlBuilder: (t, e) => {
    var r;
    if (t.delim === ".") r = wd(e, []);
    else {
      r = ja.sizedDelim(t.delim, 1, e, t.mode, []);
      var n = { delim: t.delim, options: e };
      r.isMiddle = n;
    }
    return r;
  },
  mathmlBuilder: (t, e) => {
    var r =
        t.delim === "\\vert" || t.delim === "|"
          ? fo("|", "text")
          : fo(t.delim, t.mode),
      n = new je.MathNode("mo", [r]);
    return (
      n.setAttribute("fence", "true"),
      n.setAttribute("lspace", "0.05em"),
      n.setAttribute("rspace", "0.05em"),
      n
    );
  },
});
var ob = (t, e) => {
    var r = me.wrapFragment(mr(t.body, e), e),
      n = t.label.slice(1),
      i = e.sizeMultiplier,
      o,
      s = 0,
      a = Ft.isCharacterBox(t.body);
    if (n === "sout")
      (o = me.makeSpan(["stretchy", "sout"])),
        (o.height = e.fontMetrics().defaultRuleThickness / i),
        (s = -0.5 * e.fontMetrics().xHeight);
    else if (n === "phase") {
      var l = ln({ number: 0.6, unit: "pt" }, e),
        u = ln({ number: 0.35, unit: "ex" }, e),
        c = e.havingBaseSizing();
      i = i / c.sizeMultiplier;
      var f = r.height + r.depth + l + u;
      r.style.paddingLeft = Qe(f / 2 + l);
      var h = Math.floor(1e3 * f * i),
        d = fre(h),
        p = new Ja([new gu("phase", d)], {
          width: "400em",
          height: Qe(h / 1e3),
          viewBox: "0 0 400000 " + h,
          preserveAspectRatio: "xMinYMin slice",
        });
      (o = me.makeSvgSpan(["hide-tail"], [p], e)),
        (o.style.height = Qe(f)),
        (s = r.depth + l + u);
    } else {
      /cancel/.test(n)
        ? a || r.classes.push("cancel-pad")
        : n === "angl"
          ? r.classes.push("anglpad")
          : r.classes.push("boxpad");
      var m = 0,
        b = 0,
        D = 0;
      /box/.test(n)
        ? ((D = Math.max(e.fontMetrics().fboxrule, e.minRuleThickness)),
          (m = e.fontMetrics().fboxsep + (n === "colorbox" ? 0 : D)),
          (b = m))
        : n === "angl"
          ? ((D = Math.max(
              e.fontMetrics().defaultRuleThickness,
              e.minRuleThickness
            )),
            (m = 4 * D),
            (b = Math.max(0, 0.25 - r.depth)))
          : ((m = a ? 0.2 : 0), (b = m)),
        (o = Za.encloseSpan(r, n, m, b, e)),
        /fbox|boxed|fcolorbox/.test(n)
          ? ((o.style.borderStyle = "solid"), (o.style.borderWidth = Qe(D)))
          : n === "angl" &&
            D !== 0.049 &&
            ((o.style.borderTopWidth = Qe(D)),
            (o.style.borderRightWidth = Qe(D))),
        (s = r.depth + b),
        t.backgroundColor &&
          ((o.style.backgroundColor = t.backgroundColor),
          t.borderColor && (o.style.borderColor = t.borderColor));
    }
    var k;
    if (t.backgroundColor)
      k = me.makeVList(
        {
          positionType: "individualShift",
          children: [
            { type: "elem", elem: o, shift: s },
            { type: "elem", elem: r, shift: 0 },
          ],
        },
        e
      );
    else {
      var S = /cancel|phase/.test(n) ? ["svg-align"] : [];
      k = me.makeVList(
        {
          positionType: "individualShift",
          children: [
            { type: "elem", elem: r, shift: 0 },
            { type: "elem", elem: o, shift: s, wrapperClasses: S },
          ],
        },
        e
      );
    }
    return (
      /cancel/.test(n) && ((k.height = r.height), (k.depth = r.depth)),
      /cancel/.test(n) && !a
        ? me.makeSpan(["mord", "cancel-lap"], [k], e)
        : me.makeSpan(["mord"], [k], e)
    );
  },
  ab = (t, e) => {
    var r = 0,
      n = new je.MathNode(
        t.label.indexOf("colorbox") > -1 ? "mpadded" : "menclose",
        [Nr(t.body, e)]
      );
    switch (t.label) {
      case "\\cancel":
        n.setAttribute("notation", "updiagonalstrike");
        break;
      case "\\bcancel":
        n.setAttribute("notation", "downdiagonalstrike");
        break;
      case "\\phase":
        n.setAttribute("notation", "phasorangle");
        break;
      case "\\sout":
        n.setAttribute("notation", "horizontalstrike");
        break;
      case "\\fbox":
        n.setAttribute("notation", "box");
        break;
      case "\\angl":
        n.setAttribute("notation", "actuarial");
        break;
      case "\\fcolorbox":
      case "\\colorbox":
        if (
          ((r = e.fontMetrics().fboxsep * e.fontMetrics().ptPerEm),
          n.setAttribute("width", "+" + 2 * r + "pt"),
          n.setAttribute("height", "+" + 2 * r + "pt"),
          n.setAttribute("lspace", r + "pt"),
          n.setAttribute("voffset", r + "pt"),
          t.label === "\\fcolorbox")
        ) {
          var i = Math.max(e.fontMetrics().fboxrule, e.minRuleThickness);
          n.setAttribute(
            "style",
            "border: " + i + "em solid " + String(t.borderColor)
          );
        }
        break;
      case "\\xcancel":
        n.setAttribute("notation", "updiagonalstrike downdiagonalstrike");
        break;
    }
    return (
      t.backgroundColor && n.setAttribute("mathbackground", t.backgroundColor),
      n
    );
  };
at({
  type: "enclose",
  names: ["\\colorbox"],
  props: { numArgs: 2, allowedInText: !0, argTypes: ["color", "text"] },
  handler(t, e, r) {
    var { parser: n, funcName: i } = t,
      o = Yt(e[0], "color-token").color,
      s = e[1];
    return {
      type: "enclose",
      mode: n.mode,
      label: i,
      backgroundColor: o,
      body: s,
    };
  },
  htmlBuilder: ob,
  mathmlBuilder: ab,
});
at({
  type: "enclose",
  names: ["\\fcolorbox"],
  props: {
    numArgs: 3,
    allowedInText: !0,
    argTypes: ["color", "color", "text"],
  },
  handler(t, e, r) {
    var { parser: n, funcName: i } = t,
      o = Yt(e[0], "color-token").color,
      s = Yt(e[1], "color-token").color,
      a = e[2];
    return {
      type: "enclose",
      mode: n.mode,
      label: i,
      backgroundColor: s,
      borderColor: o,
      body: a,
    };
  },
  htmlBuilder: ob,
  mathmlBuilder: ab,
});
at({
  type: "enclose",
  names: ["\\fbox"],
  props: { numArgs: 1, argTypes: ["hbox"], allowedInText: !0 },
  handler(t, e) {
    var { parser: r } = t;
    return { type: "enclose", mode: r.mode, label: "\\fbox", body: e[0] };
  },
});
at({
  type: "enclose",
  names: ["\\cancel", "\\bcancel", "\\xcancel", "\\sout", "\\phase"],
  props: { numArgs: 1 },
  handler(t, e) {
    var { parser: r, funcName: n } = t,
      i = e[0];
    return { type: "enclose", mode: r.mode, label: n, body: i };
  },
  htmlBuilder: ob,
  mathmlBuilder: ab,
});
at({
  type: "enclose",
  names: ["\\angl"],
  props: { numArgs: 1, argTypes: ["hbox"], allowedInText: !1 },
  handler(t, e) {
    var { parser: r } = t;
    return { type: "enclose", mode: r.mode, label: "\\angl", body: e[0] };
  },
});
var rT = {};
function va(t) {
  for (
    var {
        type: e,
        names: r,
        props: n,
        handler: i,
        htmlBuilder: o,
        mathmlBuilder: s,
      } = t,
      a = {
        type: e,
        numArgs: n.numArgs || 0,
        allowedInText: !1,
        numOptionalArgs: 0,
        handler: i,
      },
      l = 0;
    l < r.length;
    ++l
  )
    rT[r[l]] = a;
  o && (L1[e] = o), s && (z1[e] = s);
}
var nT = {};
function O(t, e) {
  nT[t] = e;
}
function nS(t) {
  var e = [];
  t.consumeSpaces();
  var r = t.fetch().text;
  for (
    r === "\\relax" && (t.consume(), t.consumeSpaces(), (r = t.fetch().text));
    r === "\\hline" || r === "\\hdashline";

  )
    t.consume(),
      e.push(r === "\\hdashline"),
      t.consumeSpaces(),
      (r = t.fetch().text);
  return e;
}
var s2 = (t) => {
  var e = t.parser.settings;
  if (!e.displayMode)
    throw new qe("{" + t.envName + "} can be used only in display mode.");
};
function lb(t) {
  if (t.indexOf("ed") === -1) return t.indexOf("*") === -1;
}
function Bu(t, e, r) {
  var {
    hskipBeforeAndAfter: n,
    addJot: i,
    cols: o,
    arraystretch: s,
    colSeparationType: a,
    autoTag: l,
    singleRow: u,
    emptySingleRow: c,
    maxNumCols: f,
    leqno: h,
  } = e;
  if (
    (t.gullet.beginGroup(), u || t.gullet.macros.set("\\cr", "\\\\\\relax"), !s)
  ) {
    var d = t.gullet.expandMacroAsText("\\arraystretch");
    if (d == null) s = 1;
    else if (((s = parseFloat(d)), !s || s < 0))
      throw new qe("Invalid \\arraystretch: " + d);
  }
  t.gullet.beginGroup();
  var p = [],
    m = [p],
    b = [],
    D = [],
    k = l != null ? [] : void 0;
  function S() {
    l && t.gullet.macros.set("\\@eqnsw", "1", !0);
  }
  function B() {
    k &&
      (t.gullet.macros.get("\\df@tag")
        ? (k.push(t.subparse([new ro("\\df@tag")])),
          t.gullet.macros.set("\\df@tag", void 0, !0))
        : k.push(!!l && t.gullet.macros.get("\\@eqnsw") === "1"));
  }
  for (S(), D.push(nS(t)); ; ) {
    var $ = t.parseExpression(!1, u ? "\\end" : "\\\\");
    t.gullet.endGroup(),
      t.gullet.beginGroup(),
      ($ = { type: "ordgroup", mode: t.mode, body: $ }),
      r && ($ = { type: "styling", mode: t.mode, style: r, body: [$] }),
      p.push($);
    var T = t.fetch().text;
    if (T === "&") {
      if (f && p.length === f) {
        if (u || a) throw new qe("Too many tab characters: &", t.nextToken);
        t.settings.reportNonstrict(
          "textEnv",
          "Too few columns specified in the {array} column argument."
        );
      }
      t.consume();
    } else if (T === "\\end") {
      B(),
        p.length === 1 &&
          $.type === "styling" &&
          $.body[0].body.length === 0 &&
          (m.length > 1 || !c) &&
          m.pop(),
        D.length < m.length + 1 && D.push([]);
      break;
    } else if (T === "\\\\") {
      t.consume();
      var P = void 0;
      t.gullet.future().text !== " " && (P = t.parseSizeGroup(!0)),
        b.push(P ? P.value : null),
        B(),
        D.push(nS(t)),
        (p = []),
        m.push(p),
        S();
    } else throw new qe("Expected & or \\\\ or \\cr or \\end", t.nextToken);
  }
  return (
    t.gullet.endGroup(),
    t.gullet.endGroup(),
    {
      type: "array",
      mode: t.mode,
      addJot: i,
      arraystretch: s,
      body: m,
      cols: o,
      rowGaps: b,
      hskipBeforeAndAfter: n,
      hLinesBeforeRow: D,
      colSeparationType: a,
      tags: k,
      leqno: h,
    }
  );
}
function ub(t) {
  return t.slice(0, 1) === "d" ? "display" : "text";
}
var ya = function (e, r) {
    var n,
      i,
      o = e.body.length,
      s = e.hLinesBeforeRow,
      a = 0,
      l = new Array(o),
      u = [],
      c = Math.max(r.fontMetrics().arrayRuleWidth, r.minRuleThickness),
      f = 1 / r.fontMetrics().ptPerEm,
      h = 5 * f;
    if (e.colSeparationType && e.colSeparationType === "small") {
      var d = r.havingStyle($t.SCRIPT).sizeMultiplier;
      h = 0.2778 * (d / r.sizeMultiplier);
    }
    var p =
        e.colSeparationType === "CD"
          ? ln({ number: 3, unit: "ex" }, r)
          : 12 * f,
      m = 3 * f,
      b = e.arraystretch * p,
      D = 0.7 * b,
      k = 0.3 * b,
      S = 0;
    function B(_e) {
      for (var mt = 0; mt < _e.length; ++mt)
        mt > 0 && (S += 0.25), u.push({ pos: S, isDashed: _e[mt] });
    }
    for (B(s[0]), n = 0; n < e.body.length; ++n) {
      var $ = e.body[n],
        T = D,
        P = k;
      a < $.length && (a = $.length);
      var te = new Array($.length);
      for (i = 0; i < $.length; ++i) {
        var ee = mr($[i], r);
        P < ee.depth && (P = ee.depth),
          T < ee.height && (T = ee.height),
          (te[i] = ee);
      }
      var de = e.rowGaps[n],
        ke = 0;
      de &&
        ((ke = ln(de, r)), ke > 0 && ((ke += k), P < ke && (P = ke), (ke = 0))),
        e.addJot && (P += m),
        (te.height = T),
        (te.depth = P),
        (S += T),
        (te.pos = S),
        (S += P + ke),
        (l[n] = te),
        B(s[n + 1]);
    }
    var Ce = S / 2 + r.fontMetrics().axisHeight,
      he = e.cols || [],
      ze = [],
      Ve,
      Ae,
      tt = [];
    if (e.tags && e.tags.some((_e) => _e))
      for (n = 0; n < o; ++n) {
        var Ee = l[n],
          Je = Ee.pos - Ce,
          Re = e.tags[n],
          ve = void 0;
        Re === !0
          ? (ve = me.makeSpan(["eqn-num"], [], r))
          : Re === !1
            ? (ve = me.makeSpan([], [], r))
            : (ve = me.makeSpan([], Vn(Re, r, !0), r)),
          (ve.depth = Ee.depth),
          (ve.height = Ee.height),
          tt.push({ type: "elem", elem: ve, shift: Je });
      }
    for (i = 0, Ae = 0; i < a || Ae < he.length; ++i, ++Ae) {
      for (var Fe = he[Ae] || {}, q = !0; Fe.type === "separator"; ) {
        if (
          (q ||
            ((Ve = me.makeSpan(["arraycolsep"], [])),
            (Ve.style.width = Qe(r.fontMetrics().doubleRuleSep)),
            ze.push(Ve)),
          Fe.separator === "|" || Fe.separator === ":")
        ) {
          var Ot = Fe.separator === "|" ? "solid" : "dashed",
            Mt = me.makeSpan(["vertical-separator"], [], r);
          (Mt.style.height = Qe(S)),
            (Mt.style.borderRightWidth = Qe(c)),
            (Mt.style.borderRightStyle = Ot),
            (Mt.style.margin = "0 " + Qe(-c / 2));
          var yt = S - Ce;
          yt && (Mt.style.verticalAlign = Qe(-yt)), ze.push(Mt);
        } else throw new qe("Invalid separator type: " + Fe.separator);
        Ae++, (Fe = he[Ae] || {}), (q = !1);
      }
      if (!(i >= a)) {
        var wt = void 0;
        (i > 0 || e.hskipBeforeAndAfter) &&
          ((wt = Ft.deflt(Fe.pregap, h)),
          wt !== 0 &&
            ((Ve = me.makeSpan(["arraycolsep"], [])),
            (Ve.style.width = Qe(wt)),
            ze.push(Ve)));
        var Zt = [];
        for (n = 0; n < o; ++n) {
          var Ut = l[n],
            br = Ut[i];
          if (br) {
            var Or = Ut.pos - Ce;
            (br.depth = Ut.depth),
              (br.height = Ut.height),
              Zt.push({ type: "elem", elem: br, shift: Or });
          }
        }
        (Zt = me.makeVList(
          { positionType: "individualShift", children: Zt },
          r
        )),
          (Zt = me.makeSpan(["col-align-" + (Fe.align || "c")], [Zt])),
          ze.push(Zt),
          (i < a - 1 || e.hskipBeforeAndAfter) &&
            ((wt = Ft.deflt(Fe.postgap, h)),
            wt !== 0 &&
              ((Ve = me.makeSpan(["arraycolsep"], [])),
              (Ve.style.width = Qe(wt)),
              ze.push(Ve)));
      }
    }
    if (((l = me.makeSpan(["mtable"], ze)), u.length > 0)) {
      for (
        var Br = me.makeLineSpan("hline", r, c),
          Wt = me.makeLineSpan("hdashline", r, c),
          gr = [{ type: "elem", elem: l, shift: 0 }];
        u.length > 0;

      ) {
        var Vt = u.pop(),
          ce = Vt.pos - Ce;
        Vt.isDashed
          ? gr.push({ type: "elem", elem: Wt, shift: ce })
          : gr.push({ type: "elem", elem: Br, shift: ce });
      }
      l = me.makeVList({ positionType: "individualShift", children: gr }, r);
    }
    if (tt.length === 0) return me.makeSpan(["mord"], [l], r);
    var Me = me.makeVList({ positionType: "individualShift", children: tt }, r);
    return (Me = me.makeSpan(["tag"], [Me], r)), me.makeFragment([l, Me]);
  },
  bne = { c: "center ", l: "left ", r: "right " },
  ba = function (e, r) {
    for (
      var n = [],
        i = new je.MathNode("mtd", [], ["mtr-glue"]),
        o = new je.MathNode("mtd", [], ["mml-eqn-num"]),
        s = 0;
      s < e.body.length;
      s++
    ) {
      for (var a = e.body[s], l = [], u = 0; u < a.length; u++)
        l.push(new je.MathNode("mtd", [Nr(a[u], r)]));
      e.tags &&
        e.tags[s] &&
        (l.unshift(i), l.push(i), e.leqno ? l.unshift(o) : l.push(o)),
        n.push(new je.MathNode("mtr", l));
    }
    var c = new je.MathNode("mtable", n),
      f =
        e.arraystretch === 0.5
          ? 0.1
          : 0.16 + e.arraystretch - 1 + (e.addJot ? 0.09 : 0);
    c.setAttribute("rowspacing", Qe(f));
    var h = "",
      d = "";
    if (e.cols && e.cols.length > 0) {
      var p = e.cols,
        m = "",
        b = !1,
        D = 0,
        k = p.length;
      p[0].type === "separator" && ((h += "top "), (D = 1)),
        p[p.length - 1].type === "separator" && ((h += "bottom "), (k -= 1));
      for (var S = D; S < k; S++)
        p[S].type === "align"
          ? ((d += bne[p[S].align]), b && (m += "none "), (b = !0))
          : p[S].type === "separator" &&
            b &&
            ((m += p[S].separator === "|" ? "solid " : "dashed "), (b = !1));
      c.setAttribute("columnalign", d.trim()),
        /[sd]/.test(m) && c.setAttribute("columnlines", m.trim());
    }
    if (e.colSeparationType === "align") {
      for (var B = e.cols || [], $ = "", T = 1; T < B.length; T++)
        $ += T % 2 ? "0em " : "1em ";
      c.setAttribute("columnspacing", $.trim());
    } else
      e.colSeparationType === "alignat" || e.colSeparationType === "gather"
        ? c.setAttribute("columnspacing", "0em")
        : e.colSeparationType === "small"
          ? c.setAttribute("columnspacing", "0.2778em")
          : e.colSeparationType === "CD"
            ? c.setAttribute("columnspacing", "0.5em")
            : c.setAttribute("columnspacing", "1em");
    var P = "",
      te = e.hLinesBeforeRow;
    (h += te[0].length > 0 ? "left " : ""),
      (h += te[te.length - 1].length > 0 ? "right " : "");
    for (var ee = 1; ee < te.length - 1; ee++)
      P += te[ee].length === 0 ? "none " : te[ee][0] ? "dashed " : "solid ";
    return (
      /[sd]/.test(P) && c.setAttribute("rowlines", P.trim()),
      h !== "" &&
        ((c = new je.MathNode("menclose", [c])),
        c.setAttribute("notation", h.trim())),
      e.arraystretch &&
        e.arraystretch < 1 &&
        ((c = new je.MathNode("mstyle", [c])),
        c.setAttribute("scriptlevel", "1")),
      c
    );
  },
  iT = function (e, r) {
    e.envName.indexOf("ed") === -1 && s2(e);
    var n = [],
      i = e.envName.indexOf("at") > -1 ? "alignat" : "align",
      o = e.envName === "split",
      s = Bu(
        e.parser,
        {
          cols: n,
          addJot: !0,
          autoTag: o ? void 0 : lb(e.envName),
          emptySingleRow: !0,
          colSeparationType: i,
          maxNumCols: o ? 2 : void 0,
          leqno: e.parser.settings.leqno,
        },
        "display"
      ),
      a,
      l = 0,
      u = { type: "ordgroup", mode: e.mode, body: [] };
    if (r[0] && r[0].type === "ordgroup") {
      for (var c = "", f = 0; f < r[0].body.length; f++) {
        var h = Yt(r[0].body[f], "textord");
        c += h.text;
      }
      (a = Number(c)), (l = a * 2);
    }
    var d = !l;
    s.body.forEach(function (D) {
      for (var k = 1; k < D.length; k += 2) {
        var S = Yt(D[k], "styling"),
          B = Yt(S.body[0], "ordgroup");
        B.body.unshift(u);
      }
      if (d) l < D.length && (l = D.length);
      else {
        var $ = D.length / 2;
        if (a < $)
          throw new qe(
            "Too many math in a row: " + ("expected " + a + ", but got " + $),
            D[0]
          );
      }
    });
    for (var p = 0; p < l; ++p) {
      var m = "r",
        b = 0;
      p % 2 === 1 ? (m = "l") : p > 0 && d && (b = 1),
        (n[p] = { type: "align", align: m, pregap: b, postgap: 0 });
    }
    return (s.colSeparationType = d ? "align" : "alignat"), s;
  };
va({
  type: "array",
  names: ["array", "darray"],
  props: { numArgs: 1 },
  handler(t, e) {
    var r = r2(e[0]),
      n = r ? [e[0]] : Yt(e[0], "ordgroup").body,
      i = n.map(function (s) {
        var a = nb(s),
          l = a.text;
        if ("lcr".indexOf(l) !== -1) return { type: "align", align: l };
        if (l === "|") return { type: "separator", separator: "|" };
        if (l === ":") return { type: "separator", separator: ":" };
        throw new qe("Unknown column alignment: " + l, s);
      }),
      o = { cols: i, hskipBeforeAndAfter: !0, maxNumCols: i.length };
    return Bu(t.parser, o, ub(t.envName));
  },
  htmlBuilder: ya,
  mathmlBuilder: ba,
});
va({
  type: "array",
  names: [
    "matrix",
    "pmatrix",
    "bmatrix",
    "Bmatrix",
    "vmatrix",
    "Vmatrix",
    "matrix*",
    "pmatrix*",
    "bmatrix*",
    "Bmatrix*",
    "vmatrix*",
    "Vmatrix*",
  ],
  props: { numArgs: 0 },
  handler(t) {
    var e = {
        matrix: null,
        pmatrix: ["(", ")"],
        bmatrix: ["[", "]"],
        Bmatrix: ["\\{", "\\}"],
        vmatrix: ["|", "|"],
        Vmatrix: ["\\Vert", "\\Vert"],
      }[t.envName.replace("*", "")],
      r = "c",
      n = { hskipBeforeAndAfter: !1, cols: [{ type: "align", align: r }] };
    if (t.envName.charAt(t.envName.length - 1) === "*") {
      var i = t.parser;
      if ((i.consumeSpaces(), i.fetch().text === "[")) {
        if (
          (i.consume(),
          i.consumeSpaces(),
          (r = i.fetch().text),
          "lcr".indexOf(r) === -1)
        )
          throw new qe("Expected l or c or r", i.nextToken);
        i.consume(),
          i.consumeSpaces(),
          i.expect("]"),
          i.consume(),
          (n.cols = [{ type: "align", align: r }]);
      }
    }
    var o = Bu(t.parser, n, ub(t.envName)),
      s = Math.max(0, ...o.body.map((a) => a.length));
    return (
      (o.cols = new Array(s).fill({ type: "align", align: r })),
      e
        ? {
            type: "leftright",
            mode: t.mode,
            body: [o],
            left: e[0],
            right: e[1],
            rightColor: void 0,
          }
        : o
    );
  },
  htmlBuilder: ya,
  mathmlBuilder: ba,
});
va({
  type: "array",
  names: ["smallmatrix"],
  props: { numArgs: 0 },
  handler(t) {
    var e = { arraystretch: 0.5 },
      r = Bu(t.parser, e, "script");
    return (r.colSeparationType = "small"), r;
  },
  htmlBuilder: ya,
  mathmlBuilder: ba,
});
va({
  type: "array",
  names: ["subarray"],
  props: { numArgs: 1 },
  handler(t, e) {
    var r = r2(e[0]),
      n = r ? [e[0]] : Yt(e[0], "ordgroup").body,
      i = n.map(function (s) {
        var a = nb(s),
          l = a.text;
        if ("lc".indexOf(l) !== -1) return { type: "align", align: l };
        throw new qe("Unknown column alignment: " + l, s);
      });
    if (i.length > 1) throw new qe("{subarray} can contain only one column");
    var o = { cols: i, hskipBeforeAndAfter: !1, arraystretch: 0.5 };
    if (
      ((o = Bu(t.parser, o, "script")),
      o.body.length > 0 && o.body[0].length > 1)
    )
      throw new qe("{subarray} can contain only one column");
    return o;
  },
  htmlBuilder: ya,
  mathmlBuilder: ba,
});
va({
  type: "array",
  names: ["cases", "dcases", "rcases", "drcases"],
  props: { numArgs: 0 },
  handler(t) {
    var e = {
        arraystretch: 1.2,
        cols: [
          { type: "align", align: "l", pregap: 0, postgap: 1 },
          { type: "align", align: "l", pregap: 0, postgap: 0 },
        ],
      },
      r = Bu(t.parser, e, ub(t.envName));
    return {
      type: "leftright",
      mode: t.mode,
      body: [r],
      left: t.envName.indexOf("r") > -1 ? "." : "\\{",
      right: t.envName.indexOf("r") > -1 ? "\\}" : ".",
      rightColor: void 0,
    };
  },
  htmlBuilder: ya,
  mathmlBuilder: ba,
});
va({
  type: "array",
  names: ["align", "align*", "aligned", "split"],
  props: { numArgs: 0 },
  handler: iT,
  htmlBuilder: ya,
  mathmlBuilder: ba,
});
va({
  type: "array",
  names: ["gathered", "gather", "gather*"],
  props: { numArgs: 0 },
  handler(t) {
    Ft.contains(["gather", "gather*"], t.envName) && s2(t);
    var e = {
      cols: [{ type: "align", align: "c" }],
      addJot: !0,
      colSeparationType: "gather",
      autoTag: lb(t.envName),
      emptySingleRow: !0,
      leqno: t.parser.settings.leqno,
    };
    return Bu(t.parser, e, "display");
  },
  htmlBuilder: ya,
  mathmlBuilder: ba,
});
va({
  type: "array",
  names: ["alignat", "alignat*", "alignedat"],
  props: { numArgs: 1 },
  handler: iT,
  htmlBuilder: ya,
  mathmlBuilder: ba,
});
va({
  type: "array",
  names: ["equation", "equation*"],
  props: { numArgs: 0 },
  handler(t) {
    s2(t);
    var e = {
      autoTag: lb(t.envName),
      emptySingleRow: !0,
      singleRow: !0,
      maxNumCols: 1,
      leqno: t.parser.settings.leqno,
    };
    return Bu(t.parser, e, "display");
  },
  htmlBuilder: ya,
  mathmlBuilder: ba,
});
va({
  type: "array",
  names: ["CD"],
  props: { numArgs: 0 },
  handler(t) {
    return s2(t), sne(t.parser);
  },
  htmlBuilder: ya,
  mathmlBuilder: ba,
});
O("\\nonumber", "\\gdef\\@eqnsw{0}");
O("\\notag", "\\nonumber");
at({
  type: "text",
  names: ["\\hline", "\\hdashline"],
  props: { numArgs: 0, allowedInText: !0, allowedInMath: !0 },
  handler(t, e) {
    throw new qe(t.funcName + " valid only within array environment");
  },
});
var iS = rT;
at({
  type: "environment",
  names: ["\\begin", "\\end"],
  props: { numArgs: 1, argTypes: ["text"] },
  handler(t, e) {
    var { parser: r, funcName: n } = t,
      i = e[0];
    if (i.type !== "ordgroup") throw new qe("Invalid environment name", i);
    for (var o = "", s = 0; s < i.body.length; ++s)
      o += Yt(i.body[s], "textord").text;
    if (n === "\\begin") {
      if (!iS.hasOwnProperty(o)) throw new qe("No such environment: " + o, i);
      var a = iS[o],
        { args: l, optArgs: u } = r.parseArguments("\\begin{" + o + "}", a),
        c = { mode: r.mode, envName: o, parser: r },
        f = a.handler(c, l, u);
      r.expect("\\end", !1);
      var h = r.nextToken,
        d = Yt(r.parseFunction(), "environment");
      if (d.name !== o)
        throw new qe(
          "Mismatch: \\begin{" + o + "} matched by \\end{" + d.name + "}",
          h
        );
      return f;
    }
    return { type: "environment", mode: r.mode, name: o, nameGroup: i };
  },
});
var sT = (t, e) => {
    var r = t.font,
      n = e.withFont(r);
    return mr(t.body, n);
  },
  oT = (t, e) => {
    var r = t.font,
      n = e.withFont(r);
    return Nr(t.body, n);
  },
  sS = {
    "\\Bbb": "\\mathbb",
    "\\bold": "\\mathbf",
    "\\frak": "\\mathfrak",
    "\\bm": "\\boldsymbol",
  };
at({
  type: "font",
  names: [
    "\\mathrm",
    "\\mathit",
    "\\mathbf",
    "\\mathnormal",
    "\\mathbb",
    "\\mathcal",
    "\\mathfrak",
    "\\mathscr",
    "\\mathsf",
    "\\mathtt",
    "\\Bbb",
    "\\bold",
    "\\frak",
  ],
  props: { numArgs: 1, allowedInArgument: !0 },
  handler: (t, e) => {
    var { parser: r, funcName: n } = t,
      i = j1(e[0]),
      o = n;
    return (
      o in sS && (o = sS[o]),
      { type: "font", mode: r.mode, font: o.slice(1), body: i }
    );
  },
  htmlBuilder: sT,
  mathmlBuilder: oT,
});
at({
  type: "mclass",
  names: ["\\boldsymbol", "\\bm"],
  props: { numArgs: 1 },
  handler: (t, e) => {
    var { parser: r } = t,
      n = e[0],
      i = Ft.isCharacterBox(n);
    return {
      type: "mclass",
      mode: r.mode,
      mclass: n2(n),
      body: [{ type: "font", mode: r.mode, font: "boldsymbol", body: n }],
      isCharacterBox: i,
    };
  },
});
at({
  type: "font",
  names: ["\\rm", "\\sf", "\\tt", "\\bf", "\\it", "\\cal"],
  props: { numArgs: 0, allowedInText: !0 },
  handler: (t, e) => {
    var { parser: r, funcName: n, breakOnTokenText: i } = t,
      { mode: o } = r,
      s = r.parseExpression(!0, i),
      a = "math" + n.slice(1);
    return {
      type: "font",
      mode: o,
      font: a,
      body: { type: "ordgroup", mode: r.mode, body: s },
    };
  },
  htmlBuilder: sT,
  mathmlBuilder: oT,
});
var aT = (t, e) => {
    var r = e;
    return (
      t === "display"
        ? (r = r.id >= $t.SCRIPT.id ? r.text() : $t.DISPLAY)
        : t === "text" && r.size === $t.DISPLAY.size
          ? (r = $t.TEXT)
          : t === "script"
            ? (r = $t.SCRIPT)
            : t === "scriptscript" && (r = $t.SCRIPTSCRIPT),
      r
    );
  },
  cb = (t, e) => {
    var r = aT(t.size, e.style),
      n = r.fracNum(),
      i = r.fracDen(),
      o;
    o = e.havingStyle(n);
    var s = mr(t.numer, o, e);
    if (t.continued) {
      var a = 8.5 / e.fontMetrics().ptPerEm,
        l = 3.5 / e.fontMetrics().ptPerEm;
      (s.height = s.height < a ? a : s.height),
        (s.depth = s.depth < l ? l : s.depth);
    }
    o = e.havingStyle(i);
    var u = mr(t.denom, o, e),
      c,
      f,
      h;
    t.hasBarLine
      ? (t.barSize
          ? ((f = ln(t.barSize, e)), (c = me.makeLineSpan("frac-line", e, f)))
          : (c = me.makeLineSpan("frac-line", e)),
        (f = c.height),
        (h = c.height))
      : ((c = null), (f = 0), (h = e.fontMetrics().defaultRuleThickness));
    var d, p, m;
    r.size === $t.DISPLAY.size || t.size === "display"
      ? ((d = e.fontMetrics().num1),
        f > 0 ? (p = 3 * h) : (p = 7 * h),
        (m = e.fontMetrics().denom1))
      : (f > 0
          ? ((d = e.fontMetrics().num2), (p = h))
          : ((d = e.fontMetrics().num3), (p = 3 * h)),
        (m = e.fontMetrics().denom2));
    var b;
    if (c) {
      var k = e.fontMetrics().axisHeight;
      d - s.depth - (k + 0.5 * f) < p &&
        (d += p - (d - s.depth - (k + 0.5 * f))),
        k - 0.5 * f - (u.height - m) < p &&
          (m += p - (k - 0.5 * f - (u.height - m)));
      var S = -(k - 0.5 * f);
      b = me.makeVList(
        {
          positionType: "individualShift",
          children: [
            { type: "elem", elem: u, shift: m },
            { type: "elem", elem: c, shift: S },
            { type: "elem", elem: s, shift: -d },
          ],
        },
        e
      );
    } else {
      var D = d - s.depth - (u.height - m);
      D < p && ((d += 0.5 * (p - D)), (m += 0.5 * (p - D))),
        (b = me.makeVList(
          {
            positionType: "individualShift",
            children: [
              { type: "elem", elem: u, shift: m },
              { type: "elem", elem: s, shift: -d },
            ],
          },
          e
        ));
    }
    (o = e.havingStyle(r)),
      (b.height *= o.sizeMultiplier / e.sizeMultiplier),
      (b.depth *= o.sizeMultiplier / e.sizeMultiplier);
    var B;
    r.size === $t.DISPLAY.size
      ? (B = e.fontMetrics().delim1)
      : r.size === $t.SCRIPTSCRIPT.size
        ? (B = e.havingStyle($t.SCRIPT).fontMetrics().delim2)
        : (B = e.fontMetrics().delim2);
    var $, T;
    return (
      t.leftDelim == null
        ? ($ = wd(e, ["mopen"]))
        : ($ = ja.customSizedDelim(
            t.leftDelim,
            B,
            !0,
            e.havingStyle(r),
            t.mode,
            ["mopen"]
          )),
      t.continued
        ? (T = me.makeSpan([]))
        : t.rightDelim == null
          ? (T = wd(e, ["mclose"]))
          : (T = ja.customSizedDelim(
              t.rightDelim,
              B,
              !0,
              e.havingStyle(r),
              t.mode,
              ["mclose"]
            )),
      me.makeSpan(
        ["mord"].concat(o.sizingClasses(e)),
        [$, me.makeSpan(["mfrac"], [b]), T],
        e
      )
    );
  },
  fb = (t, e) => {
    var r = new je.MathNode("mfrac", [Nr(t.numer, e), Nr(t.denom, e)]);
    if (!t.hasBarLine) r.setAttribute("linethickness", "0px");
    else if (t.barSize) {
      var n = ln(t.barSize, e);
      r.setAttribute("linethickness", Qe(n));
    }
    var i = aT(t.size, e.style);
    if (i.size !== e.style.size) {
      r = new je.MathNode("mstyle", [r]);
      var o = i.size === $t.DISPLAY.size ? "true" : "false";
      r.setAttribute("displaystyle", o), r.setAttribute("scriptlevel", "0");
    }
    if (t.leftDelim != null || t.rightDelim != null) {
      var s = [];
      if (t.leftDelim != null) {
        var a = new je.MathNode("mo", [
          new je.TextNode(t.leftDelim.replace("\\", "")),
        ]);
        a.setAttribute("fence", "true"), s.push(a);
      }
      if ((s.push(r), t.rightDelim != null)) {
        var l = new je.MathNode("mo", [
          new je.TextNode(t.rightDelim.replace("\\", "")),
        ]);
        l.setAttribute("fence", "true"), s.push(l);
      }
      return tb(s);
    }
    return r;
  };
at({
  type: "genfrac",
  names: [
    "\\dfrac",
    "\\frac",
    "\\tfrac",
    "\\dbinom",
    "\\binom",
    "\\tbinom",
    "\\\\atopfrac",
    "\\\\bracefrac",
    "\\\\brackfrac",
  ],
  props: { numArgs: 2, allowedInArgument: !0 },
  handler: (t, e) => {
    var { parser: r, funcName: n } = t,
      i = e[0],
      o = e[1],
      s,
      a = null,
      l = null,
      u = "auto";
    switch (n) {
      case "\\dfrac":
      case "\\frac":
      case "\\tfrac":
        s = !0;
        break;
      case "\\\\atopfrac":
        s = !1;
        break;
      case "\\dbinom":
      case "\\binom":
      case "\\tbinom":
        (s = !1), (a = "("), (l = ")");
        break;
      case "\\\\bracefrac":
        (s = !1), (a = "\\{"), (l = "\\}");
        break;
      case "\\\\brackfrac":
        (s = !1), (a = "["), (l = "]");
        break;
      default:
        throw new Error("Unrecognized genfrac command");
    }
    switch (n) {
      case "\\dfrac":
      case "\\dbinom":
        u = "display";
        break;
      case "\\tfrac":
      case "\\tbinom":
        u = "text";
        break;
    }
    return {
      type: "genfrac",
      mode: r.mode,
      continued: !1,
      numer: i,
      denom: o,
      hasBarLine: s,
      leftDelim: a,
      rightDelim: l,
      size: u,
      barSize: null,
    };
  },
  htmlBuilder: cb,
  mathmlBuilder: fb,
});
at({
  type: "genfrac",
  names: ["\\cfrac"],
  props: { numArgs: 2 },
  handler: (t, e) => {
    var { parser: r, funcName: n } = t,
      i = e[0],
      o = e[1];
    return {
      type: "genfrac",
      mode: r.mode,
      continued: !0,
      numer: i,
      denom: o,
      hasBarLine: !0,
      leftDelim: null,
      rightDelim: null,
      size: "display",
      barSize: null,
    };
  },
});
at({
  type: "infix",
  names: ["\\over", "\\choose", "\\atop", "\\brace", "\\brack"],
  props: { numArgs: 0, infix: !0 },
  handler(t) {
    var { parser: e, funcName: r, token: n } = t,
      i;
    switch (r) {
      case "\\over":
        i = "\\frac";
        break;
      case "\\choose":
        i = "\\binom";
        break;
      case "\\atop":
        i = "\\\\atopfrac";
        break;
      case "\\brace":
        i = "\\\\bracefrac";
        break;
      case "\\brack":
        i = "\\\\brackfrac";
        break;
      default:
        throw new Error("Unrecognized infix genfrac command");
    }
    return { type: "infix", mode: e.mode, replaceWith: i, token: n };
  },
});
var oS = ["display", "text", "script", "scriptscript"],
  aS = function (e) {
    var r = null;
    return e.length > 0 && ((r = e), (r = r === "." ? null : r)), r;
  };
at({
  type: "genfrac",
  names: ["\\genfrac"],
  props: {
    numArgs: 6,
    allowedInArgument: !0,
    argTypes: ["math", "math", "size", "text", "math", "math"],
  },
  handler(t, e) {
    var { parser: r } = t,
      n = e[4],
      i = e[5],
      o = j1(e[0]),
      s = o.type === "atom" && o.family === "open" ? aS(o.text) : null,
      a = j1(e[1]),
      l = a.type === "atom" && a.family === "close" ? aS(a.text) : null,
      u = Yt(e[2], "size"),
      c,
      f = null;
    u.isBlank ? (c = !0) : ((f = u.value), (c = f.number > 0));
    var h = "auto",
      d = e[3];
    if (d.type === "ordgroup") {
      if (d.body.length > 0) {
        var p = Yt(d.body[0], "textord");
        h = oS[Number(p.text)];
      }
    } else (d = Yt(d, "textord")), (h = oS[Number(d.text)]);
    return {
      type: "genfrac",
      mode: r.mode,
      numer: n,
      denom: i,
      continued: !1,
      hasBarLine: c,
      barSize: f,
      leftDelim: s,
      rightDelim: l,
      size: h,
    };
  },
  htmlBuilder: cb,
  mathmlBuilder: fb,
});
at({
  type: "infix",
  names: ["\\above"],
  props: { numArgs: 1, argTypes: ["size"], infix: !0 },
  handler(t, e) {
    var { parser: r, funcName: n, token: i } = t;
    return {
      type: "infix",
      mode: r.mode,
      replaceWith: "\\\\abovefrac",
      size: Yt(e[0], "size").value,
      token: i,
    };
  },
});
at({
  type: "genfrac",
  names: ["\\\\abovefrac"],
  props: { numArgs: 3, argTypes: ["math", "size", "math"] },
  handler: (t, e) => {
    var { parser: r, funcName: n } = t,
      i = e[0],
      o = Xte(Yt(e[1], "infix").size),
      s = e[2],
      a = o.number > 0;
    return {
      type: "genfrac",
      mode: r.mode,
      numer: i,
      denom: s,
      continued: !1,
      hasBarLine: a,
      barSize: o,
      leftDelim: null,
      rightDelim: null,
      size: "auto",
    };
  },
  htmlBuilder: cb,
  mathmlBuilder: fb,
});
var lT = (t, e) => {
    var r = e.style,
      n,
      i;
    t.type === "supsub"
      ? ((n = t.sup
          ? mr(t.sup, e.havingStyle(r.sup()), e)
          : mr(t.sub, e.havingStyle(r.sub()), e)),
        (i = Yt(t.base, "horizBrace")))
      : (i = Yt(t, "horizBrace"));
    var o = mr(i.base, e.havingBaseStyle($t.DISPLAY)),
      s = Za.svgSpan(i, e),
      a;
    if (
      (i.isOver
        ? ((a = me.makeVList(
            {
              positionType: "firstBaseline",
              children: [
                { type: "elem", elem: o },
                { type: "kern", size: 0.1 },
                { type: "elem", elem: s },
              ],
            },
            e
          )),
          a.children[0].children[0].children[1].classes.push("svg-align"))
        : ((a = me.makeVList(
            {
              positionType: "bottom",
              positionData: o.depth + 0.1 + s.height,
              children: [
                { type: "elem", elem: s },
                { type: "kern", size: 0.1 },
                { type: "elem", elem: o },
              ],
            },
            e
          )),
          a.children[0].children[0].children[0].classes.push("svg-align")),
      n)
    ) {
      var l = me.makeSpan(["mord", i.isOver ? "mover" : "munder"], [a], e);
      i.isOver
        ? (a = me.makeVList(
            {
              positionType: "firstBaseline",
              children: [
                { type: "elem", elem: l },
                { type: "kern", size: 0.2 },
                { type: "elem", elem: n },
              ],
            },
            e
          ))
        : (a = me.makeVList(
            {
              positionType: "bottom",
              positionData: l.depth + 0.2 + n.height + n.depth,
              children: [
                { type: "elem", elem: n },
                { type: "kern", size: 0.2 },
                { type: "elem", elem: l },
              ],
            },
            e
          ));
    }
    return me.makeSpan(["mord", i.isOver ? "mover" : "munder"], [a], e);
  },
  Dne = (t, e) => {
    var r = Za.mathMLnode(t.label);
    return new je.MathNode(t.isOver ? "mover" : "munder", [Nr(t.base, e), r]);
  };
at({
  type: "horizBrace",
  names: ["\\overbrace", "\\underbrace"],
  props: { numArgs: 1 },
  handler(t, e) {
    var { parser: r, funcName: n } = t;
    return {
      type: "horizBrace",
      mode: r.mode,
      label: n,
      isOver: /^\\over/.test(n),
      base: e[0],
    };
  },
  htmlBuilder: lT,
  mathmlBuilder: Dne,
});
at({
  type: "href",
  names: ["\\href"],
  props: { numArgs: 2, argTypes: ["url", "original"], allowedInText: !0 },
  handler: (t, e) => {
    var { parser: r } = t,
      n = e[1],
      i = Yt(e[0], "url").url;
    return r.settings.isTrusted({ command: "\\href", url: i })
      ? { type: "href", mode: r.mode, href: i, body: Sn(n) }
      : r.formatUnsupportedCmd("\\href");
  },
  htmlBuilder: (t, e) => {
    var r = Vn(t.body, e, !1);
    return me.makeAnchor(t.href, [], r, e);
  },
  mathmlBuilder: (t, e) => {
    var r = vu(t.body, e);
    return (
      r instanceof Gs || (r = new Gs("mrow", [r])),
      r.setAttribute("href", t.href),
      r
    );
  },
});
at({
  type: "href",
  names: ["\\url"],
  props: { numArgs: 1, argTypes: ["url"], allowedInText: !0 },
  handler: (t, e) => {
    var { parser: r } = t,
      n = Yt(e[0], "url").url;
    if (!r.settings.isTrusted({ command: "\\url", url: n }))
      return r.formatUnsupportedCmd("\\url");
    for (var i = [], o = 0; o < n.length; o++) {
      var s = n[o];
      s === "~" && (s = "\\textasciitilde"),
        i.push({ type: "textord", mode: "text", text: s });
    }
    var a = { type: "text", mode: r.mode, font: "\\texttt", body: i };
    return { type: "href", mode: r.mode, href: n, body: Sn(a) };
  },
});
at({
  type: "hbox",
  names: ["\\hbox"],
  props: { numArgs: 1, argTypes: ["text"], allowedInText: !0, primitive: !0 },
  handler(t, e) {
    var { parser: r } = t;
    return { type: "hbox", mode: r.mode, body: Sn(e[0]) };
  },
  htmlBuilder(t, e) {
    var r = Vn(t.body, e, !1);
    return me.makeFragment(r);
  },
  mathmlBuilder(t, e) {
    return new je.MathNode("mrow", us(t.body, e));
  },
});
at({
  type: "html",
  names: ["\\htmlClass", "\\htmlId", "\\htmlStyle", "\\htmlData"],
  props: { numArgs: 2, argTypes: ["raw", "original"], allowedInText: !0 },
  handler: (t, e) => {
    var { parser: r, funcName: n, token: i } = t,
      o = Yt(e[0], "raw").string,
      s = e[1];
    r.settings.strict &&
      r.settings.reportNonstrict(
        "htmlExtension",
        "HTML extension is disabled on strict mode"
      );
    var a,
      l = {};
    switch (n) {
      case "\\htmlClass":
        (l.class = o), (a = { command: "\\htmlClass", class: o });
        break;
      case "\\htmlId":
        (l.id = o), (a = { command: "\\htmlId", id: o });
        break;
      case "\\htmlStyle":
        (l.style = o), (a = { command: "\\htmlStyle", style: o });
        break;
      case "\\htmlData": {
        for (var u = o.split(","), c = 0; c < u.length; c++) {
          var f = u[c].split("=");
          if (f.length !== 2)
            throw new qe("Error parsing key-value for \\htmlData");
          l["data-" + f[0].trim()] = f[1].trim();
        }
        a = { command: "\\htmlData", attributes: l };
        break;
      }
      default:
        throw new Error("Unrecognized html command");
    }
    return r.settings.isTrusted(a)
      ? { type: "html", mode: r.mode, attributes: l, body: Sn(s) }
      : r.formatUnsupportedCmd(n);
  },
  htmlBuilder: (t, e) => {
    var r = Vn(t.body, e, !1),
      n = ["enclosing"];
    t.attributes.class && n.push(...t.attributes.class.trim().split(/\s+/));
    var i = me.makeSpan(n, r, e);
    for (var o in t.attributes)
      o !== "class" &&
        t.attributes.hasOwnProperty(o) &&
        i.setAttribute(o, t.attributes[o]);
    return i;
  },
  mathmlBuilder: (t, e) => vu(t.body, e),
});
at({
  type: "htmlmathml",
  names: ["\\html@mathml"],
  props: { numArgs: 2, allowedInText: !0 },
  handler: (t, e) => {
    var { parser: r } = t;
    return {
      type: "htmlmathml",
      mode: r.mode,
      html: Sn(e[0]),
      mathml: Sn(e[1]),
    };
  },
  htmlBuilder: (t, e) => {
    var r = Vn(t.html, e, !1);
    return me.makeFragment(r);
  },
  mathmlBuilder: (t, e) => vu(t.mathml, e),
});
var ky = function (e) {
  if (/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e)) return { number: +e, unit: "bp" };
  var r = /([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);
  if (!r) throw new qe("Invalid size: '" + e + "' in \\includegraphics");
  var n = { number: +(r[1] + r[2]), unit: r[3] };
  if (!EB(n))
    throw new qe("Invalid unit: '" + n.unit + "' in \\includegraphics.");
  return n;
};
at({
  type: "includegraphics",
  names: ["\\includegraphics"],
  props: {
    numArgs: 1,
    numOptionalArgs: 1,
    argTypes: ["raw", "url"],
    allowedInText: !1,
  },
  handler: (t, e, r) => {
    var { parser: n } = t,
      i = { number: 0, unit: "em" },
      o = { number: 0.9, unit: "em" },
      s = { number: 0, unit: "em" },
      a = "";
    if (r[0])
      for (
        var l = Yt(r[0], "raw").string, u = l.split(","), c = 0;
        c < u.length;
        c++
      ) {
        var f = u[c].split("=");
        if (f.length === 2) {
          var h = f[1].trim();
          switch (f[0].trim()) {
            case "alt":
              a = h;
              break;
            case "width":
              i = ky(h);
              break;
            case "height":
              o = ky(h);
              break;
            case "totalheight":
              s = ky(h);
              break;
            default:
              throw new qe("Invalid key: '" + f[0] + "' in \\includegraphics.");
          }
        }
      }
    var d = Yt(e[0], "url").url;
    return (
      a === "" &&
        ((a = d),
        (a = a.replace(/^.*[\\/]/, "")),
        (a = a.substring(0, a.lastIndexOf(".")))),
      n.settings.isTrusted({ command: "\\includegraphics", url: d })
        ? {
            type: "includegraphics",
            mode: n.mode,
            alt: a,
            width: i,
            height: o,
            totalheight: s,
            src: d,
          }
        : n.formatUnsupportedCmd("\\includegraphics")
    );
  },
  htmlBuilder: (t, e) => {
    var r = ln(t.height, e),
      n = 0;
    t.totalheight.number > 0 && (n = ln(t.totalheight, e) - r);
    var i = 0;
    t.width.number > 0 && (i = ln(t.width, e));
    var o = { height: Qe(r + n) };
    i > 0 && (o.width = Qe(i)), n > 0 && (o.verticalAlign = Qe(-n));
    var s = new Dre(t.src, t.alt, o);
    return (s.height = r), (s.depth = n), s;
  },
  mathmlBuilder: (t, e) => {
    var r = new je.MathNode("mglyph", []);
    r.setAttribute("alt", t.alt);
    var n = ln(t.height, e),
      i = 0;
    if (
      (t.totalheight.number > 0 &&
        ((i = ln(t.totalheight, e) - n), r.setAttribute("valign", Qe(-i))),
      r.setAttribute("height", Qe(n + i)),
      t.width.number > 0)
    ) {
      var o = ln(t.width, e);
      r.setAttribute("width", Qe(o));
    }
    return r.setAttribute("src", t.src), r;
  },
});
at({
  type: "kern",
  names: ["\\kern", "\\mkern", "\\hskip", "\\mskip"],
  props: { numArgs: 1, argTypes: ["size"], primitive: !0, allowedInText: !0 },
  handler(t, e) {
    var { parser: r, funcName: n } = t,
      i = Yt(e[0], "size");
    if (r.settings.strict) {
      var o = n[1] === "m",
        s = i.value.unit === "mu";
      o
        ? (s ||
            r.settings.reportNonstrict(
              "mathVsTextUnits",
              "LaTeX's " +
                n +
                " supports only mu units, " +
                ("not " + i.value.unit + " units")
            ),
          r.mode !== "math" &&
            r.settings.reportNonstrict(
              "mathVsTextUnits",
              "LaTeX's " + n + " works only in math mode"
            ))
        : s &&
          r.settings.reportNonstrict(
            "mathVsTextUnits",
            "LaTeX's " + n + " doesn't support mu units"
          );
    }
    return { type: "kern", mode: r.mode, dimension: i.value };
  },
  htmlBuilder(t, e) {
    return me.makeGlue(t.dimension, e);
  },
  mathmlBuilder(t, e) {
    var r = ln(t.dimension, e);
    return new je.SpaceNode(r);
  },
});
at({
  type: "lap",
  names: ["\\mathllap", "\\mathrlap", "\\mathclap"],
  props: { numArgs: 1, allowedInText: !0 },
  handler: (t, e) => {
    var { parser: r, funcName: n } = t,
      i = e[0];
    return { type: "lap", mode: r.mode, alignment: n.slice(5), body: i };
  },
  htmlBuilder: (t, e) => {
    var r;
    t.alignment === "clap"
      ? ((r = me.makeSpan([], [mr(t.body, e)])),
        (r = me.makeSpan(["inner"], [r], e)))
      : (r = me.makeSpan(["inner"], [mr(t.body, e)]));
    var n = me.makeSpan(["fix"], []),
      i = me.makeSpan([t.alignment], [r, n], e),
      o = me.makeSpan(["strut"]);
    return (
      (o.style.height = Qe(i.height + i.depth)),
      i.depth && (o.style.verticalAlign = Qe(-i.depth)),
      i.children.unshift(o),
      (i = me.makeSpan(["thinbox"], [i], e)),
      me.makeSpan(["mord", "vbox"], [i], e)
    );
  },
  mathmlBuilder: (t, e) => {
    var r = new je.MathNode("mpadded", [Nr(t.body, e)]);
    if (t.alignment !== "rlap") {
      var n = t.alignment === "llap" ? "-1" : "-0.5";
      r.setAttribute("lspace", n + "width");
    }
    return r.setAttribute("width", "0px"), r;
  },
});
at({
  type: "styling",
  names: ["\\(", "$"],
  props: { numArgs: 0, allowedInText: !0, allowedInMath: !1 },
  handler(t, e) {
    var { funcName: r, parser: n } = t,
      i = n.mode;
    n.switchMode("math");
    var o = r === "\\(" ? "\\)" : "$",
      s = n.parseExpression(!1, o);
    return (
      n.expect(o),
      n.switchMode(i),
      { type: "styling", mode: n.mode, style: "text", body: s }
    );
  },
});
at({
  type: "text",
  names: ["\\)", "\\]"],
  props: { numArgs: 0, allowedInText: !0, allowedInMath: !1 },
  handler(t, e) {
    throw new qe("Mismatched " + t.funcName);
  },
});
var lS = (t, e) => {
  switch (e.style.size) {
    case $t.DISPLAY.size:
      return t.display;
    case $t.TEXT.size:
      return t.text;
    case $t.SCRIPT.size:
      return t.script;
    case $t.SCRIPTSCRIPT.size:
      return t.scriptscript;
    default:
      return t.text;
  }
};
at({
  type: "mathchoice",
  names: ["\\mathchoice"],
  props: { numArgs: 4, primitive: !0 },
  handler: (t, e) => {
    var { parser: r } = t;
    return {
      type: "mathchoice",
      mode: r.mode,
      display: Sn(e[0]),
      text: Sn(e[1]),
      script: Sn(e[2]),
      scriptscript: Sn(e[3]),
    };
  },
  htmlBuilder: (t, e) => {
    var r = lS(t, e),
      n = Vn(r, e, !1);
    return me.makeFragment(n);
  },
  mathmlBuilder: (t, e) => {
    var r = lS(t, e);
    return vu(r, e);
  },
});
var uT = (t, e, r, n, i, o, s) => {
    t = me.makeSpan([], [t]);
    var a = r && Ft.isCharacterBox(r),
      l,
      u;
    if (e) {
      var c = mr(e, n.havingStyle(i.sup()), n);
      u = {
        elem: c,
        kern: Math.max(
          n.fontMetrics().bigOpSpacing1,
          n.fontMetrics().bigOpSpacing3 - c.depth
        ),
      };
    }
    if (r) {
      var f = mr(r, n.havingStyle(i.sub()), n);
      l = {
        elem: f,
        kern: Math.max(
          n.fontMetrics().bigOpSpacing2,
          n.fontMetrics().bigOpSpacing4 - f.height
        ),
      };
    }
    var h;
    if (u && l) {
      var d =
        n.fontMetrics().bigOpSpacing5 +
        l.elem.height +
        l.elem.depth +
        l.kern +
        t.depth +
        s;
      h = me.makeVList(
        {
          positionType: "bottom",
          positionData: d,
          children: [
            { type: "kern", size: n.fontMetrics().bigOpSpacing5 },
            { type: "elem", elem: l.elem, marginLeft: Qe(-o) },
            { type: "kern", size: l.kern },
            { type: "elem", elem: t },
            { type: "kern", size: u.kern },
            { type: "elem", elem: u.elem, marginLeft: Qe(o) },
            { type: "kern", size: n.fontMetrics().bigOpSpacing5 },
          ],
        },
        n
      );
    } else if (l) {
      var p = t.height - s;
      h = me.makeVList(
        {
          positionType: "top",
          positionData: p,
          children: [
            { type: "kern", size: n.fontMetrics().bigOpSpacing5 },
            { type: "elem", elem: l.elem, marginLeft: Qe(-o) },
            { type: "kern", size: l.kern },
            { type: "elem", elem: t },
          ],
        },
        n
      );
    } else if (u) {
      var m = t.depth + s;
      h = me.makeVList(
        {
          positionType: "bottom",
          positionData: m,
          children: [
            { type: "elem", elem: t },
            { type: "kern", size: u.kern },
            { type: "elem", elem: u.elem, marginLeft: Qe(o) },
            { type: "kern", size: n.fontMetrics().bigOpSpacing5 },
          ],
        },
        n
      );
    } else return t;
    var b = [h];
    if (l && o !== 0 && !a) {
      var D = me.makeSpan(["mspace"], [], n);
      (D.style.marginRight = Qe(o)), b.unshift(D);
    }
    return me.makeSpan(["mop", "op-limits"], b, n);
  },
  cT = ["\\smallint"],
  Ff = (t, e) => {
    var r,
      n,
      i = !1,
      o;
    t.type === "supsub"
      ? ((r = t.sup), (n = t.sub), (o = Yt(t.base, "op")), (i = !0))
      : (o = Yt(t, "op"));
    var s = e.style,
      a = !1;
    s.size === $t.DISPLAY.size &&
      o.symbol &&
      !Ft.contains(cT, o.name) &&
      (a = !0);
    var l;
    if (o.symbol) {
      var u = a ? "Size2-Regular" : "Size1-Regular",
        c = "";
      if (
        ((o.name === "\\oiint" || o.name === "\\oiiint") &&
          ((c = o.name.slice(1)),
          (o.name = c === "oiint" ? "\\iint" : "\\iiint")),
        (l = me.makeSymbol(o.name, u, "math", e, [
          "mop",
          "op-symbol",
          a ? "large-op" : "small-op",
        ])),
        c.length > 0)
      ) {
        var f = l.italic,
          h = me.staticSvg(c + "Size" + (a ? "2" : "1"), e);
        (l = me.makeVList(
          {
            positionType: "individualShift",
            children: [
              { type: "elem", elem: l, shift: 0 },
              { type: "elem", elem: h, shift: a ? 0.08 : 0 },
            ],
          },
          e
        )),
          (o.name = "\\" + c),
          l.classes.unshift("mop"),
          (l.italic = f);
      }
    } else if (o.body) {
      var d = Vn(o.body, e, !0);
      d.length === 1 && d[0] instanceof co
        ? ((l = d[0]), (l.classes[0] = "mop"))
        : (l = me.makeSpan(["mop"], d, e));
    } else {
      for (var p = [], m = 1; m < o.name.length; m++)
        p.push(me.mathsym(o.name[m], o.mode, e));
      l = me.makeSpan(["mop"], p, e);
    }
    var b = 0,
      D = 0;
    return (
      (l instanceof co || o.name === "\\oiint" || o.name === "\\oiiint") &&
        !o.suppressBaseShift &&
        ((b = (l.height - l.depth) / 2 - e.fontMetrics().axisHeight),
        (D = l.italic)),
      i
        ? uT(l, r, n, e, s, D, b)
        : (b && ((l.style.position = "relative"), (l.style.top = Qe(b))), l)
    );
  },
  wp = (t, e) => {
    var r;
    if (t.symbol)
      (r = new Gs("mo", [fo(t.name, t.mode)])),
        Ft.contains(cT, t.name) && r.setAttribute("largeop", "false");
    else if (t.body) r = new Gs("mo", us(t.body, e));
    else {
      r = new Gs("mi", [new _h(t.name.slice(1))]);
      var n = new Gs("mo", [fo("⁡", "text")]);
      t.parentIsSupSub ? (r = new Gs("mrow", [r, n])) : (r = NB([r, n]));
    }
    return r;
  },
  wne = {
    "∏": "\\prod",
    "∐": "\\coprod",
    "∑": "\\sum",
    "⋀": "\\bigwedge",
    "⋁": "\\bigvee",
    "⋂": "\\bigcap",
    "⋃": "\\bigcup",
    "⨀": "\\bigodot",
    "⨁": "\\bigoplus",
    "⨂": "\\bigotimes",
    "⨄": "\\biguplus",
    "⨆": "\\bigsqcup",
  };
at({
  type: "op",
  names: [
    "\\coprod",
    "\\bigvee",
    "\\bigwedge",
    "\\biguplus",
    "\\bigcap",
    "\\bigcup",
    "\\intop",
    "\\prod",
    "\\sum",
    "\\bigotimes",
    "\\bigoplus",
    "\\bigodot",
    "\\bigsqcup",
    "\\smallint",
    "∏",
    "∐",
    "∑",
    "⋀",
    "⋁",
    "⋂",
    "⋃",
    "⨀",
    "⨁",
    "⨂",
    "⨄",
    "⨆",
  ],
  props: { numArgs: 0 },
  handler: (t, e) => {
    var { parser: r, funcName: n } = t,
      i = n;
    return (
      i.length === 1 && (i = wne[i]),
      {
        type: "op",
        mode: r.mode,
        limits: !0,
        parentIsSupSub: !1,
        symbol: !0,
        name: i,
      }
    );
  },
  htmlBuilder: Ff,
  mathmlBuilder: wp,
});
at({
  type: "op",
  names: ["\\mathop"],
  props: { numArgs: 1, primitive: !0 },
  handler: (t, e) => {
    var { parser: r } = t,
      n = e[0];
    return {
      type: "op",
      mode: r.mode,
      limits: !1,
      parentIsSupSub: !1,
      symbol: !1,
      body: Sn(n),
    };
  },
  htmlBuilder: Ff,
  mathmlBuilder: wp,
});
var xne = {
  "∫": "\\int",
  "∬": "\\iint",
  "∭": "\\iiint",
  "∮": "\\oint",
  "∯": "\\oiint",
  "∰": "\\oiiint",
};
at({
  type: "op",
  names: [
    "\\arcsin",
    "\\arccos",
    "\\arctan",
    "\\arctg",
    "\\arcctg",
    "\\arg",
    "\\ch",
    "\\cos",
    "\\cosec",
    "\\cosh",
    "\\cot",
    "\\cotg",
    "\\coth",
    "\\csc",
    "\\ctg",
    "\\cth",
    "\\deg",
    "\\dim",
    "\\exp",
    "\\hom",
    "\\ker",
    "\\lg",
    "\\ln",
    "\\log",
    "\\sec",
    "\\sin",
    "\\sinh",
    "\\sh",
    "\\tan",
    "\\tanh",
    "\\tg",
    "\\th",
  ],
  props: { numArgs: 0 },
  handler(t) {
    var { parser: e, funcName: r } = t;
    return {
      type: "op",
      mode: e.mode,
      limits: !1,
      parentIsSupSub: !1,
      symbol: !1,
      name: r,
    };
  },
  htmlBuilder: Ff,
  mathmlBuilder: wp,
});
at({
  type: "op",
  names: [
    "\\det",
    "\\gcd",
    "\\inf",
    "\\lim",
    "\\max",
    "\\min",
    "\\Pr",
    "\\sup",
  ],
  props: { numArgs: 0 },
  handler(t) {
    var { parser: e, funcName: r } = t;
    return {
      type: "op",
      mode: e.mode,
      limits: !0,
      parentIsSupSub: !1,
      symbol: !1,
      name: r,
    };
  },
  htmlBuilder: Ff,
  mathmlBuilder: wp,
});
at({
  type: "op",
  names: [
    "\\int",
    "\\iint",
    "\\iiint",
    "\\oint",
    "\\oiint",
    "\\oiiint",
    "∫",
    "∬",
    "∭",
    "∮",
    "∯",
    "∰",
  ],
  props: { numArgs: 0 },
  handler(t) {
    var { parser: e, funcName: r } = t,
      n = r;
    return (
      n.length === 1 && (n = xne[n]),
      {
        type: "op",
        mode: e.mode,
        limits: !1,
        parentIsSupSub: !1,
        symbol: !0,
        name: n,
      }
    );
  },
  htmlBuilder: Ff,
  mathmlBuilder: wp,
});
var fT = (t, e) => {
    var r,
      n,
      i = !1,
      o;
    t.type === "supsub"
      ? ((r = t.sup), (n = t.sub), (o = Yt(t.base, "operatorname")), (i = !0))
      : (o = Yt(t, "operatorname"));
    var s;
    if (o.body.length > 0) {
      for (
        var a = o.body.map((f) => {
            var h = f.text;
            return typeof h == "string"
              ? { type: "textord", mode: f.mode, text: h }
              : f;
          }),
          l = Vn(a, e.withFont("mathrm"), !0),
          u = 0;
        u < l.length;
        u++
      ) {
        var c = l[u];
        c instanceof co &&
          (c.text = c.text.replace(/\u2212/, "-").replace(/\u2217/, "*"));
      }
      s = me.makeSpan(["mop"], l, e);
    } else s = me.makeSpan(["mop"], [], e);
    return i ? uT(s, r, n, e, e.style, 0, 0) : s;
  },
  kne = (t, e) => {
    for (
      var r = us(t.body, e.withFont("mathrm")), n = !0, i = 0;
      i < r.length;
      i++
    ) {
      var o = r[i];
      if (!(o instanceof je.SpaceNode))
        if (o instanceof je.MathNode)
          switch (o.type) {
            case "mi":
            case "mn":
            case "ms":
            case "mspace":
            case "mtext":
              break;
            case "mo": {
              var s = o.children[0];
              o.children.length === 1 && s instanceof je.TextNode
                ? (s.text = s.text
                    .replace(/\u2212/, "-")
                    .replace(/\u2217/, "*"))
                : (n = !1);
              break;
            }
            default:
              n = !1;
          }
        else n = !1;
    }
    if (n) {
      var a = r.map((c) => c.toText()).join("");
      r = [new je.TextNode(a)];
    }
    var l = new je.MathNode("mi", r);
    l.setAttribute("mathvariant", "normal");
    var u = new je.MathNode("mo", [fo("⁡", "text")]);
    return t.parentIsSupSub
      ? new je.MathNode("mrow", [l, u])
      : je.newDocumentFragment([l, u]);
  };
at({
  type: "operatorname",
  names: ["\\operatorname@", "\\operatornamewithlimits"],
  props: { numArgs: 1 },
  handler: (t, e) => {
    var { parser: r, funcName: n } = t,
      i = e[0];
    return {
      type: "operatorname",
      mode: r.mode,
      body: Sn(i),
      alwaysHandleSupSub: n === "\\operatornamewithlimits",
      limits: !1,
      parentIsSupSub: !1,
    };
  },
  htmlBuilder: fT,
  mathmlBuilder: kne,
});
O("\\operatorname", "\\@ifstar\\operatornamewithlimits\\operatorname@");
T0({
  type: "ordgroup",
  htmlBuilder(t, e) {
    return t.semisimple
      ? me.makeFragment(Vn(t.body, e, !1))
      : me.makeSpan(["mord"], Vn(t.body, e, !0), e);
  },
  mathmlBuilder(t, e) {
    return vu(t.body, e, !0);
  },
});
at({
  type: "overline",
  names: ["\\overline"],
  props: { numArgs: 1 },
  handler(t, e) {
    var { parser: r } = t,
      n = e[0];
    return { type: "overline", mode: r.mode, body: n };
  },
  htmlBuilder(t, e) {
    var r = mr(t.body, e.havingCrampedStyle()),
      n = me.makeLineSpan("overline-line", e),
      i = e.fontMetrics().defaultRuleThickness,
      o = me.makeVList(
        {
          positionType: "firstBaseline",
          children: [
            { type: "elem", elem: r },
            { type: "kern", size: 3 * i },
            { type: "elem", elem: n },
            { type: "kern", size: i },
          ],
        },
        e
      );
    return me.makeSpan(["mord", "overline"], [o], e);
  },
  mathmlBuilder(t, e) {
    var r = new je.MathNode("mo", [new je.TextNode("‾")]);
    r.setAttribute("stretchy", "true");
    var n = new je.MathNode("mover", [Nr(t.body, e), r]);
    return n.setAttribute("accent", "true"), n;
  },
});
at({
  type: "phantom",
  names: ["\\phantom"],
  props: { numArgs: 1, allowedInText: !0 },
  handler: (t, e) => {
    var { parser: r } = t,
      n = e[0];
    return { type: "phantom", mode: r.mode, body: Sn(n) };
  },
  htmlBuilder: (t, e) => {
    var r = Vn(t.body, e.withPhantom(), !1);
    return me.makeFragment(r);
  },
  mathmlBuilder: (t, e) => {
    var r = us(t.body, e);
    return new je.MathNode("mphantom", r);
  },
});
at({
  type: "hphantom",
  names: ["\\hphantom"],
  props: { numArgs: 1, allowedInText: !0 },
  handler: (t, e) => {
    var { parser: r } = t,
      n = e[0];
    return { type: "hphantom", mode: r.mode, body: n };
  },
  htmlBuilder: (t, e) => {
    var r = me.makeSpan([], [mr(t.body, e.withPhantom())]);
    if (((r.height = 0), (r.depth = 0), r.children))
      for (var n = 0; n < r.children.length; n++)
        (r.children[n].height = 0), (r.children[n].depth = 0);
    return (
      (r = me.makeVList(
        {
          positionType: "firstBaseline",
          children: [{ type: "elem", elem: r }],
        },
        e
      )),
      me.makeSpan(["mord"], [r], e)
    );
  },
  mathmlBuilder: (t, e) => {
    var r = us(Sn(t.body), e),
      n = new je.MathNode("mphantom", r),
      i = new je.MathNode("mpadded", [n]);
    return i.setAttribute("height", "0px"), i.setAttribute("depth", "0px"), i;
  },
});
at({
  type: "vphantom",
  names: ["\\vphantom"],
  props: { numArgs: 1, allowedInText: !0 },
  handler: (t, e) => {
    var { parser: r } = t,
      n = e[0];
    return { type: "vphantom", mode: r.mode, body: n };
  },
  htmlBuilder: (t, e) => {
    var r = me.makeSpan(["inner"], [mr(t.body, e.withPhantom())]),
      n = me.makeSpan(["fix"], []);
    return me.makeSpan(["mord", "rlap"], [r, n], e);
  },
  mathmlBuilder: (t, e) => {
    var r = us(Sn(t.body), e),
      n = new je.MathNode("mphantom", r),
      i = new je.MathNode("mpadded", [n]);
    return i.setAttribute("width", "0px"), i;
  },
});
at({
  type: "raisebox",
  names: ["\\raisebox"],
  props: { numArgs: 2, argTypes: ["size", "hbox"], allowedInText: !0 },
  handler(t, e) {
    var { parser: r } = t,
      n = Yt(e[0], "size").value,
      i = e[1];
    return { type: "raisebox", mode: r.mode, dy: n, body: i };
  },
  htmlBuilder(t, e) {
    var r = mr(t.body, e),
      n = ln(t.dy, e);
    return me.makeVList(
      {
        positionType: "shift",
        positionData: -n,
        children: [{ type: "elem", elem: r }],
      },
      e
    );
  },
  mathmlBuilder(t, e) {
    var r = new je.MathNode("mpadded", [Nr(t.body, e)]),
      n = t.dy.number + t.dy.unit;
    return r.setAttribute("voffset", n), r;
  },
});
at({
  type: "internal",
  names: ["\\relax"],
  props: { numArgs: 0, allowedInText: !0 },
  handler(t) {
    var { parser: e } = t;
    return { type: "internal", mode: e.mode };
  },
});
at({
  type: "rule",
  names: ["\\rule"],
  props: { numArgs: 2, numOptionalArgs: 1, argTypes: ["size", "size", "size"] },
  handler(t, e, r) {
    var { parser: n } = t,
      i = r[0],
      o = Yt(e[0], "size"),
      s = Yt(e[1], "size");
    return {
      type: "rule",
      mode: n.mode,
      shift: i && Yt(i, "size").value,
      width: o.value,
      height: s.value,
    };
  },
  htmlBuilder(t, e) {
    var r = me.makeSpan(["mord", "rule"], [], e),
      n = ln(t.width, e),
      i = ln(t.height, e),
      o = t.shift ? ln(t.shift, e) : 0;
    return (
      (r.style.borderRightWidth = Qe(n)),
      (r.style.borderTopWidth = Qe(i)),
      (r.style.bottom = Qe(o)),
      (r.width = n),
      (r.height = i + o),
      (r.depth = -o),
      (r.maxFontSize = i * 1.125 * e.sizeMultiplier),
      r
    );
  },
  mathmlBuilder(t, e) {
    var r = ln(t.width, e),
      n = ln(t.height, e),
      i = t.shift ? ln(t.shift, e) : 0,
      o = (e.color && e.getColor()) || "black",
      s = new je.MathNode("mspace");
    s.setAttribute("mathbackground", o),
      s.setAttribute("width", Qe(r)),
      s.setAttribute("height", Qe(n));
    var a = new je.MathNode("mpadded", [s]);
    return (
      i >= 0
        ? a.setAttribute("height", Qe(i))
        : (a.setAttribute("height", Qe(i)), a.setAttribute("depth", Qe(-i))),
      a.setAttribute("voffset", Qe(i)),
      a
    );
  },
});
function hT(t, e, r) {
  for (
    var n = Vn(t, e, !1), i = e.sizeMultiplier / r.sizeMultiplier, o = 0;
    o < n.length;
    o++
  ) {
    var s = n[o].classes.indexOf("sizing");
    s < 0
      ? Array.prototype.push.apply(n[o].classes, e.sizingClasses(r))
      : n[o].classes[s + 1] === "reset-size" + e.size &&
        (n[o].classes[s + 1] = "reset-size" + r.size),
      (n[o].height *= i),
      (n[o].depth *= i);
  }
  return me.makeFragment(n);
}
var uS = [
    "\\tiny",
    "\\sixptsize",
    "\\scriptsize",
    "\\footnotesize",
    "\\small",
    "\\normalsize",
    "\\large",
    "\\Large",
    "\\LARGE",
    "\\huge",
    "\\Huge",
  ],
  Sne = (t, e) => {
    var r = e.havingSize(t.size);
    return hT(t.body, r, e);
  };
at({
  type: "sizing",
  names: uS,
  props: { numArgs: 0, allowedInText: !0 },
  handler: (t, e) => {
    var { breakOnTokenText: r, funcName: n, parser: i } = t,
      o = i.parseExpression(!1, r);
    return { type: "sizing", mode: i.mode, size: uS.indexOf(n) + 1, body: o };
  },
  htmlBuilder: Sne,
  mathmlBuilder: (t, e) => {
    var r = e.havingSize(t.size),
      n = us(t.body, r),
      i = new je.MathNode("mstyle", n);
    return i.setAttribute("mathsize", Qe(r.sizeMultiplier)), i;
  },
});
at({
  type: "smash",
  names: ["\\smash"],
  props: { numArgs: 1, numOptionalArgs: 1, allowedInText: !0 },
  handler: (t, e, r) => {
    var { parser: n } = t,
      i = !1,
      o = !1,
      s = r[0] && Yt(r[0], "ordgroup");
    if (s)
      for (var a = "", l = 0; l < s.body.length; ++l) {
        var u = s.body[l];
        if (((a = u.text), a === "t")) i = !0;
        else if (a === "b") o = !0;
        else {
          (i = !1), (o = !1);
          break;
        }
      }
    else (i = !0), (o = !0);
    var c = e[0];
    return {
      type: "smash",
      mode: n.mode,
      body: c,
      smashHeight: i,
      smashDepth: o,
    };
  },
  htmlBuilder: (t, e) => {
    var r = me.makeSpan([], [mr(t.body, e)]);
    if (!t.smashHeight && !t.smashDepth) return r;
    if (t.smashHeight && ((r.height = 0), r.children))
      for (var n = 0; n < r.children.length; n++) r.children[n].height = 0;
    if (t.smashDepth && ((r.depth = 0), r.children))
      for (var i = 0; i < r.children.length; i++) r.children[i].depth = 0;
    var o = me.makeVList(
      { positionType: "firstBaseline", children: [{ type: "elem", elem: r }] },
      e
    );
    return me.makeSpan(["mord"], [o], e);
  },
  mathmlBuilder: (t, e) => {
    var r = new je.MathNode("mpadded", [Nr(t.body, e)]);
    return (
      t.smashHeight && r.setAttribute("height", "0px"),
      t.smashDepth && r.setAttribute("depth", "0px"),
      r
    );
  },
});
at({
  type: "sqrt",
  names: ["\\sqrt"],
  props: { numArgs: 1, numOptionalArgs: 1 },
  handler(t, e, r) {
    var { parser: n } = t,
      i = r[0],
      o = e[0];
    return { type: "sqrt", mode: n.mode, body: o, index: i };
  },
  htmlBuilder(t, e) {
    var r = mr(t.body, e.havingCrampedStyle());
    r.height === 0 && (r.height = e.fontMetrics().xHeight),
      (r = me.wrapFragment(r, e));
    var n = e.fontMetrics(),
      i = n.defaultRuleThickness,
      o = i;
    e.style.id < $t.TEXT.id && (o = e.fontMetrics().xHeight);
    var s = i + o / 4,
      a = r.height + r.depth + s + i,
      { span: l, ruleWidth: u, advanceWidth: c } = ja.sqrtImage(a, e),
      f = l.height - u;
    f > r.height + r.depth + s && (s = (s + f - r.height - r.depth) / 2);
    var h = l.height - r.height - s - u;
    r.style.paddingLeft = Qe(c);
    var d = me.makeVList(
      {
        positionType: "firstBaseline",
        children: [
          { type: "elem", elem: r, wrapperClasses: ["svg-align"] },
          { type: "kern", size: -(r.height + h) },
          { type: "elem", elem: l },
          { type: "kern", size: u },
        ],
      },
      e
    );
    if (t.index) {
      var p = e.havingStyle($t.SCRIPTSCRIPT),
        m = mr(t.index, p, e),
        b = 0.6 * (d.height - d.depth),
        D = me.makeVList(
          {
            positionType: "shift",
            positionData: -b,
            children: [{ type: "elem", elem: m }],
          },
          e
        ),
        k = me.makeSpan(["root"], [D]);
      return me.makeSpan(["mord", "sqrt"], [k, d], e);
    } else return me.makeSpan(["mord", "sqrt"], [d], e);
  },
  mathmlBuilder(t, e) {
    var { body: r, index: n } = t;
    return n
      ? new je.MathNode("mroot", [Nr(r, e), Nr(n, e)])
      : new je.MathNode("msqrt", [Nr(r, e)]);
  },
});
var cS = {
  display: $t.DISPLAY,
  text: $t.TEXT,
  script: $t.SCRIPT,
  scriptscript: $t.SCRIPTSCRIPT,
};
at({
  type: "styling",
  names: [
    "\\displaystyle",
    "\\textstyle",
    "\\scriptstyle",
    "\\scriptscriptstyle",
  ],
  props: { numArgs: 0, allowedInText: !0, primitive: !0 },
  handler(t, e) {
    var { breakOnTokenText: r, funcName: n, parser: i } = t,
      o = i.parseExpression(!0, r),
      s = n.slice(1, n.length - 5);
    return { type: "styling", mode: i.mode, style: s, body: o };
  },
  htmlBuilder(t, e) {
    var r = cS[t.style],
      n = e.havingStyle(r).withFont("");
    return hT(t.body, n, e);
  },
  mathmlBuilder(t, e) {
    var r = cS[t.style],
      n = e.havingStyle(r),
      i = us(t.body, n),
      o = new je.MathNode("mstyle", i),
      s = {
        display: ["0", "true"],
        text: ["0", "false"],
        script: ["1", "false"],
        scriptscript: ["2", "false"],
      },
      a = s[t.style];
    return (
      o.setAttribute("scriptlevel", a[0]),
      o.setAttribute("displaystyle", a[1]),
      o
    );
  },
});
var Cne = function (e, r) {
  var n = e.base;
  if (n)
    if (n.type === "op") {
      var i =
        n.limits && (r.style.size === $t.DISPLAY.size || n.alwaysHandleSupSub);
      return i ? Ff : null;
    } else if (n.type === "operatorname") {
      var o =
        n.alwaysHandleSupSub && (r.style.size === $t.DISPLAY.size || n.limits);
      return o ? fT : null;
    } else {
      if (n.type === "accent") return Ft.isCharacterBox(n.base) ? ib : null;
      if (n.type === "horizBrace") {
        var s = !e.sub;
        return s === n.isOver ? lT : null;
      } else return null;
    }
  else return null;
};
T0({
  type: "supsub",
  htmlBuilder(t, e) {
    var r = Cne(t, e);
    if (r) return r(t, e);
    var { base: n, sup: i, sub: o } = t,
      s = mr(n, e),
      a,
      l,
      u = e.fontMetrics(),
      c = 0,
      f = 0,
      h = n && Ft.isCharacterBox(n);
    if (i) {
      var d = e.havingStyle(e.style.sup());
      (a = mr(i, d, e)),
        h ||
          (c =
            s.height -
            (d.fontMetrics().supDrop * d.sizeMultiplier) / e.sizeMultiplier);
    }
    if (o) {
      var p = e.havingStyle(e.style.sub());
      (l = mr(o, p, e)),
        h ||
          (f =
            s.depth +
            (p.fontMetrics().subDrop * p.sizeMultiplier) / e.sizeMultiplier);
    }
    var m;
    e.style === $t.DISPLAY
      ? (m = u.sup1)
      : e.style.cramped
        ? (m = u.sup3)
        : (m = u.sup2);
    var b = e.sizeMultiplier,
      D = Qe(0.5 / u.ptPerEm / b),
      k = null;
    if (l) {
      var S =
        t.base &&
        t.base.type === "op" &&
        t.base.name &&
        (t.base.name === "\\oiint" || t.base.name === "\\oiiint");
      (s instanceof co || S) && (k = Qe(-s.italic));
    }
    var B;
    if (a && l) {
      (c = Math.max(c, m, a.depth + 0.25 * u.xHeight)),
        (f = Math.max(f, u.sub2));
      var $ = u.defaultRuleThickness,
        T = 4 * $;
      if (c - a.depth - (l.height - f) < T) {
        f = T - (c - a.depth) + l.height;
        var P = 0.8 * u.xHeight - (c - a.depth);
        P > 0 && ((c += P), (f -= P));
      }
      var te = [
        { type: "elem", elem: l, shift: f, marginRight: D, marginLeft: k },
        { type: "elem", elem: a, shift: -c, marginRight: D },
      ];
      B = me.makeVList({ positionType: "individualShift", children: te }, e);
    } else if (l) {
      f = Math.max(f, u.sub1, l.height - 0.8 * u.xHeight);
      var ee = [{ type: "elem", elem: l, marginLeft: k, marginRight: D }];
      B = me.makeVList(
        { positionType: "shift", positionData: f, children: ee },
        e
      );
    } else if (a)
      (c = Math.max(c, m, a.depth + 0.25 * u.xHeight)),
        (B = me.makeVList(
          {
            positionType: "shift",
            positionData: -c,
            children: [{ type: "elem", elem: a, marginRight: D }],
          },
          e
        ));
    else throw new Error("supsub must have either sup or sub.");
    var de = h6(s, "right") || "mord";
    return me.makeSpan([de], [s, me.makeSpan(["msupsub"], [B])], e);
  },
  mathmlBuilder(t, e) {
    var r = !1,
      n,
      i;
    t.base &&
      t.base.type === "horizBrace" &&
      ((i = !!t.sup), i === t.base.isOver && ((r = !0), (n = t.base.isOver))),
      t.base &&
        (t.base.type === "op" || t.base.type === "operatorname") &&
        (t.base.parentIsSupSub = !0);
    var o = [Nr(t.base, e)];
    t.sub && o.push(Nr(t.sub, e)), t.sup && o.push(Nr(t.sup, e));
    var s;
    if (r) s = n ? "mover" : "munder";
    else if (t.sub)
      if (t.sup) {
        var u = t.base;
        (u && u.type === "op" && u.limits && e.style === $t.DISPLAY) ||
        (u &&
          u.type === "operatorname" &&
          u.alwaysHandleSupSub &&
          (e.style === $t.DISPLAY || u.limits))
          ? (s = "munderover")
          : (s = "msubsup");
      } else {
        var l = t.base;
        (l &&
          l.type === "op" &&
          l.limits &&
          (e.style === $t.DISPLAY || l.alwaysHandleSupSub)) ||
        (l &&
          l.type === "operatorname" &&
          l.alwaysHandleSupSub &&
          (l.limits || e.style === $t.DISPLAY))
          ? (s = "munder")
          : (s = "msub");
      }
    else {
      var a = t.base;
      (a &&
        a.type === "op" &&
        a.limits &&
        (e.style === $t.DISPLAY || a.alwaysHandleSupSub)) ||
      (a &&
        a.type === "operatorname" &&
        a.alwaysHandleSupSub &&
        (a.limits || e.style === $t.DISPLAY))
        ? (s = "mover")
        : (s = "msup");
    }
    return new je.MathNode(s, o);
  },
});
T0({
  type: "atom",
  htmlBuilder(t, e) {
    return me.mathsym(t.text, t.mode, e, ["m" + t.family]);
  },
  mathmlBuilder(t, e) {
    var r = new je.MathNode("mo", [fo(t.text, t.mode)]);
    if (t.family === "bin") {
      var n = rb(t, e);
      n === "bold-italic" && r.setAttribute("mathvariant", n);
    } else
      t.family === "punct"
        ? r.setAttribute("separator", "true")
        : (t.family === "open" || t.family === "close") &&
          r.setAttribute("stretchy", "false");
    return r;
  },
});
var dT = { mi: "italic", mn: "normal", mtext: "normal" };
T0({
  type: "mathord",
  htmlBuilder(t, e) {
    return me.makeOrd(t, e, "mathord");
  },
  mathmlBuilder(t, e) {
    var r = new je.MathNode("mi", [fo(t.text, t.mode, e)]),
      n = rb(t, e) || "italic";
    return n !== dT[r.type] && r.setAttribute("mathvariant", n), r;
  },
});
T0({
  type: "textord",
  htmlBuilder(t, e) {
    return me.makeOrd(t, e, "textord");
  },
  mathmlBuilder(t, e) {
    var r = fo(t.text, t.mode, e),
      n = rb(t, e) || "normal",
      i;
    return (
      t.mode === "text"
        ? (i = new je.MathNode("mtext", [r]))
        : /[0-9]/.test(t.text)
          ? (i = new je.MathNode("mn", [r]))
          : t.text === "\\prime"
            ? (i = new je.MathNode("mo", [r]))
            : (i = new je.MathNode("mi", [r])),
      n !== dT[i.type] && i.setAttribute("mathvariant", n),
      i
    );
  },
});
var Sy = { "\\nobreak": "nobreak", "\\allowbreak": "allowbreak" },
  Cy = {
    " ": {},
    "\\ ": {},
    "~": { className: "nobreak" },
    "\\space": {},
    "\\nobreakspace": { className: "nobreak" },
  };
T0({
  type: "spacing",
  htmlBuilder(t, e) {
    if (Cy.hasOwnProperty(t.text)) {
      var r = Cy[t.text].className || "";
      if (t.mode === "text") {
        var n = me.makeOrd(t, e, "textord");
        return n.classes.push(r), n;
      } else
        return me.makeSpan(["mspace", r], [me.mathsym(t.text, t.mode, e)], e);
    } else {
      if (Sy.hasOwnProperty(t.text))
        return me.makeSpan(["mspace", Sy[t.text]], [], e);
      throw new qe('Unknown type of space "' + t.text + '"');
    }
  },
  mathmlBuilder(t, e) {
    var r;
    if (Cy.hasOwnProperty(t.text))
      r = new je.MathNode("mtext", [new je.TextNode(" ")]);
    else {
      if (Sy.hasOwnProperty(t.text)) return new je.MathNode("mspace");
      throw new qe('Unknown type of space "' + t.text + '"');
    }
    return r;
  },
});
var fS = () => {
  var t = new je.MathNode("mtd", []);
  return t.setAttribute("width", "50%"), t;
};
T0({
  type: "tag",
  mathmlBuilder(t, e) {
    var r = new je.MathNode("mtable", [
      new je.MathNode("mtr", [
        fS(),
        new je.MathNode("mtd", [vu(t.body, e)]),
        fS(),
        new je.MathNode("mtd", [vu(t.tag, e)]),
      ]),
    ]);
    return r.setAttribute("width", "100%"), r;
  },
});
var hS = {
    "\\text": void 0,
    "\\textrm": "textrm",
    "\\textsf": "textsf",
    "\\texttt": "texttt",
    "\\textnormal": "textrm",
  },
  dS = { "\\textbf": "textbf", "\\textmd": "textmd" },
  Ane = { "\\textit": "textit", "\\textup": "textup" },
  pS = (t, e) => {
    var r = t.font;
    return r
      ? hS[r]
        ? e.withTextFontFamily(hS[r])
        : dS[r]
          ? e.withTextFontWeight(dS[r])
          : e.withTextFontShape(Ane[r])
      : e;
  };
at({
  type: "text",
  names: [
    "\\text",
    "\\textrm",
    "\\textsf",
    "\\texttt",
    "\\textnormal",
    "\\textbf",
    "\\textmd",
    "\\textit",
    "\\textup",
  ],
  props: {
    numArgs: 1,
    argTypes: ["text"],
    allowedInArgument: !0,
    allowedInText: !0,
  },
  handler(t, e) {
    var { parser: r, funcName: n } = t,
      i = e[0];
    return { type: "text", mode: r.mode, body: Sn(i), font: n };
  },
  htmlBuilder(t, e) {
    var r = pS(t, e),
      n = Vn(t.body, r, !0);
    return me.makeSpan(["mord", "text"], n, r);
  },
  mathmlBuilder(t, e) {
    var r = pS(t, e);
    return vu(t.body, r);
  },
});
at({
  type: "underline",
  names: ["\\underline"],
  props: { numArgs: 1, allowedInText: !0 },
  handler(t, e) {
    var { parser: r } = t;
    return { type: "underline", mode: r.mode, body: e[0] };
  },
  htmlBuilder(t, e) {
    var r = mr(t.body, e),
      n = me.makeLineSpan("underline-line", e),
      i = e.fontMetrics().defaultRuleThickness,
      o = me.makeVList(
        {
          positionType: "top",
          positionData: r.height,
          children: [
            { type: "kern", size: i },
            { type: "elem", elem: n },
            { type: "kern", size: 3 * i },
            { type: "elem", elem: r },
          ],
        },
        e
      );
    return me.makeSpan(["mord", "underline"], [o], e);
  },
  mathmlBuilder(t, e) {
    var r = new je.MathNode("mo", [new je.TextNode("‾")]);
    r.setAttribute("stretchy", "true");
    var n = new je.MathNode("munder", [Nr(t.body, e), r]);
    return n.setAttribute("accentunder", "true"), n;
  },
});
at({
  type: "vcenter",
  names: ["\\vcenter"],
  props: { numArgs: 1, argTypes: ["original"], allowedInText: !1 },
  handler(t, e) {
    var { parser: r } = t;
    return { type: "vcenter", mode: r.mode, body: e[0] };
  },
  htmlBuilder(t, e) {
    var r = mr(t.body, e),
      n = e.fontMetrics().axisHeight,
      i = 0.5 * (r.height - n - (r.depth + n));
    return me.makeVList(
      {
        positionType: "shift",
        positionData: i,
        children: [{ type: "elem", elem: r }],
      },
      e
    );
  },
  mathmlBuilder(t, e) {
    return new je.MathNode("mpadded", [Nr(t.body, e)], ["vcenter"]);
  },
});
at({
  type: "verb",
  names: ["\\verb"],
  props: { numArgs: 0, allowedInText: !0 },
  handler(t, e, r) {
    throw new qe("\\verb ended by end of line instead of matching delimiter");
  },
  htmlBuilder(t, e) {
    for (
      var r = mS(t), n = [], i = e.havingStyle(e.style.text()), o = 0;
      o < r.length;
      o++
    ) {
      var s = r[o];
      s === "~" && (s = "\\textasciitilde"),
        n.push(
          me.makeSymbol(s, "Typewriter-Regular", t.mode, i, ["mord", "texttt"])
        );
    }
    return me.makeSpan(
      ["mord", "text"].concat(i.sizingClasses(e)),
      me.tryCombineChars(n),
      i
    );
  },
  mathmlBuilder(t, e) {
    var r = new je.TextNode(mS(t)),
      n = new je.MathNode("mtext", [r]);
    return n.setAttribute("mathvariant", "monospace"), n;
  },
});
var mS = (t) => t.body.replace(/ /g, t.star ? "␣" : " "),
  zl = RB,
  pT = `[ \r
	]`,
  Ene = "\\\\[a-zA-Z@]+",
  Fne = "\\\\[^\uD800-\uDFFF]",
  Mne = "(" + Ene + ")" + pT + "*",
  _ne = `\\\\(
|[ \r	]+
?)[ \r	]*`,
  g6 = "[̀-ͯ]",
  $ne = new RegExp(g6 + "+$"),
  One =
    "(" +
    pT +
    "+)|" +
    (_ne + "|") +
    "([!-\\[\\]-‧‪-퟿豈-￿]" +
    (g6 + "*") +
    "|[\uD800-\uDBFF][\uDC00-\uDFFF]" +
    (g6 + "*") +
    "|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5" +
    ("|" + Mne) +
    ("|" + Fne + ")");
class gS {
  constructor(e, r) {
    (this.input = void 0),
      (this.settings = void 0),
      (this.tokenRegex = void 0),
      (this.catcodes = void 0),
      (this.input = e),
      (this.settings = r),
      (this.tokenRegex = new RegExp(One, "g")),
      (this.catcodes = { "%": 14, "~": 13 });
  }
  setCatcode(e, r) {
    this.catcodes[e] = r;
  }
  lex() {
    var e = this.input,
      r = this.tokenRegex.lastIndex;
    if (r === e.length) return new ro("EOF", new ds(this, r, r));
    var n = this.tokenRegex.exec(e);
    if (n === null || n.index !== r)
      throw new qe(
        "Unexpected character: '" + e[r] + "'",
        new ro(e[r], new ds(this, r, r + 1))
      );
    var i = n[6] || n[3] || (n[2] ? "\\ " : " ");
    if (this.catcodes[i] === 14) {
      var o = e.indexOf(
        `
`,
        this.tokenRegex.lastIndex
      );
      return (
        o === -1
          ? ((this.tokenRegex.lastIndex = e.length),
            this.settings.reportNonstrict(
              "commentAtEnd",
              "% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)"
            ))
          : (this.tokenRegex.lastIndex = o + 1),
        this.lex()
      );
    }
    return new ro(i, new ds(this, r, this.tokenRegex.lastIndex));
  }
}
class Bne {
  constructor(e, r) {
    e === void 0 && (e = {}),
      r === void 0 && (r = {}),
      (this.current = void 0),
      (this.builtins = void 0),
      (this.undefStack = void 0),
      (this.current = r),
      (this.builtins = e),
      (this.undefStack = []);
  }
  beginGroup() {
    this.undefStack.push({});
  }
  endGroup() {
    if (this.undefStack.length === 0)
      throw new qe(
        "Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug"
      );
    var e = this.undefStack.pop();
    for (var r in e)
      e.hasOwnProperty(r) &&
        (e[r] == null ? delete this.current[r] : (this.current[r] = e[r]));
  }
  endGroups() {
    for (; this.undefStack.length > 0; ) this.endGroup();
  }
  has(e) {
    return this.current.hasOwnProperty(e) || this.builtins.hasOwnProperty(e);
  }
  get(e) {
    return this.current.hasOwnProperty(e) ? this.current[e] : this.builtins[e];
  }
  set(e, r, n) {
    if ((n === void 0 && (n = !1), n)) {
      for (var i = 0; i < this.undefStack.length; i++)
        delete this.undefStack[i][e];
      this.undefStack.length > 0 &&
        (this.undefStack[this.undefStack.length - 1][e] = r);
    } else {
      var o = this.undefStack[this.undefStack.length - 1];
      o && !o.hasOwnProperty(e) && (o[e] = this.current[e]);
    }
    r == null ? delete this.current[e] : (this.current[e] = r);
  }
}
var Tne = nT;
O("\\noexpand", function (t) {
  var e = t.popToken();
  return (
    t.isExpandable(e.text) && ((e.noexpand = !0), (e.treatAsRelax = !0)),
    { tokens: [e], numArgs: 0 }
  );
});
O("\\expandafter", function (t) {
  var e = t.popToken();
  return t.expandOnce(!0), { tokens: [e], numArgs: 0 };
});
O("\\@firstoftwo", function (t) {
  var e = t.consumeArgs(2);
  return { tokens: e[0], numArgs: 0 };
});
O("\\@secondoftwo", function (t) {
  var e = t.consumeArgs(2);
  return { tokens: e[1], numArgs: 0 };
});
O("\\@ifnextchar", function (t) {
  var e = t.consumeArgs(3);
  t.consumeSpaces();
  var r = t.future();
  return e[0].length === 1 && e[0][0].text === r.text
    ? { tokens: e[1], numArgs: 0 }
    : { tokens: e[2], numArgs: 0 };
});
O("\\@ifstar", "\\@ifnextchar *{\\@firstoftwo{#1}}");
O("\\TextOrMath", function (t) {
  var e = t.consumeArgs(2);
  return t.mode === "text"
    ? { tokens: e[0], numArgs: 0 }
    : { tokens: e[1], numArgs: 0 };
});
var vS = {
  0: 0,
  1: 1,
  2: 2,
  3: 3,
  4: 4,
  5: 5,
  6: 6,
  7: 7,
  8: 8,
  9: 9,
  a: 10,
  A: 10,
  b: 11,
  B: 11,
  c: 12,
  C: 12,
  d: 13,
  D: 13,
  e: 14,
  E: 14,
  f: 15,
  F: 15,
};
O("\\char", function (t) {
  var e = t.popToken(),
    r,
    n = "";
  if (e.text === "'") (r = 8), (e = t.popToken());
  else if (e.text === '"') (r = 16), (e = t.popToken());
  else if (e.text === "`")
    if (((e = t.popToken()), e.text[0] === "\\")) n = e.text.charCodeAt(1);
    else {
      if (e.text === "EOF") throw new qe("\\char` missing argument");
      n = e.text.charCodeAt(0);
    }
  else r = 10;
  if (r) {
    if (((n = vS[e.text]), n == null || n >= r))
      throw new qe("Invalid base-" + r + " digit " + e.text);
    for (var i; (i = vS[t.future().text]) != null && i < r; )
      (n *= r), (n += i), t.popToken();
  }
  return "\\@char{" + n + "}";
});
var hb = (t, e, r) => {
  var n = t.consumeArg().tokens;
  if (n.length !== 1)
    throw new qe("\\newcommand's first argument must be a macro name");
  var i = n[0].text,
    o = t.isDefined(i);
  if (o && !e)
    throw new qe(
      "\\newcommand{" +
        i +
        "} attempting to redefine " +
        (i + "; use \\renewcommand")
    );
  if (!o && !r)
    throw new qe(
      "\\renewcommand{" +
        i +
        "} when command " +
        i +
        " does not yet exist; use \\newcommand"
    );
  var s = 0;
  if (((n = t.consumeArg().tokens), n.length === 1 && n[0].text === "[")) {
    for (
      var a = "", l = t.expandNextToken();
      l.text !== "]" && l.text !== "EOF";

    )
      (a += l.text), (l = t.expandNextToken());
    if (!a.match(/^\s*[0-9]+\s*$/))
      throw new qe("Invalid number of arguments: " + a);
    (s = parseInt(a)), (n = t.consumeArg().tokens);
  }
  return t.macros.set(i, { tokens: n, numArgs: s }), "";
};
O("\\newcommand", (t) => hb(t, !1, !0));
O("\\renewcommand", (t) => hb(t, !0, !1));
O("\\providecommand", (t) => hb(t, !0, !0));
O("\\message", (t) => {
  var e = t.consumeArgs(1)[0];
  return (
    console.log(
      e
        .reverse()
        .map((r) => r.text)
        .join("")
    ),
    ""
  );
});
O("\\errmessage", (t) => {
  var e = t.consumeArgs(1)[0];
  return (
    console.error(
      e
        .reverse()
        .map((r) => r.text)
        .join("")
    ),
    ""
  );
});
O("\\show", (t) => {
  var e = t.popToken(),
    r = e.text;
  return console.log(e, t.macros.get(r), zl[r], qr.math[r], qr.text[r]), "";
});
O("\\bgroup", "{");
O("\\egroup", "}");
O("~", "\\nobreakspace");
O("\\lq", "`");
O("\\rq", "'");
O("\\aa", "\\r a");
O("\\AA", "\\r A");
O("\\textcopyright", "\\html@mathml{\\textcircled{c}}{\\char`©}");
O("\\copyright", "\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");
O(
  "\\textregistered",
  "\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"
);
O("ℬ", "\\mathscr{B}");
O("ℰ", "\\mathscr{E}");
O("ℱ", "\\mathscr{F}");
O("ℋ", "\\mathscr{H}");
O("ℐ", "\\mathscr{I}");
O("ℒ", "\\mathscr{L}");
O("ℳ", "\\mathscr{M}");
O("ℛ", "\\mathscr{R}");
O("ℭ", "\\mathfrak{C}");
O("ℌ", "\\mathfrak{H}");
O("ℨ", "\\mathfrak{Z}");
O("\\Bbbk", "\\Bbb{k}");
O("·", "\\cdotp");
O("\\llap", "\\mathllap{\\textrm{#1}}");
O("\\rlap", "\\mathrlap{\\textrm{#1}}");
O("\\clap", "\\mathclap{\\textrm{#1}}");
O("\\mathstrut", "\\vphantom{(}");
O("\\underbar", "\\underline{\\text{#1}}");
O("\\not", '\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');
O("\\neq", "\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");
O("\\ne", "\\neq");
O("≠", "\\neq");
O(
  "\\notin",
  "\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"
);
O("∉", "\\notin");
O(
  "≘",
  "\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"
);
O("≙", "\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");
O("≚", "\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");
O("≛", "\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");
O(
  "≝",
  "\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"
);
O("≞", "\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");
O("≟", "\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");
O("⟂", "\\perp");
O("‼", "\\mathclose{!\\mkern-0.8mu!}");
O("∌", "\\notni");
O("⌜", "\\ulcorner");
O("⌝", "\\urcorner");
O("⌞", "\\llcorner");
O("⌟", "\\lrcorner");
O("©", "\\copyright");
O("®", "\\textregistered");
O("️", "\\textregistered");
O("\\ulcorner", '\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');
O("\\urcorner", '\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');
O("\\llcorner", '\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');
O("\\lrcorner", '\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');
O("\\vdots", "\\mathord{\\varvdots\\rule{0pt}{15pt}}");
O("⋮", "\\vdots");
O("\\varGamma", "\\mathit{\\Gamma}");
O("\\varDelta", "\\mathit{\\Delta}");
O("\\varTheta", "\\mathit{\\Theta}");
O("\\varLambda", "\\mathit{\\Lambda}");
O("\\varXi", "\\mathit{\\Xi}");
O("\\varPi", "\\mathit{\\Pi}");
O("\\varSigma", "\\mathit{\\Sigma}");
O("\\varUpsilon", "\\mathit{\\Upsilon}");
O("\\varPhi", "\\mathit{\\Phi}");
O("\\varPsi", "\\mathit{\\Psi}");
O("\\varOmega", "\\mathit{\\Omega}");
O("\\substack", "\\begin{subarray}{c}#1\\end{subarray}");
O(
  "\\colon",
  "\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"
);
O("\\boxed", "\\fbox{$\\displaystyle{#1}$}");
O("\\iff", "\\DOTSB\\;\\Longleftrightarrow\\;");
O("\\implies", "\\DOTSB\\;\\Longrightarrow\\;");
O("\\impliedby", "\\DOTSB\\;\\Longleftarrow\\;");
var yS = {
  ",": "\\dotsc",
  "\\not": "\\dotsb",
  "+": "\\dotsb",
  "=": "\\dotsb",
  "<": "\\dotsb",
  ">": "\\dotsb",
  "-": "\\dotsb",
  "*": "\\dotsb",
  ":": "\\dotsb",
  "\\DOTSB": "\\dotsb",
  "\\coprod": "\\dotsb",
  "\\bigvee": "\\dotsb",
  "\\bigwedge": "\\dotsb",
  "\\biguplus": "\\dotsb",
  "\\bigcap": "\\dotsb",
  "\\bigcup": "\\dotsb",
  "\\prod": "\\dotsb",
  "\\sum": "\\dotsb",
  "\\bigotimes": "\\dotsb",
  "\\bigoplus": "\\dotsb",
  "\\bigodot": "\\dotsb",
  "\\bigsqcup": "\\dotsb",
  "\\And": "\\dotsb",
  "\\longrightarrow": "\\dotsb",
  "\\Longrightarrow": "\\dotsb",
  "\\longleftarrow": "\\dotsb",
  "\\Longleftarrow": "\\dotsb",
  "\\longleftrightarrow": "\\dotsb",
  "\\Longleftrightarrow": "\\dotsb",
  "\\mapsto": "\\dotsb",
  "\\longmapsto": "\\dotsb",
  "\\hookrightarrow": "\\dotsb",
  "\\doteq": "\\dotsb",
  "\\mathbin": "\\dotsb",
  "\\mathrel": "\\dotsb",
  "\\relbar": "\\dotsb",
  "\\Relbar": "\\dotsb",
  "\\xrightarrow": "\\dotsb",
  "\\xleftarrow": "\\dotsb",
  "\\DOTSI": "\\dotsi",
  "\\int": "\\dotsi",
  "\\oint": "\\dotsi",
  "\\iint": "\\dotsi",
  "\\iiint": "\\dotsi",
  "\\iiiint": "\\dotsi",
  "\\idotsint": "\\dotsi",
  "\\DOTSX": "\\dotsx",
};
O("\\dots", function (t) {
  var e = "\\dotso",
    r = t.expandAfterFuture().text;
  return (
    r in yS
      ? (e = yS[r])
      : (r.slice(0, 4) === "\\not" ||
          (r in qr.math && Ft.contains(["bin", "rel"], qr.math[r].group))) &&
        (e = "\\dotsb"),
    e
  );
});
var db = {
  ")": !0,
  "]": !0,
  "\\rbrack": !0,
  "\\}": !0,
  "\\rbrace": !0,
  "\\rangle": !0,
  "\\rceil": !0,
  "\\rfloor": !0,
  "\\rgroup": !0,
  "\\rmoustache": !0,
  "\\right": !0,
  "\\bigr": !0,
  "\\biggr": !0,
  "\\Bigr": !0,
  "\\Biggr": !0,
  $: !0,
  ";": !0,
  ".": !0,
  ",": !0,
};
O("\\dotso", function (t) {
  var e = t.future().text;
  return e in db ? "\\ldots\\," : "\\ldots";
});
O("\\dotsc", function (t) {
  var e = t.future().text;
  return e in db && e !== "," ? "\\ldots\\," : "\\ldots";
});
O("\\cdots", function (t) {
  var e = t.future().text;
  return e in db ? "\\@cdots\\," : "\\@cdots";
});
O("\\dotsb", "\\cdots");
O("\\dotsm", "\\cdots");
O("\\dotsi", "\\!\\cdots");
O("\\dotsx", "\\ldots\\,");
O("\\DOTSI", "\\relax");
O("\\DOTSB", "\\relax");
O("\\DOTSX", "\\relax");
O("\\tmspace", "\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");
O("\\,", "\\tmspace+{3mu}{.1667em}");
O("\\thinspace", "\\,");
O("\\>", "\\mskip{4mu}");
O("\\:", "\\tmspace+{4mu}{.2222em}");
O("\\medspace", "\\:");
O("\\;", "\\tmspace+{5mu}{.2777em}");
O("\\thickspace", "\\;");
O("\\!", "\\tmspace-{3mu}{.1667em}");
O("\\negthinspace", "\\!");
O("\\negmedspace", "\\tmspace-{4mu}{.2222em}");
O("\\negthickspace", "\\tmspace-{5mu}{.277em}");
O("\\enspace", "\\kern.5em ");
O("\\enskip", "\\hskip.5em\\relax");
O("\\quad", "\\hskip1em\\relax");
O("\\qquad", "\\hskip2em\\relax");
O("\\tag", "\\@ifstar\\tag@literal\\tag@paren");
O("\\tag@paren", "\\tag@literal{({#1})}");
O("\\tag@literal", (t) => {
  if (t.macros.get("\\df@tag")) throw new qe("Multiple \\tag");
  return "\\gdef\\df@tag{\\text{#1}}";
});
O(
  "\\bmod",
  "\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"
);
O(
  "\\pod",
  "\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"
);
O("\\pmod", "\\pod{{\\rm mod}\\mkern6mu#1}");
O(
  "\\mod",
  "\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"
);
O("\\newline", "\\\\\\relax");
O(
  "\\TeX",
  "\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}"
);
var mT = Qe(ra["Main-Regular"][84][1] - 0.7 * ra["Main-Regular"][65][1]);
O(
  "\\LaTeX",
  "\\textrm{\\html@mathml{" +
    ("L\\kern-.36em\\raisebox{" + mT + "}{\\scriptstyle A}") +
    "\\kern-.15em\\TeX}{LaTeX}}"
);
O(
  "\\KaTeX",
  "\\textrm{\\html@mathml{" +
    ("K\\kern-.17em\\raisebox{" + mT + "}{\\scriptstyle A}") +
    "\\kern-.15em\\TeX}{KaTeX}}"
);
O("\\hspace", "\\@ifstar\\@hspacer\\@hspace");
O("\\@hspace", "\\hskip #1\\relax");
O("\\@hspacer", "\\rule{0pt}{0pt}\\hskip #1\\relax");
O("\\ordinarycolon", ":");
O("\\vcentcolon", "\\mathrel{\\mathop\\ordinarycolon}");
O(
  "\\dblcolon",
  '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'
);
O(
  "\\coloneqq",
  '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'
);
O(
  "\\Coloneqq",
  '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'
);
O(
  "\\coloneq",
  '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'
);
O(
  "\\Coloneq",
  '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'
);
O(
  "\\eqqcolon",
  '\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'
);
O(
  "\\Eqqcolon",
  '\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'
);
O(
  "\\eqcolon",
  '\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'
);
O(
  "\\Eqcolon",
  '\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'
);
O(
  "\\colonapprox",
  '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'
);
O(
  "\\Colonapprox",
  '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'
);
O(
  "\\colonsim",
  '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'
);
O(
  "\\Colonsim",
  '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'
);
O("∷", "\\dblcolon");
O("∹", "\\eqcolon");
O("≔", "\\coloneqq");
O("≕", "\\eqqcolon");
O("⩴", "\\Coloneqq");
O("\\ratio", "\\vcentcolon");
O("\\coloncolon", "\\dblcolon");
O("\\colonequals", "\\coloneqq");
O("\\coloncolonequals", "\\Coloneqq");
O("\\equalscolon", "\\eqqcolon");
O("\\equalscoloncolon", "\\Eqqcolon");
O("\\colonminus", "\\coloneq");
O("\\coloncolonminus", "\\Coloneq");
O("\\minuscolon", "\\eqcolon");
O("\\minuscoloncolon", "\\Eqcolon");
O("\\coloncolonapprox", "\\Colonapprox");
O("\\coloncolonsim", "\\Colonsim");
O("\\simcolon", "\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");
O("\\simcoloncolon", "\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");
O("\\approxcolon", "\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");
O(
  "\\approxcoloncolon",
  "\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"
);
O("\\notni", "\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");
O("\\limsup", "\\DOTSB\\operatorname*{lim\\,sup}");
O("\\liminf", "\\DOTSB\\operatorname*{lim\\,inf}");
O("\\injlim", "\\DOTSB\\operatorname*{inj\\,lim}");
O("\\projlim", "\\DOTSB\\operatorname*{proj\\,lim}");
O("\\varlimsup", "\\DOTSB\\operatorname*{\\overline{lim}}");
O("\\varliminf", "\\DOTSB\\operatorname*{\\underline{lim}}");
O("\\varinjlim", "\\DOTSB\\operatorname*{\\underrightarrow{lim}}");
O("\\varprojlim", "\\DOTSB\\operatorname*{\\underleftarrow{lim}}");
O("\\gvertneqq", "\\html@mathml{\\@gvertneqq}{≩}");
O("\\lvertneqq", "\\html@mathml{\\@lvertneqq}{≨}");
O("\\ngeqq", "\\html@mathml{\\@ngeqq}{≱}");
O("\\ngeqslant", "\\html@mathml{\\@ngeqslant}{≱}");
O("\\nleqq", "\\html@mathml{\\@nleqq}{≰}");
O("\\nleqslant", "\\html@mathml{\\@nleqslant}{≰}");
O("\\nshortmid", "\\html@mathml{\\@nshortmid}{∤}");
O("\\nshortparallel", "\\html@mathml{\\@nshortparallel}{∦}");
O("\\nsubseteqq", "\\html@mathml{\\@nsubseteqq}{⊈}");
O("\\nsupseteqq", "\\html@mathml{\\@nsupseteqq}{⊉}");
O("\\varsubsetneq", "\\html@mathml{\\@varsubsetneq}{⊊}");
O("\\varsubsetneqq", "\\html@mathml{\\@varsubsetneqq}{⫋}");
O("\\varsupsetneq", "\\html@mathml{\\@varsupsetneq}{⊋}");
O("\\varsupsetneqq", "\\html@mathml{\\@varsupsetneqq}{⫌}");
O("\\imath", "\\html@mathml{\\@imath}{ı}");
O("\\jmath", "\\html@mathml{\\@jmath}{ȷ}");
O(
  "\\llbracket",
  "\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"
);
O(
  "\\rrbracket",
  "\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"
);
O("⟦", "\\llbracket");
O("⟧", "\\rrbracket");
O(
  "\\lBrace",
  "\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"
);
O(
  "\\rBrace",
  "\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"
);
O("⦃", "\\lBrace");
O("⦄", "\\rBrace");
O(
  "\\minuso",
  "\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"
);
O("⦵", "\\minuso");
O("\\darr", "\\downarrow");
O("\\dArr", "\\Downarrow");
O("\\Darr", "\\Downarrow");
O("\\lang", "\\langle");
O("\\rang", "\\rangle");
O("\\uarr", "\\uparrow");
O("\\uArr", "\\Uparrow");
O("\\Uarr", "\\Uparrow");
O("\\N", "\\mathbb{N}");
O("\\R", "\\mathbb{R}");
O("\\Z", "\\mathbb{Z}");
O("\\alef", "\\aleph");
O("\\alefsym", "\\aleph");
O("\\Alpha", "\\mathrm{A}");
O("\\Beta", "\\mathrm{B}");
O("\\bull", "\\bullet");
O("\\Chi", "\\mathrm{X}");
O("\\clubs", "\\clubsuit");
O("\\cnums", "\\mathbb{C}");
O("\\Complex", "\\mathbb{C}");
O("\\Dagger", "\\ddagger");
O("\\diamonds", "\\diamondsuit");
O("\\empty", "\\emptyset");
O("\\Epsilon", "\\mathrm{E}");
O("\\Eta", "\\mathrm{H}");
O("\\exist", "\\exists");
O("\\harr", "\\leftrightarrow");
O("\\hArr", "\\Leftrightarrow");
O("\\Harr", "\\Leftrightarrow");
O("\\hearts", "\\heartsuit");
O("\\image", "\\Im");
O("\\infin", "\\infty");
O("\\Iota", "\\mathrm{I}");
O("\\isin", "\\in");
O("\\Kappa", "\\mathrm{K}");
O("\\larr", "\\leftarrow");
O("\\lArr", "\\Leftarrow");
O("\\Larr", "\\Leftarrow");
O("\\lrarr", "\\leftrightarrow");
O("\\lrArr", "\\Leftrightarrow");
O("\\Lrarr", "\\Leftrightarrow");
O("\\Mu", "\\mathrm{M}");
O("\\natnums", "\\mathbb{N}");
O("\\Nu", "\\mathrm{N}");
O("\\Omicron", "\\mathrm{O}");
O("\\plusmn", "\\pm");
O("\\rarr", "\\rightarrow");
O("\\rArr", "\\Rightarrow");
O("\\Rarr", "\\Rightarrow");
O("\\real", "\\Re");
O("\\reals", "\\mathbb{R}");
O("\\Reals", "\\mathbb{R}");
O("\\Rho", "\\mathrm{P}");
O("\\sdot", "\\cdot");
O("\\sect", "\\S");
O("\\spades", "\\spadesuit");
O("\\sub", "\\subset");
O("\\sube", "\\subseteq");
O("\\supe", "\\supseteq");
O("\\Tau", "\\mathrm{T}");
O("\\thetasym", "\\vartheta");
O("\\weierp", "\\wp");
O("\\Zeta", "\\mathrm{Z}");
O("\\argmin", "\\DOTSB\\operatorname*{arg\\,min}");
O("\\argmax", "\\DOTSB\\operatorname*{arg\\,max}");
O("\\plim", "\\DOTSB\\mathop{\\operatorname{plim}}\\limits");
O("\\bra", "\\mathinner{\\langle{#1}|}");
O("\\ket", "\\mathinner{|{#1}\\rangle}");
O("\\braket", "\\mathinner{\\langle{#1}\\rangle}");
O("\\Bra", "\\left\\langle#1\\right|");
O("\\Ket", "\\left|#1\\right\\rangle");
var gT = (t) => (e) => {
  var r = e.consumeArg().tokens,
    n = e.consumeArg().tokens,
    i = e.consumeArg().tokens,
    o = e.consumeArg().tokens,
    s = e.macros.get("|"),
    a = e.macros.get("\\|");
  e.macros.beginGroup();
  var l = (f) => (h) => {
    t && (h.macros.set("|", s), i.length && h.macros.set("\\|", a));
    var d = f;
    if (!f && i.length) {
      var p = h.future();
      p.text === "|" && (h.popToken(), (d = !0));
    }
    return { tokens: d ? i : n, numArgs: 0 };
  };
  e.macros.set("|", l(!1)), i.length && e.macros.set("\\|", l(!0));
  var u = e.consumeArg().tokens,
    c = e.expandTokens([...o, ...u, ...r]);
  return e.macros.endGroup(), { tokens: c.reverse(), numArgs: 0 };
};
O("\\bra@ket", gT(!1));
O("\\bra@set", gT(!0));
O(
  "\\Braket",
  "\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"
);
O(
  "\\Set",
  "\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"
);
O("\\set", "\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");
O("\\angln", "{\\angl n}");
O("\\blue", "\\textcolor{##6495ed}{#1}");
O("\\orange", "\\textcolor{##ffa500}{#1}");
O("\\pink", "\\textcolor{##ff00af}{#1}");
O("\\red", "\\textcolor{##df0030}{#1}");
O("\\green", "\\textcolor{##28ae7b}{#1}");
O("\\gray", "\\textcolor{gray}{#1}");
O("\\purple", "\\textcolor{##9d38bd}{#1}");
O("\\blueA", "\\textcolor{##ccfaff}{#1}");
O("\\blueB", "\\textcolor{##80f6ff}{#1}");
O("\\blueC", "\\textcolor{##63d9ea}{#1}");
O("\\blueD", "\\textcolor{##11accd}{#1}");
O("\\blueE", "\\textcolor{##0c7f99}{#1}");
O("\\tealA", "\\textcolor{##94fff5}{#1}");
O("\\tealB", "\\textcolor{##26edd5}{#1}");
O("\\tealC", "\\textcolor{##01d1c1}{#1}");
O("\\tealD", "\\textcolor{##01a995}{#1}");
O("\\tealE", "\\textcolor{##208170}{#1}");
O("\\greenA", "\\textcolor{##b6ffb0}{#1}");
O("\\greenB", "\\textcolor{##8af281}{#1}");
O("\\greenC", "\\textcolor{##74cf70}{#1}");
O("\\greenD", "\\textcolor{##1fab54}{#1}");
O("\\greenE", "\\textcolor{##0d923f}{#1}");
O("\\goldA", "\\textcolor{##ffd0a9}{#1}");
O("\\goldB", "\\textcolor{##ffbb71}{#1}");
O("\\goldC", "\\textcolor{##ff9c39}{#1}");
O("\\goldD", "\\textcolor{##e07d10}{#1}");
O("\\goldE", "\\textcolor{##a75a05}{#1}");
O("\\redA", "\\textcolor{##fca9a9}{#1}");
O("\\redB", "\\textcolor{##ff8482}{#1}");
O("\\redC", "\\textcolor{##f9685d}{#1}");
O("\\redD", "\\textcolor{##e84d39}{#1}");
O("\\redE", "\\textcolor{##bc2612}{#1}");
O("\\maroonA", "\\textcolor{##ffbde0}{#1}");
O("\\maroonB", "\\textcolor{##ff92c6}{#1}");
O("\\maroonC", "\\textcolor{##ed5fa6}{#1}");
O("\\maroonD", "\\textcolor{##ca337c}{#1}");
O("\\maroonE", "\\textcolor{##9e034e}{#1}");
O("\\purpleA", "\\textcolor{##ddd7ff}{#1}");
O("\\purpleB", "\\textcolor{##c6b9fc}{#1}");
O("\\purpleC", "\\textcolor{##aa87ff}{#1}");
O("\\purpleD", "\\textcolor{##7854ab}{#1}");
O("\\purpleE", "\\textcolor{##543b78}{#1}");
O("\\mintA", "\\textcolor{##f5f9e8}{#1}");
O("\\mintB", "\\textcolor{##edf2df}{#1}");
O("\\mintC", "\\textcolor{##e0e5cc}{#1}");
O("\\grayA", "\\textcolor{##f6f7f7}{#1}");
O("\\grayB", "\\textcolor{##f0f1f2}{#1}");
O("\\grayC", "\\textcolor{##e3e5e6}{#1}");
O("\\grayD", "\\textcolor{##d6d8da}{#1}");
O("\\grayE", "\\textcolor{##babec2}{#1}");
O("\\grayF", "\\textcolor{##888d93}{#1}");
O("\\grayG", "\\textcolor{##626569}{#1}");
O("\\grayH", "\\textcolor{##3b3e40}{#1}");
O("\\grayI", "\\textcolor{##21242c}{#1}");
O("\\kaBlue", "\\textcolor{##314453}{#1}");
O("\\kaGreen", "\\textcolor{##71B307}{#1}");
var vT = { "^": !0, _: !0, "\\limits": !0, "\\nolimits": !0 };
class Pne {
  constructor(e, r, n) {
    (this.settings = void 0),
      (this.expansionCount = void 0),
      (this.lexer = void 0),
      (this.macros = void 0),
      (this.stack = void 0),
      (this.mode = void 0),
      (this.settings = r),
      (this.expansionCount = 0),
      this.feed(e),
      (this.macros = new Bne(Tne, r.macros)),
      (this.mode = n),
      (this.stack = []);
  }
  feed(e) {
    this.lexer = new gS(e, this.settings);
  }
  switchMode(e) {
    this.mode = e;
  }
  beginGroup() {
    this.macros.beginGroup();
  }
  endGroup() {
    this.macros.endGroup();
  }
  endGroups() {
    this.macros.endGroups();
  }
  future() {
    return (
      this.stack.length === 0 && this.pushToken(this.lexer.lex()),
      this.stack[this.stack.length - 1]
    );
  }
  popToken() {
    return this.future(), this.stack.pop();
  }
  pushToken(e) {
    this.stack.push(e);
  }
  pushTokens(e) {
    this.stack.push(...e);
  }
  scanArgument(e) {
    var r, n, i;
    if (e) {
      if ((this.consumeSpaces(), this.future().text !== "[")) return null;
      (r = this.popToken()), ({ tokens: i, end: n } = this.consumeArg(["]"]));
    } else ({ tokens: i, start: r, end: n } = this.consumeArg());
    return (
      this.pushToken(new ro("EOF", n.loc)), this.pushTokens(i), r.range(n, "")
    );
  }
  consumeSpaces() {
    for (;;) {
      var e = this.future();
      if (e.text === " ") this.stack.pop();
      else break;
    }
  }
  consumeArg(e) {
    var r = [],
      n = e && e.length > 0;
    n || this.consumeSpaces();
    var i = this.future(),
      o,
      s = 0,
      a = 0;
    do {
      if (((o = this.popToken()), r.push(o), o.text === "{")) ++s;
      else if (o.text === "}") {
        if ((--s, s === -1)) throw new qe("Extra }", o);
      } else if (o.text === "EOF")
        throw new qe(
          "Unexpected end of input in a macro argument, expected '" +
            (e && n ? e[a] : "}") +
            "'",
          o
        );
      if (e && n)
        if ((s === 0 || (s === 1 && e[a] === "{")) && o.text === e[a]) {
          if ((++a, a === e.length)) {
            r.splice(-a, a);
            break;
          }
        } else a = 0;
    } while (s !== 0 || n);
    return (
      i.text === "{" && r[r.length - 1].text === "}" && (r.pop(), r.shift()),
      r.reverse(),
      { tokens: r, start: i, end: o }
    );
  }
  consumeArgs(e, r) {
    if (r) {
      if (r.length !== e + 1)
        throw new qe(
          "The length of delimiters doesn't match the number of args!"
        );
      for (var n = r[0], i = 0; i < n.length; i++) {
        var o = this.popToken();
        if (n[i] !== o.text)
          throw new qe("Use of the macro doesn't match its definition", o);
      }
    }
    for (var s = [], a = 0; a < e; a++)
      s.push(this.consumeArg(r && r[a + 1]).tokens);
    return s;
  }
  countExpansion(e) {
    if (
      ((this.expansionCount += e),
      this.expansionCount > this.settings.maxExpand)
    )
      throw new qe(
        "Too many expansions: infinite loop or need to increase maxExpand setting"
      );
  }
  expandOnce(e) {
    var r = this.popToken(),
      n = r.text,
      i = r.noexpand ? null : this._getExpansion(n);
    if (i == null || (e && i.unexpandable)) {
      if (e && i == null && n[0] === "\\" && !this.isDefined(n))
        throw new qe("Undefined control sequence: " + n);
      return this.pushToken(r), !1;
    }
    this.countExpansion(1);
    var o = i.tokens,
      s = this.consumeArgs(i.numArgs, i.delimiters);
    if (i.numArgs) {
      o = o.slice();
      for (var a = o.length - 1; a >= 0; --a) {
        var l = o[a];
        if (l.text === "#") {
          if (a === 0)
            throw new qe("Incomplete placeholder at end of macro body", l);
          if (((l = o[--a]), l.text === "#")) o.splice(a + 1, 1);
          else if (/^[1-9]$/.test(l.text)) o.splice(a, 2, ...s[+l.text - 1]);
          else throw new qe("Not a valid argument number", l);
        }
      }
    }
    return this.pushTokens(o), o.length;
  }
  expandAfterFuture() {
    return this.expandOnce(), this.future();
  }
  expandNextToken() {
    for (;;)
      if (this.expandOnce() === !1) {
        var e = this.stack.pop();
        return e.treatAsRelax && (e.text = "\\relax"), e;
      }
    throw new Error();
  }
  expandMacro(e) {
    return this.macros.has(e) ? this.expandTokens([new ro(e)]) : void 0;
  }
  expandTokens(e) {
    var r = [],
      n = this.stack.length;
    for (this.pushTokens(e); this.stack.length > n; )
      if (this.expandOnce(!0) === !1) {
        var i = this.stack.pop();
        i.treatAsRelax && ((i.noexpand = !1), (i.treatAsRelax = !1)), r.push(i);
      }
    return this.countExpansion(r.length), r;
  }
  expandMacroAsText(e) {
    var r = this.expandMacro(e);
    return r && r.map((n) => n.text).join("");
  }
  _getExpansion(e) {
    var r = this.macros.get(e);
    if (r == null) return r;
    if (e.length === 1) {
      var n = this.lexer.catcodes[e];
      if (n != null && n !== 13) return;
    }
    var i = typeof r == "function" ? r(this) : r;
    if (typeof i == "string") {
      var o = 0;
      if (i.indexOf("#") !== -1)
        for (var s = i.replace(/##/g, ""); s.indexOf("#" + (o + 1)) !== -1; )
          ++o;
      for (
        var a = new gS(i, this.settings), l = [], u = a.lex();
        u.text !== "EOF";

      )
        l.push(u), (u = a.lex());
      l.reverse();
      var c = { tokens: l, numArgs: o };
      return c;
    }
    return i;
  }
  isDefined(e) {
    return (
      this.macros.has(e) ||
      zl.hasOwnProperty(e) ||
      qr.math.hasOwnProperty(e) ||
      qr.text.hasOwnProperty(e) ||
      vT.hasOwnProperty(e)
    );
  }
  isExpandable(e) {
    var r = this.macros.get(e);
    return r != null
      ? typeof r == "string" || typeof r == "function" || !r.unexpandable
      : zl.hasOwnProperty(e) && !zl[e].primitive;
  }
}
var bS = /^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,
  Hm = Object.freeze({
    "₊": "+",
    "₋": "-",
    "₌": "=",
    "₍": "(",
    "₎": ")",
    "₀": "0",
    "₁": "1",
    "₂": "2",
    "₃": "3",
    "₄": "4",
    "₅": "5",
    "₆": "6",
    "₇": "7",
    "₈": "8",
    "₉": "9",
    ₐ: "a",
    ₑ: "e",
    ₕ: "h",
    ᵢ: "i",
    ⱼ: "j",
    ₖ: "k",
    ₗ: "l",
    ₘ: "m",
    ₙ: "n",
    ₒ: "o",
    ₚ: "p",
    ᵣ: "r",
    ₛ: "s",
    ₜ: "t",
    ᵤ: "u",
    ᵥ: "v",
    ₓ: "x",
    ᵦ: "β",
    ᵧ: "γ",
    ᵨ: "ρ",
    ᵩ: "ϕ",
    ᵪ: "χ",
    "⁺": "+",
    "⁻": "-",
    "⁼": "=",
    "⁽": "(",
    "⁾": ")",
    "⁰": "0",
    "¹": "1",
    "²": "2",
    "³": "3",
    "⁴": "4",
    "⁵": "5",
    "⁶": "6",
    "⁷": "7",
    "⁸": "8",
    "⁹": "9",
    ᴬ: "A",
    ᴮ: "B",
    ᴰ: "D",
    ᴱ: "E",
    ᴳ: "G",
    ᴴ: "H",
    ᴵ: "I",
    ᴶ: "J",
    ᴷ: "K",
    ᴸ: "L",
    ᴹ: "M",
    ᴺ: "N",
    ᴼ: "O",
    ᴾ: "P",
    ᴿ: "R",
    ᵀ: "T",
    ᵁ: "U",
    ⱽ: "V",
    ᵂ: "W",
    ᵃ: "a",
    ᵇ: "b",
    ᶜ: "c",
    ᵈ: "d",
    ᵉ: "e",
    ᶠ: "f",
    ᵍ: "g",
    ʰ: "h",
    ⁱ: "i",
    ʲ: "j",
    ᵏ: "k",
    ˡ: "l",
    ᵐ: "m",
    ⁿ: "n",
    ᵒ: "o",
    ᵖ: "p",
    ʳ: "r",
    ˢ: "s",
    ᵗ: "t",
    ᵘ: "u",
    ᵛ: "v",
    ʷ: "w",
    ˣ: "x",
    ʸ: "y",
    ᶻ: "z",
    ᵝ: "β",
    ᵞ: "γ",
    ᵟ: "δ",
    ᵠ: "ϕ",
    ᵡ: "χ",
    ᶿ: "θ",
  }),
  Ay = {
    "́": { text: "\\'", math: "\\acute" },
    "̀": { text: "\\`", math: "\\grave" },
    "̈": { text: '\\"', math: "\\ddot" },
    "̃": { text: "\\~", math: "\\tilde" },
    "̄": { text: "\\=", math: "\\bar" },
    "̆": { text: "\\u", math: "\\breve" },
    "̌": { text: "\\v", math: "\\check" },
    "̂": { text: "\\^", math: "\\hat" },
    "̇": { text: "\\.", math: "\\dot" },
    "̊": { text: "\\r", math: "\\mathring" },
    "̋": { text: "\\H" },
    "̧": { text: "\\c" },
  },
  DS = {
    á: "á",
    à: "à",
    ä: "ä",
    ǟ: "ǟ",
    ã: "ã",
    ā: "ā",
    ă: "ă",
    ắ: "ắ",
    ằ: "ằ",
    ẵ: "ẵ",
    ǎ: "ǎ",
    â: "â",
    ấ: "ấ",
    ầ: "ầ",
    ẫ: "ẫ",
    ȧ: "ȧ",
    ǡ: "ǡ",
    å: "å",
    ǻ: "ǻ",
    ḃ: "ḃ",
    ć: "ć",
    ḉ: "ḉ",
    č: "č",
    ĉ: "ĉ",
    ċ: "ċ",
    ç: "ç",
    ď: "ď",
    ḋ: "ḋ",
    ḑ: "ḑ",
    é: "é",
    è: "è",
    ë: "ë",
    ẽ: "ẽ",
    ē: "ē",
    ḗ: "ḗ",
    ḕ: "ḕ",
    ĕ: "ĕ",
    ḝ: "ḝ",
    ě: "ě",
    ê: "ê",
    ế: "ế",
    ề: "ề",
    ễ: "ễ",
    ė: "ė",
    ȩ: "ȩ",
    ḟ: "ḟ",
    ǵ: "ǵ",
    ḡ: "ḡ",
    ğ: "ğ",
    ǧ: "ǧ",
    ĝ: "ĝ",
    ġ: "ġ",
    ģ: "ģ",
    ḧ: "ḧ",
    ȟ: "ȟ",
    ĥ: "ĥ",
    ḣ: "ḣ",
    ḩ: "ḩ",
    í: "í",
    ì: "ì",
    ï: "ï",
    ḯ: "ḯ",
    ĩ: "ĩ",
    ī: "ī",
    ĭ: "ĭ",
    ǐ: "ǐ",
    î: "î",
    ǰ: "ǰ",
    ĵ: "ĵ",
    ḱ: "ḱ",
    ǩ: "ǩ",
    ķ: "ķ",
    ĺ: "ĺ",
    ľ: "ľ",
    ļ: "ļ",
    ḿ: "ḿ",
    ṁ: "ṁ",
    ń: "ń",
    ǹ: "ǹ",
    ñ: "ñ",
    ň: "ň",
    ṅ: "ṅ",
    ņ: "ņ",
    ó: "ó",
    ò: "ò",
    ö: "ö",
    ȫ: "ȫ",
    õ: "õ",
    ṍ: "ṍ",
    ṏ: "ṏ",
    ȭ: "ȭ",
    ō: "ō",
    ṓ: "ṓ",
    ṑ: "ṑ",
    ŏ: "ŏ",
    ǒ: "ǒ",
    ô: "ô",
    ố: "ố",
    ồ: "ồ",
    ỗ: "ỗ",
    ȯ: "ȯ",
    ȱ: "ȱ",
    ő: "ő",
    ṕ: "ṕ",
    ṗ: "ṗ",
    ŕ: "ŕ",
    ř: "ř",
    ṙ: "ṙ",
    ŗ: "ŗ",
    ś: "ś",
    ṥ: "ṥ",
    š: "š",
    ṧ: "ṧ",
    ŝ: "ŝ",
    ṡ: "ṡ",
    ş: "ş",
    ẗ: "ẗ",
    ť: "ť",
    ṫ: "ṫ",
    ţ: "ţ",
    ú: "ú",
    ù: "ù",
    ü: "ü",
    ǘ: "ǘ",
    ǜ: "ǜ",
    ǖ: "ǖ",
    ǚ: "ǚ",
    ũ: "ũ",
    ṹ: "ṹ",
    ū: "ū",
    ṻ: "ṻ",
    ŭ: "ŭ",
    ǔ: "ǔ",
    û: "û",
    ů: "ů",
    ű: "ű",
    ṽ: "ṽ",
    ẃ: "ẃ",
    ẁ: "ẁ",
    ẅ: "ẅ",
    ŵ: "ŵ",
    ẇ: "ẇ",
    ẘ: "ẘ",
    ẍ: "ẍ",
    ẋ: "ẋ",
    ý: "ý",
    ỳ: "ỳ",
    ÿ: "ÿ",
    ỹ: "ỹ",
    ȳ: "ȳ",
    ŷ: "ŷ",
    ẏ: "ẏ",
    ẙ: "ẙ",
    ź: "ź",
    ž: "ž",
    ẑ: "ẑ",
    ż: "ż",
    Á: "Á",
    À: "À",
    Ä: "Ä",
    Ǟ: "Ǟ",
    Ã: "Ã",
    Ā: "Ā",
    Ă: "Ă",
    Ắ: "Ắ",
    Ằ: "Ằ",
    Ẵ: "Ẵ",
    Ǎ: "Ǎ",
    Â: "Â",
    Ấ: "Ấ",
    Ầ: "Ầ",
    Ẫ: "Ẫ",
    Ȧ: "Ȧ",
    Ǡ: "Ǡ",
    Å: "Å",
    Ǻ: "Ǻ",
    Ḃ: "Ḃ",
    Ć: "Ć",
    Ḉ: "Ḉ",
    Č: "Č",
    Ĉ: "Ĉ",
    Ċ: "Ċ",
    Ç: "Ç",
    Ď: "Ď",
    Ḋ: "Ḋ",
    Ḑ: "Ḑ",
    É: "É",
    È: "È",
    Ë: "Ë",
    Ẽ: "Ẽ",
    Ē: "Ē",
    Ḗ: "Ḗ",
    Ḕ: "Ḕ",
    Ĕ: "Ĕ",
    Ḝ: "Ḝ",
    Ě: "Ě",
    Ê: "Ê",
    Ế: "Ế",
    Ề: "Ề",
    Ễ: "Ễ",
    Ė: "Ė",
    Ȩ: "Ȩ",
    Ḟ: "Ḟ",
    Ǵ: "Ǵ",
    Ḡ: "Ḡ",
    Ğ: "Ğ",
    Ǧ: "Ǧ",
    Ĝ: "Ĝ",
    Ġ: "Ġ",
    Ģ: "Ģ",
    Ḧ: "Ḧ",
    Ȟ: "Ȟ",
    Ĥ: "Ĥ",
    Ḣ: "Ḣ",
    Ḩ: "Ḩ",
    Í: "Í",
    Ì: "Ì",
    Ï: "Ï",
    Ḯ: "Ḯ",
    Ĩ: "Ĩ",
    Ī: "Ī",
    Ĭ: "Ĭ",
    Ǐ: "Ǐ",
    Î: "Î",
    İ: "İ",
    Ĵ: "Ĵ",
    Ḱ: "Ḱ",
    Ǩ: "Ǩ",
    Ķ: "Ķ",
    Ĺ: "Ĺ",
    Ľ: "Ľ",
    Ļ: "Ļ",
    Ḿ: "Ḿ",
    Ṁ: "Ṁ",
    Ń: "Ń",
    Ǹ: "Ǹ",
    Ñ: "Ñ",
    Ň: "Ň",
    Ṅ: "Ṅ",
    Ņ: "Ņ",
    Ó: "Ó",
    Ò: "Ò",
    Ö: "Ö",
    Ȫ: "Ȫ",
    Õ: "Õ",
    Ṍ: "Ṍ",
    Ṏ: "Ṏ",
    Ȭ: "Ȭ",
    Ō: "Ō",
    Ṓ: "Ṓ",
    Ṑ: "Ṑ",
    Ŏ: "Ŏ",
    Ǒ: "Ǒ",
    Ô: "Ô",
    Ố: "Ố",
    Ồ: "Ồ",
    Ỗ: "Ỗ",
    Ȯ: "Ȯ",
    Ȱ: "Ȱ",
    Ő: "Ő",
    Ṕ: "Ṕ",
    Ṗ: "Ṗ",
    Ŕ: "Ŕ",
    Ř: "Ř",
    Ṙ: "Ṙ",
    Ŗ: "Ŗ",
    Ś: "Ś",
    Ṥ: "Ṥ",
    Š: "Š",
    Ṧ: "Ṧ",
    Ŝ: "Ŝ",
    Ṡ: "Ṡ",
    Ş: "Ş",
    Ť: "Ť",
    Ṫ: "Ṫ",
    Ţ: "Ţ",
    Ú: "Ú",
    Ù: "Ù",
    Ü: "Ü",
    Ǘ: "Ǘ",
    Ǜ: "Ǜ",
    Ǖ: "Ǖ",
    Ǚ: "Ǚ",
    Ũ: "Ũ",
    Ṹ: "Ṹ",
    Ū: "Ū",
    Ṻ: "Ṻ",
    Ŭ: "Ŭ",
    Ǔ: "Ǔ",
    Û: "Û",
    Ů: "Ů",
    Ű: "Ű",
    Ṽ: "Ṽ",
    Ẃ: "Ẃ",
    Ẁ: "Ẁ",
    Ẅ: "Ẅ",
    Ŵ: "Ŵ",
    Ẇ: "Ẇ",
    Ẍ: "Ẍ",
    Ẋ: "Ẋ",
    Ý: "Ý",
    Ỳ: "Ỳ",
    Ÿ: "Ÿ",
    Ỹ: "Ỹ",
    Ȳ: "Ȳ",
    Ŷ: "Ŷ",
    Ẏ: "Ẏ",
    Ź: "Ź",
    Ž: "Ž",
    Ẑ: "Ẑ",
    Ż: "Ż",
    ά: "ά",
    ὰ: "ὰ",
    ᾱ: "ᾱ",
    ᾰ: "ᾰ",
    έ: "έ",
    ὲ: "ὲ",
    ή: "ή",
    ὴ: "ὴ",
    ί: "ί",
    ὶ: "ὶ",
    ϊ: "ϊ",
    ΐ: "ΐ",
    ῒ: "ῒ",
    ῑ: "ῑ",
    ῐ: "ῐ",
    ό: "ό",
    ὸ: "ὸ",
    ύ: "ύ",
    ὺ: "ὺ",
    ϋ: "ϋ",
    ΰ: "ΰ",
    ῢ: "ῢ",
    ῡ: "ῡ",
    ῠ: "ῠ",
    ώ: "ώ",
    ὼ: "ὼ",
    Ύ: "Ύ",
    Ὺ: "Ὺ",
    Ϋ: "Ϋ",
    Ῡ: "Ῡ",
    Ῠ: "Ῠ",
    Ώ: "Ώ",
    Ὼ: "Ὼ",
  };
class o2 {
  constructor(e, r) {
    (this.mode = void 0),
      (this.gullet = void 0),
      (this.settings = void 0),
      (this.leftrightDepth = void 0),
      (this.nextToken = void 0),
      (this.mode = "math"),
      (this.gullet = new Pne(e, r, this.mode)),
      (this.settings = r),
      (this.leftrightDepth = 0);
  }
  expect(e, r) {
    if ((r === void 0 && (r = !0), this.fetch().text !== e))
      throw new qe(
        "Expected '" + e + "', got '" + this.fetch().text + "'",
        this.fetch()
      );
    r && this.consume();
  }
  consume() {
    this.nextToken = null;
  }
  fetch() {
    return (
      this.nextToken == null &&
        (this.nextToken = this.gullet.expandNextToken()),
      this.nextToken
    );
  }
  switchMode(e) {
    (this.mode = e), this.gullet.switchMode(e);
  }
  parse() {
    this.settings.globalGroup || this.gullet.beginGroup(),
      this.settings.colorIsTextColor &&
        this.gullet.macros.set("\\color", "\\textcolor");
    try {
      var e = this.parseExpression(!1);
      return (
        this.expect("EOF"),
        this.settings.globalGroup || this.gullet.endGroup(),
        e
      );
    } finally {
      this.gullet.endGroups();
    }
  }
  subparse(e) {
    var r = this.nextToken;
    this.consume(),
      this.gullet.pushToken(new ro("}")),
      this.gullet.pushTokens(e);
    var n = this.parseExpression(!1);
    return this.expect("}"), (this.nextToken = r), n;
  }
  parseExpression(e, r) {
    for (var n = []; ; ) {
      this.mode === "math" && this.consumeSpaces();
      var i = this.fetch();
      if (
        o2.endOfExpression.indexOf(i.text) !== -1 ||
        (r && i.text === r) ||
        (e && zl[i.text] && zl[i.text].infix)
      )
        break;
      var o = this.parseAtom(r);
      if (o) {
        if (o.type === "internal") continue;
      } else break;
      n.push(o);
    }
    return (
      this.mode === "text" && this.formLigatures(n), this.handleInfixNodes(n)
    );
  }
  handleInfixNodes(e) {
    for (var r = -1, n, i = 0; i < e.length; i++)
      if (e[i].type === "infix") {
        if (r !== -1)
          throw new qe("only one infix operator per group", e[i].token);
        (r = i), (n = e[i].replaceWith);
      }
    if (r !== -1 && n) {
      var o,
        s,
        a = e.slice(0, r),
        l = e.slice(r + 1);
      a.length === 1 && a[0].type === "ordgroup"
        ? (o = a[0])
        : (o = { type: "ordgroup", mode: this.mode, body: a }),
        l.length === 1 && l[0].type === "ordgroup"
          ? (s = l[0])
          : (s = { type: "ordgroup", mode: this.mode, body: l });
      var u;
      return (
        n === "\\\\abovefrac"
          ? (u = this.callFunction(n, [o, e[r], s], []))
          : (u = this.callFunction(n, [o, s], [])),
        [u]
      );
    } else return e;
  }
  handleSupSubscript(e) {
    var r = this.fetch(),
      n = r.text;
    this.consume(), this.consumeSpaces();
    var i = this.parseGroup(e);
    if (!i) throw new qe("Expected group after '" + n + "'", r);
    return i;
  }
  formatUnsupportedCmd(e) {
    for (var r = [], n = 0; n < e.length; n++)
      r.push({ type: "textord", mode: "text", text: e[n] });
    var i = { type: "text", mode: this.mode, body: r },
      o = {
        type: "color",
        mode: this.mode,
        color: this.settings.errorColor,
        body: [i],
      };
    return o;
  }
  parseAtom(e) {
    var r = this.parseGroup("atom", e);
    if (this.mode === "text") return r;
    for (var n, i; ; ) {
      this.consumeSpaces();
      var o = this.fetch();
      if (o.text === "\\limits" || o.text === "\\nolimits") {
        if (r && r.type === "op") {
          var s = o.text === "\\limits";
          (r.limits = s), (r.alwaysHandleSupSub = !0);
        } else if (r && r.type === "operatorname")
          r.alwaysHandleSupSub && (r.limits = o.text === "\\limits");
        else throw new qe("Limit controls must follow a math operator", o);
        this.consume();
      } else if (o.text === "^") {
        if (n) throw new qe("Double superscript", o);
        n = this.handleSupSubscript("superscript");
      } else if (o.text === "_") {
        if (i) throw new qe("Double subscript", o);
        i = this.handleSupSubscript("subscript");
      } else if (o.text === "'") {
        if (n) throw new qe("Double superscript", o);
        var a = { type: "textord", mode: this.mode, text: "\\prime" },
          l = [a];
        for (this.consume(); this.fetch().text === "'"; )
          l.push(a), this.consume();
        this.fetch().text === "^" &&
          l.push(this.handleSupSubscript("superscript")),
          (n = { type: "ordgroup", mode: this.mode, body: l });
      } else if (Hm[o.text]) {
        var u = bS.test(o.text),
          c = [];
        for (c.push(new ro(Hm[o.text])), this.consume(); ; ) {
          var f = this.fetch().text;
          if (!Hm[f] || bS.test(f) !== u) break;
          c.unshift(new ro(Hm[f])), this.consume();
        }
        var h = this.subparse(c);
        u
          ? (i = { type: "ordgroup", mode: "math", body: h })
          : (n = { type: "ordgroup", mode: "math", body: h });
      } else break;
    }
    return n || i
      ? { type: "supsub", mode: this.mode, base: r, sup: n, sub: i }
      : r;
  }
  parseFunction(e, r) {
    var n = this.fetch(),
      i = n.text,
      o = zl[i];
    if (!o) return null;
    if ((this.consume(), r && r !== "atom" && !o.allowedInArgument))
      throw new qe(
        "Got function '" + i + "' with no arguments" + (r ? " as " + r : ""),
        n
      );
    if (this.mode === "text" && !o.allowedInText)
      throw new qe("Can't use function '" + i + "' in text mode", n);
    if (this.mode === "math" && o.allowedInMath === !1)
      throw new qe("Can't use function '" + i + "' in math mode", n);
    var { args: s, optArgs: a } = this.parseArguments(i, o);
    return this.callFunction(i, s, a, n, e);
  }
  callFunction(e, r, n, i, o) {
    var s = { funcName: e, parser: this, token: i, breakOnTokenText: o },
      a = zl[e];
    if (a && a.handler) return a.handler(s, r, n);
    throw new qe("No function handler for " + e);
  }
  parseArguments(e, r) {
    var n = r.numArgs + r.numOptionalArgs;
    if (n === 0) return { args: [], optArgs: [] };
    for (var i = [], o = [], s = 0; s < n; s++) {
      var a = r.argTypes && r.argTypes[s],
        l = s < r.numOptionalArgs;
      ((r.primitive && a == null) ||
        (r.type === "sqrt" && s === 1 && o[0] == null)) &&
        (a = "primitive");
      var u = this.parseGroupOfType("argument to '" + e + "'", a, l);
      if (l) o.push(u);
      else if (u != null) i.push(u);
      else throw new qe("Null argument, please report this as a bug");
    }
    return { args: i, optArgs: o };
  }
  parseGroupOfType(e, r, n) {
    switch (r) {
      case "color":
        return this.parseColorGroup(n);
      case "size":
        return this.parseSizeGroup(n);
      case "url":
        return this.parseUrlGroup(n);
      case "math":
      case "text":
        return this.parseArgumentGroup(n, r);
      case "hbox": {
        var i = this.parseArgumentGroup(n, "text");
        return i != null
          ? { type: "styling", mode: i.mode, body: [i], style: "text" }
          : null;
      }
      case "raw": {
        var o = this.parseStringGroup("raw", n);
        return o != null ? { type: "raw", mode: "text", string: o.text } : null;
      }
      case "primitive": {
        if (n) throw new qe("A primitive argument cannot be optional");
        var s = this.parseGroup(e);
        if (s == null) throw new qe("Expected group as " + e, this.fetch());
        return s;
      }
      case "original":
      case null:
      case void 0:
        return this.parseArgumentGroup(n);
      default:
        throw new qe("Unknown group type as " + e, this.fetch());
    }
  }
  consumeSpaces() {
    for (; this.fetch().text === " "; ) this.consume();
  }
  parseStringGroup(e, r) {
    var n = this.gullet.scanArgument(r);
    if (n == null) return null;
    for (var i = "", o; (o = this.fetch()).text !== "EOF"; )
      (i += o.text), this.consume();
    return this.consume(), (n.text = i), n;
  }
  parseRegexGroup(e, r) {
    for (
      var n = this.fetch(), i = n, o = "", s;
      (s = this.fetch()).text !== "EOF" && e.test(o + s.text);

    )
      (i = s), (o += i.text), this.consume();
    if (o === "") throw new qe("Invalid " + r + ": '" + n.text + "'", n);
    return n.range(i, o);
  }
  parseColorGroup(e) {
    var r = this.parseStringGroup("color", e);
    if (r == null) return null;
    var n = /^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);
    if (!n) throw new qe("Invalid color: '" + r.text + "'", r);
    var i = n[0];
    return (
      /^[0-9a-f]{6}$/i.test(i) && (i = "#" + i),
      { type: "color-token", mode: this.mode, color: i }
    );
  }
  parseSizeGroup(e) {
    var r,
      n = !1;
    if (
      (this.gullet.consumeSpaces(),
      !e && this.gullet.future().text !== "{"
        ? (r = this.parseRegexGroup(
            /^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,
            "size"
          ))
        : (r = this.parseStringGroup("size", e)),
      !r)
    )
      return null;
    !e && r.text.length === 0 && ((r.text = "0pt"), (n = !0));
    var i = /([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);
    if (!i) throw new qe("Invalid size: '" + r.text + "'", r);
    var o = { number: +(i[1] + i[2]), unit: i[3] };
    if (!EB(o)) throw new qe("Invalid unit: '" + o.unit + "'", r);
    return { type: "size", mode: this.mode, value: o, isBlank: n };
  }
  parseUrlGroup(e) {
    this.gullet.lexer.setCatcode("%", 13),
      this.gullet.lexer.setCatcode("~", 12);
    var r = this.parseStringGroup("url", e);
    if (
      (this.gullet.lexer.setCatcode("%", 14),
      this.gullet.lexer.setCatcode("~", 13),
      r == null)
    )
      return null;
    var n = r.text.replace(/\\([#$%&~_^{}])/g, "$1");
    return { type: "url", mode: this.mode, url: n };
  }
  parseArgumentGroup(e, r) {
    var n = this.gullet.scanArgument(e);
    if (n == null) return null;
    var i = this.mode;
    r && this.switchMode(r), this.gullet.beginGroup();
    var o = this.parseExpression(!1, "EOF");
    this.expect("EOF"), this.gullet.endGroup();
    var s = { type: "ordgroup", mode: this.mode, loc: n.loc, body: o };
    return r && this.switchMode(i), s;
  }
  parseGroup(e, r) {
    var n = this.fetch(),
      i = n.text,
      o;
    if (i === "{" || i === "\\begingroup") {
      this.consume();
      var s = i === "{" ? "}" : "\\endgroup";
      this.gullet.beginGroup();
      var a = this.parseExpression(!1, s),
        l = this.fetch();
      this.expect(s),
        this.gullet.endGroup(),
        (o = {
          type: "ordgroup",
          mode: this.mode,
          loc: ds.range(n, l),
          body: a,
          semisimple: i === "\\begingroup" || void 0,
        });
    } else if (
      ((o = this.parseFunction(r, e) || this.parseSymbol()),
      o == null && i[0] === "\\" && !vT.hasOwnProperty(i))
    ) {
      if (this.settings.throwOnError)
        throw new qe("Undefined control sequence: " + i, n);
      (o = this.formatUnsupportedCmd(i)), this.consume();
    }
    return o;
  }
  formLigatures(e) {
    for (var r = e.length - 1, n = 0; n < r; ++n) {
      var i = e[n],
        o = i.text;
      o === "-" &&
        e[n + 1].text === "-" &&
        (n + 1 < r && e[n + 2].text === "-"
          ? (e.splice(n, 3, {
              type: "textord",
              mode: "text",
              loc: ds.range(i, e[n + 2]),
              text: "---",
            }),
            (r -= 2))
          : (e.splice(n, 2, {
              type: "textord",
              mode: "text",
              loc: ds.range(i, e[n + 1]),
              text: "--",
            }),
            (r -= 1))),
        (o === "'" || o === "`") &&
          e[n + 1].text === o &&
          (e.splice(n, 2, {
            type: "textord",
            mode: "text",
            loc: ds.range(i, e[n + 1]),
            text: o + o,
          }),
          (r -= 1));
    }
  }
  parseSymbol() {
    var e = this.fetch(),
      r = e.text;
    if (/^\\verb[^a-zA-Z]/.test(r)) {
      this.consume();
      var n = r.slice(5),
        i = n.charAt(0) === "*";
      if ((i && (n = n.slice(1)), n.length < 2 || n.charAt(0) !== n.slice(-1)))
        throw new qe(`\\verb assertion failed --
                    please report what input caused this bug`);
      return (
        (n = n.slice(1, -1)), { type: "verb", mode: "text", body: n, star: i }
      );
    }
    DS.hasOwnProperty(r[0]) &&
      !qr[this.mode][r[0]] &&
      (this.settings.strict &&
        this.mode === "math" &&
        this.settings.reportNonstrict(
          "unicodeTextInMathMode",
          'Accented Unicode text character "' + r[0] + '" used in math mode',
          e
        ),
      (r = DS[r[0]] + r.slice(1)));
    var o = $ne.exec(r);
    o &&
      ((r = r.substring(0, o.index)),
      r === "i" ? (r = "ı") : r === "j" && (r = "ȷ"));
    var s;
    if (qr[this.mode][r]) {
      this.settings.strict &&
        this.mode === "math" &&
        f6.indexOf(r) >= 0 &&
        this.settings.reportNonstrict(
          "unicodeTextInMathMode",
          'Latin-1/Unicode text character "' + r[0] + '" used in math mode',
          e
        );
      var a = qr[this.mode][r].group,
        l = ds.range(e),
        u;
      if (kre.hasOwnProperty(a)) {
        var c = a;
        u = { type: "atom", mode: this.mode, family: c, loc: l, text: r };
      } else u = { type: a, mode: this.mode, loc: l, text: r };
      s = u;
    } else if (r.charCodeAt(0) >= 128)
      this.settings.strict &&
        (AB(r.charCodeAt(0))
          ? this.mode === "math" &&
            this.settings.reportNonstrict(
              "unicodeTextInMathMode",
              'Unicode text character "' + r[0] + '" used in math mode',
              e
            )
          : this.settings.reportNonstrict(
              "unknownSymbol",
              'Unrecognized Unicode character "' +
                r[0] +
                '"' +
                (" (" + r.charCodeAt(0) + ")"),
              e
            )),
        (s = { type: "textord", mode: "text", loc: ds.range(e), text: r });
    else return null;
    if ((this.consume(), o))
      for (var f = 0; f < o[0].length; f++) {
        var h = o[0][f];
        if (!Ay[h]) throw new qe("Unknown accent ' " + h + "'", e);
        var d = Ay[h][this.mode] || Ay[h].text;
        if (!d)
          throw new qe(
            "Accent " + h + " unsupported in " + this.mode + " mode",
            e
          );
        s = {
          type: "accent",
          mode: this.mode,
          loc: ds.range(e),
          label: d,
          isStretchy: !1,
          isShifty: !0,
          base: s,
        };
      }
    return s;
  }
}
o2.endOfExpression = ["}", "\\endgroup", "\\end", "\\right", "&"];
var pb = function (e, r) {
    if (!(typeof e == "string" || e instanceof String))
      throw new TypeError("KaTeX can only parse string typed expression");
    var n = new o2(e, r);
    delete n.gullet.macros.current["\\df@tag"];
    var i = n.parse();
    if (
      (delete n.gullet.macros.current["\\current@color"],
      delete n.gullet.macros.current["\\color"],
      n.gullet.macros.get("\\df@tag"))
    ) {
      if (!r.displayMode) throw new qe("\\tag works only in display equations");
      i = [
        {
          type: "tag",
          mode: "text",
          body: i,
          tag: n.subparse([new ro("\\df@tag")]),
        },
      ];
    }
    return i;
  },
  yT = function (e, r, n) {
    r.textContent = "";
    var i = mb(e, n).toNode();
    r.appendChild(i);
  };
typeof document < "u" &&
  document.compatMode !== "CSS1Compat" &&
  (typeof console < "u" &&
    console.warn(
      "Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."
    ),
  (yT = function () {
    throw new qe("KaTeX doesn't work in quirks mode.");
  }));
var Rne = function (e, r) {
    var n = mb(e, r).toMarkup();
    return n;
  },
  Ine = function (e, r) {
    var n = new X7(r);
    return pb(e, n);
  },
  bT = function (e, r, n) {
    if (n.throwOnError || !(e instanceof qe)) throw e;
    var i = me.makeSpan(["katex-error"], [new co(r)]);
    return (
      i.setAttribute("title", e.toString()),
      i.setAttribute("style", "color:" + n.errorColor),
      i
    );
  },
  mb = function (e, r) {
    var n = new X7(r);
    try {
      var i = pb(e, n);
      return Ure(i, e, n);
    } catch (o) {
      return bT(o, e, n);
    }
  },
  Nne = function (e, r) {
    var n = new X7(r);
    try {
      var i = pb(e, n);
      return Gre(i, e, n);
    } catch (o) {
      return bT(o, e, n);
    }
  },
  v6 = {
    version: "0.16.10",
    render: yT,
    renderToString: Rne,
    ParseError: qe,
    SETTINGS_SCHEMA: Ag,
    __parse: Ine,
    __renderToDomTree: mb,
    __renderToHTMLTree: Nne,
    __setFontMetrics: gre,
    __defineSymbol: v,
    __defineFunction: at,
    __defineMacro: O,
    __domTree: {
      Span: Dp,
      Anchor: Z7,
      SymbolNode: co,
      SvgNode: Ja,
      PathNode: gu,
      LineNode: c6,
    },
  };
const P0 = (t) => {
    throw new Error("Non-exhaustive match for " + t);
  },
  gb = (t) => xT(wT(DT(Lne(t)))),
  no = (t, e) => gb(new hl(t.children.map((r) => Ts(r, e)))),
  Ts = (t, e) => {
    switch (t.type) {
      case "script":
        return e(
          t.withChanges({
            base: Ts(t.base, e),
            sub: t.sub ? Ts(t.sub, e) : void 0,
            sup: t.sup ? Ts(t.sup, e) : void 0,
          })
        );
      case "frac":
        return e(
          t.withChanges({
            numerator: Ts(t.numerator, e),
            denominator: Ts(t.denominator, e),
          })
        );
      case "symbol":
      case "space":
      case "op":
        return e(t.withChanges({}));
      case "color":
      case "group":
      case "text":
        return e(t.withChanges({ body: t.body.map((r) => Ts(r, e)) }));
      case "box":
      case "strikethrough":
        return e(t.withChanges({ body: Ts(t.body, e) }));
      case "brace":
        return e(t.withChanges({ base: Ts(t.base, e) }));
      case "array":
        return e(
          t.withChanges({ body: t.body.map((r) => r.map((n) => Ts(n, e))) })
        );
      case "root":
        return e(
          t.withChanges({
            body: Ts(t.body, e),
            ...(t.index !== void 0 && { index: Ts(t.index, e) }),
          })
        );
    }
    return P0(t);
  },
  DT = (t) => new hl(t.children.map((e, r) => Ps(e, `${r}`))),
  Ps = (t, e) => {
    switch (t.type) {
      case "script":
        return t.withChanges({
          id: e,
          base: Ps(t.base, `${e}.base`),
          sub: t.sub ? Ps(t.sub, `${e}.sub`) : void 0,
          sup: t.sup ? Ps(t.sup, `${e}.sup`) : void 0,
        });
      case "frac":
        return t.withChanges({
          id: e,
          numerator: Ps(t.numerator, `${e}.numerator`),
          denominator: Ps(t.denominator, `${e}.denominator`),
        });
      case "symbol":
      case "space":
      case "op":
        return t.withChanges({ id: e });
      case "color":
      case "group":
      case "text":
        return t.withChanges({
          id: e,
          body: t.body.map((r, n) => Ps(r, `${e}.${n}`)),
        });
      case "box":
      case "strikethrough":
        return t.withChanges({ id: e, body: Ps(t.body, `${e}.body`) });
      case "brace":
        return t.withChanges({ id: e, base: Ps(t.base, `${e}.base`) });
      case "array":
        return t.withChanges({
          id: e,
          body: t.body.map((r, n) => r.map((i, o) => Ps(i, `${e}.${n}.${o}`))),
        });
      case "root":
        return t.withChanges({
          id: e,
          body: Ps(t.body, `${e}.body`),
          ...(t.index !== void 0 && { index: Ps(t.index, `${e}.index`) }),
        });
    }
    return P0(t);
  },
  wT = (t) => new hl(t.children.map((e) => Rs(e, null))),
  Rs = (t, e) => {
    switch (t.type) {
      case "script": {
        const r = t.withChanges({
          parent: e,
          base: Rs(t.base, t),
          sub: t.sub ? Rs(t.sub, t) : void 0,
          sup: t.sup ? Rs(t.sup, t) : void 0,
        });
        return console.log("Changed", r), r;
      }
      case "frac":
        return t.withChanges({
          parent: e,
          numerator: Rs(t.numerator, t),
          denominator: Rs(t.denominator, t),
        });
      case "symbol":
      case "space":
      case "op":
        return t.withChanges({ parent: e });
      case "color":
      case "group":
      case "text":
        return t.withChanges({ parent: e, body: t.body.map((r) => Rs(r, t)) });
      case "box":
      case "strikethrough":
        return t.withChanges({ parent: e, body: Rs(t.body, t) });
      case "brace":
        return t.withChanges({ parent: e, base: Rs(t.base, t) });
      case "array":
        return t.withChanges({
          parent: e,
          body: t.body.map((r) => r.map((n) => Rs(n, t))),
        });
      case "root":
        return t.withChanges({
          parent: e,
          body: Rs(t.body, t),
          ...(t.index !== void 0 && { index: Rs(t.index, t) }),
        });
    }
    return P0(t);
  },
  Lne = (t) => new hl(t.children.flatMap((e) => Oi(e))),
  Ca = (t) => {
    if (t.length === 1) return t[0];
    throw new Error("Expected exactly one element, got " + t.length);
  },
  Ey = (t) => {
    if (t.length >= 1) return t;
    throw new Error("Expected at least one element, got " + t.length);
  },
  zne = (t) => (t.type === "group" ? t.body : [t]),
  Oi = (t) => {
    switch (t.type) {
      case "group":
        return t.body.length === 0
          ? []
          : t.body.length === 1
            ? Oi(t.body[0])
            : [
                t.withChanges({
                  body: Ey(
                    t.body.flatMap((e) =>
                      e instanceof Zr ? e.body.flatMap((r) => Oi(r)) : Oi(e)
                    )
                  ),
                }),
              ];
      case "script":
        return [
          t.withChanges({
            base: Ca(Oi(t.base)),
            sub: t.sub ? Ca(Oi(t.sub)) : void 0,
            sup: t.sup ? Ca(Oi(t.sup)) : void 0,
          }),
        ];
      case "frac":
        return [
          t.withChanges({
            numerator: Ca(Oi(t.numerator)),
            denominator: Ca(Oi(t.denominator)),
          }),
        ];
      case "symbol":
      case "space":
      case "op":
        return [t];
      case "color":
      case "text":
        return [t.withChanges({ body: Ey(t.body.flatMap(Oi).flatMap(zne)) })];
      case "box":
      case "strikethrough":
        return [t.withChanges({ body: Ca(Oi(t.body)) })];
      case "brace":
        return [t.withChanges({ base: Ca(Oi(t.base)) })];
      case "array":
        return [
          t.withChanges({
            body: t.body.map((e) =>
              Ey(
                e.flatMap((r) =>
                  r instanceof Zr && r.body.length === 0 ? [r] : Oi(r)
                )
              )
            ),
          }),
        ];
      case "root":
        return [
          t.withChanges({
            body: Ca(Oi(t.body)),
            ...(t.index !== void 0 && { index: Ca(Oi(t.index)) }),
          }),
        ];
    }
    return P0(t);
  },
  xT = (t) => {
    const e = t.children.map((r) => Is(r));
    return (
      e.forEach((r, n) => {
        n > 0 && (r._leftSibling = e[n - 1]),
          n < e.length - 1 && (r._rightSibling = e[n + 1]);
      }),
      new hl(e)
    );
  },
  Is = (t) => {
    switch (t.type) {
      case "script":
        return t.withChanges({
          base: Is(t.base),
          sub: t.sub ? Is(t.sub) : void 0,
          sup: t.sup ? Is(t.sup) : void 0,
        });
      case "frac":
        return t.withChanges({
          numerator: Is(t.numerator),
          denominator: Is(t.denominator),
        });
      case "symbol":
      case "space":
      case "op":
        return t;
      case "box":
      case "strikethrough":
        return t.withChanges({ body: Is(t.body) });
      case "brace":
        return t.withChanges({ base: Is(t.base) });
      case "root":
        return t.withChanges({
          body: Is(t.body),
          ...(t.index !== void 0 && { index: Is(t.index) }),
        });
      case "color":
      case "group":
      case "text": {
        const e = t.body.map((r) => Is(r));
        return (
          e.forEach((r, n) => {
            n > 0 && (r._leftSibling = e[n - 1]),
              n < e.length - 1 && (r._rightSibling = e[n + 1]);
          }),
          t.withChanges({ body: e })
        );
      }
      case "array":
        return t.withChanges({ body: t.body.map((e) => e.map((r) => Is(r))) });
    }
    return P0(t);
  },
  a2 = (t, e) => {
    let r = t.children.map((n) => Ns(n, e));
    for (const n of e)
      for (let i = 0; i < r.length; i++)
        n.includes(r[i].id) &&
          (r = r
            .slice(0, i)
            .concat([new Zr(r[i].id, r.slice(i, i + n.length))])
            .concat(r.slice(i + n.length)));
    return xT(wT(DT(new hl(r))));
  },
  Ns = (t, e) => {
    switch (t.type) {
      case "script":
        return t.withChanges({
          base: Ns(t.base, e),
          sub: t.sub ? Ns(t.sub, e) : void 0,
          sup: t.sup ? Ns(t.sup, e) : void 0,
        });
      case "frac":
        return t.withChanges({
          numerator: Ns(t.numerator, e),
          denominator: Ns(t.denominator, e),
        });
      case "symbol":
      case "space":
      case "op":
        return t;
      case "box":
      case "strikethrough":
        return t.withChanges({ body: Ns(t.body, e) });
      case "brace":
        return t.withChanges({ base: Ns(t.base, e) });
      case "root":
        return t.withChanges({
          body: Ns(t.body, e),
          ...(t.index !== void 0 && { index: Ns(t.index, e) }),
        });
      case "array":
        return t.withChanges({
          body: t.body.map((r) => r.map((n) => Ns(n, e))),
        });
      case "color":
      case "group":
      case "text": {
        let r = t.body.map((n) => Ns(n, e));
        for (const n of e)
          for (let i = 0; i < r.length; i++)
            n.includes(r[i].id) &&
              (r = r
                .slice(0, i)
                .concat([new Zr(r[i].id, r.slice(i, i + n.length))])
                .concat(r.slice(i + n.length)));
        return t.withChanges({ body: r });
      }
    }
    P0(t);
  },
  jne = async (t) => {
    const e = { strict: !1, trust: !0, output: "html" };
    console.log("KaTeX Parse tree:", v6.__parse(t, e));
    const r = v6.renderToString(t, e);
    let n = document.getElementById("debug");
    n ||
      ((n = document.createElement("div")),
      (n.id = "debug"),
      (n.style.position = "fixed"),
      (n.style.bottom = "0"),
      (n.style.left = "50%"),
      document.body.appendChild(n)),
      (n.innerHTML = r);
    const i = xp(t);
    console.log("Parsed augmented formula:", i);
  };
window.debugLatex = jne;
const vb = (t) => {
    try {
      return xp(t), !0;
    } catch {
      return !1;
    }
  },
  wS = (t) => {
    console.log("LaTeX:", t.toLatex("no-id")), console.log("New formula:", t);
    const e = t.toLatex("render"),
      r = MathJax.tex2chtml(e),
      n = kT(r);
    return (
      console.log("Render spec:", n),
      MathJax.startup.document.clear(),
      MathJax.startup.document.updateDocument(),
      { renderSpec: n }
    );
  },
  xp = (t) => {
    const r = v6
      .__parse(t, { strict: !1, trust: !0 })
      .map((n, i) => ii(n, `${i}`));
    return gb(new hl(r));
  },
  ii = (t, e) => {
    switch (t.type) {
      case "html": {
        const [r, ...n] = t.body;
        if (r === void 0 || n.length > 0)
          throw new Error("htmlId should only have a single child");
        return ii(r, t.attributes.id);
      }
      case "supsub": {
        const r = ii(t.base, `${e}.base`),
          n = t.sub ? ii(t.sub, `${e}.sub`) : void 0,
          i = t.sup ? ii(t.sup, `${e}.sup`) : void 0,
          o = new kp(e, r, n, i);
        return (r._parent = o), n && (n._parent = o), i && (i._parent = o), o;
      }
      case "genfrac": {
        const r = ii(t.numer, `${e}.numer`),
          n = ii(t.denom, `${e}.denom`),
          i = new yb(e, r, n);
        return (r._parent = i), (n._parent = i), i;
      }
      case "atom":
      case "mathord":
      case "textord":
        return new l2(e, t.text);
      case "color": {
        const r = t.body.map((i) => ii(i, `${e}.body`)),
          n = new xd(e, t.color, r);
        return (
          r.forEach((i) => (i._parent = n)),
          r.forEach((i, o) => {
            o > 0 && (i._leftSibling = r[o - 1]),
              o < r.length - 1 && (i._rightSibling = r[o + 1]);
          }),
          n
        );
      }
      case "styling":
      case "ordgroup": {
        if (t.body.length === 1 && t.body[0].type !== "color")
          return ii(t.body[0], e);
        const r = t.body.map((i, o) => ii(i, `${e}.${o}`)),
          n = new Zr(e, r);
        return (
          r.forEach((i) => (i._parent = n)),
          r.forEach((i, o) => {
            o > 0 && (i._leftSibling = r[o - 1]),
              o < r.length - 1 && (i._rightSibling = r[o + 1]);
          }),
          n
        );
      }
      case "enclose":
        if (t.label === String.raw`\cancel`) {
          const r = ii(t.body, `${e}.body`),
            n = new f2(e, r);
          return (r._parent = n), n;
        } else if (t.label === String.raw`\fcolorbox`) {
          const r = ii(t.body, `${e}.body`),
            n = new kd(e, t.borderColor, t.backgroundColor, r);
          return (r._parent = n), n;
        } else throw new Error(`Unsupported enclose type: ${t.label}`);
      case "horizBrace": {
        const r = ii(t.base, `${e}.base`),
          n = new u2(e, t.isOver, r);
        return (r._parent = n), n;
      }
      case "text": {
        const r = t.body.map((i, o) => ii(i, `${e}.${o}`)),
          n = new c2(e, r);
        return (
          r.forEach((i) => (i._parent = n)),
          r.forEach((i, o) => {
            o > 0 && (i._leftSibling = r[o - 1]),
              o < r.length - 1 && (i._rightSibling = r[o + 1]);
          }),
          n
        );
      }
      case "spacing":
        return new bb(e, t.text);
      case "array":
        return new n0(
          e,
          t.body.map((r, n) => r.map((i, o) => ii(i, `${e}.${n}.${o}`)))
        );
      case "op":
        if (t.symbol) return new wb(e, t.name, t.limits);
        break;
      case "sqrt": {
        const r = ii(t.body, `${e}.body`),
          n = t.index ? ii(t.index, `${e}.index`) : void 0,
          i = new Db(e, r, n);
        return (r._parent = i), n && (n._parent = i), i;
      }
    }
    throw (
      (console.log("Failed to build:", t),
      new Error("Failed to build formula tree"))
    );
  };
function Wn(t, e, r) {
  let n = e,
    i = "",
    o = {};
  for (const s of t)
    if (typeof s == "string") (i += s), (n += s.length);
    else {
      const [a, l] = s;
      (i += a),
        (o = {
          ...o,
          ...Object.fromEntries(
            Object.entries(l).map(([u, [c, f]]) => [u, [c + n, f + n]])
          ),
        }),
        (n += a.length);
    }
  return r && (o[r] = [e, n]), [i, o];
}
class hl {
  constructor(e) {
    dn(this, "idToNode", {});
    this.children = e;
    const r = (n) => {
      (this.idToNode[n.id] = n), n.children.forEach(r);
    };
    e.forEach(r);
  }
  toLatex(e) {
    return this.toLatexRanges(e)[0];
  }
  toLatexRanges(e) {
    return Wn(
      this.children.flatMap((r) => [r.toLatex(e, 0), " "]),
      0
    );
  }
  findNode(e) {
    return this.idToNode[e] ?? null;
  }
  equals(e) {
    return this.toLatex("no-id") === e.toLatex("no-id");
  }
  toStyledRanges() {
    return new Y7(
      this.children.flatMap((e, r) =>
        r < this.children.length - 1
          ? e.toStyledRanges().concat(new Ht(" "))
          : e.toStyledRanges()
      )
    );
  }
}
class Ms {
  constructor(e) {
    dn(this, "_parent", null);
    dn(this, "_leftSibling", null);
    dn(this, "_rightSibling", null);
    this.id = e;
  }
  latexWithId(e, r) {
    switch (e) {
      case "render":
        return [String.raw`\cssId{${this.id}}{`, ...r, "}"];
      case "no-id":
      case "content-only":
        return r;
    }
  }
  get ancestors() {
    return this._parent === null
      ? []
      : [this._parent, ...this._parent.ancestors];
  }
  contains(e) {
    return this.id === e || this.children.some((r) => r.contains(e));
  }
}
class kp extends Ms {
  constructor(r, n, i, o) {
    super(r);
    dn(this, "type", "script");
    (this.id = r), (this.base = n), (this.sub = i), (this.sup = o);
  }
  toLatex(r, n) {
    const i = this.base.toLatex(r, n),
      o = this.sub ? ["_", this.sub.toLatex(r, n)] : [],
      s = this.sup ? ["^", this.sup.toLatex(r, n)] : [];
    return Wn(this.latexWithId(r, [i, ...o, ...s]), n, this.id);
  }
  withChanges({
    id: r,
    parent: n,
    leftSibling: i,
    rightSibling: o,
    base: s,
    sub: a,
    sup: l,
  }) {
    const u = new kp(
      r ?? this.id,
      s ?? this.base,
      a ?? this.sub,
      l ?? this.sup
    );
    return (
      (u._parent = n === void 0 ? this._parent : n),
      (u._leftSibling = i === void 0 ? this._leftSibling : i),
      (u._rightSibling = o === void 0 ? this._rightSibling : o),
      u
    );
  }
  get children() {
    return [
      this.base,
      ...(this.sub ? [this.sub] : []),
      ...(this.sup ? [this.sup] : []),
    ];
  }
  toStyledRanges() {
    return [
      new Ht("{"),
      ...this.base.toStyledRanges(),
      ...(this.sub ? [new Ht("_"), ...this.sub.toStyledRanges()] : []),
      ...(this.sup ? [new Ht("^"), ...this.sup.toStyledRanges()] : []),
      new Ht("}"),
    ];
  }
}
class yb extends Ms {
  constructor(r, n, i) {
    super(r);
    dn(this, "type", "frac");
    (this.id = r), (this.numerator = n), (this.denominator = i);
  }
  toLatex(r, n) {
    const i = this.numerator.toLatex(r, n),
      o = this.denominator.toLatex(r, n);
    return Wn(
      this.latexWithId(r, [String.raw`\frac{`, i, "}{", o, "}"]),
      n,
      this.id
    );
  }
  withChanges({
    id: r,
    parent: n,
    leftSibling: i,
    rightSibling: o,
    numerator: s,
    denominator: a,
  }) {
    const l = new yb(r ?? this.id, s ?? this.numerator, a ?? this.denominator);
    return (
      (l._parent = n === void 0 ? this._parent : n),
      (l._leftSibling = i === void 0 ? this._leftSibling : i),
      (l._rightSibling = o === void 0 ? this._rightSibling : o),
      l
    );
  }
  get children() {
    return [this.numerator, this.denominator];
  }
  toStyledRanges() {
    return [
      new Ht(String.raw`\frac{`),
      ...this.numerator.toStyledRanges(),
      new Ht("}{"),
      ...this.denominator.toStyledRanges(),
      new Ht("}"),
    ];
  }
}
class l2 extends Ms {
  constructor(r, n) {
    super(r);
    dn(this, "type", "symbol");
    (this.id = r), (this.value = n);
  }
  toLatex(r, n) {
    return Wn(this.latexWithId(r, [this.value.toString()]), n, this.id);
  }
  withChanges({ id: r, parent: n, leftSibling: i, rightSibling: o, value: s }) {
    const a = new l2(r ?? this.id, s ?? this.value);
    return (
      (a._parent = n === void 0 ? this._parent : n),
      (a._leftSibling = i === void 0 ? this._leftSibling : i),
      (a._rightSibling = o === void 0 ? this._rightSibling : o),
      a
    );
  }
  get children() {
    return [];
  }
  toStyledRanges() {
    return [new Ht(this.value)];
  }
}
class xd extends Ms {
  constructor(r, n, i) {
    super(r);
    dn(this, "type", "color");
    (this.id = r), (this.color = n), (this.body = i);
  }
  toLatex(r, n) {
    const i = this.body.flatMap((o) => [o.toLatex(r, n), " "]).slice(0, -1);
    return r === "content-only"
      ? Wn(i, n, this.id)
      : Wn(
          this.latexWithId(r, [
            String.raw`\textcolor{${this.color}}{`,
            ...i,
            "}",
          ]),
          n,
          this.id
        );
  }
  withChanges({
    id: r,
    parent: n,
    leftSibling: i,
    rightSibling: o,
    color: s,
    body: a,
  }) {
    const l = new xd(r ?? this.id, s ?? this.color, a ?? this.body);
    return (
      (l._parent = n === void 0 ? this._parent : n),
      (l._leftSibling = i === void 0 ? this._leftSibling : i),
      (l._rightSibling = o === void 0 ? this._rightSibling : o),
      l
    );
  }
  get children() {
    return this.body;
  }
  toStyledRanges() {
    return [
      new On(
        this.id,
        String.raw`\textcolor{${this.color}}{`,
        this.children.flatMap((r, n) =>
          r
            .toStyledRanges()
            .concat(n < this.children.length - 1 ? new Ht(" ") : [])
        ),
        "}",
        { color: this.color, tooltip: `Color: ${this.color}` }
      ),
    ];
  }
}
class Zr extends Ms {
  constructor(r, n) {
    super(r);
    dn(this, "type", "group");
    (this.id = r), (this.body = n);
  }
  toLatex(r, n) {
    const i = this.body.flatMap((o) => [o.toLatex(r, n), " "]).slice(0, -1);
    return (r === "no-id" || r === "content-only") &&
      (this._parent === null ||
        this._parent.type === "array" ||
        this._parent.type === "root" ||
        this._parent.type === "brace" ||
        this._parent.type === "frac")
      ? Wn(i, n, this.id)
      : Wn(this.latexWithId(r, ["{", ...i, "}"]), n, this.id);
  }
  withChanges({ id: r, parent: n, leftSibling: i, rightSibling: o, body: s }) {
    const a = new Zr(r ?? this.id, s ?? this.body);
    return (
      (a._parent = n === void 0 ? this._parent : n),
      (a._leftSibling = i === void 0 ? this._leftSibling : i),
      (a._rightSibling = o === void 0 ? this._rightSibling : o),
      a
    );
  }
  get children() {
    return this.body;
  }
  toStyledRanges() {
    return [
      new Ht("{"),
      ...this.children.flatMap((r, n) =>
        r
          .toStyledRanges()
          .concat(n < this.children.length - 1 ? new Ht(" ") : [])
      ),
      new Ht("}"),
    ];
  }
}
class kd extends Ms {
  constructor(r, n, i, o) {
    super(r);
    dn(this, "type", "box");
    (this.id = r),
      (this.borderColor = n),
      (this.backgroundColor = i),
      (this.body = o);
  }
  toLatex(r, n) {
    const i = this.body.toLatex(r, n);
    return r === "content-only"
      ? Wn([i], n, this.id)
      : Wn(
          this.latexWithId(r, [
            `\fcolorbox{${this.borderColor}}{${this.backgroundColor}}{$`,
            i,
            "$}",
          ]),
          n,
          this.id
        );
  }
  withChanges({
    id: r,
    parent: n,
    leftSibling: i,
    rightSibling: o,
    borderColor: s,
    backgroundColor: a,
    body: l,
  }) {
    const u = new kd(
      r ?? this.id,
      s ?? this.borderColor,
      a ?? this.backgroundColor,
      l ?? this.body
    );
    return (
      (u._parent = n === void 0 ? this._parent : n),
      (u._leftSibling = i === void 0 ? this._leftSibling : i),
      (u._rightSibling = o === void 0 ? this._rightSibling : o),
      u
    );
  }
  get children() {
    return [this.body];
  }
  toStyledRanges() {
    return [
      new On(
        this.id,
        String.raw`\fcolorbox{${this.borderColor}}{${this.backgroundColor}}{$`,
        this.body.toStyledRanges(),
        "$}",
        { color: this.borderColor, tooltip: `Box: ${this.borderColor}` }
      ),
    ];
  }
}
class u2 extends Ms {
  constructor(r, n, i) {
    super(r);
    dn(this, "type", "brace");
    (this.id = r), (this.over = n), (this.base = i);
  }
  toLatex(r, n) {
    const i = this.base.toLatex(r, n);
    if (r === "content-only") return Wn([i], n, this.id);
    const o = "\\" + (this.over ? "over" : "under") + "brace";
    return Wn(this.latexWithId(r, [`${o}{`, i, "}"]), n, this.id);
  }
  withChanges({
    id: r,
    parent: n,
    leftSibling: i,
    rightSibling: o,
    over: s,
    base: a,
  }) {
    const l = new u2(r ?? this.id, s ?? this.over, a ?? this.base);
    return (
      (l._parent = n === void 0 ? this._parent : n),
      (l._leftSibling = i === void 0 ? this._leftSibling : i),
      (l._rightSibling = o === void 0 ? this._rightSibling : o),
      l
    );
  }
  get children() {
    return [this.base];
  }
  toStyledRanges() {
    return [
      new On(
        this.id,
        this.over ? String.raw`\overbrace{` : String.raw`\underbrace{`,
        this.base.toStyledRanges(),
        "}"
      ),
    ];
  }
}
class c2 extends Ms {
  constructor(r, n) {
    super(r);
    dn(this, "type", "text");
    (this.id = r), (this.body = n);
  }
  toLatex(r, n) {
    const i = this.body.map((o) => o.toLatex("no-id", n));
    return Wn(this.latexWithId(r, [String.raw`\text{`, ...i, "}"]), n, this.id);
  }
  withChanges({ id: r, parent: n, leftSibling: i, rightSibling: o, body: s }) {
    const a = new c2(r ?? this.id, s ?? this.body);
    return (
      (a._parent = n === void 0 ? this._parent : n),
      (a._leftSibling = i === void 0 ? this._leftSibling : i),
      (a._rightSibling = o === void 0 ? this._rightSibling : o),
      a
    );
  }
  get children() {
    return this.body;
  }
  toStyledRanges() {
    return [
      new Ht(String.raw`\text{`),
      ...this.children.flatMap((r) => r.toStyledRanges()),
      new Ht(String.raw`}`),
    ];
  }
}
class bb extends Ms {
  constructor(r, n) {
    super(r);
    dn(this, "type", "space");
    (this.id = r), (this.text = n);
  }
  toLatex(r, n) {
    return [this.text, { [this.id]: [n, n + this.text.length] }];
  }
  withChanges({ id: r, parent: n, leftSibling: i, rightSibling: o, text: s }) {
    const a = new bb(r ?? this.id, s ?? this.text);
    return (
      (a._parent = n === void 0 ? this._parent : n),
      (a._leftSibling = i === void 0 ? this._leftSibling : i),
      (a._rightSibling = o === void 0 ? this._rightSibling : o),
      a
    );
  }
  get children() {
    return [];
  }
  toStyledRanges() {
    return [new Ht(this.text)];
  }
}
class n0 extends Ms {
  constructor(r, n) {
    super(r);
    dn(this, "type", "array");
    (this.id = r), (this.body = n);
  }
  toLatex(r, n) {
    const i = this.body
      .flatMap((a) => [
        ...a.flatMap((l) => [l.toLatex(r, n), " & "]).slice(0, -1),
        String.raw` \\ `,
      ])
      .slice(0, -1);
    if (r === "content-only") return Wn(i, n, this.id);
    const o = Math.max(...this.body.map((a) => a.length)),
      s = o === 2 ? ["r", "l"] : Array(o).fill("l");
    return Wn(
      this.latexWithId(r, [
        `\\begin{array}{${s.join("")}}
`,
        ...i,
        `
\\end{array}`,
      ]),
      n,
      this.id
    );
  }
  withChanges({ id: r, parent: n, leftSibling: i, rightSibling: o, body: s }) {
    const a = new n0(r ?? this.id, s ?? this.body);
    return (
      (a._parent = n === void 0 ? this._parent : n),
      (a._leftSibling = i === void 0 ? this._leftSibling : i),
      (a._rightSibling = o === void 0 ? this._rightSibling : o),
      a
    );
  }
  get children() {
    return this.body.flat();
  }
  toStyledRanges() {
    return [
      new On(
        this.id,
        String.raw`\begin{aligned}`,
        this.body.flatMap((r, n) =>
          r
            .flatMap((i, o) =>
              i.toStyledRanges().concat(o < r.length - 1 ? new Ht(" & ") : [])
            )
            .concat(
              n < this.body.length - 1
                ? new Ht(
                    String.raw` \\` +
                      `
`
                  )
                : []
            )
        ),
        String.raw`\end{aligned}`,
        { noMark: !0 }
      ),
    ];
  }
}
class Db extends Ms {
  constructor(r, n, i) {
    super(r);
    dn(this, "type", "root");
    (this.id = r), (this.body = n), (this.index = i);
  }
  toLatex(r, n) {
    const i = this.body.toLatex(r, n),
      o = this.index ? ["[", this.index.toLatex(r, n), "]"] : [];
    return Wn(
      this.latexWithId(r, [String.raw`\sqrt`, ...o, "{", i, "}"]),
      n,
      this.id
    );
  }
  withChanges({
    id: r,
    parent: n,
    leftSibling: i,
    rightSibling: o,
    body: s,
    index: a,
  }) {
    const l = new Db(r ?? this.id, s ?? this.body, a ?? this.index);
    return (
      (l._parent = n === void 0 ? this._parent : n),
      (l._leftSibling = i === void 0 ? this._leftSibling : i),
      (l._rightSibling = o === void 0 ? this._rightSibling : o),
      l
    );
  }
  get children() {
    return [this.body, ...(this.index ? [this.index] : [])];
  }
  toStyledRanges() {
    return this.index
      ? [
          new Ht(String.raw`\sqrt[`),
          ...this.index.toStyledRanges(),
          new Ht("]{"),
          ...this.body.toStyledRanges(),
          new Ht("}"),
        ]
      : [
          new Ht(String.raw`\sqrt{`),
          ...this.body.toStyledRanges(),
          new Ht("}"),
        ];
  }
}
class wb extends Ms {
  constructor(r, n, i) {
    super(r);
    dn(this, "type", "op");
    (this.id = r), (this.operator = n), (this.limits = i);
  }
  toLatex(r, n) {
    return Wn(
      this.latexWithId(
        r,
        this.limits ? [this.operator, String.raw`\limits`] : [this.operator]
      ),
      n,
      this.id
    );
  }
  withChanges({
    id: r,
    parent: n,
    leftSibling: i,
    rightSibling: o,
    operator: s,
    limits: a,
  }) {
    const l = new wb(r ?? this.id, s ?? this.operator, a ?? this.limits);
    return (
      (l._parent = n === void 0 ? this._parent : n),
      (l._leftSibling = i === void 0 ? this._leftSibling : i),
      (l._rightSibling = o === void 0 ? this._rightSibling : o),
      l
    );
  }
  get children() {
    return [];
  }
  toStyledRanges() {
    return this.limits
      ? [new Ht(String.raw`${this.operator}\limits`)]
      : [new Ht(this.operator)];
  }
}
class f2 extends Ms {
  constructor(r, n) {
    super(r);
    dn(this, "type", "strikethrough");
    (this.id = r), (this.body = n);
  }
  toLatex(r, n) {
    const i = this.body.toLatex(r, n);
    return r === "content-only"
      ? Wn([i], n, this.id)
      : Wn(this.latexWithId(r, [String.raw`\cancel{`, i, "}"]), n, this.id);
  }
  withChanges({ id: r, parent: n, leftSibling: i, rightSibling: o, body: s }) {
    const a = new f2(r ?? this.id, s ?? this.body);
    return (
      (a._parent = n === void 0 ? this._parent : n),
      (a._leftSibling = i === void 0 ? this._leftSibling : i),
      (a._rightSibling = o === void 0 ? this._rightSibling : o),
      a
    );
  }
  get children() {
    return [this.body];
  }
  toStyledRanges() {
    return [
      new On(this.id, String.raw`\cancel{`, this.body.toStyledRanges(), "}"),
    ];
  }
}
const kT = (t) => {
    const e = Array.from(t.children).map(kT);
    return {
      tagName: t.tagName.toLowerCase(),
      id: t.getAttribute("id") ?? void 0,
      className: t.getAttribute("class") ?? void 0,
      style: "style" in t ? Hne(t) : void 0,
      attrs: Object.fromEntries(
        Array.from(t.attributes)
          .filter((r) => !["id", "class", "style"].includes(r.name))
          .map((r) => [r.name, r.value])
      ),
      children: e,
    };
  },
  Hne = (t) =>
    Object.fromEntries(
      Array.from(t.style).map((e) => [
        e.replace(/-./g, (r) => r[1].toUpperCase()),
        t.style[e],
      ])
    );
let xS,
  kS,
  SS,
  CS,
  AS,
  ES,
  FS,
  MS,
  _S,
  $S,
  OS,
  BS,
  TS,
  PS,
  RS,
  IS,
  NS,
  LS,
  zS,
  jS,
  HS,
  VS,
  WS,
  qS,
  US,
  GS,
  KS,
  YS,
  XS,
  JS,
  QS,
  ZS,
  eC,
  tC,
  rC,
  nC,
  iC,
  sC,
  oC;
function Sp(t, e, r, n, i, o) {
  var s,
    a,
    l,
    u,
    c,
    f,
    h,
    d = Symbol.metadata || Symbol.for("Symbol.metadata"),
    p = Object.defineProperty,
    m = Object.create,
    b = [m(null), m(null)],
    D = e.length;
  function k(T, P, te) {
    return function (ee, de) {
      P && ((de = ee), (ee = t));
      for (var ke = 0; ke < T.length; ke++)
        de = T[ke].apply(ee, te ? [de] : []);
      return te ? de : ee;
    };
  }
  function S(T, P, te, ee) {
    if (typeof T != "function" && (ee || T !== void 0))
      throw new TypeError(
        P +
          " must " +
          (te || "be") +
          " a function" +
          (ee ? "" : " or undefined")
      );
    return T;
  }
  function B(T, P, te, ee, de, ke, Ce, he, ze, Ve, Ae) {
    function tt(Vt) {
      if (!Ae(Vt))
        throw new TypeError(
          "Attempted to access private element on non-instance"
        );
    }
    var Ee = [].concat(P[0]),
      Je = P[3],
      Re = !Ce,
      ve = de === 1,
      Fe = de === 3,
      q = de === 4,
      Ot = de === 2;
    function Mt(Vt, ce, Me) {
      return function (_e, mt) {
        return ce && ((mt = _e), (_e = T)), Me && Me(_e), yt[Vt].call(_e, mt);
      };
    }
    if (!Re) {
      var yt = {},
        wt = [],
        Zt = Fe ? "get" : q || ve ? "set" : "value";
      if (
        (ze
          ? (Ve || ve
              ? (yt = {
                  get: aC(
                    function () {
                      return Je(this);
                    },
                    ee,
                    "get"
                  ),
                  set: function (Vt) {
                    P[4](this, Vt);
                  },
                })
              : (yt[Zt] = Je),
            Ve || aC(yt[Zt], ee, Ot ? "" : Zt))
          : Ve || (yt = Object.getOwnPropertyDescriptor(T, ee)),
        !Ve && !ze)
      ) {
        if ((a = b[+he][ee]) && (a ^ de) != 7)
          throw new Error(
            "Decorating two elements with the same name (" +
              yt[Zt].name +
              ") is not supported yet"
          );
        b[+he][ee] = de < 3 ? 1 : de;
      }
    }
    for (var Ut = T, br = Ee.length - 1; br >= 0; br -= te ? 2 : 1) {
      var Or = Ee[br],
        Br = te ? Ee[br - 1] : void 0,
        Wt = {},
        gr = {
          kind: ["field", "accessor", "method", "getter", "setter", "class"][
            de
          ],
          name: ee,
          metadata: s,
          addInitializer: function (Vt, ce) {
            if (Vt.v)
              throw new Error(
                "attempted to call addInitializer after decoration was finished"
              );
            S(ce, "An initializer", "be", !0), ke.push(ce);
          }.bind(null, Wt),
        };
      if (Re)
        (a = Or.call(Br, Ut, gr)),
          (Wt.v = 1),
          S(a, "class decorators", "return") && (Ut = a);
      else if (
        ((gr.static = he),
        (gr.private = ze),
        (a = gr.access =
          {
            has: ze
              ? Ae.bind()
              : function (Vt) {
                  return ee in Vt;
                },
          }),
        q ||
          (a.get = ze
            ? Ot
              ? function (Vt) {
                  return tt(Vt), yt.value;
                }
              : Mt("get", 0, tt)
            : function (Vt) {
                return Vt[ee];
              }),
        Ot ||
          Fe ||
          (a.set = ze
            ? Mt("set", 0, tt)
            : function (Vt, ce) {
                Vt[ee] = ce;
              }),
        (Ut = Or.call(Br, ve ? { get: yt.get, set: yt.set } : yt[Zt], gr)),
        (Wt.v = 1),
        ve)
      ) {
        if (typeof Ut == "object" && Ut)
          (a = S(Ut.get, "accessor.get")) && (yt.get = a),
            (a = S(Ut.set, "accessor.set")) && (yt.set = a),
            (a = S(Ut.init, "accessor.init")) && wt.unshift(a);
        else if (Ut !== void 0)
          throw new TypeError(
            "accessor decorators must return an object with get, set, or init properties or undefined"
          );
      } else
        S(Ut, (Ve ? "field" : "method") + " decorators", "return") &&
          (Ve ? wt.unshift(Ut) : (yt[Zt] = Ut));
    }
    return (
      de < 2 && Ce.push(k(wt, he, 1), k(ke, he, 0)),
      Ve ||
        Re ||
        (ze
          ? ve
            ? Ce.splice(-1, 0, Mt("get", he), Mt("set", he))
            : Ce.push(Ot ? yt[Zt] : S.call.bind(yt[Zt]))
          : p(T, ee, yt)),
      Ut
    );
  }
  function $(T) {
    return p(T, d, { configurable: !0, enumerable: !0, value: s });
  }
  return (
    o !== void 0 && (s = o[d]),
    (s = m(s ?? null)),
    (c = []),
    (f = function (T) {
      T && c.push(k(T));
    }),
    (h = function (T, P) {
      for (var te = 0; te < r.length; te++) {
        var ee = r[te],
          de = ee[1],
          ke = 7 & de;
        if ((8 & de) == T && !ke == P) {
          var Ce = ee[2],
            he = !!ee[3],
            ze = 16 & de;
          B(
            T ? t : t.prototype,
            ee,
            ze,
            he ? "#" + Ce : Vne(Ce),
            ke,
            ke < 2 ? [] : T ? (u = u || []) : (l = l || []),
            c,
            !!T,
            he,
            P,
            T && he
              ? function (Ve) {
                  return qne(Ve) === t;
                }
              : i
          );
        }
      }
    }),
    h(8, 0),
    h(0, 0),
    h(8, 1),
    h(0, 1),
    f(l),
    f(u),
    (a = c),
    D || $(t),
    {
      e: a,
      get c() {
        var T = [];
        return D && [$((t = B(t, [e], n, t.name, 5, T))), k(T, 1)];
      },
    }
  );
}
function Vne(t) {
  var e = Wne(t, "string");
  return typeof e == "symbol" ? e : String(e);
}
function Wne(t, e) {
  if (typeof t != "object" || !t) return t;
  var r = t[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(t, e || "default");
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (e === "string" ? String : Number)(t);
}
function aC(t, e, r) {
  typeof e == "symbol" && (e = (e = e.description) ? "[" + e + "]" : "");
  try {
    Object.defineProperty(t, "name", {
      configurable: !0,
      value: r ? r + " " + e : e,
    });
  } catch {}
  return t;
}
function qne(t) {
  if (Object(t) !== t)
    throw TypeError(
      "right-hand side of 'in' should be an object, got " +
        (t !== null ? typeof t : "null")
    );
  return t;
}
var Ad, Ed, Fd, Md;
const Ib = class Ib {
  constructor() {
    Kn(this, Ad, (xS(this), kS(this, null)));
    Kn(this, Ed, (SS(this), CS(this, new hl([]))));
    Kn(this, Fd, (AS(this), ES(this, !1)));
    Kn(this, Md, (FS(this), MS(this, null)));
    _S(this);
  }
  get renderSpec() {
    return Gn(this, Ad);
  }
  set renderSpec(e) {
    Yn(this, Ad, e);
  }
  get augmentedFormula() {
    return Gn(this, Ed);
  }
  set augmentedFormula(e) {
    Yn(this, Ed, e);
  }
  get suppressEditorUpdate() {
    return Gn(this, Fd);
  }
  set suppressEditorUpdate(e) {
    Yn(this, Fd, e);
  }
  get styledRangesOverride() {
    return Gn(this, Md);
  }
  set styledRangesOverride(e) {
    Yn(this, Md, e);
  }
  updateFormula(e) {
    if (this.augmentedFormula.equals(e)) {
      console.log("Skipping formula update");
      return;
    }
    const r = gb(e),
      { renderSpec: n } = wS(r);
    (this.renderSpec = n),
      (this.augmentedFormula = r),
      At.clearSelection(),
      Ra.checkpoint();
  }
  restoreFormulaState(e) {
    const r = xp(e),
      { renderSpec: n } = wS(r);
    (this.renderSpec = n), (this.augmentedFormula = r), At.clearSelection();
  }
  overrideStyledRanges(e) {
    console.log("Overriding styled ranges", e), (this.styledRangesOverride = e);
  }
  get latexWithStyling() {
    return this.augmentedFormula.toLatex("no-id");
  }
  get latexWithoutStyling() {
    return this.augmentedFormula.toLatex("content-only");
  }
  get latexRanges() {
    return this.augmentedFormula.toLatexRanges("no-id")[1];
  }
  get styledRanges() {
    return this.styledRangesOverride ?? this.augmentedFormula.toStyledRanges();
  }
  get alignIds() {
    if (this.augmentedFormula.children.length !== 1) return null;
    const e = this.augmentedFormula.children[0];
    return e instanceof n0 ? e.body.map((r) => r.map((n) => n.id)) : null;
  }
  get alignColumnIds() {
    if (this.augmentedFormula.children.length !== 1) return null;
    const e = this.augmentedFormula.children[0];
    return e instanceof n0
      ? (console.log("Found align columns", e.body[0].length, e),
        [...Array(Math.max(...e.body.map((r) => r.length))).keys()].map((r) =>
          e.body.flatMap((n) => (r < n.length ? [n[r].id] : []))
        ))
      : null;
  }
  get alignRowInternalTargets() {
    if (this.augmentedFormula.children.length !== 1) return null;
    const e = this.augmentedFormula.children[0];
    return e instanceof n0
      ? e.body.map((r) =>
          r.flatMap((n, i) =>
            n instanceof Zr
              ? n.body.map((o) => ({ id: o.id, col: i }))
              : [{ id: n.id, col: i }]
          )
        )
      : null;
  }
};
(Ad = new WeakMap()),
  (Ed = new WeakMap()),
  (Fd = new WeakMap()),
  (Md = new WeakMap()),
  ([kS, SS, CS, AS, ES, FS, MS, _S, xS] = Sp(
    Ib,
    [],
    [
      [or, 1, "renderSpec"],
      [or, 1, "augmentedFormula"],
      [or, 1, "suppressEditorUpdate"],
      [or, 1, "styledRangesOverride"],
      [vr, 2, "updateFormula"],
      [vr, 2, "restoreFormulaState"],
      [vr, 2, "overrideStyledRanges"],
      [Zn, 3, "latexWithStyling"],
      [Zn, 3, "latexWithoutStyling"],
      [Zn, 3, "latexRanges"],
      [Zn, 3, "styledRanges"],
      [Zn, 3, "alignIds"],
      [Zn, 3, "alignColumnIds"],
      [Zn, 3, "alignRowInternalTargets"],
    ]
  ).e);
let y6 = Ib;
const dt = new y6();
var _d, $d, Od, Bd, Td, Pd, Rd;
const Nb = class Nb {
  constructor() {
    Kn(this, _d, ($S(this), OS(this, null)));
    Kn(this, $d, (BS(this), TS(this, null)));
    Kn(this, Od, (PS(this), RS(this, or.array())));
    Kn(this, Bd, (IS(this), NS(this, or.map())));
    Kn(this, Td, (LS(this), zS(this, null)));
    Kn(this, Pd, (jS(this), HS(this, 4)));
    Kn(this, Rd, (VS(this), WS(this, { x: 0, y: 0 })));
    dn(this, "workspaceRef", (qS(this), null));
    dn(this, "formulaRootRef", null);
    dn(this, "targetRefs", new Map());
  }
  get workspaceBBox() {
    return Gn(this, _d);
  }
  set workspaceBBox(e) {
    Yn(this, _d, e);
  }
  get formulaRootBBox() {
    return Gn(this, $d);
  }
  set formulaRootBBox(e) {
    Yn(this, $d, e);
  }
  get selected() {
    return Gn(this, Od);
  }
  set selected(e) {
    Yn(this, Od, e);
  }
  get targets() {
    return Gn(this, Bd);
  }
  set targets(e) {
    Yn(this, Bd, e);
  }
  get selectionRect() {
    return Gn(this, Td);
  }
  set selectionRect(e) {
    Yn(this, Td, e);
  }
  get zoom() {
    return Gn(this, Pd);
  }
  set zoom(e) {
    Yn(this, Pd, e);
  }
  get pan() {
    return Gn(this, Rd);
  }
  set pan(e) {
    Yn(this, Rd, e);
  }
  initializeWorkspace(e) {
    (this.workspaceRef = e), e && this.updateTargets();
  }
  initializeFormulaRoot(e) {
    (this.formulaRootRef = e),
      e && (console.log("new formula root"), this.updateTargets());
  }
  updateWorkspaceDimensions() {
    if (!this.workspaceRef) return;
    const {
      left: e,
      top: r,
      width: n,
      height: i,
    } = this.workspaceRef.getBoundingClientRect();
    this.workspaceBBox = { left: e, top: r, width: n, height: i };
  }
  addTarget(e, r, n) {
    this.targetRefs.set(e, [r, n]);
  }
  removeTarget(e) {
    this.targetRefs.delete(e);
  }
  clearTargets() {
    console.log("Clearing targets"),
      this.targetRefs.clear(),
      this.targets.clear(),
      this.selected.clear();
  }
  startDragSelection(e, r) {
    this.selectionRect = { x1: e, y1: r, x2: e, y2: r };
  }
  updateDragSelection(e, r) {
    this.selectionRect &&
      ((this.selectionRect.x2 = e), (this.selectionRect.y2 = r));
  }
  stopDragSelection() {
    this.currentlyDragged.forEach((e) => {
      this.selected.includes(e) || this.selected.push(e);
    }),
      (this.selectionRect = null);
  }
  clearSelection() {
    this.selected.clear();
  }
  selectOnly(e) {
    const r = dt.augmentedFormula.findNode(e);
    if (!r) {
      console.error(`Node with id ${e} not found`);
      return;
    }
    const n = (o) =>
        o.children.length === 0 && this.targets.has(o.id)
          ? [o.id]
          : o.children.flatMap((s) => n(s)),
      i = n(r);
    this.selected.replace(i);
  }
  updateTargets() {
    if (this.workspaceRef) {
      const {
        left: e,
        top: r,
        width: n,
        height: i,
      } = this.workspaceRef.getBoundingClientRect();
      this.workspaceBBox = { left: e, top: r, width: n, height: i };
    }
    if (this.formulaRootRef) {
      const {
          left: e,
          top: r,
          width: n,
          height: i,
        } = this.formulaRootRef.getBoundingClientRect(),
        o = e - this.pan.x,
        s = r - this.pan.y;
      this.formulaRootBBox = { left: o, top: s, width: n, height: i };
    }
    for (const [e, [r, n]] of this.targetRefs) {
      const {
        left: i,
        top: o,
        width: s,
        height: a,
      } = r.getBoundingClientRect();
      if (i === 0 && o === 0 && s === 0 && a === 0) this.targets.delete(e);
      else {
        const l = this.formulaRootBBox.left + this.formulaRootBBox.width / 2,
          u = this.formulaRootBBox.top + this.formulaRootBBox.height / 2,
          c = (i - this.pan.x - l) / this.zoom,
          f = (o - this.pan.y - u) / this.zoom,
          h = s / this.zoom,
          d = a / this.zoom;
        this.targets.set(e, {
          id: e,
          left: c,
          top: f,
          width: h,
          height: d,
          isLeaf: n,
        });
      }
    }
    console.log(this.targetRefs.size, "targets updated");
  }
  toggle(e) {
    this.selected.includes(e)
      ? this.selected.replace(this.selected.filter((r) => r !== e))
      : this.selected.push(e);
  }
  updatePan(e, r) {
    (this.pan.x += e), (this.pan.y += r);
  }
  updateZoom(e) {
    this.zoom = Math.max(1, this.zoom + e / 1e3);
  }
  get selectionRectDimensions() {
    var e, r;
    return this.selectionRect
      ? {
          left:
            Math.min(this.selectionRect.x1, this.selectionRect.x2) -
            (((e = this.workspaceBBox) == null ? void 0 : e.left) ?? 0),
          top:
            Math.min(this.selectionRect.y1, this.selectionRect.y2) -
            (((r = this.workspaceBBox) == null ? void 0 : r.top) ?? 0),
          width: Math.abs(this.selectionRect.x1 - this.selectionRect.x2),
          height: Math.abs(this.selectionRect.y1 - this.selectionRect.y2),
        }
      : null;
  }
  get screenSpaceTargets() {
    return new Map(
      Array.from(this.targets.values()).flatMap((e) => {
        const { left: r, top: n, width: i, height: o } = e,
          { left: s, top: a, width: l, height: u } = this.formulaRootBBox,
          c = s + l / 2,
          f = a + u / 2,
          h = c + r * this.zoom + this.pan.x,
          d = f + n * this.zoom + this.pan.y,
          p = i * this.zoom,
          m = o * this.zoom;
        return [[e.id, { id: e.id, left: h, top: d, width: p, height: m }]];
      })
    );
  }
  get currentlyDragged() {
    if (!this.selectionRect) return new Set();
    const { x1: e, x2: r, y1: n, y2: i } = this.selectionRect,
      o = Math.min(e, r),
      s = Math.max(e, r),
      a = Math.min(n, i),
      l = Math.max(n, i);
    return new Set(
      Array.from(this.targets.values()).flatMap((u) => {
        const { left: c, top: f, width: h, height: d } = u,
          { left: p, top: m, width: b, height: D } = this.formulaRootBBox,
          k = p + b / 2,
          S = m + D / 2,
          B = k + c * this.zoom + this.pan.x,
          $ = S + f * this.zoom + this.pan.y,
          T = B + h * this.zoom,
          P = $ + d * this.zoom;
        return u.isLeaf && B <= s && T >= o && $ <= l && P >= a ? [u.id] : [];
      })
    );
  }
  get resolvedSelection() {
    var n, i;
    const e = new Set([...this.selected, ...this.currentlyDragged]);
    let r = !0;
    for (; r; ) {
      r = !1;
      for (const o of e) {
        const s = dt.augmentedFormula.findNode(o);
        if (!s) {
          console.error(`Node with id ${o} not found`);
          continue;
        }
        (n = s._parent) != null &&
        n.children.every((a) => e.has(a.id)) &&
        s._parent.type !== "brace"
          ? (e.add(s._parent.id),
            s._parent.children.forEach((a) => e.delete(a.id)),
            (r = !0))
          : ((i = s._parent) == null ? void 0 : i.children.length) === 1 &&
            s._parent.type !== "brace" &&
            (e.add(s._parent.id), e.delete(s.id), (r = !0));
      }
    }
    return e;
  }
  get siblingSelections() {
    var i;
    const e = this.resolvedSelection,
      r = {};
    for (const o of e) {
      const s = dt.augmentedFormula.findNode(o);
      if (!s) continue;
      const a = ((i = s._parent) == null ? void 0 : i.id) ?? "_TOP";
      r[a] || (r[a] = []), r[a].push([o]);
    }
    let n = !0;
    for (; n; ) {
      n = !1;
      for (const [o, s] of Object.entries(r))
        if (s.length !== 1) {
          for (let a = 0; a < s.length; a++) {
            const l = s[a],
              u = dt.augmentedFormula.findNode(l[l.length - 1]);
            if (u !== null) {
              for (let c = 0; c < s.length; c++) {
                const f = s[c],
                  h = dt.augmentedFormula.findNode(f[0]);
                if (u._rightSibling === h) {
                  const d = l.concat(f);
                  (r[o] = s.filter((p, m) => m !== a && m !== c).concat([d])),
                    (n = !0);
                  break;
                }
              }
              if (n) break;
            }
          }
          if (n) break;
        }
    }
    return Object.values(r).flatMap((o) => o);
  }
};
(_d = new WeakMap()),
  ($d = new WeakMap()),
  (Od = new WeakMap()),
  (Bd = new WeakMap()),
  (Td = new WeakMap()),
  (Pd = new WeakMap()),
  (Rd = new WeakMap()),
  ([OS, BS, TS, PS, RS, IS, NS, LS, zS, jS, HS, VS, WS, qS, $S] = Sp(
    Nb,
    [],
    [
      [or, 1, "workspaceBBox"],
      [or, 1, "formulaRootBBox"],
      [or, 1, "selected"],
      [or, 1, "targets"],
      [or, 1, "selectionRect"],
      [or, 1, "zoom"],
      [or, 1, "pan"],
      [vr, 2, "initializeWorkspace"],
      [vr, 2, "initializeFormulaRoot"],
      [vr, 2, "updateWorkspaceDimensions"],
      [vr, 2, "addTarget"],
      [vr, 2, "removeTarget"],
      [vr, 2, "clearTargets"],
      [vr, 2, "startDragSelection"],
      [vr, 2, "updateDragSelection"],
      [vr, 2, "stopDragSelection"],
      [vr, 2, "clearSelection"],
      [vr, 2, "selectOnly"],
      [vr, 2, "updateTargets"],
      [vr, 2, "toggle"],
      [vr, 2, "updatePan"],
      [vr, 2, "updateZoom"],
      [Zn, 3, "selectionRectDimensions"],
      [
        Zn({
          equals: (e, r) => {
            if (e.size !== r.size) return !1;
            for (const [n, i] of e) {
              const o = r.get(n);
              if (
                !o ||
                i.left !== o.left ||
                i.top !== o.top ||
                i.width !== o.width ||
                i.height !== o.height
              )
                return !1;
            }
            return !0;
          },
        }),
        3,
        "screenSpaceTargets",
      ],
      [
        Zn({
          equals: (e, r) =>
            e.size === r.size && Array.from(e).every((n) => r.has(n)),
        }),
        3,
        "currentlyDragged",
      ],
      [
        Zn({
          equals: (e, r) =>
            e.size === r.size && Array.from(e).every((n) => r.has(n)),
        }),
        3,
        "resolvedSelection",
      ],
      [
        Zn({
          equals: (e, r) =>
            e.length === r.length &&
            Array.from(e).every((n) =>
              r.some(
                (i) => n.length === i.length && i.every((o, s) => n[s] === o)
              )
            ),
        }),
        3,
        "siblingSelections",
      ],
    ]
  ).e);
let b6 = Nb;
const At = new b6();
var Id, Nd, Ld;
const Lb = class Lb {
  constructor() {
    Kn(this, Id, (US(this), GS(this, !1)));
    Kn(this, Nd, (KS(this), YS(this, !1)));
    Kn(this, Ld, (XS(this), JS(this, null)));
    QS(this);
  }
  get showDebugPanel() {
    return Gn(this, Id);
  }
  set showDebugPanel(e) {
    Yn(this, Id, e);
  }
  get showAlignGuides() {
    return Gn(this, Nd);
  }
  set showAlignGuides(e) {
    Yn(this, Nd, e);
  }
  get alignDragState() {
    return Gn(this, Ld);
  }
  set alignDragState(e) {
    Yn(this, Ld, e);
  }
  setShowDebugPanel(e) {
    this.showDebugPanel = e;
  }
  setShowAlignGuides(e) {
    this.showAlignGuides = e;
  }
  setAlignDragState(e) {
    this.alignDragState = e;
  }
};
(Id = new WeakMap()),
  (Nd = new WeakMap()),
  (Ld = new WeakMap()),
  ([GS, KS, YS, XS, JS, QS, US] = Sp(
    Lb,
    [],
    [
      [or, 1, "showDebugPanel"],
      [or, 1, "showAlignGuides"],
      [or, 1, "alignDragState"],
      [vr, 2, "setShowDebugPanel"],
      [vr, 2, "setShowAlignGuides"],
      [vr, 2, "setAlignDragState"],
    ]
  ).e);
let D6 = Lb;
const Fy = new D6();
var zd, jd;
const zb = class zb {
  constructor() {
    Kn(this, zd, (ZS(this), eC(this, [])));
    Kn(this, jd, (tC(this), rC(this, -1)));
    nC(this);
  }
  get history() {
    return Gn(this, zd);
  }
  set history(e) {
    Yn(this, zd, e);
  }
  get currentIdx() {
    return Gn(this, jd);
  }
  set currentIdx(e) {
    Yn(this, jd, e);
  }
  checkpoint() {
    this.currentIdx < this.history.length - 1 &&
      (this.history = this.history.slice(0, this.currentIdx + 1)),
      this.history.push(dt.augmentedFormula.toLatex("no-id")),
      this.currentIdx++,
      console.log("New checkpoint:", this.history, this.currentIdx);
  }
  undo() {
    this.canUndo &&
      (this.currentIdx--,
      dt.restoreFormulaState(this.history[this.currentIdx]));
  }
  redo() {
    this.canRedo &&
      (this.currentIdx++,
      dt.restoreFormulaState(this.history[this.currentIdx]));
  }
  get canUndo() {
    return this.currentIdx > 0;
  }
  get canRedo() {
    return this.currentIdx < this.history.length - 1;
  }
};
(zd = new WeakMap()),
  (jd = new WeakMap()),
  ([eC, tC, rC, nC, ZS] = Sp(
    zb,
    [],
    [
      [or, 1, "history"],
      [or, 1, "currentIdx"],
      [vr, 2, "checkpoint"],
      [vr, 2, "undo"],
      [vr, 2, "redo"],
      [Zn, 3, "canUndo"],
      [Zn, 3, "canRedo"],
    ]
  ).e);
let w6 = zb;
const Ra = new w6();
var Hd;
const jb = class jb {
  constructor() {
    Kn(this, Hd, (iC(this), sC(this, !1)));
    oC(this);
  }
  get showAlignMode() {
    return Gn(this, Hd);
  }
  set showAlignMode(e) {
    Yn(this, Hd, e);
  }
  setShowAlignMode(e) {
    this.showAlignMode = e;
  }
};
(Hd = new WeakMap()),
  ([sC, oC, iC] = Sp(
    jb,
    [],
    [
      [or, 1, "showAlignMode"],
      [vr, 2, "setShowAlignMode"],
    ]
  ).e);
let x6 = jb;
const lh = new x6(),
  xb = "2rem",
  kb = "4px solid #d7d7d7",
  ST = "1.5rem",
  mi = {
    baseDark: "#e5e5e5",
    baseLight: "#f3f3f3",
    foreground: "#616161",
    selection: "#e5f0ff",
  },
  lC = (t) => {
    const e = new Ua(),
      r = dt.styledRanges,
      n = (s, a, l) => {
        var u, c, f;
        if (s instanceof Ht) return [[], a + s.text.length];
        {
          let h = a,
            d = [];
          for (const p of s.children) {
            const [m, b] = n(p, h, l + 1);
            (h = b), (d = d.concat(m));
          }
          return [
            d.concat(
              (u = s.hints) != null && u.noMark
                ? []
                : [
                    {
                      from: a,
                      to: h,
                      decoration: Pt.mark({
                        class: DL(
                          'position:relative;pointer-events:none;&::before{content:"";position:absolute;top:0;bottom:0;left:0;right:0;opacity:',
                          t.state.field(D0).has(s.id) ? 0.1 : 0,
                          ";background-color:",
                          ((c = s.hints) == null ? void 0 : c.color) || "black",
                          ';}&::after{content:"";position:absolute;z-index:',
                          l,
                          ";top:",
                          -4 + 4 * l,
                          "px;left:0;width:100%;height:",
                          t.state.field(D0).has(s.id) ? "4px" : "2px",
                          ";background-color:",
                          ((f = s.hints) == null ? void 0 : f.color) || "black",
                          ";}",
                          ""
                        ),
                      }),
                    },
                  ]
            ),
            h,
          ];
        }
      };
    let i = 0,
      o = [];
    for (const s of r.ranges) {
      const [a, l] = n(s, i, 0);
      (i = l), (o = o.concat(a));
    }
    o = o.sort((s, a) => s.from - a.from);
    for (const { from: s, to: a, decoration: l } of o) e.add(s, a, l);
    return e.finish();
  },
  Une = Cn.fromClass(
    class {
      constructor(t) {
        dn(this, "decorations");
        this.decorations = lC(t);
      }
      update(t) {
        (t.docChanged ||
          t.viewportChanged ||
          t.state.field(D0) !== t.startState.field(D0)) &&
          (this.decorations = lC(t.view));
      }
    },
    { decorations: (t) => t.decorations }
  ),
  Gne = sr.transactionFilter.of((t) => {
    const e = t.selection;
    if (e && !t.docChanged) {
      const r = t.startState.selection;
      if (
        e.ranges.length === 1 &&
        r.ranges.length === 1 &&
        e.ranges[0].from === e.ranges[0].to &&
        r.ranges[0].from === r.ranges[0].to
      ) {
        const n = dt.styledRanges,
          i = n
            .getPositionRanges(e.ranges[0].from)
            .filter((d) => d instanceof On),
          o = n
            .getPositionRanges(r.ranges[0].from)
            .filter((d) => d instanceof On);
        if (Math.abs(e.ranges[0].from - r.ranges[0].from) > 1)
          return { ...t, effects: [Fg.of(new Set(i.map((d) => d.id)))] };
        const s = n
            .getPositionRanges(e.ranges[0].from, !0)
            .filter((d) => d instanceof On),
          a = n
            .getPositionRanges(r.ranges[0].from, !0)
            .filter((d) => d instanceof On);
        console.log(
          "Cursor move",
          e.ranges[0].from,
          n,
          i.map((d) => d.id),
          s.map((d) => d.id)
        );
        const l = a.filter((d) => !s.find((p) => p.equals(d))),
          u = t.startState.field(D0),
          c = l.filter((d) => u.has(d.id));
        if (c.length > 0) {
          console.log("Moving out of range", c[c.length - 1].id);
          const d = new Set(
            Array.from(u).filter(
              (p) => p !== c[c.length - 1].id && s.some((m) => m.id === p)
            )
          );
          return { effects: [Fg.of(d)] };
        }
        const h = i
          .filter((d) => !o.find((p) => p.equals(d)))
          .concat(s.filter((d) => a.some((p) => p.equals(d))))
          .filter((d) => !u.has(d.id));
        if (h.length > 0) {
          console.log("Moving into range", h[0].id);
          const d = new Set([...Array.from(u), h[0].id]);
          return { effects: [Fg.of(d)] };
        }
      }
    }
    return t;
  }),
  Fg = Qt.define(),
  D0 = ri.define({
    create() {
      return new Set();
    },
    update(t, e) {
      for (const r of e.effects)
        r.is(Fg) &&
          (console.log("Setting selection state to", r.value), (t = r.value));
      return t;
    },
  }),
  Kne = sr.transactionFilter.of((t) => {
    if (t.docChanged) {
      if (t.newDoc.toString() === dt.latexWithoutStyling) return t;
      console.log("Document changed", t);
      const e = [];
      t.changes.iterChanges((i, o, s, a, l) => {
        i < o &&
          (console.log("Deletion:", i, o),
          e.push({ type: "delete", from: i, to: o })),
          s < a &&
            (console.log("Insertion:", s, a, l.toString()),
            e.push({ type: "insert", from: s, to: a, inserted: l.toString() }));
      });
      const r = t.state.field(D0);
      let n = dt.styledRanges;
      console.log("Styled ranges before edit:", n.toLatex());
      for (const i of e) n = n.withContentChange(i, r);
      return (
        console.log("Styled ranges after edit:", n.toLatex()),
        dt.overrideStyledRanges(n),
        vb(n.toLatex()) &&
          (console.log("Valid content latex, updating formula"),
          requestAnimationFrame(() => {
            dt.updateFormula(xp(n.toLatex()));
          })),
        t
      );
    }
    return t;
  });
var Yne = {
  name: "1bm60cs",
  styles:
    ".cm-editor{height:100%;font-size:1.5rem;}.cm-focused{border:none;outline:none!important;}",
};
const Xne = Hi(() =>
    bn(z6, {
      children: [
        Oe($8, { styles: Yne }),
        Oe("div", {
          css: Xr(
            "height:",
            xb,
            ";background-color:",
            mi.baseDark,
            ";color:",
            mi.foreground,
            ";border-bottom:",
            kb,
            ";padding-left:0.5rem;padding-right:0.5rem;",
            ""
          ),
          children: Oe("h1", {
            css: Xr(
              'font-family:"Source Sans 3",sans-serif;font-size:',
              ST,
              ";font-weight:400;user-select:none;",
              ""
            ),
            children: "LaTeX",
          }),
        }),
        Oe(Jne, {}),
      ],
    })
  ),
  Jne = Hi(() => {
    const [t, e] = ct.useState(null),
      [r, n] = ct.useState(null),
      [i, o] = ct.useState(!0),
      [, s, a] = iF(!1);
    return (
      ct.useEffect(() => {
        if (t && (!r || r.contentDOM !== t)) {
          const l = ut.updateListener.of((h) => {
              if (
                h.docChanged &&
                h.state.doc.toString() !== dt.latexWithStyling
              ) {
                console.log("Editor code changed:", h);
                const d = h.state.doc.toString();
                vb(d) ? (o(() => !0), dt.updateFormula(xp(d))) : o(() => !1);
              }
            }),
            u = new ut({
              state: sr.create({
                extensions: [
                  nO,
                  ut.lineWrapping,
                  Rv.define(t$),
                  l,
                  ut.theme({
                    ".cm-activeLine": {
                      "background-color": `${mi.baseDark}44`,
                    },
                    ".cm-selectionBackground": {
                      "background-color": `${mi.selection} !important`,
                    },
                    "::selection": {
                      "background-color": `${mi.selection} !important`,
                    },
                    ".cm-focused": { border: "none", outline: "none" },
                  }),
                  W_(up.define([{ tag: ot.name, color: "#2b65bd" }])),
                ],
                doc: dt.latexWithStyling,
              }),
              parent: t,
            });
          n(u);
          const c = I3(
              () => dt.latexWithStyling,
              (h) => {
                if (
                  (console.log("Synchronizing editor with new formula", h),
                  o(() => !0),
                  a.current)
                ) {
                  console.log("Suppressing code update");
                  return;
                }
                zk(h, { printWidth: 30 }).then((d) => {
                  u.dispatch([
                    u.state.update({
                      changes: { from: 0, to: u.state.doc.length, insert: d },
                    }),
                  ]);
                });
              }
            ),
            f = I3(
              () => [At.siblingSelections, dt.latexRanges],
              ([h, d]) => {
                if (a.current) {
                  console.log("Suppressing selection update");
                  return;
                }
                console.log("selection:", h);
                const p = h.flatMap((m) => {
                  const b = m[0],
                    D = m.slice(-1)[0];
                  if (!(b in d) || !(D in d)) return [];
                  const [k, S] = d[b],
                    [B, $] = d[D];
                  return console.log(b, k, D, $), [Te.range(k, $)];
                });
                u.dispatch({
                  selection: p.length > 0 ? Te.create(p) : Te.single(0),
                });
              }
            );
          return (
            u.contentDOM.addEventListener("focus", () => {
              s(() => !0);
            }),
            u.contentDOM.addEventListener("blur", () => {
              s(() => !1),
                dt.overrideStyledRanges(null),
                o(() => !0),
                zk(dt.latexWithStyling, { printWidth: 30 }).then((h) => {
                  u.dispatch([
                    u.state.update({
                      changes: { from: 0, to: u.state.doc.length, insert: h },
                    }),
                  ]);
                });
            }),
            () => {
              c(), f(), u.destroy();
            }
          );
        }
      }, [t, n]),
      Oe("div", {
        css: Xr(
          "width:100%;height:calc(100% - 2rem);border:2px solid ",
          i ? "transparent" : "red",
          ";background-color:#f3f3f3;",
          ""
        ),
        ref: (l) => e(l),
      })
    );
  });
Hi(() => {
  const [t, e] = ct.useState(null),
    [r, n] = ct.useState(null),
    [i, o] = ct.useState(!0),
    [, s, a] = iF(!1);
  return (
    ct.useEffect(() => {
      if (t && (!r || r.contentDOM !== t)) {
        const l = ut.updateListener.of((f) => {
            if (
              f.docChanged &&
              f.state.doc.toString() !== dt.latexWithStyling
            ) {
              const h = f.state.doc.toString();
              vb(h) ? o(() => !0) : o(() => !1);
            }
          }),
          u = new ut({
            state: sr.create({
              extensions: [
                nO,
                ut.lineWrapping,
                Rv.define(t$),
                l,
                Une,
                D0,
                Gne,
                Kne,
              ],
              doc: dt.latexWithoutStyling,
            }),
            parent: t,
          });
        n(u);
        const c = I3(
          () => [dt.augmentedFormula, dt.latexWithoutStyling],
          ([, f]) => {
            if (a.current) {
              console.log("Suppressing code update");
              return;
            }
            console.log("Synchronizing editor with new formula", f),
              o(() => !0),
              u.dispatch([
                u.state.update({
                  changes: { from: 0, to: u.state.doc.length, insert: f },
                }),
              ]);
          }
        );
        return (
          u.contentDOM.addEventListener("focus", () => {
            s(() => !0);
          }),
          u.contentDOM.addEventListener("blur", () => {
            s(() => !1),
              dt.overrideStyledRanges(null),
              u.dispatch([
                u.state.update({
                  changes: {
                    from: 0,
                    to: u.state.doc.length,
                    insert: dt.latexWithoutStyling,
                  },
                }),
              ]);
          }),
          () => {
            c(), u.destroy();
          }
        );
      }
    }, [t, n]),
    Oe("div", {
      css: Xr(
        "width:100%;height:calc(100% - 2rem);border:2px solid ",
        i ? "transparent" : "red",
        ";",
        ""
      ),
      ref: (l) => e(l),
    })
  );
});
window.testPositionRanges = (t = !1, e) => {
  const r = dt.augmentedFormula.toStyledRanges();
  console.log(dt.augmentedFormula.toStyledRanges()),
    e !== void 0
      ? console.log(
          e,
          dt.latexWithoutStyling[e],
          r
            .getPositionRanges(e, t)
            .filter((n) => n instanceof On)
            .map((n) => n.id)
            .join(", ")
        )
      : console.table(
          dt.latexWithoutStyling.split("").map((n, i) => [
            i,
            n,
            r
              .getPositionRanges(i, t)
              .filter((o) => o instanceof On)
              .map((o) => o.id)
              .join(", "),
          ])
        );
};
window.testStyledToLatex = () => {
  console.log(dt.augmentedFormula.toStyledRanges().toLatex()),
    console.log(dt.augmentedFormula.toLatex("no-id"));
};
function Tu(t, e) {
  if (t == null) return {};
  var r = {},
    n = Object.keys(t),
    i,
    o;
  for (o = 0; o < n.length; o++)
    (i = n[o]), !(e.indexOf(i) >= 0) && (r[i] = t[i]);
  return r;
}
function CT(t) {
  var e,
    r,
    n = "";
  if (typeof t == "string" || typeof t == "number") n += t;
  else if (typeof t == "object")
    if (Array.isArray(t)) {
      var i = t.length;
      for (e = 0; e < i; e++)
        t[e] && (r = CT(t[e])) && (n && (n += " "), (n += r));
    } else for (r in t) t[r] && (n && (n += " "), (n += r));
  return n;
}
function Qne() {
  for (var t, e, r = 0, n = "", i = arguments.length; r < i; r++)
    (t = arguments[r]) && (e = CT(t)) && (n && (n += " "), (n += e));
  return n;
}
function Zne(t, e, r = void 0) {
  const n = {};
  return (
    Object.keys(t).forEach((i) => {
      n[i] = t[i]
        .reduce((o, s) => {
          if (s) {
            const a = e(s);
            a !== "" && o.push(a), r && r[s] && o.push(r[s]);
          }
          return o;
        }, [])
        .join(" ");
    }),
    n
  );
}
var Cp = {},
  AT = { exports: {} };
(function (t) {
  function e(r) {
    return r && r.__esModule ? r : { default: r };
  }
  (t.exports = e), (t.exports.__esModule = !0), (t.exports.default = t.exports);
})(AT);
var ET = AT.exports;
const eie = tl(KR);
var My = { exports: {} },
  uC;
function tie() {
  return (
    uC ||
      ((uC = 1),
      (function (t) {
        function e(r, n) {
          if (r == null) return {};
          var i = {},
            o = Object.keys(r),
            s,
            a;
          for (a = 0; a < o.length; a++)
            (s = o[a]), !(n.indexOf(s) >= 0) && (i[s] = r[s]);
          return i;
        }
        (t.exports = e),
          (t.exports.__esModule = !0),
          (t.exports.default = t.exports);
      })(My)),
    My.exports
  );
}
var rie =
    /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,
  nie = HC(function (t) {
    return (
      rie.test(t) ||
      (t.charCodeAt(0) === 111 &&
        t.charCodeAt(1) === 110 &&
        t.charCodeAt(2) < 91)
    );
  }),
  iie = nie,
  sie = function (e) {
    return e !== "theme";
  },
  cC = function (e) {
    return typeof e == "string" && e.charCodeAt(0) > 96 ? iie : sie;
  },
  fC = function (e, r, n) {
    var i;
    if (r) {
      var o = r.shouldForwardProp;
      i =
        e.__emotion_forwardProp && o
          ? function (s) {
              return e.__emotion_forwardProp(s) && o(s);
            }
          : o;
    }
    return typeof i != "function" && n && (i = e.__emotion_forwardProp), i;
  },
  oie = function (e) {
    var r = e.cache,
      n = e.serialized,
      i = e.isStringTag;
    return (
      N6(r, n, i),
      XC(function () {
        return sv(r, n, i);
      }),
      null
    );
  },
  aie = function t(e, r) {
    var n = e.__emotion_real === e,
      i = (n && e.__emotion_base) || e,
      o,
      s;
    r !== void 0 && ((o = r.label), (s = r.target));
    var a = fC(e, r, n),
      l = a || cC(i),
      u = !l("as");
    return function () {
      var c = arguments,
        f =
          n && e.__emotion_styles !== void 0 ? e.__emotion_styles.slice(0) : [];
      if (
        (o !== void 0 && f.push("label:" + o + ";"),
        c[0] == null || c[0].raw === void 0)
      )
        f.push.apply(f, c);
      else {
        f.push(c[0][0]);
        for (var h = c.length, d = 1; d < h; d++) f.push(c[d], c[0][d]);
      }
      var p = L6(function (m, b, D) {
        var k = (u && m.as) || i,
          S = "",
          B = [],
          $ = m;
        if (m.theme == null) {
          $ = {};
          for (var T in m) $[T] = m[T];
          $.theme = ct.useContext(qd);
        }
        typeof m.className == "string"
          ? (S = iv(b.registered, B, m.className))
          : m.className != null && (S = m.className + " ");
        var P = Qu(f.concat(B), b.registered, $);
        (S += b.key + "-" + P.name), s !== void 0 && (S += " " + s);
        var te = u && a === void 0 ? cC(k) : l,
          ee = {};
        for (var de in m) (u && de === "as") || (te(de) && (ee[de] = m[de]));
        return (
          (ee.className = S),
          (ee.ref = D),
          ct.createElement(
            ct.Fragment,
            null,
            ct.createElement(oie, {
              cache: b,
              serialized: P,
              isStringTag: typeof k == "string",
            }),
            ct.createElement(k, ee)
          )
        );
      });
      return (
        (p.displayName =
          o !== void 0
            ? o
            : "Styled(" +
              (typeof i == "string"
                ? i
                : i.displayName || i.name || "Component") +
              ")"),
        (p.defaultProps = e.defaultProps),
        (p.__emotion_real = p),
        (p.__emotion_base = i),
        (p.__emotion_styles = f),
        (p.__emotion_forwardProp = a),
        Object.defineProperty(p, "toString", {
          value: function () {
            return "." + s;
          },
        }),
        (p.withComponent = function (m, b) {
          return t(m, Fr({}, r, b, { shouldForwardProp: fC(p, b, !0) })).apply(
            void 0,
            f
          );
        }),
        p
      );
    };
  },
  lie = [
    "a",
    "abbr",
    "address",
    "area",
    "article",
    "aside",
    "audio",
    "b",
    "base",
    "bdi",
    "bdo",
    "big",
    "blockquote",
    "body",
    "br",
    "button",
    "canvas",
    "caption",
    "cite",
    "code",
    "col",
    "colgroup",
    "data",
    "datalist",
    "dd",
    "del",
    "details",
    "dfn",
    "dialog",
    "div",
    "dl",
    "dt",
    "em",
    "embed",
    "fieldset",
    "figcaption",
    "figure",
    "footer",
    "form",
    "h1",
    "h2",
    "h3",
    "h4",
    "h5",
    "h6",
    "head",
    "header",
    "hgroup",
    "hr",
    "html",
    "i",
    "iframe",
    "img",
    "input",
    "ins",
    "kbd",
    "keygen",
    "label",
    "legend",
    "li",
    "link",
    "main",
    "map",
    "mark",
    "marquee",
    "menu",
    "menuitem",
    "meta",
    "meter",
    "nav",
    "noscript",
    "object",
    "ol",
    "optgroup",
    "option",
    "output",
    "p",
    "param",
    "picture",
    "pre",
    "progress",
    "q",
    "rp",
    "rt",
    "ruby",
    "s",
    "samp",
    "script",
    "section",
    "select",
    "small",
    "source",
    "span",
    "strong",
    "style",
    "sub",
    "summary",
    "sup",
    "table",
    "tbody",
    "td",
    "textarea",
    "tfoot",
    "th",
    "thead",
    "time",
    "title",
    "tr",
    "track",
    "u",
    "ul",
    "var",
    "video",
    "wbr",
    "circle",
    "clipPath",
    "defs",
    "ellipse",
    "foreignObject",
    "g",
    "image",
    "line",
    "linearGradient",
    "mask",
    "path",
    "pattern",
    "polygon",
    "polyline",
    "radialGradient",
    "rect",
    "stop",
    "svg",
    "text",
    "tspan",
  ],
  k6 = aie.bind();
lie.forEach(function (t) {
  k6[t] = k6(t);
});
let S6;
typeof document == "object" && (S6 = T6({ key: "css", prepend: !0 }));
function uie(t) {
  const { injectFirst: e, children: r } = t;
  return e && S6 ? ru.jsx(cI, { value: S6, children: r }) : r;
}
function cie(t) {
  return t == null || Object.keys(t).length === 0;
}
function fie(t) {
  const { styles: e, defaultTheme: r = {} } = t,
    n = typeof e == "function" ? (i) => e(cie(i) ? r : i) : e;
  return ru.jsx($8, { styles: n });
}
function hie(t, e) {
  return k6(t, e);
}
const die = (t, e) => {
    Array.isArray(t.__emotion_styles) &&
      (t.__emotion_styles = e(t.__emotion_styles));
  },
  pie = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        GlobalStyles: fie,
        StyledEngineProvider: uie,
        ThemeContext: qd,
        css: Xr,
        default: hie,
        internal_processStyles: die,
        keyframes: gL,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  mie = tl(pie);
function Ol(t) {
  if (typeof t != "object" || t === null) return !1;
  const e = Object.getPrototypeOf(t);
  return (
    (e === null ||
      e === Object.prototype ||
      Object.getPrototypeOf(e) === null) &&
    !(Symbol.toStringTag in t) &&
    !(Symbol.iterator in t)
  );
}
function FT(t) {
  if (!Ol(t)) return t;
  const e = {};
  return (
    Object.keys(t).forEach((r) => {
      e[r] = FT(t[r]);
    }),
    e
  );
}
function ca(t, e, r = { clone: !0 }) {
  const n = r.clone ? Fr({}, t) : t;
  return (
    Ol(t) &&
      Ol(e) &&
      Object.keys(e).forEach((i) => {
        i !== "__proto__" &&
          (Ol(e[i]) && i in t && Ol(t[i])
            ? (n[i] = ca(t[i], e[i], r))
            : r.clone
              ? (n[i] = Ol(e[i]) ? FT(e[i]) : e[i])
              : (n[i] = e[i]));
      }),
    n
  );
}
const gie = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: ca, isPlainObject: Ol },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  vie = tl(gie);
function Sd(t) {
  let e = "https://mui.com/production-error/?code=" + t;
  for (let r = 1; r < arguments.length; r += 1)
    e += "&args[]=" + encodeURIComponent(arguments[r]);
  return "Minified MUI error #" + t + "; visit " + e + " for the full message.";
}
const yie = Object.freeze(
  Object.defineProperty({ __proto__: null, default: Sd }, Symbol.toStringTag, {
    value: "Module",
  })
);
function w0(t) {
  if (typeof t != "string") throw new Error(Sd(7));
  return t.charAt(0).toUpperCase() + t.slice(1);
}
const bie = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: w0 },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Die = tl(bie);
var MT = { exports: {} },
  $r = {};
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Sb = Symbol.for("react.element"),
  Cb = Symbol.for("react.portal"),
  h2 = Symbol.for("react.fragment"),
  d2 = Symbol.for("react.strict_mode"),
  p2 = Symbol.for("react.profiler"),
  m2 = Symbol.for("react.provider"),
  g2 = Symbol.for("react.context"),
  wie = Symbol.for("react.server_context"),
  v2 = Symbol.for("react.forward_ref"),
  y2 = Symbol.for("react.suspense"),
  b2 = Symbol.for("react.suspense_list"),
  D2 = Symbol.for("react.memo"),
  w2 = Symbol.for("react.lazy"),
  xie = Symbol.for("react.offscreen"),
  _T;
_T = Symbol.for("react.module.reference");
function go(t) {
  if (typeof t == "object" && t !== null) {
    var e = t.$$typeof;
    switch (e) {
      case Sb:
        switch (((t = t.type), t)) {
          case h2:
          case p2:
          case d2:
          case y2:
          case b2:
            return t;
          default:
            switch (((t = t && t.$$typeof), t)) {
              case wie:
              case g2:
              case v2:
              case w2:
              case D2:
              case m2:
                return t;
              default:
                return e;
            }
        }
      case Cb:
        return e;
    }
  }
}
$r.ContextConsumer = g2;
$r.ContextProvider = m2;
$r.Element = Sb;
$r.ForwardRef = v2;
$r.Fragment = h2;
$r.Lazy = w2;
$r.Memo = D2;
$r.Portal = Cb;
$r.Profiler = p2;
$r.StrictMode = d2;
$r.Suspense = y2;
$r.SuspenseList = b2;
$r.isAsyncMode = function () {
  return !1;
};
$r.isConcurrentMode = function () {
  return !1;
};
$r.isContextConsumer = function (t) {
  return go(t) === g2;
};
$r.isContextProvider = function (t) {
  return go(t) === m2;
};
$r.isElement = function (t) {
  return typeof t == "object" && t !== null && t.$$typeof === Sb;
};
$r.isForwardRef = function (t) {
  return go(t) === v2;
};
$r.isFragment = function (t) {
  return go(t) === h2;
};
$r.isLazy = function (t) {
  return go(t) === w2;
};
$r.isMemo = function (t) {
  return go(t) === D2;
};
$r.isPortal = function (t) {
  return go(t) === Cb;
};
$r.isProfiler = function (t) {
  return go(t) === p2;
};
$r.isStrictMode = function (t) {
  return go(t) === d2;
};
$r.isSuspense = function (t) {
  return go(t) === y2;
};
$r.isSuspenseList = function (t) {
  return go(t) === b2;
};
$r.isValidElementType = function (t) {
  return (
    typeof t == "string" ||
    typeof t == "function" ||
    t === h2 ||
    t === p2 ||
    t === d2 ||
    t === y2 ||
    t === b2 ||
    t === xie ||
    (typeof t == "object" &&
      t !== null &&
      (t.$$typeof === w2 ||
        t.$$typeof === D2 ||
        t.$$typeof === m2 ||
        t.$$typeof === g2 ||
        t.$$typeof === v2 ||
        t.$$typeof === _T ||
        t.getModuleId !== void 0))
  );
};
$r.typeOf = go;
MT.exports = $r;
var hC = MT.exports;
const kie = /^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;
function $T(t) {
  const e = `${t}`.match(kie);
  return (e && e[1]) || "";
}
function OT(t, e = "") {
  return t.displayName || t.name || $T(t) || e;
}
function dC(t, e, r) {
  const n = OT(e);
  return t.displayName || (n !== "" ? `${r}(${n})` : r);
}
function Sie(t) {
  if (t != null) {
    if (typeof t == "string") return t;
    if (typeof t == "function") return OT(t, "Component");
    if (typeof t == "object")
      switch (t.$$typeof) {
        case hC.ForwardRef:
          return dC(t, t.render, "ForwardRef");
        case hC.Memo:
          return dC(t, t.type, "memo");
        default:
          return;
      }
  }
}
const Cie = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Sie, getFunctionName: $T },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Aie = tl(Cie),
  Eie = ["values", "unit", "step"],
  Fie = (t) => {
    const e = Object.keys(t).map((r) => ({ key: r, val: t[r] })) || [];
    return (
      e.sort((r, n) => r.val - n.val),
      e.reduce((r, n) => Fr({}, r, { [n.key]: n.val }), {})
    );
  };
function BT(t) {
  const {
      values: e = { xs: 0, sm: 600, md: 900, lg: 1200, xl: 1536 },
      unit: r = "px",
      step: n = 5,
    } = t,
    i = Tu(t, Eie),
    o = Fie(e),
    s = Object.keys(o);
  function a(h) {
    return `@media (min-width:${typeof e[h] == "number" ? e[h] : h}${r})`;
  }
  function l(h) {
    return `@media (max-width:${(typeof e[h] == "number" ? e[h] : h) - n / 100}${r})`;
  }
  function u(h, d) {
    const p = s.indexOf(d);
    return `@media (min-width:${typeof e[h] == "number" ? e[h] : h}${r}) and (max-width:${(p !== -1 && typeof e[s[p]] == "number" ? e[s[p]] : d) - n / 100}${r})`;
  }
  function c(h) {
    return s.indexOf(h) + 1 < s.length ? u(h, s[s.indexOf(h) + 1]) : a(h);
  }
  function f(h) {
    const d = s.indexOf(h);
    return d === 0
      ? a(s[1])
      : d === s.length - 1
        ? l(s[d])
        : u(h, s[s.indexOf(h) + 1]).replace("@media", "@media not all and");
  }
  return Fr(
    {
      keys: s,
      values: o,
      up: a,
      down: l,
      between: u,
      only: c,
      not: f,
      unit: r,
    },
    i
  );
}
const Mie = { borderRadius: 4 },
  _ie = Mie;
function Oh(t, e) {
  return e ? ca(t, e, { clone: !1 }) : t;
}
const Ab = { xs: 0, sm: 600, md: 900, lg: 1200, xl: 1536 },
  pC = {
    keys: ["xs", "sm", "md", "lg", "xl"],
    up: (t) => `@media (min-width:${Ab[t]}px)`,
  };
function el(t, e, r) {
  const n = t.theme || {};
  if (Array.isArray(e)) {
    const o = n.breakpoints || pC;
    return e.reduce((s, a, l) => ((s[o.up(o.keys[l])] = r(e[l])), s), {});
  }
  if (typeof e == "object") {
    const o = n.breakpoints || pC;
    return Object.keys(e).reduce((s, a) => {
      if (Object.keys(o.values || Ab).indexOf(a) !== -1) {
        const l = o.up(a);
        s[l] = r(e[a], a);
      } else {
        const l = a;
        s[l] = e[l];
      }
      return s;
    }, {});
  }
  return r(e);
}
function $ie(t = {}) {
  var e;
  return (
    ((e = t.keys) == null
      ? void 0
      : e.reduce((n, i) => {
          const o = t.up(i);
          return (n[o] = {}), n;
        }, {})) || {}
  );
}
function Oie(t, e) {
  return t.reduce((r, n) => {
    const i = r[n];
    return (!i || Object.keys(i).length === 0) && delete r[n], r;
  }, e);
}
function x2(t, e, r = !0) {
  if (!e || typeof e != "string") return null;
  if (t && t.vars && r) {
    const n = `vars.${e}`
      .split(".")
      .reduce((i, o) => (i && i[o] ? i[o] : null), t);
    if (n != null) return n;
  }
  return e.split(".").reduce((n, i) => (n && n[i] != null ? n[i] : null), t);
}
function H1(t, e, r, n = r) {
  let i;
  return (
    typeof t == "function"
      ? (i = t(r))
      : Array.isArray(t)
        ? (i = t[r] || n)
        : (i = x2(t, r) || n),
    e && (i = e(i, n, t)),
    i
  );
}
function An(t) {
  const { prop: e, cssProperty: r = t.prop, themeKey: n, transform: i } = t,
    o = (s) => {
      if (s[e] == null) return null;
      const a = s[e],
        l = s.theme,
        u = x2(l, n) || {};
      return el(s, a, (f) => {
        let h = H1(u, i, f);
        return (
          f === h &&
            typeof f == "string" &&
            (h = H1(u, i, `${e}${f === "default" ? "" : w0(f)}`, f)),
          r === !1 ? h : { [r]: h }
        );
      });
    };
  return (o.propTypes = {}), (o.filterProps = [e]), o;
}
function Bie(t) {
  const e = {};
  return (r) => (e[r] === void 0 && (e[r] = t(r)), e[r]);
}
const Tie = { m: "margin", p: "padding" },
  Pie = {
    t: "Top",
    r: "Right",
    b: "Bottom",
    l: "Left",
    x: ["Left", "Right"],
    y: ["Top", "Bottom"],
  },
  mC = { marginX: "mx", marginY: "my", paddingX: "px", paddingY: "py" },
  Rie = Bie((t) => {
    if (t.length > 2)
      if (mC[t]) t = mC[t];
      else return [t];
    const [e, r] = t.split(""),
      n = Tie[e],
      i = Pie[r] || "";
    return Array.isArray(i) ? i.map((o) => n + o) : [n + i];
  }),
  Eb = [
    "m",
    "mt",
    "mr",
    "mb",
    "ml",
    "mx",
    "my",
    "margin",
    "marginTop",
    "marginRight",
    "marginBottom",
    "marginLeft",
    "marginX",
    "marginY",
    "marginInline",
    "marginInlineStart",
    "marginInlineEnd",
    "marginBlock",
    "marginBlockStart",
    "marginBlockEnd",
  ],
  Fb = [
    "p",
    "pt",
    "pr",
    "pb",
    "pl",
    "px",
    "py",
    "padding",
    "paddingTop",
    "paddingRight",
    "paddingBottom",
    "paddingLeft",
    "paddingX",
    "paddingY",
    "paddingInline",
    "paddingInlineStart",
    "paddingInlineEnd",
    "paddingBlock",
    "paddingBlockStart",
    "paddingBlockEnd",
  ];
[...Eb, ...Fb];
function Ap(t, e, r, n) {
  var i;
  const o = (i = x2(t, e, !1)) != null ? i : r;
  return typeof o == "number"
    ? (s) => (typeof s == "string" ? s : o * s)
    : Array.isArray(o)
      ? (s) => (typeof s == "string" ? s : o[s])
      : typeof o == "function"
        ? o
        : () => {};
}
function TT(t) {
  return Ap(t, "spacing", 8);
}
function Ep(t, e) {
  if (typeof e == "string" || e == null) return e;
  const r = Math.abs(e),
    n = t(r);
  return e >= 0 ? n : typeof n == "number" ? -n : `-${n}`;
}
function Iie(t, e) {
  return (r) => t.reduce((n, i) => ((n[i] = Ep(e, r)), n), {});
}
function Nie(t, e, r, n) {
  if (e.indexOf(r) === -1) return null;
  const i = Rie(r),
    o = Iie(i, n),
    s = t[r];
  return el(t, s, o);
}
function PT(t, e) {
  const r = TT(t.theme);
  return Object.keys(t)
    .map((n) => Nie(t, e, n, r))
    .reduce(Oh, {});
}
function gn(t) {
  return PT(t, Eb);
}
gn.propTypes = {};
gn.filterProps = Eb;
function vn(t) {
  return PT(t, Fb);
}
vn.propTypes = {};
vn.filterProps = Fb;
function Lie(t = 8) {
  if (t.mui) return t;
  const e = TT({ spacing: t }),
    r = (...n) =>
      (n.length === 0 ? [1] : n)
        .map((o) => {
          const s = e(o);
          return typeof s == "number" ? `${s}px` : s;
        })
        .join(" ");
  return (r.mui = !0), r;
}
function k2(...t) {
  const e = t.reduce(
      (n, i) => (
        i.filterProps.forEach((o) => {
          n[o] = i;
        }),
        n
      ),
      {}
    ),
    r = (n) => Object.keys(n).reduce((i, o) => (e[o] ? Oh(i, e[o](n)) : i), {});
  return (
    (r.propTypes = {}),
    (r.filterProps = t.reduce((n, i) => n.concat(i.filterProps), [])),
    r
  );
}
function Vs(t) {
  return typeof t != "number" ? t : `${t}px solid`;
}
function vo(t, e) {
  return An({ prop: t, themeKey: "borders", transform: e });
}
const zie = vo("border", Vs),
  jie = vo("borderTop", Vs),
  Hie = vo("borderRight", Vs),
  Vie = vo("borderBottom", Vs),
  Wie = vo("borderLeft", Vs),
  qie = vo("borderColor"),
  Uie = vo("borderTopColor"),
  Gie = vo("borderRightColor"),
  Kie = vo("borderBottomColor"),
  Yie = vo("borderLeftColor"),
  Xie = vo("outline", Vs),
  Jie = vo("outlineColor"),
  S2 = (t) => {
    if (t.borderRadius !== void 0 && t.borderRadius !== null) {
      const e = Ap(t.theme, "shape.borderRadius", 4),
        r = (n) => ({ borderRadius: Ep(e, n) });
      return el(t, t.borderRadius, r);
    }
    return null;
  };
S2.propTypes = {};
S2.filterProps = ["borderRadius"];
k2(zie, jie, Hie, Vie, Wie, qie, Uie, Gie, Kie, Yie, S2, Xie, Jie);
const C2 = (t) => {
  if (t.gap !== void 0 && t.gap !== null) {
    const e = Ap(t.theme, "spacing", 8),
      r = (n) => ({ gap: Ep(e, n) });
    return el(t, t.gap, r);
  }
  return null;
};
C2.propTypes = {};
C2.filterProps = ["gap"];
const A2 = (t) => {
  if (t.columnGap !== void 0 && t.columnGap !== null) {
    const e = Ap(t.theme, "spacing", 8),
      r = (n) => ({ columnGap: Ep(e, n) });
    return el(t, t.columnGap, r);
  }
  return null;
};
A2.propTypes = {};
A2.filterProps = ["columnGap"];
const E2 = (t) => {
  if (t.rowGap !== void 0 && t.rowGap !== null) {
    const e = Ap(t.theme, "spacing", 8),
      r = (n) => ({ rowGap: Ep(e, n) });
    return el(t, t.rowGap, r);
  }
  return null;
};
E2.propTypes = {};
E2.filterProps = ["rowGap"];
const Qie = An({ prop: "gridColumn" }),
  Zie = An({ prop: "gridRow" }),
  ese = An({ prop: "gridAutoFlow" }),
  tse = An({ prop: "gridAutoColumns" }),
  rse = An({ prop: "gridAutoRows" }),
  nse = An({ prop: "gridTemplateColumns" }),
  ise = An({ prop: "gridTemplateRows" }),
  sse = An({ prop: "gridTemplateAreas" }),
  ose = An({ prop: "gridArea" });
k2(C2, A2, E2, Qie, Zie, ese, tse, rse, nse, ise, sse, ose);
function Lc(t, e) {
  return e === "grey" ? e : t;
}
const ase = An({ prop: "color", themeKey: "palette", transform: Lc }),
  lse = An({
    prop: "bgcolor",
    cssProperty: "backgroundColor",
    themeKey: "palette",
    transform: Lc,
  }),
  use = An({ prop: "backgroundColor", themeKey: "palette", transform: Lc });
k2(ase, lse, use);
function gs(t) {
  return t <= 1 && t !== 0 ? `${t * 100}%` : t;
}
const cse = An({ prop: "width", transform: gs }),
  Mb = (t) => {
    if (t.maxWidth !== void 0 && t.maxWidth !== null) {
      const e = (r) => {
        var n, i;
        const o =
          ((n = t.theme) == null ||
          (n = n.breakpoints) == null ||
          (n = n.values) == null
            ? void 0
            : n[r]) || Ab[r];
        return o
          ? ((i = t.theme) == null || (i = i.breakpoints) == null
              ? void 0
              : i.unit) !== "px"
            ? { maxWidth: `${o}${t.theme.breakpoints.unit}` }
            : { maxWidth: o }
          : { maxWidth: gs(r) };
      };
      return el(t, t.maxWidth, e);
    }
    return null;
  };
Mb.filterProps = ["maxWidth"];
const fse = An({ prop: "minWidth", transform: gs }),
  hse = An({ prop: "height", transform: gs }),
  dse = An({ prop: "maxHeight", transform: gs }),
  pse = An({ prop: "minHeight", transform: gs });
An({ prop: "size", cssProperty: "width", transform: gs });
An({ prop: "size", cssProperty: "height", transform: gs });
const mse = An({ prop: "boxSizing" });
k2(cse, Mb, fse, hse, dse, pse, mse);
const gse = {
    border: { themeKey: "borders", transform: Vs },
    borderTop: { themeKey: "borders", transform: Vs },
    borderRight: { themeKey: "borders", transform: Vs },
    borderBottom: { themeKey: "borders", transform: Vs },
    borderLeft: { themeKey: "borders", transform: Vs },
    borderColor: { themeKey: "palette" },
    borderTopColor: { themeKey: "palette" },
    borderRightColor: { themeKey: "palette" },
    borderBottomColor: { themeKey: "palette" },
    borderLeftColor: { themeKey: "palette" },
    outline: { themeKey: "borders", transform: Vs },
    outlineColor: { themeKey: "palette" },
    borderRadius: { themeKey: "shape.borderRadius", style: S2 },
    color: { themeKey: "palette", transform: Lc },
    bgcolor: {
      themeKey: "palette",
      cssProperty: "backgroundColor",
      transform: Lc,
    },
    backgroundColor: { themeKey: "palette", transform: Lc },
    p: { style: vn },
    pt: { style: vn },
    pr: { style: vn },
    pb: { style: vn },
    pl: { style: vn },
    px: { style: vn },
    py: { style: vn },
    padding: { style: vn },
    paddingTop: { style: vn },
    paddingRight: { style: vn },
    paddingBottom: { style: vn },
    paddingLeft: { style: vn },
    paddingX: { style: vn },
    paddingY: { style: vn },
    paddingInline: { style: vn },
    paddingInlineStart: { style: vn },
    paddingInlineEnd: { style: vn },
    paddingBlock: { style: vn },
    paddingBlockStart: { style: vn },
    paddingBlockEnd: { style: vn },
    m: { style: gn },
    mt: { style: gn },
    mr: { style: gn },
    mb: { style: gn },
    ml: { style: gn },
    mx: { style: gn },
    my: { style: gn },
    margin: { style: gn },
    marginTop: { style: gn },
    marginRight: { style: gn },
    marginBottom: { style: gn },
    marginLeft: { style: gn },
    marginX: { style: gn },
    marginY: { style: gn },
    marginInline: { style: gn },
    marginInlineStart: { style: gn },
    marginInlineEnd: { style: gn },
    marginBlock: { style: gn },
    marginBlockStart: { style: gn },
    marginBlockEnd: { style: gn },
    displayPrint: {
      cssProperty: !1,
      transform: (t) => ({ "@media print": { display: t } }),
    },
    display: {},
    overflow: {},
    textOverflow: {},
    visibility: {},
    whiteSpace: {},
    flexBasis: {},
    flexDirection: {},
    flexWrap: {},
    justifyContent: {},
    alignItems: {},
    alignContent: {},
    order: {},
    flex: {},
    flexGrow: {},
    flexShrink: {},
    alignSelf: {},
    justifyItems: {},
    justifySelf: {},
    gap: { style: C2 },
    rowGap: { style: E2 },
    columnGap: { style: A2 },
    gridColumn: {},
    gridRow: {},
    gridAutoFlow: {},
    gridAutoColumns: {},
    gridAutoRows: {},
    gridTemplateColumns: {},
    gridTemplateRows: {},
    gridTemplateAreas: {},
    gridArea: {},
    position: {},
    zIndex: { themeKey: "zIndex" },
    top: {},
    right: {},
    bottom: {},
    left: {},
    boxShadow: { themeKey: "shadows" },
    width: { transform: gs },
    maxWidth: { style: Mb },
    minWidth: { transform: gs },
    height: { transform: gs },
    maxHeight: { transform: gs },
    minHeight: { transform: gs },
    boxSizing: {},
    fontFamily: { themeKey: "typography" },
    fontSize: { themeKey: "typography" },
    fontStyle: { themeKey: "typography" },
    fontWeight: { themeKey: "typography" },
    letterSpacing: {},
    textTransform: {},
    lineHeight: {},
    textAlign: {},
    typography: { cssProperty: !1, themeKey: "typography" },
  },
  Fp = gse;
function vse(...t) {
  const e = t.reduce((n, i) => n.concat(Object.keys(i)), []),
    r = new Set(e);
  return t.every((n) => r.size === Object.keys(n).length);
}
function yse(t, e) {
  return typeof t == "function" ? t(e) : t;
}
function RT() {
  function t(r, n, i, o) {
    const s = { [r]: n, theme: i },
      a = o[r];
    if (!a) return { [r]: n };
    const { cssProperty: l = r, themeKey: u, transform: c, style: f } = a;
    if (n == null) return null;
    if (u === "typography" && n === "inherit") return { [r]: n };
    const h = x2(i, u) || {};
    return f
      ? f(s)
      : el(s, n, (p) => {
          let m = H1(h, c, p);
          return (
            p === m &&
              typeof p == "string" &&
              (m = H1(h, c, `${r}${p === "default" ? "" : w0(p)}`, p)),
            l === !1 ? m : { [l]: m }
          );
        });
  }
  function e(r) {
    var n;
    const { sx: i, theme: o = {} } = r || {};
    if (!i) return null;
    const s = (n = o.unstable_sxConfig) != null ? n : Fp;
    function a(l) {
      let u = l;
      if (typeof l == "function") u = l(o);
      else if (typeof l != "object") return l;
      if (!u) return null;
      const c = $ie(o.breakpoints),
        f = Object.keys(c);
      let h = c;
      return (
        Object.keys(u).forEach((d) => {
          const p = yse(u[d], o);
          if (p != null)
            if (typeof p == "object")
              if (s[d]) h = Oh(h, t(d, p, o, s));
              else {
                const m = el({ theme: o }, p, (b) => ({ [d]: b }));
                vse(m, p) ? (h[d] = e({ sx: p, theme: o })) : (h = Oh(h, m));
              }
            else h = Oh(h, t(d, p, o, s));
        }),
        Oie(f, h)
      );
    }
    return Array.isArray(i) ? i.map(a) : a(i);
  }
  return e;
}
const F2 = RT();
F2.filterProps = ["sx"];
function IT(t, e) {
  const r = this;
  return r.vars && typeof r.getColorSchemeSelector == "function"
    ? {
        [r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/, "*:where($1)")]: e,
      }
    : r.palette.mode === t
      ? e
      : {};
}
const bse = ["breakpoints", "palette", "spacing", "shape"];
function _b(t = {}, ...e) {
  const { breakpoints: r = {}, palette: n = {}, spacing: i, shape: o = {} } = t,
    s = Tu(t, bse),
    a = BT(r),
    l = Lie(i);
  let u = ca(
    {
      breakpoints: a,
      direction: "ltr",
      components: {},
      palette: Fr({ mode: "light" }, n),
      spacing: l,
      shape: Fr({}, _ie, o),
    },
    s
  );
  return (
    (u.applyStyles = IT),
    (u = e.reduce((c, f) => ca(c, f), u)),
    (u.unstable_sxConfig = Fr(
      {},
      Fp,
      s == null ? void 0 : s.unstable_sxConfig
    )),
    (u.unstable_sx = function (f) {
      return F2({ sx: f, theme: this });
    }),
    u
  );
}
const Dse = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        default: _b,
        private_createBreakpoints: BT,
        unstable_applyStyles: IT,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  wse = tl(Dse),
  xse = ["sx"],
  kse = (t) => {
    var e, r;
    const n = { systemProps: {}, otherProps: {} },
      i =
        (e =
          t == null || (r = t.theme) == null ? void 0 : r.unstable_sxConfig) !=
        null
          ? e
          : Fp;
    return (
      Object.keys(t).forEach((o) => {
        i[o] ? (n.systemProps[o] = t[o]) : (n.otherProps[o] = t[o]);
      }),
      n
    );
  };
function Sse(t) {
  const { sx: e } = t,
    r = Tu(t, xse),
    { systemProps: n, otherProps: i } = kse(r);
  let o;
  return (
    Array.isArray(e)
      ? (o = [n, ...e])
      : typeof e == "function"
        ? (o = (...s) => {
            const a = e(...s);
            return Ol(a) ? Fr({}, n, a) : n;
          })
        : (o = Fr({}, n, e)),
    Fr({}, i, { sx: o })
  );
}
const Cse = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        default: F2,
        extendSxProp: Sse,
        unstable_createStyleFunctionSx: RT,
        unstable_defaultSxConfig: Fp,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Ase = tl(Cse);
var Mf = ET;
Object.defineProperty(Cp, "__esModule", { value: !0 });
var Ese = (Cp.default = zse);
Cp.shouldForwardProp = Mg;
Cp.systemDefaultTheme = void 0;
var zs = Mf(eie),
  C6 = Mf(tie()),
  gC = Tse(mie),
  Fse = vie;
Mf(Die);
Mf(Aie);
var Mse = Mf(wse),
  _se = Mf(Ase);
const $se = ["ownerState"],
  Ose = ["variants"],
  Bse = ["name", "slot", "skipVariantsResolver", "skipSx", "overridesResolver"];
function NT(t) {
  if (typeof WeakMap != "function") return null;
  var e = new WeakMap(),
    r = new WeakMap();
  return (NT = function (n) {
    return n ? r : e;
  })(t);
}
function Tse(t, e) {
  if (!e && t && t.__esModule) return t;
  if (t === null || (typeof t != "object" && typeof t != "function"))
    return { default: t };
  var r = NT(e);
  if (r && r.has(t)) return r.get(t);
  var n = { __proto__: null },
    i = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var o in t)
    if (o !== "default" && Object.prototype.hasOwnProperty.call(t, o)) {
      var s = i ? Object.getOwnPropertyDescriptor(t, o) : null;
      s && (s.get || s.set) ? Object.defineProperty(n, o, s) : (n[o] = t[o]);
    }
  return (n.default = t), r && r.set(t, n), n;
}
function Pse(t) {
  return Object.keys(t).length === 0;
}
function Rse(t) {
  return typeof t == "string" && t.charCodeAt(0) > 96;
}
function Mg(t) {
  return t !== "ownerState" && t !== "theme" && t !== "sx" && t !== "as";
}
const Ise = (Cp.systemDefaultTheme = (0, Mse.default)()),
  Nse = (t) => t && t.charAt(0).toLowerCase() + t.slice(1);
function Vm({ defaultTheme: t, theme: e, themeId: r }) {
  return Pse(e) ? t : e[r] || e;
}
function Lse(t) {
  return t ? (e, r) => r[t] : null;
}
function _g(t, e) {
  let { ownerState: r } = e,
    n = (0, C6.default)(e, $se);
  const i =
    typeof t == "function" ? t((0, zs.default)({ ownerState: r }, n)) : t;
  if (Array.isArray(i))
    return i.flatMap((o) => _g(o, (0, zs.default)({ ownerState: r }, n)));
  if (i && typeof i == "object" && Array.isArray(i.variants)) {
    const { variants: o = [] } = i;
    let a = (0, C6.default)(i, Ose);
    return (
      o.forEach((l) => {
        let u = !0;
        typeof l.props == "function"
          ? (u = l.props((0, zs.default)({ ownerState: r }, n, r)))
          : Object.keys(l.props).forEach((c) => {
              (r == null ? void 0 : r[c]) !== l.props[c] &&
                n[c] !== l.props[c] &&
                (u = !1);
            }),
          u &&
            (Array.isArray(a) || (a = [a]),
            a.push(
              typeof l.style == "function"
                ? l.style((0, zs.default)({ ownerState: r }, n, r))
                : l.style
            ));
      }),
      a
    );
  }
  return i;
}
function zse(t = {}) {
  const {
      themeId: e,
      defaultTheme: r = Ise,
      rootShouldForwardProp: n = Mg,
      slotShouldForwardProp: i = Mg,
    } = t,
    o = (s) =>
      (0, _se.default)(
        (0, zs.default)({}, s, {
          theme: Vm((0, zs.default)({}, s, { defaultTheme: r, themeId: e })),
        })
      );
  return (
    (o.__mui_systemSx = !0),
    (s, a = {}) => {
      (0, gC.internal_processStyles)(s, ($) =>
        $.filter((T) => !(T != null && T.__mui_systemSx))
      );
      const {
          name: l,
          slot: u,
          skipVariantsResolver: c,
          skipSx: f,
          overridesResolver: h = Lse(Nse(u)),
        } = a,
        d = (0, C6.default)(a, Bse),
        p = c !== void 0 ? c : (u && u !== "Root" && u !== "root") || !1,
        m = f || !1;
      let b,
        D = Mg;
      u === "Root" || u === "root"
        ? (D = n)
        : u
          ? (D = i)
          : Rse(s) && (D = void 0);
      const k = (0, gC.default)(
          s,
          (0, zs.default)({ shouldForwardProp: D, label: b }, d)
        ),
        S = ($) =>
          (typeof $ == "function" && $.__emotion_real !== $) ||
          (0, Fse.isPlainObject)($)
            ? (T) =>
                _g(
                  $,
                  (0, zs.default)({}, T, {
                    theme: Vm({ theme: T.theme, defaultTheme: r, themeId: e }),
                  })
                )
            : $,
        B = ($, ...T) => {
          let P = S($);
          const te = T ? T.map(S) : [];
          l &&
            h &&
            te.push((ke) => {
              const Ce = Vm(
                (0, zs.default)({}, ke, { defaultTheme: r, themeId: e })
              );
              if (
                !Ce.components ||
                !Ce.components[l] ||
                !Ce.components[l].styleOverrides
              )
                return null;
              const he = Ce.components[l].styleOverrides,
                ze = {};
              return (
                Object.entries(he).forEach(([Ve, Ae]) => {
                  ze[Ve] = _g(Ae, (0, zs.default)({}, ke, { theme: Ce }));
                }),
                h(ke, ze)
              );
            }),
            l &&
              !p &&
              te.push((ke) => {
                var Ce;
                const he = Vm(
                    (0, zs.default)({}, ke, { defaultTheme: r, themeId: e })
                  ),
                  ze =
                    he == null ||
                    (Ce = he.components) == null ||
                    (Ce = Ce[l]) == null
                      ? void 0
                      : Ce.variants;
                return _g(
                  { variants: ze },
                  (0, zs.default)({}, ke, { theme: he })
                );
              }),
            m || te.push(o);
          const ee = te.length - T.length;
          if (Array.isArray($) && ee > 0) {
            const ke = new Array(ee).fill("");
            (P = [...$, ...ke]), (P.raw = [...$.raw, ...ke]);
          }
          const de = k(P, ...te);
          return s.muiName && (de.muiName = s.muiName), de;
        };
      return k.withConfig && (B.withConfig = k.withConfig), B;
    }
  );
}
const vC = (t) => t,
  jse = () => {
    let t = vC;
    return {
      configure(e) {
        t = e;
      },
      generate(e) {
        return t(e);
      },
      reset() {
        t = vC;
      },
    };
  },
  Hse = jse(),
  Vse = {
    active: "active",
    checked: "checked",
    completed: "completed",
    disabled: "disabled",
    error: "error",
    expanded: "expanded",
    focused: "focused",
    focusVisible: "focusVisible",
    open: "open",
    readOnly: "readOnly",
    required: "required",
    selected: "selected",
  };
function LT(t, e, r = "Mui") {
  const n = Vse[e];
  return n ? `${r}-${n}` : `${Hse.generate(t)}-${e}`;
}
function Wse(t, e) {
  return Fr(
    {
      toolbar: {
        minHeight: 56,
        [t.up("xs")]: { "@media (orientation: landscape)": { minHeight: 48 } },
        [t.up("sm")]: { minHeight: 64 },
      },
    },
    e
  );
}
var En = {};
const qse = tl(yie);
function Use(t, e = Number.MIN_SAFE_INTEGER, r = Number.MAX_SAFE_INTEGER) {
  return Math.max(e, Math.min(t, r));
}
const Gse = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Use },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Kse = tl(Gse);
var zT = ET;
Object.defineProperty(En, "__esModule", { value: !0 });
En.alpha = WT;
En.blend = aoe;
En.colorChannel = void 0;
var Yse = (En.darken = Ob);
En.decomposeColor = ho;
En.emphasize = ooe;
var Xse = (En.getContrastRatio = roe);
En.getLuminance = V1;
En.hexToRgb = jT;
En.hslToRgb = VT;
var Jse = (En.lighten = Bb);
En.private_safeAlpha = noe;
En.private_safeColorChannel = void 0;
En.private_safeDarken = ioe;
En.private_safeEmphasize = qT;
En.private_safeLighten = soe;
En.recomposeColor = _f;
En.rgbToHex = toe;
var yC = zT(qse),
  Qse = zT(Kse);
function $b(t, e = 0, r = 1) {
  return (0, Qse.default)(t, e, r);
}
function jT(t) {
  t = t.slice(1);
  const e = new RegExp(`.{1,${t.length >= 6 ? 2 : 1}}`, "g");
  let r = t.match(e);
  return (
    r && r[0].length === 1 && (r = r.map((n) => n + n)),
    r
      ? `rgb${r.length === 4 ? "a" : ""}(${r.map((n, i) => (i < 3 ? parseInt(n, 16) : Math.round((parseInt(n, 16) / 255) * 1e3) / 1e3)).join(", ")})`
      : ""
  );
}
function Zse(t) {
  const e = t.toString(16);
  return e.length === 1 ? `0${e}` : e;
}
function ho(t) {
  if (t.type) return t;
  if (t.charAt(0) === "#") return ho(jT(t));
  const e = t.indexOf("("),
    r = t.substring(0, e);
  if (["rgb", "rgba", "hsl", "hsla", "color"].indexOf(r) === -1)
    throw new Error((0, yC.default)(9, t));
  let n = t.substring(e + 1, t.length - 1),
    i;
  if (r === "color") {
    if (
      ((n = n.split(" ")),
      (i = n.shift()),
      n.length === 4 && n[3].charAt(0) === "/" && (n[3] = n[3].slice(1)),
      ["srgb", "display-p3", "a98-rgb", "prophoto-rgb", "rec-2020"].indexOf(
        i
      ) === -1)
    )
      throw new Error((0, yC.default)(10, i));
  } else n = n.split(",");
  return (
    (n = n.map((o) => parseFloat(o))), { type: r, values: n, colorSpace: i }
  );
}
const HT = (t) => {
  const e = ho(t);
  return e.values
    .slice(0, 3)
    .map((r, n) => (e.type.indexOf("hsl") !== -1 && n !== 0 ? `${r}%` : r))
    .join(" ");
};
En.colorChannel = HT;
const eoe = (t, e) => {
  try {
    return HT(t);
  } catch {
    return t;
  }
};
En.private_safeColorChannel = eoe;
function _f(t) {
  const { type: e, colorSpace: r } = t;
  let { values: n } = t;
  return (
    e.indexOf("rgb") !== -1
      ? (n = n.map((i, o) => (o < 3 ? parseInt(i, 10) : i)))
      : e.indexOf("hsl") !== -1 && ((n[1] = `${n[1]}%`), (n[2] = `${n[2]}%`)),
    e.indexOf("color") !== -1
      ? (n = `${r} ${n.join(" ")}`)
      : (n = `${n.join(", ")}`),
    `${e}(${n})`
  );
}
function toe(t) {
  if (t.indexOf("#") === 0) return t;
  const { values: e } = ho(t);
  return `#${e.map((r, n) => Zse(n === 3 ? Math.round(255 * r) : r)).join("")}`;
}
function VT(t) {
  t = ho(t);
  const { values: e } = t,
    r = e[0],
    n = e[1] / 100,
    i = e[2] / 100,
    o = n * Math.min(i, 1 - i),
    s = (u, c = (u + r / 30) % 12) =>
      i - o * Math.max(Math.min(c - 3, 9 - c, 1), -1);
  let a = "rgb";
  const l = [
    Math.round(s(0) * 255),
    Math.round(s(8) * 255),
    Math.round(s(4) * 255),
  ];
  return (
    t.type === "hsla" && ((a += "a"), l.push(e[3])), _f({ type: a, values: l })
  );
}
function V1(t) {
  t = ho(t);
  let e = t.type === "hsl" || t.type === "hsla" ? ho(VT(t)).values : t.values;
  return (
    (e = e.map(
      (r) => (
        t.type !== "color" && (r /= 255),
        r <= 0.03928 ? r / 12.92 : ((r + 0.055) / 1.055) ** 2.4
      )
    )),
    Number((0.2126 * e[0] + 0.7152 * e[1] + 0.0722 * e[2]).toFixed(3))
  );
}
function roe(t, e) {
  const r = V1(t),
    n = V1(e);
  return (Math.max(r, n) + 0.05) / (Math.min(r, n) + 0.05);
}
function WT(t, e) {
  return (
    (t = ho(t)),
    (e = $b(e)),
    (t.type === "rgb" || t.type === "hsl") && (t.type += "a"),
    t.type === "color" ? (t.values[3] = `/${e}`) : (t.values[3] = e),
    _f(t)
  );
}
function noe(t, e, r) {
  try {
    return WT(t, e);
  } catch {
    return t;
  }
}
function Ob(t, e) {
  if (((t = ho(t)), (e = $b(e)), t.type.indexOf("hsl") !== -1))
    t.values[2] *= 1 - e;
  else if (t.type.indexOf("rgb") !== -1 || t.type.indexOf("color") !== -1)
    for (let r = 0; r < 3; r += 1) t.values[r] *= 1 - e;
  return _f(t);
}
function ioe(t, e, r) {
  try {
    return Ob(t, e);
  } catch {
    return t;
  }
}
function Bb(t, e) {
  if (((t = ho(t)), (e = $b(e)), t.type.indexOf("hsl") !== -1))
    t.values[2] += (100 - t.values[2]) * e;
  else if (t.type.indexOf("rgb") !== -1)
    for (let r = 0; r < 3; r += 1) t.values[r] += (255 - t.values[r]) * e;
  else if (t.type.indexOf("color") !== -1)
    for (let r = 0; r < 3; r += 1) t.values[r] += (1 - t.values[r]) * e;
  return _f(t);
}
function soe(t, e, r) {
  try {
    return Bb(t, e);
  } catch {
    return t;
  }
}
function ooe(t, e = 0.15) {
  return V1(t) > 0.5 ? Ob(t, e) : Bb(t, e);
}
function qT(t, e, r) {
  try {
    return qT(t, e);
  } catch {
    return t;
  }
}
function aoe(t, e, r, n = 1) {
  const i = (l, u) =>
      Math.round((l ** (1 / n) * (1 - r) + u ** (1 / n) * r) ** n),
    o = ho(t),
    s = ho(e),
    a = [
      i(o.values[0], s.values[0]),
      i(o.values[1], s.values[1]),
      i(o.values[2], s.values[2]),
    ];
  return _f({ type: "rgb", values: a });
}
const loe = { black: "#000", white: "#fff" },
  Cd = loe,
  uoe = {
    50: "#fafafa",
    100: "#f5f5f5",
    200: "#eeeeee",
    300: "#e0e0e0",
    400: "#bdbdbd",
    500: "#9e9e9e",
    600: "#757575",
    700: "#616161",
    800: "#424242",
    900: "#212121",
    A100: "#f5f5f5",
    A200: "#eeeeee",
    A400: "#bdbdbd",
    A700: "#616161",
  },
  coe = uoe,
  foe = {
    50: "#f3e5f5",
    100: "#e1bee7",
    200: "#ce93d8",
    300: "#ba68c8",
    400: "#ab47bc",
    500: "#9c27b0",
    600: "#8e24aa",
    700: "#7b1fa2",
    800: "#6a1b9a",
    900: "#4a148c",
    A100: "#ea80fc",
    A200: "#e040fb",
    A400: "#d500f9",
    A700: "#aa00ff",
  },
  W0 = foe,
  hoe = {
    50: "#ffebee",
    100: "#ffcdd2",
    200: "#ef9a9a",
    300: "#e57373",
    400: "#ef5350",
    500: "#f44336",
    600: "#e53935",
    700: "#d32f2f",
    800: "#c62828",
    900: "#b71c1c",
    A100: "#ff8a80",
    A200: "#ff5252",
    A400: "#ff1744",
    A700: "#d50000",
  },
  q0 = hoe,
  doe = {
    50: "#fff3e0",
    100: "#ffe0b2",
    200: "#ffcc80",
    300: "#ffb74d",
    400: "#ffa726",
    500: "#ff9800",
    600: "#fb8c00",
    700: "#f57c00",
    800: "#ef6c00",
    900: "#e65100",
    A100: "#ffd180",
    A200: "#ffab40",
    A400: "#ff9100",
    A700: "#ff6d00",
  },
  Xf = doe,
  poe = {
    50: "#e3f2fd",
    100: "#bbdefb",
    200: "#90caf9",
    300: "#64b5f6",
    400: "#42a5f5",
    500: "#2196f3",
    600: "#1e88e5",
    700: "#1976d2",
    800: "#1565c0",
    900: "#0d47a1",
    A100: "#82b1ff",
    A200: "#448aff",
    A400: "#2979ff",
    A700: "#2962ff",
  },
  U0 = poe,
  moe = {
    50: "#e1f5fe",
    100: "#b3e5fc",
    200: "#81d4fa",
    300: "#4fc3f7",
    400: "#29b6f6",
    500: "#03a9f4",
    600: "#039be5",
    700: "#0288d1",
    800: "#0277bd",
    900: "#01579b",
    A100: "#80d8ff",
    A200: "#40c4ff",
    A400: "#00b0ff",
    A700: "#0091ea",
  },
  G0 = moe,
  goe = {
    50: "#e8f5e9",
    100: "#c8e6c9",
    200: "#a5d6a7",
    300: "#81c784",
    400: "#66bb6a",
    500: "#4caf50",
    600: "#43a047",
    700: "#388e3c",
    800: "#2e7d32",
    900: "#1b5e20",
    A100: "#b9f6ca",
    A200: "#69f0ae",
    A400: "#00e676",
    A700: "#00c853",
  },
  K0 = goe,
  voe = ["mode", "contrastThreshold", "tonalOffset"],
  bC = {
    text: {
      primary: "rgba(0, 0, 0, 0.87)",
      secondary: "rgba(0, 0, 0, 0.6)",
      disabled: "rgba(0, 0, 0, 0.38)",
    },
    divider: "rgba(0, 0, 0, 0.12)",
    background: { paper: Cd.white, default: Cd.white },
    action: {
      active: "rgba(0, 0, 0, 0.54)",
      hover: "rgba(0, 0, 0, 0.04)",
      hoverOpacity: 0.04,
      selected: "rgba(0, 0, 0, 0.08)",
      selectedOpacity: 0.08,
      disabled: "rgba(0, 0, 0, 0.26)",
      disabledBackground: "rgba(0, 0, 0, 0.12)",
      disabledOpacity: 0.38,
      focus: "rgba(0, 0, 0, 0.12)",
      focusOpacity: 0.12,
      activatedOpacity: 0.12,
    },
  },
  _y = {
    text: {
      primary: Cd.white,
      secondary: "rgba(255, 255, 255, 0.7)",
      disabled: "rgba(255, 255, 255, 0.5)",
      icon: "rgba(255, 255, 255, 0.5)",
    },
    divider: "rgba(255, 255, 255, 0.12)",
    background: { paper: "#121212", default: "#121212" },
    action: {
      active: Cd.white,
      hover: "rgba(255, 255, 255, 0.08)",
      hoverOpacity: 0.08,
      selected: "rgba(255, 255, 255, 0.16)",
      selectedOpacity: 0.16,
      disabled: "rgba(255, 255, 255, 0.3)",
      disabledBackground: "rgba(255, 255, 255, 0.12)",
      disabledOpacity: 0.38,
      focus: "rgba(255, 255, 255, 0.12)",
      focusOpacity: 0.12,
      activatedOpacity: 0.24,
    },
  };
function DC(t, e, r, n) {
  const i = n.light || n,
    o = n.dark || n * 1.5;
  t[e] ||
    (t.hasOwnProperty(r)
      ? (t[e] = t[r])
      : e === "light"
        ? (t.light = Jse(t.main, i))
        : e === "dark" && (t.dark = Yse(t.main, o)));
}
function yoe(t = "light") {
  return t === "dark"
    ? { main: U0[200], light: U0[50], dark: U0[400] }
    : { main: U0[700], light: U0[400], dark: U0[800] };
}
function boe(t = "light") {
  return t === "dark"
    ? { main: W0[200], light: W0[50], dark: W0[400] }
    : { main: W0[500], light: W0[300], dark: W0[700] };
}
function Doe(t = "light") {
  return t === "dark"
    ? { main: q0[500], light: q0[300], dark: q0[700] }
    : { main: q0[700], light: q0[400], dark: q0[800] };
}
function woe(t = "light") {
  return t === "dark"
    ? { main: G0[400], light: G0[300], dark: G0[700] }
    : { main: G0[700], light: G0[500], dark: G0[900] };
}
function xoe(t = "light") {
  return t === "dark"
    ? { main: K0[400], light: K0[300], dark: K0[700] }
    : { main: K0[800], light: K0[500], dark: K0[900] };
}
function koe(t = "light") {
  return t === "dark"
    ? { main: Xf[400], light: Xf[300], dark: Xf[700] }
    : { main: "#ed6c02", light: Xf[500], dark: Xf[900] };
}
function Soe(t) {
  const {
      mode: e = "light",
      contrastThreshold: r = 3,
      tonalOffset: n = 0.2,
    } = t,
    i = Tu(t, voe),
    o = t.primary || yoe(e),
    s = t.secondary || boe(e),
    a = t.error || Doe(e),
    l = t.info || woe(e),
    u = t.success || xoe(e),
    c = t.warning || koe(e);
  function f(m) {
    return Xse(m, _y.text.primary) >= r ? _y.text.primary : bC.text.primary;
  }
  const h = ({
      color: m,
      name: b,
      mainShade: D = 500,
      lightShade: k = 300,
      darkShade: S = 700,
    }) => {
      if (
        ((m = Fr({}, m)),
        !m.main && m[D] && (m.main = m[D]),
        !m.hasOwnProperty("main"))
      )
        throw new Error(Sd(11, b ? ` (${b})` : "", D));
      if (typeof m.main != "string")
        throw new Error(Sd(12, b ? ` (${b})` : "", JSON.stringify(m.main)));
      return (
        DC(m, "light", k, n),
        DC(m, "dark", S, n),
        m.contrastText || (m.contrastText = f(m.main)),
        m
      );
    },
    d = { dark: _y, light: bC };
  return ca(
    Fr(
      {
        common: Fr({}, Cd),
        mode: e,
        primary: h({ color: o, name: "primary" }),
        secondary: h({
          color: s,
          name: "secondary",
          mainShade: "A400",
          lightShade: "A200",
          darkShade: "A700",
        }),
        error: h({ color: a, name: "error" }),
        warning: h({ color: c, name: "warning" }),
        info: h({ color: l, name: "info" }),
        success: h({ color: u, name: "success" }),
        grey: coe,
        contrastThreshold: r,
        getContrastText: f,
        augmentColor: h,
        tonalOffset: n,
      },
      d[e]
    ),
    i
  );
}
const Coe = [
  "fontFamily",
  "fontSize",
  "fontWeightLight",
  "fontWeightRegular",
  "fontWeightMedium",
  "fontWeightBold",
  "htmlFontSize",
  "allVariants",
  "pxToRem",
];
function Aoe(t) {
  return Math.round(t * 1e5) / 1e5;
}
const wC = { textTransform: "uppercase" },
  xC = '"Roboto", "Helvetica", "Arial", sans-serif';
function Eoe(t, e) {
  const r = typeof e == "function" ? e(t) : e,
    {
      fontFamily: n = xC,
      fontSize: i = 14,
      fontWeightLight: o = 300,
      fontWeightRegular: s = 400,
      fontWeightMedium: a = 500,
      fontWeightBold: l = 700,
      htmlFontSize: u = 16,
      allVariants: c,
      pxToRem: f,
    } = r,
    h = Tu(r, Coe),
    d = i / 14,
    p = f || ((D) => `${(D / u) * d}rem`),
    m = (D, k, S, B, $) =>
      Fr(
        { fontFamily: n, fontWeight: D, fontSize: p(k), lineHeight: S },
        n === xC ? { letterSpacing: `${Aoe(B / k)}em` } : {},
        $,
        c
      ),
    b = {
      h1: m(o, 96, 1.167, -1.5),
      h2: m(o, 60, 1.2, -0.5),
      h3: m(s, 48, 1.167, 0),
      h4: m(s, 34, 1.235, 0.25),
      h5: m(s, 24, 1.334, 0),
      h6: m(a, 20, 1.6, 0.15),
      subtitle1: m(s, 16, 1.75, 0.15),
      subtitle2: m(a, 14, 1.57, 0.1),
      body1: m(s, 16, 1.5, 0.15),
      body2: m(s, 14, 1.43, 0.15),
      button: m(a, 14, 1.75, 0.4, wC),
      caption: m(s, 12, 1.66, 0.4),
      overline: m(s, 12, 2.66, 1, wC),
      inherit: {
        fontFamily: "inherit",
        fontWeight: "inherit",
        fontSize: "inherit",
        lineHeight: "inherit",
        letterSpacing: "inherit",
      },
    };
  return ca(
    Fr(
      {
        htmlFontSize: u,
        pxToRem: p,
        fontFamily: n,
        fontSize: i,
        fontWeightLight: o,
        fontWeightRegular: s,
        fontWeightMedium: a,
        fontWeightBold: l,
      },
      b
    ),
    h,
    { clone: !1 }
  );
}
const Foe = 0.2,
  Moe = 0.14,
  _oe = 0.12;
function Qr(...t) {
  return [
    `${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Foe})`,
    `${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Moe})`,
    `${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${_oe})`,
  ].join(",");
}
const $oe = [
    "none",
    Qr(0, 2, 1, -1, 0, 1, 1, 0, 0, 1, 3, 0),
    Qr(0, 3, 1, -2, 0, 2, 2, 0, 0, 1, 5, 0),
    Qr(0, 3, 3, -2, 0, 3, 4, 0, 0, 1, 8, 0),
    Qr(0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0),
    Qr(0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0),
    Qr(0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0),
    Qr(0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1),
    Qr(0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2),
    Qr(0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2),
    Qr(0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3),
    Qr(0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3),
    Qr(0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4),
    Qr(0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4),
    Qr(0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4),
    Qr(0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5),
    Qr(0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5),
    Qr(0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5),
    Qr(0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6),
    Qr(0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6),
    Qr(0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7),
    Qr(0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7),
    Qr(0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7),
    Qr(0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8),
    Qr(0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8),
  ],
  Ooe = ["duration", "easing", "delay"],
  Boe = {
    easeInOut: "cubic-bezier(0.4, 0, 0.2, 1)",
    easeOut: "cubic-bezier(0.0, 0, 0.2, 1)",
    easeIn: "cubic-bezier(0.4, 0, 1, 1)",
    sharp: "cubic-bezier(0.4, 0, 0.6, 1)",
  },
  Toe = {
    shortest: 150,
    shorter: 200,
    short: 250,
    standard: 300,
    complex: 375,
    enteringScreen: 225,
    leavingScreen: 195,
  };
function kC(t) {
  return `${Math.round(t)}ms`;
}
function Poe(t) {
  if (!t) return 0;
  const e = t / 36;
  return Math.round((4 + 15 * e ** 0.25 + e / 5) * 10);
}
function Roe(t) {
  const e = Fr({}, Boe, t.easing),
    r = Fr({}, Toe, t.duration);
  return Fr(
    {
      getAutoHeightDuration: Poe,
      create: (i = ["all"], o = {}) => {
        const {
          duration: s = r.standard,
          easing: a = e.easeInOut,
          delay: l = 0,
        } = o;
        return (
          Tu(o, Ooe),
          (Array.isArray(i) ? i : [i])
            .map(
              (u) =>
                `${u} ${typeof s == "string" ? s : kC(s)} ${a} ${typeof l == "string" ? l : kC(l)}`
            )
            .join(",")
        );
      },
    },
    t,
    { easing: e, duration: r }
  );
}
const Ioe = {
    mobileStepper: 1e3,
    fab: 1050,
    speedDial: 1050,
    appBar: 1100,
    drawer: 1200,
    modal: 1300,
    snackbar: 1400,
    tooltip: 1500,
  },
  Noe = Ioe,
  Loe = [
    "breakpoints",
    "mixins",
    "spacing",
    "palette",
    "transitions",
    "typography",
    "shape",
  ];
function zoe(t = {}, ...e) {
  const {
      mixins: r = {},
      palette: n = {},
      transitions: i = {},
      typography: o = {},
    } = t,
    s = Tu(t, Loe);
  if (t.vars) throw new Error(Sd(18));
  const a = Soe(n),
    l = _b(t);
  let u = ca(l, {
    mixins: Wse(l.breakpoints, r),
    palette: a,
    shadows: $oe.slice(),
    typography: Eoe(a, o),
    transitions: Roe(i),
    zIndex: Fr({}, Noe),
  });
  return (
    (u = ca(u, s)),
    (u = e.reduce((c, f) => ca(c, f), u)),
    (u.unstable_sxConfig = Fr(
      {},
      Fp,
      s == null ? void 0 : s.unstable_sxConfig
    )),
    (u.unstable_sx = function (f) {
      return F2({ sx: f, theme: this });
    }),
    u
  );
}
const joe = zoe(),
  UT = joe,
  GT = "$$material";
function Hoe(t) {
  return t !== "ownerState" && t !== "theme" && t !== "sx" && t !== "as";
}
const Voe = (t) => Hoe(t) && t !== "classes",
  Woe = Voe,
  qoe = Ese({ themeId: GT, defaultTheme: UT, rootShouldForwardProp: Woe });
function KT(t, e) {
  const r = Fr({}, e);
  return (
    Object.keys(t).forEach((n) => {
      if (n.toString().match(/^(components|slots)$/)) r[n] = Fr({}, t[n], r[n]);
      else if (n.toString().match(/^(componentsProps|slotProps)$/)) {
        const i = t[n] || {},
          o = e[n];
        (r[n] = {}),
          !o || !Object.keys(o)
            ? (r[n] = i)
            : !i || !Object.keys(i)
              ? (r[n] = o)
              : ((r[n] = Fr({}, o)),
                Object.keys(i).forEach((s) => {
                  r[n][s] = KT(i[s], o[s]);
                }));
      } else r[n] === void 0 && (r[n] = t[n]);
    }),
    r
  );
}
function Uoe(t) {
  const { theme: e, name: r, props: n } = t;
  return !e ||
    !e.components ||
    !e.components[r] ||
    !e.components[r].defaultProps
    ? n
    : KT(e.components[r].defaultProps, n);
}
function Goe(t) {
  return Object.keys(t).length === 0;
}
function Koe(t = null) {
  const e = ct.useContext(qd);
  return !e || Goe(e) ? t : e;
}
const Yoe = _b();
function Xoe(t = Yoe) {
  return Koe(t);
}
function Joe({ props: t, name: e, defaultTheme: r, themeId: n }) {
  let i = Xoe(r);
  return n && (i = i[n] || i), Uoe({ theme: i, name: e, props: t });
}
function Qoe({ props: t, name: e }) {
  return Joe({ props: t, name: e, defaultTheme: UT, themeId: GT });
}
function Zoe(t, e, r = "Mui") {
  const n = {};
  return (
    e.forEach((i) => {
      n[i] = LT(t, i, r);
    }),
    n
  );
}
function eae(t) {
  return LT("MuiIcon", t);
}
Zoe("MuiIcon", [
  "root",
  "colorPrimary",
  "colorSecondary",
  "colorAction",
  "colorError",
  "colorDisabled",
  "fontSizeInherit",
  "fontSizeSmall",
  "fontSizeMedium",
  "fontSizeLarge",
]);
const tae = ["baseClassName", "className", "color", "component", "fontSize"],
  rae = (t) => {
    const { color: e, fontSize: r, classes: n } = t,
      i = {
        root: ["root", e !== "inherit" && `color${w0(e)}`, `fontSize${w0(r)}`],
      };
    return Zne(i, eae, n);
  },
  nae = qoe("span", {
    name: "MuiIcon",
    slot: "Root",
    overridesResolver: (t, e) => {
      const { ownerState: r } = t;
      return [
        e.root,
        r.color !== "inherit" && e[`color${w0(r.color)}`],
        e[`fontSize${w0(r.fontSize)}`],
      ];
    },
  })(({ theme: t, ownerState: e }) => ({
    userSelect: "none",
    width: "1em",
    height: "1em",
    overflow: "hidden",
    display: "inline-block",
    textAlign: "center",
    flexShrink: 0,
    fontSize: {
      inherit: "inherit",
      small: t.typography.pxToRem(20),
      medium: t.typography.pxToRem(24),
      large: t.typography.pxToRem(36),
    }[e.fontSize],
    color: {
      primary: (t.vars || t).palette.primary.main,
      secondary: (t.vars || t).palette.secondary.main,
      info: (t.vars || t).palette.info.main,
      success: (t.vars || t).palette.success.main,
      warning: (t.vars || t).palette.warning.main,
      action: (t.vars || t).palette.action.active,
      error: (t.vars || t).palette.error.main,
      disabled: (t.vars || t).palette.action.disabled,
      inherit: void 0,
    }[e.color],
  })),
  YT = ct.forwardRef(function (e, r) {
    const n = Qoe({ props: e, name: "MuiIcon" }),
      {
        baseClassName: i = "material-icons",
        className: o,
        color: s = "inherit",
        component: a = "span",
        fontSize: l = "medium",
      } = n,
      u = Tu(n, tae),
      c = Fr({}, n, { baseClassName: i, color: s, component: a, fontSize: l }),
      f = rae(c);
    return ru.jsx(
      nae,
      Fr(
        {
          as: a,
          className: Qne(i, "notranslate", f.root, o),
          ownerState: c,
          "aria-hidden": !0,
          ref: r,
        },
        u
      )
    );
  });
YT.muiName = "Icon";
const ha = YT,
  iae =
    "data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2012.5023H6.16112L7.29526%209.3053H12.3408L13.466%2012.5023H15.6272L10.9299%200H8.6973L4%2012.5023ZM7.94716%207.49247L9.76%202.32186H9.86716L11.68%207.49247H7.94716Z'%20fill='black'/%3e%3cpath%20d='M0.103975%2013.6455L1.55298%2013.6455L1.55298%2014.1745C1.55298%2014.7265%201.69098%2015.0945%201.96698%2015.2785C2.22764%2015.4778%202.70298%2015.5775%203.39298%2015.5775C4.05231%2015.5775%204.68864%2015.5545%205.30198%2015.5085C5.93064%2015.4778%206.61298%2015.4625%207.34898%2015.4625C8.16164%2015.4625%208.75964%2015.5852%209.14298%2015.8305C9.54164%2016.0758%209.80998%2016.4668%209.94798%2017.0035L10.04%2017.0035C10.178%2016.4668%2010.4386%2016.0758%2010.822%2015.8305C11.2206%2015.5852%2011.8263%2015.4625%2012.639%2015.4625C13.375%2015.4625%2014.0496%2015.4778%2014.663%2015.5085C15.2916%2015.5545%2015.9356%2015.5775%2016.595%2015.5775C17.285%2015.5775%2017.7603%2015.4778%2018.021%2015.2785C18.297%2015.0945%2018.435%2014.7265%2018.435%2014.1745L18.435%2013.6455L19.884%2013.6455L19.884%2014.8875C19.884%2015.8535%2019.6616%2016.5665%2019.217%2017.0265C18.7723%2017.4865%2017.9366%2017.7165%2016.71%2017.7165C15.882%2017.7165%2015.169%2017.6782%2014.571%2017.6015C13.973%2017.5402%2013.2906%2017.5095%2012.524%2017.5095C12.11%2017.5095%2011.719%2017.6475%2011.351%2017.9235C10.9983%2018.1995%2010.8143%2018.7208%2010.799%2019.4875L9.18898%2019.4875C9.17364%2018.7208%208.98198%2018.1995%208.61398%2017.9235C8.26131%2017.6475%207.87031%2017.5095%207.44098%2017.5095C6.68964%2017.5095%206.01498%2017.5402%205.41698%2017.6015C4.81898%2017.6782%204.10598%2017.7165%203.27798%2017.7165C2.06664%2017.7165%201.23864%2017.4865%200.793975%2017.0265C0.333975%2016.5665%200.103975%2015.8535%200.103975%2014.8875L0.103975%2013.6455Z'%20fill='black'/%3e%3c/svg%3e",
  sae =
    "data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2017%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2018.5693H17V22H0V18.5693ZM3.23187%2013.5133H5.22855L6.2764%2010.6986H10.9381L11.9777%2013.5133H13.9744L9.63446%202.5061H7.57177L3.23187%2013.5133ZM6.8787%209.10258L8.55361%204.5503H8.65262L10.3275%209.10258H6.8787Z'%20fill='black'/%3e%3cpath%20d='M15.1111%201.79996V14.3997H1.88889V1.79996H15.1111ZM15.1111%200H1.88889C0.85%200%200%200.809982%200%201.79996V14.3997C0%2015.3896%200.85%2016.1996%201.88889%2016.1996H15.1111C16.15%2016.1996%2017%2015.3896%2017%2014.3997V1.79996C17%200.809982%2016.15%200%2015.1111%200Z'%20fill='black'/%3e%3c/svg%3e",
  A6 =
    "data:image/svg+xml,%3csvg%20width='32'%20height='64'%20viewBox='0%200%2032%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%2012V20C8%2022.2%206.2%2024%204%2024H0V40H4C6.2%2040%208%2041.8%208%2044V52C8%2058.6%2013.4%2064%2020%2064H32V56H20C17.8%2056%2016%2054.2%2016%2052V44C16%2038.8%2012.64%2034.32%208%2032.68V31.32C12.64%2029.68%2016%2025.2%2016%2020V12C16%209.8%2017.8%208%2020%208H32V0H20C13.4%200%208%205.4%208%2012Z'%20fill='black'/%3e%3c/svg%3e",
  oae =
    "data:image/svg+xml,%3csvg%20width='1'%20height='19'%20viewBox='0%200%201%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cline%20x1='0.5'%20y1='-2.18557e-08'%20x2='0.500001'%20y2='19'%20stroke='%23B1B1B1'/%3e%3c/svg%3e",
  aae = () => {
    const [t, e] = zc.useState(null);
    return bn("div", {
      css: Xr(
        "height:",
        xb,
        ";display:flex;flex-direction:row;justify-content:flex-start;background:",
        mi.baseDark,
        ";border-bottom:",
        kb,
        ";flex-shrink:0;",
        ""
      ),
      onMouseDown: (r) => {
        r.stopPropagation();
      },
      children: [
        Oe(fae, {}),
        Oe(hae, {}),
        Oe($y, {}),
        Oe(pae, {}),
        Oe(mae, {
          open: t === "color",
          onMenuOpen: () => e("color"),
          onMenuClose: () => {
            t === "color" && e(null);
          },
        }),
        Oe(gae, {
          open: t === "box",
          onMenuOpen: () => e("box"),
          onMenuClose: () => {
            t === "box" && e(null);
          },
        }),
        Oe($y, {}),
        Oe(yae, {
          open: t === "annotate",
          onMenuOpen: () => e("annotate"),
          onMenuClose: () => {
            t === "annotate" && e(null);
          },
        }),
        Oe($y, {}),
        Oe(Dae, {}),
      ],
    });
  },
  XT = ({ children: t, onClick: e }) =>
    Oe("div", {
      css: Xr(
        "height:2rem;min-width:2rem;display:flex;justify-content:center;align-items:center;cursor:pointer;&:hover{background:",
        mi.baseLight,
        ';height:1.8rem;}font-family:"Source Sans 3",sans-serif;',
        ""
      ),
      onClick: (r) => {
        e(), r.stopPropagation();
      },
      children: t,
    }),
  lae = [
    "black",
    "grey",
    "darkgrey",
    "purple",
    "red",
    "magenta",
    "violet",
    "orange",
    "green",
    "teal",
    "blue",
    "cyan",
  ],
  Tb = ({ color: t, onClick: e }) =>
    Oe("div", {
      onClick: e,
      css: Xr(
        "width:1rem;height:1rem;background-color:",
        t,
        ";border:1px solid black;",
        ""
      ),
    });
var uae = { name: "axtlk8", styles: "margin:0.25rem;cursor:pointer" },
  cae = {
    name: "1btcj0n",
    styles:
      "padding:0.5rem;width:7rem;display:flex;flex-wrap:wrap;justify-content:flex-start",
  };
const M2 = ({ onSelect: t }) =>
    Oe("div", {
      css: cae,
      children: lae.map((e) =>
        Oe(
          "div",
          {
            css: uae,
            onClick: (r) => {
              r.stopPropagation(), t(e);
            },
            children: Oe(Tb, { color: e }, e),
          },
          e
        )
      ),
    }),
  Pb = ({
    menuButton: t,
    open: e,
    onMenuOpen: r,
    onMenuClose: n,
    children: i,
  }) => (
    zc.useEffect(() => {
      window.addEventListener("click", n);
    }, [n]),
    Oe("div", {
      css: Xr(
        "position:relative;height:",
        e ? "1.8rem" : "2rem",
        ";display:flex;align-items:center;background:",
        e ? mi.baseLight : "transparent",
        ";&:hover{height:1.8rem;}z-index:500;",
        ""
      ),
      children: bn(XT, {
        onClick: e ? n : r,
        children: [
          t,
          e &&
            Oe("div", {
              css: Xr(
                "position:absolute;cursor:default;top:100%;left:0;display:flex;flex-direction:column;background:",
                mi.baseLight,
                ";",
                ""
              ),
              children: i,
            }),
        ],
      }),
    })
  ),
  fae = Hi(() =>
    Oe("div", {
      css: Xr(
        "height:2rem;width:2rem;display:flex;align-items:center;justify-content:center;cursor:",
        Ra.canUndo ? "pointer" : "default",
        ";color:",
        Ra.canUndo ? "black" : "grey",
        ";",
        ""
      ),
      onClick: () => {
        Ra.canUndo && Ra.undo();
      },
      children: Oe(ha, { children: "undo" }),
    })
  ),
  hae = Hi(() =>
    Oe("div", {
      css: Xr(
        "height:2rem;width:2rem;display:flex;align-items:center;justify-content:center;cursor:",
        Ra.canRedo ? "pointer" : "default",
        ";color:",
        Ra.canRedo ? "black" : "grey",
        ";",
        ""
      ),
      onClick: () => {
        Ra.canRedo && Ra.redo();
      },
      children: Oe(ha, { children: "redo" }),
    })
  );
var dae = { name: "stivke", styles: "transform:translateY(0.2rem)" };
const pae = () =>
    Oe(XT, {
      onClick: () => {},
      children: Oe("div", {
        onClick: (t) => {
          dt.updateFormula(
            no(a2(dt.augmentedFormula, At.siblingSelections), (e) =>
              At.siblingSelections.some((r) => r[0] === e.id)
                ? (console.log("Applying strikethrough to", e), new f2(e.id, e))
                : e
            )
          ),
            t.stopPropagation();
        },
        children: Oe(ha, { css: dae, children: "format_strikethrough" }),
      }),
    }),
  mae = ({ open: t, onMenuOpen: e, onMenuClose: r }) =>
    Oe(Pb, {
      menuButton: Oe(ha, { children: "format_color_text" }),
      open: t,
      onMenuOpen: e,
      onMenuClose: r,
      children: Oe(M2, {
        onSelect: (n) => {
          dt.updateFormula(
            no(a2(dt.augmentedFormula, At.siblingSelections), (i) =>
              i.type === "color" &&
              (At.siblingSelections.some((o) => o[0] === i.id) ||
                i.body.some((o) =>
                  At.siblingSelections.some((s) => s[0] === o.id)
                ))
                ? (console.log("Modifying existing color node", i),
                  new xd(i.id, n, i.body))
                : At.siblingSelections.some((o) => o[0] === i.id) &&
                    (i.ancestors.length === 0 ||
                      i.ancestors[0].type !== "color")
                  ? (console.log("Applying new color node to", i),
                    new xd(i.id, n, [i]))
                  : i
            )
          ),
            r();
        },
      }),
    }),
  gae = ({ open: t, onMenuOpen: e, onMenuClose: r }) =>
    Oe(Pb, {
      menuButton: Oe("img", { src: sae }),
      open: t,
      onMenuOpen: e,
      onMenuClose: r,
      children: Oe(M2, {
        onSelect: (n) => {
          dt.updateFormula(
            no(a2(dt.augmentedFormula, At.siblingSelections), (i) =>
              i.type === "box" &&
              (At.siblingSelections.some((o) => o[0] === i.id) ||
                At.siblingSelections.some((o) => o[0] === i.body.id))
                ? (console.log("Modifying existing box node", i),
                  new kd(i.id, n, "white", i.body))
                : At.siblingSelections.some((o) => o[0] === i.id) &&
                    (i.ancestors.length === 0 || i.ancestors[0].type !== "box")
                  ? (console.log("Applying new box node to", i),
                    new kd(i.id, n, "white", i))
                  : i
            )
          ),
            r();
        },
      }),
    });
var vae = {
  name: "1yp5yoc",
  styles:
    "width:2rem;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:flex-start",
};
const yae = ({ open: t, onMenuOpen: e, onMenuClose: r }) => {
  const n = (i) => (o) => {
    dt.updateFormula(
      no(a2(dt.augmentedFormula, At.siblingSelections), (s) => {
        if (
          s.type === "brace" &&
          At.siblingSelections.some((a) => a[0] === s.id)
        )
          console.log("Modifying existing brace node", s);
        else if (
          At.siblingSelections.some((a) => a[0] === s.id) &&
          (s.ancestors.length === 0 || s.ancestors[0].type !== "brace")
        ) {
          console.log("Applying new brace node to", s);
          const a = new c2(
            "",
            Array.from("caption").map((l) => new l2("", l))
          );
          return new kp("", new u2("", i, s), i ? void 0 : a, i ? a : void 0);
        }
        return s;
      })
    ),
      o.stopPropagation(),
      r();
  };
  return Oe(Pb, {
    menuButton: Oe("img", { src: iae }),
    open: t,
    onMenuOpen: e,
    onMenuClose: r,
    children: bn("div", {
      css: vae,
      children: [
        Oe("div", {
          css: Xr(
            "display:flex;justify-content:center;align-items:center;padding:0.25rem;transform:rotate(90deg);width:100%;cursor:pointer;&:hover{background:",
            mi.baseLight,
            ";}",
            ""
          ),
          onClick: n(!0),
          children: Oe("img", { src: A6, height: "17rem" }),
        }),
        Oe("div", {
          css: Xr(
            "display:flex;justify-content:center;align-items:center;padding:0.25rem;transform:rotate(-90deg);width:100%;cursor:pointer;&:hover{background:",
            mi.baseLight,
            ";}",
            ""
          ),
          onClick: n(!1),
          children: Oe("img", { src: A6, height: "17rem" }),
        }),
      ],
    }),
  });
};
var bae = {
  name: "10hhyed",
  styles:
    "height:2rem;width:0.5rem;display:flex;align-items:center;justify-content:center",
};
const $y = () => Oe("div", { css: bae, children: Oe("img", { src: oae }) }),
  Dae = Hi(() =>
    Oe("div", {
      css: Xr(
        "height:",
        lh.showAlignMode ? "1.8rem" : "2rem",
        ";min-width:2rem;display:flex;justify-content:center;align-items:center;cursor:pointer;background:",
        lh.showAlignMode ? mi.baseLight : "#transparent",
        ";&:hover{height:1.8rem;background:",
        mi.baseLight,
        ';}font-family:"Source Sans 3",sans-serif;',
        ""
      ),
      onClick: (t) => {
        if (dt.alignIds === null) {
          const e = new Zr("", dt.augmentedFormula.children);
          dt.updateFormula(new hl([new n0("", [[e]])]));
        }
        lh.setShowAlignMode(!lh.showAlignMode), t.stopPropagation();
      },
      children: Oe(ha, { children: "format_align_justify" }),
    })
  ),
  JT = ct.createContext({ collapsed: {}, onCollapse: () => {} });
var wae = {
    name: "rgt8ee",
    styles:
      "overflow-y:auto;flex-grow:1;margin-left:1rem;margin-right:1rem;margin-bottom:1rem",
  },
  xae = {
    name: "um6qt0",
    styles:
      "display:flex;justify-content:center;align-items:center;cursor:pointer;&:hover{background:#ffffff;}",
  },
  kae = {
    name: "um6qt0",
    styles:
      "display:flex;justify-content:center;align-items:center;cursor:pointer;&:hover{background:#ffffff;}",
  },
  Sae = {
    name: "1uz9je0",
    styles: "display:flex;flex-direction:row;margin:0.5rem 1rem",
  };
const Cae = Hi(() => {
  const [t, e] = ct.useState({}),
    r = (n, i) => {
      e({ ...t, [n]: i });
    };
  return bn("div", {
    css: Xr(
      'padding-top:0;font-family:"Source Sans 3",sans-serif;display:flex;flex-direction:column;height:100%;overflow:hidden;user-select:none;background:',
      mi.baseLight,
      ";",
      ""
    ),
    children: [
      Oe("div", {
        css: Xr(
          "height:",
          xb,
          ";padding-left:0.5rem;padding-right:0.5rem;background:",
          mi.baseDark,
          ";border-bottom:",
          kb,
          ";flex-shrink:0;",
          ""
        ),
        children: Oe("h1", {
          css: Xr(
            "font-size:",
            ST,
            ";cursor:default;color:",
            mi.foreground,
            ";font-weight:400;",
            ""
          ),
          children: "Elements",
        }),
      }),
      bn("div", {
        css: Sae,
        children: [
          Oe("div", {
            title: "Expand all",
            css: kae,
            onClick: () => {
              e({});
            },
            children: Oe(ha, { children: "unfold_more" }),
          }),
          Oe("div", {
            title: "Collapse all",
            css: xae,
            onClick: () => {
              const n = {},
                i = (o) => {
                  o.children.length > 0 &&
                    ((n[o.id] = !0), o.children.forEach(i));
                };
              dt.augmentedFormula.children.forEach(i), e(n);
            },
            children: Oe(ha, { children: "unfold_less" }),
          }),
        ],
      }),
      Oe("div", {
        css: wae,
        children: Oe(JT.Provider, {
          value: { collapsed: t, onCollapse: r },
          children: dt.augmentedFormula.children.map((n) =>
            Oe("div", { css: Xr("", ""), children: Oe(QT, { tree: n }) }, n.id)
          ),
        }),
      }),
    ],
  });
});
var Aae = { name: "1mys3sh", styles: "margin-left:1rem" },
  Eae = {
    name: "146k28y",
    styles:
      "display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:0.2rem 0;cursor:default",
  };
const QT = Hi(({ tree: t }) => {
    const { collapsed: e, onCollapse: r } = ct.useContext(JT);
    return bn("div", {
      css: Xr(
        "background:",
        At.siblingSelections.some((n) => n.includes(t.id))
          ? mi.selection
          : "transparent",
        ";border-left:1px solid #00000030;",
        ""
      ),
      children: [
        bn("div", {
          css: Eae,
          children: [
            Oe("div", {
              css: Xr(
                "visibility:",
                t.children.length === 0 ? "hidden" : "visible",
                ";cursor:pointer;",
                ""
              ),
              onClick: () => r(t.id, !e[t.id]),
              children: Oe(ha, {
                children: e[t.id] ? "chevron_right" : "expand_more",
              }),
            }),
            Oe(Fae, { tree: t }),
          ],
        }),
        Oe("div", {
          css: Aae,
          children:
            !e[t.id] && t.children.map((n) => Oe(QT, { tree: n }, n.id)),
        }),
      ],
    });
  }),
  Fae = ({ tree: t }) => {
    switch (t.type) {
      case "symbol":
        return Oe(Ls, { tree: t, label: t.value });
      case "space":
        return Oe(Ls, { tree: t, label: "␣" });
      case "text":
        return Oe(Ls, {
          tree: t,
          label: t.body
            .map((e) =>
              e.type === "symbol" ? e.value : e.type === "space" ? e.text : ""
            )
            .join(""),
        });
      case "op":
        return Oe(Ls, { tree: t, label: String.raw`\${tree.operator}` });
      case "frac":
        return Oe(Ls, { tree: t, label: "Fraction" });
      case "script":
        return Oe(Ls, { tree: t, label: "Script" });
      case "root":
        return Oe(Ls, { tree: t, label: "Root" });
      case "group":
        return Oe(Ls, { tree: t, label: "Group" });
      case "array":
        return Oe(Ls, { tree: t, label: "Array" });
      case "brace":
        return Oe(Rae, { tree: t });
      case "color":
        return Oe(jae, { tree: t });
      case "box":
        return Oe(Uae, { tree: t });
      case "strikethrough":
        return Oe(Ls, { tree: t, label: "Strikethrough", deletable: !0 });
      default:
        P0(t);
    }
  };
var Mae = {
    name: "13328qt",
    styles: "cursor:pointer;margin-right:0.5rem;&:hover{color:red;}",
  },
  _ae = {
    name: "fxdlmq",
    styles:
      "display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%",
  };
const Ls = ({ tree: t, label: e, deletable: r }) =>
  bn("div", {
    css: _ae,
    onClick: () => {
      At.selectOnly(t.id);
    },
    children: [
      e,
      Oe("div", {
        css: Xr("visibility:", r ? "visible" : "hidden", ";", ""),
        onClick: (n) => {
          n.stopPropagation(),
            dt.updateFormula(
              no(dt.augmentedFormula, (i) =>
                i.id === t.id ? new Zr(t.id, t.children) : i
              )
            );
        },
        children: Oe(ha, { css: Mae, children: "close" }),
      }),
    ],
  });
var $ae = {
    name: "13328qt",
    styles: "cursor:pointer;margin-right:0.5rem;&:hover{color:red;}",
  },
  Oae = { name: "1st4ow1", styles: "visibility:visible" },
  Bae = {
    name: "fxdlmq",
    styles:
      "display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%",
  },
  Tae = { name: "b94zdx", styles: "width:1rem;height:1rem" },
  Pae = {
    name: "1fftg42",
    styles: "display:flex;flex-direction:row;align-items:center;width:100%",
  };
const Rae = ({ tree: t }) =>
  bn("div", {
    css: Pae,
    children: [
      Oe("div", {
        css: Xr(
          "display:flex;justify-content:center;align-items:center;transform:",
          t.over ? "rotate(90deg)" : "rotate(-90deg)",
          ";cursor:pointer;padding:0.2rem;margin-right:0.5rem;&:hover{background:#e0e0e0;}",
          ""
        ),
        title: t.over ? "Make underbrace" : "Make overbrace",
        onClick: () => {
          dt.updateFormula(
            no(dt.augmentedFormula, (e) =>
              e.type === "script" && e.children.find((r) => r.id === t.id)
                ? new kp(
                    e.id,
                    e.base,
                    t.over ? e.sup : void 0,
                    t.over ? void 0 : e.sub
                  )
                : e.type === "brace" && e.id === t.id
                  ? e.withChanges({ over: !t.over })
                  : e
            )
          );
        },
        children: Oe("img", { css: Tae, src: A6 }),
      }),
      bn("div", {
        css: Bae,
        onClick: () => {
          At.selectOnly(t.id);
        },
        children: [
          "Brace",
          Oe("div", {
            css: Oae,
            onClick: (e) => {
              e.stopPropagation(),
                dt.updateFormula(
                  no(dt.augmentedFormula, (r) => {
                    const n = r.children.find((i) => i.id === t.id);
                    return r.type === "script" && n !== void 0
                      ? new Zr(r.id, n.children)
                      : r;
                  })
                );
            },
            children: Oe(ha, { css: $ae, children: "close" }),
          }),
        ],
      }),
    ],
  });
var Iae = {
    name: "142zpwo",
    styles:
      "position:absolute;top:1rem;left:0;z-index:1;background:#f0f0f0;border:1px solid #000000",
  },
  Nae = { name: "e0dnmk", styles: "cursor:pointer" },
  Lae = { name: "1yeudoq", styles: "position:relative;margin-right:0.5rem" },
  zae = {
    name: "1fftg42",
    styles: "display:flex;flex-direction:row;align-items:center;width:100%",
  };
const jae = ({ tree: t }) => {
  const [e, r] = ct.useState(!1);
  return (
    ct.useEffect(() => {
      const n = () => r(!1);
      window.addEventListener("click", n);
    }, [r]),
    bn("div", {
      css: zae,
      children: [
        bn("div", {
          css: Lae,
          children: [
            Oe("div", {
              css: Nae,
              children: Oe(Tb, {
                color: t.color,
                onClick: (n) => {
                  n.stopPropagation(), r(!e);
                },
              }),
            }),
            e &&
              Oe("div", {
                css: Iae,
                children: Oe(M2, {
                  onSelect: (n) => {
                    dt.updateFormula(
                      no(dt.augmentedFormula, (i) =>
                        i.type === "color" && i.id === t.id
                          ? i.withChanges({ color: n })
                          : i
                      )
                    ),
                      r(!1);
                  },
                }),
              }),
          ],
        }),
        Oe(Ls, { tree: t, label: "Color", deletable: !0 }),
      ],
    })
  );
};
var Hae = {
    name: "142zpwo",
    styles:
      "position:absolute;top:1rem;left:0;z-index:1;background:#f0f0f0;border:1px solid #000000",
  },
  Vae = { name: "e0dnmk", styles: "cursor:pointer" },
  Wae = { name: "1yeudoq", styles: "position:relative;margin-right:0.5rem" },
  qae = {
    name: "1fftg42",
    styles: "display:flex;flex-direction:row;align-items:center;width:100%",
  };
const Uae = ({ tree: t }) => {
    const [e, r] = ct.useState(!1);
    return (
      ct.useEffect(() => {
        const n = () => r(!1);
        window.addEventListener("click", n);
      }, [r]),
      bn("div", {
        css: qae,
        children: [
          bn("div", {
            css: Wae,
            children: [
              Oe("div", {
                css: Vae,
                children: Oe(Tb, {
                  color: t.borderColor,
                  onClick: (n) => {
                    n.stopPropagation(), r(!e);
                  },
                }),
              }),
              e &&
                Oe("div", {
                  css: Hae,
                  children: Oe(M2, {
                    onSelect: (n) => {
                      dt.updateFormula(
                        no(dt.augmentedFormula, (i) =>
                          i.type === "box" && i.id === t.id
                            ? i.withChanges({ borderColor: n })
                            : i
                        )
                      ),
                        r(!1);
                    },
                  }),
                }),
            ],
          }),
          Oe(Ls, { tree: t, label: "Box", deletable: !0 }),
        ],
      })
    );
  },
  Gae = Hi(() => {
    var e;
    const t =
      (e = dt.alignIds) == null
        ? void 0
        : e.map((r) =>
            r
              .map((n) => At.screenSpaceTargets.get(n))
              .filter((n) => n !== void 0)
          );
    return At.workspaceBBox === null ||
      t === void 0 ||
      !lh.showAlignMode ||
      At.workspaceBBox === null ||
      t === void 0
      ? null
      : Oe(Kae, {
          alignTargets: t,
          canvasLeft: At.workspaceBBox.left,
          canvasTop: At.workspaceBBox.top,
        });
  }),
  Kae = Hi(({ alignTargets: t, canvasLeft: e, canvasTop: r }) => {
    const [n, i] = ct.useState(null),
      o = Math.max(
        ...t.flatMap((c) => {
          const f = c[c.length - 1];
          return f !== void 0 ? [f.left + f.width - e] : [];
        })
      );
    let s = null,
      a = null;
    if (n) {
      const c = dt.alignRowInternalTargets[n.markerRow],
        f = At.screenSpaceTargets.get(c[0].id),
        h = At.screenSpaceTargets.get(c[c.length - 1].id);
      if (n.x < f.left - e) (s = f.left - e), (a = null);
      else if (n.x > h.left + h.width - e)
        (s = h.left + h.width - e), (a = null);
      else if (n.x > h.left - e)
        (n.x - (h.left - e)) / h.width > 0.5
          ? ((s = h.left + h.width - e), (a = null))
          : ((s = h.left - e), (a = h.id));
      else
        for (let d = 0; d < c.length - 1; d++) {
          const p = At.screenSpaceTargets.get(c[d].id),
            m = At.screenSpaceTargets.get(c[d + 1].id),
            b = m.left - p.left,
            D = (n.x - (p.left - e)) / b;
          D >= 0 &&
            D <= 1 &&
            (D < 0.5
              ? d === 0
                ? ((s = p.left - e), (a = null))
                : ((s = p.left - e), (a = p.id))
              : ((s = m.left - e), (a = m.id)));
        }
    }
    Fy.setAlignDragState(
      n ? { row: n.markerRow, col: n.markerCol, currentDropTargetId: a } : null
    );
    const l = ct.useCallback(
        (c, f, h) => {
          i({ markerRow: c, markerCol: f, x: h });
        },
        [i]
      ),
      u = ct.useCallback(() => {
        if (!n) {
          console.log("Somehow stopped drag without drag state");
          return;
        }
        if (a === null) {
          if (n.markerCol === 0 || n.markerCol === t[n.markerRow].length) {
            i(null);
            return;
          }
          console.log("Deleting marker"),
            dt.updateFormula(
              no(dt.augmentedFormula, (c) =>
                c.type === "array" && c._parent === null
                  ? c.withChanges({
                      body: c.body.map((f, h) =>
                        h === n.markerRow
                          ? f.flatMap((d, p) =>
                              p === n.markerCol - 1
                                ? [new Zr("", [d, f[n.markerCol]])]
                                : p === n.markerCol
                                  ? []
                                  : d
                            )
                          : f
                      ),
                    })
                  : c
              )
            );
        } else
          n.markerCol === 0 || n.markerCol === t[n.markerRow].length
            ? (console.log("Inserting marker"),
              dt.updateFormula(
                no(dt.augmentedFormula, (c) =>
                  c.type === "array" && c._parent === null
                    ? c.withChanges({
                        body: c.body.map((f, h) =>
                          h === n.markerRow
                            ? f.flatMap((d) => {
                                if (d.contains(a) && d instanceof Zr) {
                                  const p = d.body.findIndex((D) => D.id === a),
                                    [m, b] = [
                                      d.body.slice(0, p),
                                      d.body.slice(p),
                                    ];
                                  return [new Zr("", m), new Zr("", b)];
                                } else return d;
                              })
                            : f
                        ),
                      })
                    : c
                )
              ))
            : (console.log("Moving marker"),
              dt.updateFormula(
                no(dt.augmentedFormula, (c) =>
                  c.type === "array" && c._parent === null
                    ? c.withChanges({
                        body: c.body.map((f, h) => {
                          if (h !== n.markerRow) return f;
                          const d = f.findIndex((k) => k.contains(a)),
                            p = f[d];
                          if (!(p instanceof Zr) || d === -1) return f;
                          const m = p.body.findIndex((k) => k.id === a),
                            [b, D] = [p.body.slice(0, m), p.body.slice(m)];
                          if (d === n.markerCol) {
                            if (n.markerCol === 0)
                              return (
                                console.log("Moving leftmost marker"),
                                [new Zr("", b), new Zr("", D), ...f.slice(1)]
                              );
                            {
                              const k = f.slice(0, n.markerCol - 1),
                                S = f[n.markerCol - 1],
                                B = f.slice(n.markerCol + 1);
                              return (
                                console.log(
                                  "Moving marker right within column",
                                  k,
                                  S,
                                  b,
                                  D,
                                  B
                                ),
                                [
                                  ...k,
                                  new Zr("", [S, ...b]),
                                  new Zr("", D),
                                  ...B,
                                ]
                              );
                            }
                          } else if (d > n.markerCol) {
                            console.log("Moving marker right");
                            const k = f.slice(0, n.markerCol - 1),
                              S = f[n.markerCol - 1],
                              B = f.slice(n.markerCol, d),
                              $ = f.slice(d + 1);
                            return [
                              ...k,
                              new Zr("", [S, ...B, ...b]),
                              new Zr("", D),
                              ...$,
                            ];
                          } else {
                            console.log("Moving marker left");
                            const k = f.slice(0, d),
                              S = f.slice(d + 1, n.markerCol),
                              B = f[n.markerCol],
                              $ = f.slice(n.markerCol + 1);
                            return [
                              ...k,
                              ...(b.length > 0 ? [new Zr("", [...b])] : []),
                              new Zr("", [...D, ...S, B]),
                              ...$,
                            ];
                          }
                        }),
                      })
                    : c
                )
              ));
        i(null);
      }, [n, a, t, i]);
    return bn("div", {
      css: Xr(
        "position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:",
        n === null ? "none" : "auto",
        ";cursor:",
        n === null ? "auto" : "col-resize",
        ";z-index:1000;",
        ""
      ),
      children: [
        t.flatMap((c, f) => {
          const h = Math.min(...c.map((p) => p.top - r)),
            d = Math.max(...c.map((p) => p.top + p.height - r));
          return bn(
            ct.Fragment,
            {
              children: [
                c.map((p, m) => {
                  const b = t.flatMap((k) => (m < k.length ? [k[m]] : [])),
                    D = Math.min(...b.map((k) => k.left - e));
                  return bn(
                    ct.Fragment,
                    {
                      children: [
                        Oe(SC, {
                          row: f,
                          col: m,
                          markerLeft: D,
                          markerTop: h,
                          markerBottom: d,
                          dragState: n,
                          onDrag: l,
                          onStopDrag: u,
                          canvasLeft: e,
                        }),
                        n &&
                          n.markerRow === f &&
                          Oe("div", {
                            style: {
                              zIndex: "200",
                              position: "absolute",
                              left: `${s}px`,
                              top: `${h}px`,
                              height: `${d - h}px`,
                              borderLeft: "4px dotted magenta",
                              transform: "translateX(-50%)",
                            },
                          }),
                        Fy.showAlignGuides &&
                          dt.alignRowInternalTargets[f].flatMap(({ id: k }) =>
                            Oe("div", {
                              style: {
                                zIndex: "100",
                                position: "absolute",
                                left: `${At.screenSpaceTargets.get(k).left - e}px`,
                                top: `${h}px`,
                                height: `${d - h}px`,
                                borderLeft: "1px dotted red",
                                transform: "translateX(-50%)",
                              },
                            })
                          ),
                      ],
                    },
                    `${f}-${m}`
                  );
                }),
                Oe(SC, {
                  row: f,
                  col: c.length,
                  markerLeft: o,
                  markerTop: h,
                  markerBottom: d,
                  dragState: n,
                  onDrag: l,
                  onStopDrag: u,
                  canvasLeft: e,
                }),
              ],
            },
            `${f}`
          );
        }),
        n !== null &&
          Fy.showAlignGuides &&
          Oe("div", {
            style: {
              position: "absolute",
              left: `${n.x}px`,
              top: "0",
              height: "100%",
              borderLeft: "1px dotted cyan",
            },
          }),
      ],
    });
  }),
  SC = ({
    row: t,
    col: e,
    markerLeft: r,
    markerTop: n,
    markerBottom: i,
    dragState: o,
    onDrag: s,
    onStopDrag: a,
    canvasLeft: l,
  }) => {
    const u = ct.useRef(s);
    ct.useEffect(() => {
      u.current = s;
    }, [s]);
    const c = ct.useRef(a);
    return (
      ct.useEffect(() => {
        c.current = a;
      }, [a]),
      Oe("div", {
        style: {
          zIndex: "100",
          position: "absolute",
          left: `${r}px`,
          top: `${n}px`,
          height: `${i - n}px`,
          borderLeft:
            o !== null && o.markerRow === t && o.markerCol === e
              ? "2px dotted black"
              : "4px dotted black",
          transform: "translateX(-50%)",
          opacity: o === null || o.markerCol === e ? "1" : "0.2",
          pointerEvents: "auto",
          cursor: "col-resize",
        },
        onMouseDown: (f) => {
          u.current(t, e, f.clientX - l),
            f.stopPropagation(),
            f.preventDefault();
          const h = (p) => {
              u.current(t, e, p.clientX - l);
            },
            d = () => {
              window.removeEventListener("mousemove", h),
                window.removeEventListener("mouseup", d),
                c.current();
            };
          window.addEventListener("mousemove", h),
            window.addEventListener("mouseup", d);
        },
      })
    );
  },
  Yae = Hi(() => {
    ct.useEffect(() => {
      const e = () => {
        requestAnimationFrame(() => {
          At.updateTargets();
        });
      };
      window.addEventListener("resize", e);
    }, []),
      ct.useEffect(() => {
        console.log("Updating targets"),
          requestAnimationFrame(() => {
            At.updateTargets();
          });
      }, [dt.renderSpec]);
    const t = ct.useCallback((e) => {
      At.initializeFormulaRoot(e);
    }, []);
    return Oe("div", {
      ref: t,
      style: {
        transform: `translate(${At.pan.x}px, ${At.pan.y}px) scale(${At.zoom})`,
      },
      children: dt.renderSpec !== null && Oe(ZT, { spec: nj(dt.renderSpec) }),
    });
  }),
  ZT = Hi(({ spec: t }) => {
    var i;
    const [e, r] = ct.useState(null);
    ct.useEffect(() => {
      t.id &&
        e &&
        At.addTarget(
          t.id,
          e,
          ["mjx-mi", "mjx-mn", "mjx-mo", "mjx-mtext"].includes(t.tagName)
        );
    }, [e, t.id, t.tagName]);
    const n = t.tagName;
    return Oe(n, {
      id: t.id,
      class: t.className,
      style: t.style,
      ...t.attrs,
      ref: (o) => r(o),
      children:
        (i = t.children) == null
          ? void 0
          : i.map((o, s) => Oe(ZT, { spec: o }, s)),
    });
  });
var Xae = {
  name: "169tse",
  styles:
    "width:100%;height:100%;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden",
};
const Jae = Hi(() => {
    const [t, e] = ct.useState({ state: "none" }),
      r = ct.useCallback((l) => {
        At.clearSelection();
      }, []),
      n = ct.useCallback((l) => {
        l.button === 0
          ? e({ state: "leftdown", x: l.clientX, y: l.clientY })
          : l.button === 1 &&
            e({ state: "panning", lastX: l.clientX, lastY: l.clientY });
      }, []),
      i = ct.useCallback(
        (l) => {
          if (t.state === "leftdown")
            At.startDragSelection(t.x, t.y),
              At.updateDragSelection(l.clientX, l.clientY),
              e({ state: "selecting" });
          else if (t.state === "selecting")
            At.updateDragSelection(l.clientX, l.clientY);
          else if (t.state === "panning") {
            const u = l.clientX - t.lastX,
              c = l.clientY - t.lastY;
            At.updatePan(u, c),
              e({ state: "panning", lastX: l.clientX, lastY: l.clientY });
          }
        },
        [t, e]
      ),
      o = ct.useCallback(
        (l) => {
          t.state === "selecting" && At.stopDragSelection(),
            e({ state: "none" });
        },
        [t, e]
      ),
      s = ct.useCallback((l) => {
        l.preventDefault(), l.stopPropagation(), At.updateZoom(-l.deltaY);
      }, []),
      a = ct.useCallback((l) => {
        At.initializeWorkspace(l);
      }, []);
    return (
      ct.useEffect(() => {
        const l = () => {
          At.updateWorkspaceDimensions();
        };
        window.addEventListener("resize", l);
      }, []),
      bn("div", {
        css: Xae,
        onDoubleClick: r,
        onMouseDown: n,
        onMouseMove: i,
        onMouseUp: o,
        onWheel: s,
        ref: a,
        children: [Oe(Qae, {}), Oe(Zae, {}), Oe(Gae, {}), Oe(Yae, {})],
      })
    );
  }),
  Qae = Hi(() =>
    At.selectionRectDimensions
      ? Oe("div", {
          style: {
            position: "absolute",
            border: "1px solid black",
            backgroundColor: "rgba(0, 0, 0, 0.1)",
            zIndex: "1000",
            pointerEvents: "none",
            left: `${At.selectionRectDimensions.left}px`,
            top: `${At.selectionRectDimensions.top}px`,
            width: `${At.selectionRectDimensions.width}px`,
            height: `${At.selectionRectDimensions.height}px`,
          },
        })
      : null
  ),
  Wm = 0.4,
  Zae = Hi(() =>
    Oe(z6, {
      children: Array.from(At.siblingSelections).map((t) => {
        const e = Math.min(
            ...t.map((u) => {
              var c;
              return (
                ((c = At.screenSpaceTargets.get(u)) == null
                  ? void 0
                  : c.left) ?? 0
              );
            })
          ),
          r = Math.max(
            ...t.map((u) => {
              var c, f;
              return (
                (((c = At.screenSpaceTargets.get(u)) == null
                  ? void 0
                  : c.left) ?? 0) +
                (((f = At.screenSpaceTargets.get(u)) == null
                  ? void 0
                  : f.width) ?? 0)
              );
            })
          ),
          n = Math.min(
            ...t.map((u) => {
              var c;
              return (
                ((c = At.screenSpaceTargets.get(u)) == null ? void 0 : c.top) ??
                0
              );
            })
          ),
          i = Math.max(
            ...t.map((u) => {
              var c, f;
              return (
                (((c = At.screenSpaceTargets.get(u)) == null
                  ? void 0
                  : c.top) ?? 0) +
                (((f = At.screenSpaceTargets.get(u)) == null
                  ? void 0
                  : f.height) ?? 0)
              );
            })
          ),
          o = r - e,
          s = i - n,
          { left: a, top: l } = At.workspaceBBox;
        return Oe(
          "div",
          {
            style: {
              position: "absolute",
              left: `calc(${e - a}px - ${Wm}rem)`,
              top: `calc(${n - l}px - ${Wm}rem)`,
              width: `calc((${o}px + ${2 * Wm}rem)`,
              height: `calc(${s}px + ${2 * Wm}rem)`,
              border: "2px dashed black",
              zIndex: "1000",
            },
          },
          t.join(",")
        );
      }),
    })
  );
var ele = { name: "1tcnevk", styles: "width:30%;height:100%" },
  tle = {
    name: "1alafz2",
    styles:
      "display:flex;flex-direction:column;position:relative;width:100%;height:100%",
  },
  rle = {
    name: "1h9dvdv",
    styles:
      "display:flex;flex-direction:column;position:relative;height:100%;width:50%;overflow-x:hidden;overflow-y:auto",
  },
  nle = {
    name: "aeaamz",
    styles: "display:flex;flex-direction:row;width:100%;height:100%",
  },
  ile = {
    name: "1i7uxdt",
    styles:
      "*{margin:0;padding:0;box-sizing:border-box;}html,body{width:100vw;height:100vh;overflow:hidden;}",
  };
function sle() {
  return bn(z6, {
    children: [
      Oe($8, { styles: ile }),
      bn("div", {
        css: nle,
        children: [
          Oe("div", { css: rle, children: Oe(Xne, {}) }),
          bn("div", { css: tle, children: [Oe(aae, {}), Oe(Jae, {})] }),
          Oe("div", { css: ele, children: Oe(Cae, {}) }),
        ],
      }),
    ],
  });
}
window.MathJax = {
  loader: {
    load: [
      "input/tex",
      "output/chtml",
      "[tex]/html",
      "[tex]/color",
      "[tex]/cancel",
    ],
    tex: { packages: { "[+]": ["html", "color", "cancel"] } },
  },
  startup: {
    pageReady: () => {
      Py.createRoot(document.getElementById("root")).render(
        Oe(zc.StrictMode, { children: Oe(sle, {}) })
      );
    },
  },
};
const Rb = document.createElement("script");
Rb.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js";
Rb.async = !0;
document.head.appendChild(Rb);
